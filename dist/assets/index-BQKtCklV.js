var W8=Object.defineProperty;var H8=(t,e,r)=>e in t?W8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var G8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>H8(t,typeof e!="symbol"?e+"":e,r);var M7e=G8((gn,yn)=>{function Y8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QF={exports:{}},Pv={},e5={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=Symbol.for("react.element"),K8=Symbol.for("react.portal"),J8=Symbol.for("react.fragment"),X8=Symbol.for("react.strict_mode"),Z8=Symbol.for("react.profiler"),Q8=Symbol.for("react.provider"),eW=Symbol.for("react.context"),tW=Symbol.for("react.forward_ref"),rW=Symbol.for("react.suspense"),nW=Symbol.for("react.memo"),aW=Symbol.for("react.lazy"),qO=Symbol.iterator;function sW(t){return t===null||typeof t!="object"?null:(t=qO&&t[qO]||t["@@iterator"],typeof t=="function"?t:null)}var t5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r5=Object.assign,n5={};function Qc(t,e,r){this.props=t,this.context=e,this.refs=n5,this.updater=r||t5}Qc.prototype.isReactComponent={};Qc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a5(){}a5.prototype=Qc.prototype;function gI(t,e,r){this.props=t,this.context=e,this.refs=n5,this.updater=r||t5}var yI=gI.prototype=new a5;yI.constructor=gI;r5(yI,Qc.prototype);yI.isPureReactComponent=!0;var VO=Array.isArray,s5=Object.prototype.hasOwnProperty,bI={current:null},o5={key:!0,ref:!0,__self:!0,__source:!0};function i5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)s5.call(e,n)&&!o5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xm,type:t,key:s,ref:i,props:a,_owner:bI.current}}function oW(t,e){return{$$typeof:xm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xI(t){return typeof t=="object"&&t!==null&&t.$$typeof===xm}function iW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var UO=/\/+/g;function _w(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iW(""+t.key):e.toString(36)}function up(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case xm:case K8:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+_w(i,0):n,VO(a)?(r="",t!=null&&(r=t.replace(UO,"$&/")+"/"),up(a,e,r,"",function(u){return u})):a!=null&&(xI(a)&&(a=oW(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(UO,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",VO(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+_w(s,l);i+=up(s,e,r,c,a)}else if(c=sW(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+_w(s,l++),i+=up(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function th(t,e,r){if(t==null)return t;var n=[],a=0;return up(t,n,"","",function(s){return e.call(r,s,a++)}),n}function lW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},dp={transition:null},cW={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:dp,ReactCurrentOwner:bI};function l5(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:th,forEach:function(t,e,r){th(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!xI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Qc;He.Fragment=J8;He.Profiler=Z8;He.PureComponent=gI;He.StrictMode=X8;He.Suspense=rW;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cW;He.act=l5;He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=r5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=bI.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)s5.call(e,c)&&!o5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xm,type:t.type,key:a,ref:s,props:n,_owner:i}};He.createContext=function(t){return t={$$typeof:eW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q8,_context:t},t.Consumer=t};He.createElement=i5;He.createFactory=function(t){var e=i5.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:tW,render:t}};He.isValidElement=xI;He.lazy=function(t){return{$$typeof:aW,_payload:{_status:-1,_result:t},_init:lW}};He.memo=function(t,e){return{$$typeof:nW,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=dp.transition;dp.transition={};try{t()}finally{dp.transition=e}};He.unstable_act=l5;He.useCallback=function(t,e){return qr.current.useCallback(t,e)};He.useContext=function(t){return qr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};He.useEffect=function(t,e){return qr.current.useEffect(t,e)};He.useId=function(){return qr.current.useId()};He.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};He.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return qr.current.useMemo(t,e)};He.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};He.useRef=function(t){return qr.current.useRef(t)};He.useState=function(t){return qr.current.useState(t)};He.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};He.useTransition=function(){return qr.current.useTransition()};He.version="18.3.1";e5.exports=He;var v=e5.exports;const V=rt(v),To=Y8({__proto__:null,default:V},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uW=v,dW=Symbol.for("react.element"),fW=Symbol.for("react.fragment"),mW=Object.prototype.hasOwnProperty,hW=uW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pW={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)mW.call(e,n)&&!pW.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:dW,type:t,key:s,ref:i,props:a,_owner:hW.current}}Pv.Fragment=fW;Pv.jsx=c5;Pv.jsxs=c5;QF.exports=Pv;var o=QF.exports,hN={},u5={exports:{}},In={},d5={exports:{}},f5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,_){var F=D.length;D.push(_);e:for(;0<F;){var H=F-1>>>1,W=D[H];if(0<a(W,_))D[H]=_,D[F]=W,F=H;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var _=D[0],F=D.pop();if(F!==_){D[0]=F;e:for(var H=0,W=D.length,ee=W>>>1;H<ee;){var fe=2*(H+1)-1,ke=D[fe],ne=fe+1,J=D[ne];if(0>a(ke,F))ne<W&&0>a(J,ke)?(D[H]=J,D[ne]=F,H=ne):(D[H]=ke,D[fe]=F,H=fe);else if(ne<W&&0>a(J,F))D[H]=J,D[ne]=F,H=ne;else break e}}return _}function a(D,_){var F=D.sortIndex-_.sortIndex;return F!==0?F:D.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=D)n(u),_.sortIndex=_.expirationTime,e(c,_);else break;_=r(u)}}function S(D){if(b=!1,w(D),!p)if(r(c)!==null)p=!0,B(C);else{var _=r(u);_!==null&&U(S,_.startTime-D)}}function C(D,_){p=!1,b&&(b=!1,x(A),A=-1),h=!0;var F=m;try{for(w(_),f=r(c);f!==null&&(!(f.expirationTime>_)||D&&!E());){var H=f.callback;if(typeof H=="function"){f.callback=null,m=f.priorityLevel;var W=H(f.expirationTime<=_);_=t.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(_)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var fe=r(u);fe!==null&&U(S,fe.startTime-_),ee=!1}return ee}finally{f=null,m=F,h=!1}}var j=!1,N=null,A=-1,T=5,k=-1;function E(){return!(t.unstable_now()-k<T)}function P(){if(N!==null){var D=t.unstable_now();k=D;var _=!0;try{_=N(!0,D)}finally{_?M():(j=!1,N=null)}}else j=!1}var M;if(typeof y=="function")M=function(){y(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=P,M=function(){$.postMessage(null)}}else M=function(){g(P,0)};function B(D){N=D,j||(j=!0,M())}function U(D,_){A=g(function(){D(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,B(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var F=m;m=_;try{return D()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,_){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=m;m=D;try{return _()}finally{m=F}},t.unstable_scheduleCallback=function(D,_,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:d++,callback:_,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>H?(D.sortIndex=F,e(u,D),r(c)===null&&D===r(u)&&(b?(x(A),A=-1):b=!0,U(S,F-H))):(D.sortIndex=W,e(c,D),p||h||(p=!0,B(C))),D},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(D){var _=m;return function(){var F=m;m=_;try{return D.apply(this,arguments)}finally{m=F}}}})(f5);d5.exports=f5;var gW=d5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yW=v,wn=gW;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m5=new Set,ef={};function al(t,e){yc(t,e),yc(t+"Capture",e)}function yc(t,e){for(ef[t]=e,t=0;t<e.length;t++)m5.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pN=Object.prototype.hasOwnProperty,bW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zO={},WO={};function xW(t){return pN.call(WO,t)?!0:pN.call(zO,t)?!1:bW.test(t)?WO[t]=!0:(zO[t]=!0,!1)}function vW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jW(t,e,r,n){if(e===null||typeof e>"u"||vW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vI=/[\-:]([a-z])/g;function jI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vI,jI);kr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vI,jI);kr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vI,jI);kr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wI(t,e,r,n){var a=kr.hasOwnProperty(e)?kr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jW(e,r,a,n)&&(r=null),n||a===null?xW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ds=yW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),CI=Symbol.for("react.strict_mode"),gN=Symbol.for("react.profiler"),h5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),NI=Symbol.for("react.forward_ref"),yN=Symbol.for("react.suspense"),bN=Symbol.for("react.suspense_list"),SI=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),HO=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=HO&&t[HO]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,$w;function ed(t){if($w===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$w=e&&e[1]||""}return`
`+$w+t}var Rw=!1;function Mw(t,e){if(!t||Rw)return"";Rw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Rw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ed(t):""}function wW(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=Mw(t.type,!1),t;case 11:return t=Mw(t.type.render,!1),t;case 1:return t=Mw(t.type,!0),t;default:return""}}function xN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pl:return"Fragment";case Ol:return"Portal";case gN:return"Profiler";case CI:return"StrictMode";case yN:return"Suspense";case bN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p5:return(t.displayName||"Context")+".Consumer";case h5:return(t._context.displayName||"Context")+".Provider";case NI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SI:return e=t.displayName||null,e!==null?e:xN(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return xN(t(e))}catch{}}return null}function CW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xN(e);case 8:return e===CI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NW(t){var e=y5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=NW(t))}function b5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=y5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Rb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vN(t,e){var r=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function GO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x5(t,e){e=e.checked,e!=null&&wI(t,"checked",e,!1)}function jN(t,e){x5(t,e);var r=Eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wN(t,e.type,r):e.hasOwnProperty("defaultValue")&&wN(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wN(t,e,r){(e!=="number"||Rb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var td=Array.isArray;function Yl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Eo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function CN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(td(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Eo(r)}}function v5(t,e){var r=Eo(e.value),n=Eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function JO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,w5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SW=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(t){SW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gd[e]=gd[t]})});function C5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gd.hasOwnProperty(t)&&gd[t]?(""+e).trim():e+"px"}function N5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=C5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var AW=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SN(t,e){if(e){if(AW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function AN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kN=null;function AI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IN=null,Kl=null,Jl=null;function XO(t){if(t=wm(t)){if(typeof IN!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Mv(e),IN(t.stateNode,t.type,e))}}function S5(t){Kl?Jl?Jl.push(t):Jl=[t]:Kl=t}function A5(){if(Kl){var t=Kl,e=Jl;if(Jl=Kl=null,XO(t),e)for(t=0;t<e.length;t++)XO(e[t])}}function k5(t,e){return t(e)}function I5(){}var Lw=!1;function T5(t,e,r){if(Lw)return t(e,r);Lw=!0;try{return k5(t,e,r)}finally{Lw=!1,(Kl!==null||Jl!==null)&&(I5(),A5())}}function rf(t,e){var r=t.stateNode;if(r===null)return null;var n=Mv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var TN=!1;if(ws)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){TN=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{TN=!1}function kW(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var yd=!1,Mb=null,Lb=!1,EN=null,IW={onError:function(t){yd=!0,Mb=t}};function TW(t,e,r,n,a,s,i,l,c){yd=!1,Mb=null,kW.apply(IW,arguments)}function EW(t,e,r,n,a,s,i,l,c){if(TW.apply(this,arguments),yd){if(yd){var u=Mb;yd=!1,Mb=null}else throw Error(ce(198));Lb||(Lb=!0,EN=u)}}function sl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function E5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZO(t){if(sl(t)!==t)throw Error(ce(188))}function OW(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ZO(a),t;if(s===n)return ZO(a),e;s=s.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function O5(t){return t=OW(t),t!==null?P5(t):null}function P5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P5(t);if(e!==null)return e;t=t.sibling}return null}var D5=wn.unstable_scheduleCallback,QO=wn.unstable_cancelCallback,PW=wn.unstable_shouldYield,DW=wn.unstable_requestPaint,Yt=wn.unstable_now,_W=wn.unstable_getCurrentPriorityLevel,kI=wn.unstable_ImmediatePriority,_5=wn.unstable_UserBlockingPriority,Fb=wn.unstable_NormalPriority,$W=wn.unstable_LowPriority,$5=wn.unstable_IdlePriority,Dv=null,Oa=null;function RW(t){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(Dv,t,void 0,(t.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:FW,MW=Math.log,LW=Math.LN2;function FW(t){return t>>>=0,t===0?32:31-(MW(t)/LW|0)|0}var sh=64,oh=4194304;function rd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=rd(l):(s&=i,s!==0&&(n=rd(s)))}else i=r&~a,i!==0?n=rd(i):s!==0&&(n=rd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ca(e),a=1<<r,n|=t[r],e&=~a;return n}function BW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ca(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=BW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function ON(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R5(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function Fw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ca(e),t[e]=r}function VW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ca(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function II(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ca(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var lt=0;function M5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L5,TI,F5,B5,q5,PN=!1,ih=[],uo=null,fo=null,mo=null,nf=new Map,af=new Map,Qs=[],UW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e2(t,e){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(e.pointerId)}}function Nu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=wm(e),e!==null&&TI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function zW(t,e,r,n,a){switch(e){case"focusin":return uo=Nu(uo,t,e,r,n,a),!0;case"dragenter":return fo=Nu(fo,t,e,r,n,a),!0;case"mouseover":return mo=Nu(mo,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return nf.set(s,Nu(nf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,af.set(s,Nu(af.get(s)||null,t,e,r,n,a)),!0}return!1}function V5(t){var e=xi(t.target);if(e!==null){var r=sl(e);if(r!==null){if(e=r.tag,e===13){if(e=E5(r),e!==null){t.blockedOn=e,q5(t.priority,function(){F5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=DN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kN=n,r.target.dispatchEvent(n),kN=null}else return e=wm(r),e!==null&&TI(e),t.blockedOn=r,!1;e.shift()}return!0}function t2(t,e,r){fp(t)&&r.delete(e)}function WW(){PN=!1,uo!==null&&fp(uo)&&(uo=null),fo!==null&&fp(fo)&&(fo=null),mo!==null&&fp(mo)&&(mo=null),nf.forEach(t2),af.forEach(t2)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,PN||(PN=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,WW)))}function sf(t){function e(a){return Su(a,t)}if(0<ih.length){Su(ih[0],t);for(var r=1;r<ih.length;r++){var n=ih[r];n.blockedOn===t&&(n.blockedOn=null)}}for(uo!==null&&Su(uo,t),fo!==null&&Su(fo,t),mo!==null&&Su(mo,t),nf.forEach(e),af.forEach(e),r=0;r<Qs.length;r++)n=Qs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)V5(r),r.blockedOn===null&&Qs.shift()}var Xl=Ds.ReactCurrentBatchConfig,qb=!0;function HW(t,e,r,n){var a=lt,s=Xl.transition;Xl.transition=null;try{lt=1,EI(t,e,r,n)}finally{lt=a,Xl.transition=s}}function GW(t,e,r,n){var a=lt,s=Xl.transition;Xl.transition=null;try{lt=4,EI(t,e,r,n)}finally{lt=a,Xl.transition=s}}function EI(t,e,r,n){if(qb){var a=DN(t,e,r,n);if(a===null)Kw(t,e,n,Vb,r),e2(t,n);else if(zW(a,t,e,r,n))n.stopPropagation();else if(e2(t,n),e&4&&-1<UW.indexOf(t)){for(;a!==null;){var s=wm(a);if(s!==null&&L5(s),s=DN(t,e,r,n),s===null&&Kw(t,e,n,Vb,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Kw(t,e,n,null,r)}}var Vb=null;function DN(t,e,r,n){if(Vb=null,t=AI(n),t=xi(t),t!==null)if(e=sl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=E5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vb=t,null}function U5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_W()){case kI:return 1;case _5:return 4;case Fb:case $W:return 16;case $5:return 536870912;default:return 16}default:return 16}}var ro=null,OI=null,mp=null;function z5(){if(mp)return mp;var t,e=OI,r=e.length,n,a="value"in ro?ro.value:ro.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return mp=a.slice(t,1<n?1-n:void 0)}function hp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function r2(){return!1}function Tn(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:r2,this.isPropagationStopped=r2,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PI=Tn(eu),jm=Mt({},eu,{view:0,detail:0}),YW=Tn(jm),Bw,qw,Au,_v=Mt({},jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Bw=t.screenX-Au.screenX,qw=t.screenY-Au.screenY):qw=Bw=0,Au=t),Bw)},movementY:function(t){return"movementY"in t?t.movementY:qw}}),n2=Tn(_v),KW=Mt({},_v,{dataTransfer:0}),JW=Tn(KW),XW=Mt({},jm,{relatedTarget:0}),Vw=Tn(XW),ZW=Mt({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),QW=Tn(ZW),e9=Mt({},eu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t9=Tn(e9),r9=Mt({},eu,{data:0}),a2=Tn(r9),n9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s9[t])?!!e[t]:!1}function DI(){return o9}var i9=Mt({},jm,{key:function(t){if(t.key){var e=n9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DI,charCode:function(t){return t.type==="keypress"?hp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l9=Tn(i9),c9=Mt({},_v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s2=Tn(c9),u9=Mt({},jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DI}),d9=Tn(u9),f9=Mt({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),m9=Tn(f9),h9=Mt({},_v,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p9=Tn(h9),g9=[9,13,27,32],_I=ws&&"CompositionEvent"in window,bd=null;ws&&"documentMode"in document&&(bd=document.documentMode);var y9=ws&&"TextEvent"in window&&!bd,W5=ws&&(!_I||bd&&8<bd&&11>=bd),o2=" ",i2=!1;function H5(t,e){switch(t){case"keyup":return g9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dl=!1;function b9(t,e){switch(t){case"compositionend":return G5(e);case"keypress":return e.which!==32?null:(i2=!0,o2);case"textInput":return t=e.data,t===o2&&i2?null:t;default:return null}}function x9(t,e){if(Dl)return t==="compositionend"||!_I&&H5(t,e)?(t=z5(),mp=OI=ro=null,Dl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W5&&e.locale!=="ko"?null:e.data;default:return null}}var v9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v9[t.type]:e==="textarea"}function Y5(t,e,r,n){S5(n),e=Ub(e,"onChange"),0<e.length&&(r=new PI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xd=null,of=null;function j9(t){s4(t,0)}function $v(t){var e=Rl(t);if(b5(e))return t}function w9(t,e){if(t==="change")return e}var K5=!1;if(ws){var Uw;if(ws){var zw="oninput"in document;if(!zw){var c2=document.createElement("div");c2.setAttribute("oninput","return;"),zw=typeof c2.oninput=="function"}Uw=zw}else Uw=!1;K5=Uw&&(!document.documentMode||9<document.documentMode)}function u2(){xd&&(xd.detachEvent("onpropertychange",J5),of=xd=null)}function J5(t){if(t.propertyName==="value"&&$v(of)){var e=[];Y5(e,of,t,AI(t)),T5(j9,e)}}function C9(t,e,r){t==="focusin"?(u2(),xd=e,of=r,xd.attachEvent("onpropertychange",J5)):t==="focusout"&&u2()}function N9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $v(of)}function S9(t,e){if(t==="click")return $v(e)}function A9(t,e){if(t==="input"||t==="change")return $v(e)}function k9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pa=typeof Object.is=="function"?Object.is:k9;function lf(t,e){if(pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!pN.call(e,a)||!pa(t[a],e[a]))return!1}return!0}function d2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f2(t,e){var r=d2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d2(r)}}function X5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z5(){for(var t=window,e=Rb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rb(t.document)}return e}function $I(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I9(t){var e=Z5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&X5(r.ownerDocument.documentElement,r)){if(n!==null&&$I(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=f2(r,s);var i=f2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T9=ws&&"documentMode"in document&&11>=document.documentMode,_l=null,_N=null,vd=null,$N=!1;function m2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$N||_l==null||_l!==Rb(n)||(n=_l,"selectionStart"in n&&$I(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vd&&lf(vd,n)||(vd=n,n=Ub(_N,"onSelect"),0<n.length&&(e=new PI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function ch(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $l={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},Ww={},Q5={};ws&&(Q5=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Rv(t){if(Ww[t])return Ww[t];if(!$l[t])return t;var e=$l[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Q5)return Ww[t]=e[r];return t}var e4=Rv("animationend"),t4=Rv("animationiteration"),r4=Rv("animationstart"),n4=Rv("transitionend"),a4=new Map,h2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){a4.set(t,e),al(e,[t])}for(var Hw=0;Hw<h2.length;Hw++){var Gw=h2[Hw],E9=Gw.toLowerCase(),O9=Gw[0].toUpperCase()+Gw.slice(1);Lo(E9,"on"+O9)}Lo(e4,"onAnimationEnd");Lo(t4,"onAnimationIteration");Lo(r4,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(n4,"onTransitionEnd");yc("onMouseEnter",["mouseout","mouseover"]);yc("onMouseLeave",["mouseout","mouseover"]);yc("onPointerEnter",["pointerout","pointerover"]);yc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P9=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function p2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,EW(n,e,void 0,t),t.currentTarget=null}function s4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;p2(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;p2(a,l,u),s=c}}}if(Lb)throw t=EN,Lb=!1,EN=null,t}function jt(t,e){var r=e[BN];r===void 0&&(r=e[BN]=new Set);var n=t+"__bubble";r.has(n)||(o4(e,t,2,!1),r.add(n))}function Yw(t,e,r){var n=0;e&&(n|=4),o4(r,t,n,e)}var uh="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[uh]){t[uh]=!0,m5.forEach(function(r){r!=="selectionchange"&&(P9.has(r)||Yw(r,!1,t),Yw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uh]||(e[uh]=!0,Yw("selectionchange",!1,e))}}function o4(t,e,r,n){switch(U5(e)){case 1:var a=HW;break;case 4:a=GW;break;default:a=EI}r=a.bind(null,e,r,t),a=void 0,!TN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Kw(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=xi(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}T5(function(){var u=s,d=AI(r),f=[];e:{var m=a4.get(t);if(m!==void 0){var h=PI,p=t;switch(t){case"keypress":if(hp(r)===0)break e;case"keydown":case"keyup":h=l9;break;case"focusin":p="focus",h=Vw;break;case"focusout":p="blur",h=Vw;break;case"beforeblur":case"afterblur":h=Vw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=n2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=JW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=d9;break;case e4:case t4:case r4:h=QW;break;case n4:h=m9;break;case"scroll":h=YW;break;case"wheel":h=p9;break;case"copy":case"cut":case"paste":h=t9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=s2}var b=(e&4)!==0,g=!b&&t==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=rf(y,x),S!=null&&b.push(uf(y,S,w)))),g)break;y=y.return}0<b.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==kN&&(p=r.relatedTarget||r.fromElement)&&(xi(p)||p[Cs]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?xi(p):null,p!==null&&(g=sl(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(b=n2,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=s2,S="onPointerLeave",x="onPointerEnter",y="pointer"),g=h==null?m:Rl(h),w=p==null?m:Rl(p),m=new b(S,y+"leave",h,r,d),m.target=g,m.relatedTarget=w,S=null,xi(d)===u&&(b=new b(x,y+"enter",p,r,d),b.target=w,b.relatedTarget=g,S=b),g=S,h&&p)t:{for(b=h,x=p,y=0,w=b;w;w=xl(w))y++;for(w=0,S=x;S;S=xl(S))w++;for(;0<y-w;)b=xl(b),y--;for(;0<w-y;)x=xl(x),w--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=xl(b),x=xl(x)}b=null}else b=null;h!==null&&g2(f,m,h,b,!1),p!==null&&g!==null&&g2(f,g,p,b,!0)}}e:{if(m=u?Rl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=w9;else if(l2(m))if(K5)C=A9;else{C=N9;var j=C9}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=S9);if(C&&(C=C(t,u))){Y5(f,C,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&wN(m,"number",m.value)}switch(j=u?Rl(u):window,t){case"focusin":(l2(j)||j.contentEditable==="true")&&(_l=j,_N=u,vd=null);break;case"focusout":vd=_N=_l=null;break;case"mousedown":$N=!0;break;case"contextmenu":case"mouseup":case"dragend":$N=!1,m2(f,r,d);break;case"selectionchange":if(T9)break;case"keydown":case"keyup":m2(f,r,d)}var N;if(_I)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Dl?H5(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(W5&&r.locale!=="ko"&&(Dl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Dl&&(N=z5()):(ro=d,OI="value"in ro?ro.value:ro.textContent,Dl=!0)),j=Ub(u,A),0<j.length&&(A=new a2(A,t,null,r,d),f.push({event:A,listeners:j}),N?A.data=N:(N=G5(r),N!==null&&(A.data=N)))),(N=y9?b9(t,r):x9(t,r))&&(u=Ub(u,"onBeforeInput"),0<u.length&&(d=new a2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}s4(f,e)})}function uf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ub(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=rf(t,r),s!=null&&n.unshift(uf(t,s,a)),s=rf(t,e),s!=null&&n.push(uf(t,s,a))),t=t.return}return n}function xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g2(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=rf(r,s),c!=null&&i.unshift(uf(r,c,l))):a||(c=rf(r,s),c!=null&&i.push(uf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var D9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function y2(t){return(typeof t=="string"?t:""+t).replace(D9,`
`).replace(_9,"")}function dh(t,e,r){if(e=y2(e),y2(t)!==e&&r)throw Error(ce(425))}function zb(){}var RN=null,MN=null;function LN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var FN=typeof setTimeout=="function"?setTimeout:void 0,$9=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,R9=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(t){return b2.resolve(null).then(t).catch(M9)}:FN;function M9(t){setTimeout(function(){throw t})}function Jw(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),sf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);sf(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tu=Math.random().toString(36).slice(2),Ia="__reactFiber$"+tu,df="__reactProps$"+tu,Cs="__reactContainer$"+tu,BN="__reactEvents$"+tu,L9="__reactListeners$"+tu,F9="__reactHandles$"+tu;function xi(t){var e=t[Ia];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cs]||r[Ia]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=x2(t);t!==null;){if(r=t[Ia])return r;t=x2(t)}return e}t=r,r=t.parentNode}return null}function wm(t){return t=t[Ia]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Mv(t){return t[df]||null}var qN=[],Ml=-1;function Fo(t){return{current:t}}function St(t){0>Ml||(t.current=qN[Ml],qN[Ml]=null,Ml--)}function xt(t,e){Ml++,qN[Ml]=t.current,t.current=e}var Oo={},$r=Fo(Oo),Qr=Fo(!1),Vi=Oo;function bc(t,e){var r=t.type.contextTypes;if(!r)return Oo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function en(t){return t=t.childContextTypes,t!=null}function Wb(){St(Qr),St($r)}function v2(t,e,r){if($r.current!==Oo)throw Error(ce(168));xt($r,e),xt(Qr,r)}function i4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ce(108,CW(t)||"Unknown",a));return Mt({},r,n)}function Hb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Vi=$r.current,xt($r,t),xt(Qr,Qr.current),!0}function j2(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=i4(t,e,Vi),n.__reactInternalMemoizedMergedChildContext=t,St(Qr),St($r),xt($r,t)):St(Qr),xt(Qr,r)}var es=null,Lv=!1,Xw=!1;function l4(t){es===null?es=[t]:es.push(t)}function B9(t){Lv=!0,l4(t)}function Bo(){if(!Xw&&es!==null){Xw=!0;var t=0,e=lt;try{var r=es;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}es=null,Lv=!1}catch(a){throw es!==null&&(es=es.slice(t+1)),D5(kI,Bo),a}finally{lt=e,Xw=!1}}return null}var Ll=[],Fl=0,Gb=null,Yb=0,Fn=[],Bn=0,Ui=null,as=1,ss="";function ci(t,e){Ll[Fl++]=Yb,Ll[Fl++]=Gb,Gb=t,Yb=e}function c4(t,e,r){Fn[Bn++]=as,Fn[Bn++]=ss,Fn[Bn++]=Ui,Ui=t;var n=as;t=ss;var a=32-ca(n)-1;n&=~(1<<a),r+=1;var s=32-ca(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,as=1<<32-ca(e)+a|r<<a|n,ss=s+t}else as=1<<s|r<<a|n,ss=t}function RI(t){t.return!==null&&(ci(t,1),c4(t,1,0))}function MI(t){for(;t===Gb;)Gb=Ll[--Fl],Ll[Fl]=null,Yb=Ll[--Fl],Ll[Fl]=null;for(;t===Ui;)Ui=Fn[--Bn],Fn[Bn]=null,ss=Fn[--Bn],Fn[Bn]=null,as=Fn[--Bn],Fn[Bn]=null}var bn=null,pn=null,It=!1,aa=null;function u4(t,e){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function w2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,pn=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ui!==null?{id:as,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bn=t,pn=null,!0):!1;default:return!1}}function VN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function UN(t){if(It){var e=pn;if(e){var r=e;if(!w2(t,e)){if(VN(t))throw Error(ce(418));e=ho(r.nextSibling);var n=bn;e&&w2(t,e)?u4(n,r):(t.flags=t.flags&-4097|2,It=!1,bn=t)}}else{if(VN(t))throw Error(ce(418));t.flags=t.flags&-4097|2,It=!1,bn=t}}}function C2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function fh(t){if(t!==bn)return!1;if(!It)return C2(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LN(t.type,t.memoizedProps)),e&&(e=pn)){if(VN(t))throw d4(),Error(ce(418));for(;e;)u4(t,e),e=ho(e.nextSibling)}if(C2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pn=ho(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=bn?ho(t.stateNode.nextSibling):null;return!0}function d4(){for(var t=pn;t;)t=ho(t.nextSibling)}function xc(){pn=bn=null,It=!1}function LI(t){aa===null?aa=[t]:aa.push(t)}var q9=Ds.ReactCurrentBatchConfig;function ku(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function mh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N2(t){var e=t._init;return e(t._payload)}function f4(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=bo(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=aC(w,x.mode,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,S){var C=w.type;return C===Pl?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&N2(C)===y.type)?(S=a(y,w.props),S.ref=ku(x,y,w),S.return=x,S):(S=jp(w.type,w.key,w.props,null,x.mode,S),S.ref=ku(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=sC(w,x.mode,S),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,C){return y===null||y.tag!==7?(y=Oi(w,x.mode,S,C),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=aC(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rh:return w=jp(y.type,y.key,y.props,null,x.mode,w),w.ref=ku(x,null,y),w.return=x,w;case Ol:return y=sC(y,x.mode,w),y.return=x,y;case Ys:var S=y._init;return f(x,S(y._payload),w)}if(td(y)||wu(y))return y=Oi(y,x.mode,w,null),y.return=x,y;mh(x,y)}return null}function m(x,y,w,S){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:return w.key===C?c(x,y,w,S):null;case Ol:return w.key===C?u(x,y,w,S):null;case Ys:return C=w._init,m(x,y,C(w._payload),S)}if(td(w)||wu(w))return C!==null?null:d(x,y,w,S,null);mh(x,w)}return null}function h(x,y,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rh:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,C);case Ol:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,C);case Ys:var j=S._init;return h(x,y,w,j(S._payload),C)}if(td(S)||wu(S))return x=x.get(w)||null,d(y,x,S,C,null);mh(y,S)}return null}function p(x,y,w,S){for(var C=null,j=null,N=y,A=y=0,T=null;N!==null&&A<w.length;A++){N.index>A?(T=N,N=null):T=N.sibling;var k=m(x,N,w[A],S);if(k===null){N===null&&(N=T);break}t&&N&&k.alternate===null&&e(x,N),y=s(k,y,A),j===null?C=k:j.sibling=k,j=k,N=T}if(A===w.length)return r(x,N),It&&ci(x,A),C;if(N===null){for(;A<w.length;A++)N=f(x,w[A],S),N!==null&&(y=s(N,y,A),j===null?C=N:j.sibling=N,j=N);return It&&ci(x,A),C}for(N=n(x,N);A<w.length;A++)T=h(N,x,A,w[A],S),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?A:T.key),y=s(T,y,A),j===null?C=T:j.sibling=T,j=T);return t&&N.forEach(function(E){return e(x,E)}),It&&ci(x,A),C}function b(x,y,w,S){var C=wu(w);if(typeof C!="function")throw Error(ce(150));if(w=C.call(w),w==null)throw Error(ce(151));for(var j=C=null,N=y,A=y=0,T=null,k=w.next();N!==null&&!k.done;A++,k=w.next()){N.index>A?(T=N,N=null):T=N.sibling;var E=m(x,N,k.value,S);if(E===null){N===null&&(N=T);break}t&&N&&E.alternate===null&&e(x,N),y=s(E,y,A),j===null?C=E:j.sibling=E,j=E,N=T}if(k.done)return r(x,N),It&&ci(x,A),C;if(N===null){for(;!k.done;A++,k=w.next())k=f(x,k.value,S),k!==null&&(y=s(k,y,A),j===null?C=k:j.sibling=k,j=k);return It&&ci(x,A),C}for(N=n(x,N);!k.done;A++,k=w.next())k=h(N,x,A,k.value,S),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?A:k.key),y=s(k,y,A),j===null?C=k:j.sibling=k,j=k);return t&&N.forEach(function(P){return e(x,P)}),It&&ci(x,A),C}function g(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Pl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:e:{for(var C=w.key,j=y;j!==null;){if(j.key===C){if(C=w.type,C===Pl){if(j.tag===7){r(x,j.sibling),y=a(j,w.props.children),y.return=x,x=y;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&N2(C)===j.type){r(x,j.sibling),y=a(j,w.props),y.ref=ku(x,j,w),y.return=x,x=y;break e}r(x,j);break}else e(x,j);j=j.sibling}w.type===Pl?(y=Oi(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=jp(w.type,w.key,w.props,null,x.mode,S),S.ref=ku(x,y,w),S.return=x,x=S)}return i(x);case Ol:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=sC(w,x.mode,S),y.return=x,x=y}return i(x);case Ys:return j=w._init,g(x,y,j(w._payload),S)}if(td(w))return p(x,y,w,S);if(wu(w))return b(x,y,w,S);mh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=aC(w,x.mode,S),y.return=x,x=y),i(x)):r(x,y)}return g}var vc=f4(!0),m4=f4(!1),Kb=Fo(null),Jb=null,Bl=null,FI=null;function BI(){FI=Bl=Jb=null}function qI(t){var e=Kb.current;St(Kb),t._currentValue=e}function zN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zl(t,e){Jb=t,FI=Bl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kr=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(FI!==t)if(t={context:t,memoizedValue:e,next:null},Bl===null){if(Jb===null)throw Error(ce(308));Bl=t,Jb.dependencies={lanes:0,firstContext:t}}else Bl=Bl.next=t;return e}var vi=null;function VI(t){vi===null?vi=[t]:vi.push(t)}function h4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,VI(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ns(t,n)}function Ns(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ks=!1;function UI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ns(t,r)}return a=n.interleaved,a===null?(e.next=e,VI(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ns(t,r)}function pp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,II(t,r)}}function S2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xb(t,e,r,n){var a=t.updateQueue;Ks=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,b=l;switch(m=e,h=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=Mt({},f,m);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Wi|=i,t.lanes=i,t.memoizedState=f}}function A2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Cm={},Pa=Fo(Cm),ff=Fo(Cm),mf=Fo(Cm);function ji(t){if(t===Cm)throw Error(ce(174));return t}function zI(t,e){switch(xt(mf,e),xt(ff,t),xt(Pa,Cm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:NN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=NN(e,t)}St(Pa),xt(Pa,e)}function jc(){St(Pa),St(ff),St(mf)}function g4(t){ji(mf.current);var e=ji(Pa.current),r=NN(e,t.type);e!==r&&(xt(ff,t),xt(Pa,r))}function WI(t){ff.current===t&&(St(Pa),St(ff))}var $t=Fo(0);function Zb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zw=[];function HI(){for(var t=0;t<Zw.length;t++)Zw[t]._workInProgressVersionPrimary=null;Zw.length=0}var gp=Ds.ReactCurrentDispatcher,Qw=Ds.ReactCurrentBatchConfig,zi=0,Rt=null,ar=null,fr=null,Qb=!1,jd=!1,hf=0,V9=0;function Ir(){throw Error(ce(321))}function GI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pa(t[r],e[r]))return!1;return!0}function YI(t,e,r,n,a,s){if(zi=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gp.current=t===null||t.memoizedState===null?H9:G9,t=r(n,a),jd){s=0;do{if(jd=!1,hf=0,25<=s)throw Error(ce(301));s+=1,fr=ar=null,e.updateQueue=null,gp.current=Y9,t=r(n,a)}while(jd)}if(gp.current=ex,e=ar!==null&&ar.next!==null,zi=0,fr=ar=Rt=null,Qb=!1,e)throw Error(ce(300));return t}function KI(){var t=hf!==0;return hf=0,t}function Ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Rt.memoizedState=fr=t:fr=fr.next=t,fr}function Gn(){if(ar===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=fr===null?Rt.memoizedState:fr.next;if(e!==null)fr=e,ar=t;else{if(t===null)throw Error(ce(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},fr===null?Rt.memoizedState=fr=t:fr=fr.next=t}return fr}function pf(t,e){return typeof e=="function"?e(t):e}function eC(t){var e=Gn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=ar,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((zi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Rt.lanes|=d,Wi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,pa(n,e.memoizedState)||(Kr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Rt.lanes|=s,Wi|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function tC(t){var e=Gn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);pa(s,e.memoizedState)||(Kr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function y4(){}function b4(t,e){var r=Rt,n=Gn(),a=e(),s=!pa(n.memoizedState,a);if(s&&(n.memoizedState=a,Kr=!0),n=n.queue,JI(j4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,gf(9,v4.bind(null,r,n,a,e),void 0,null),pr===null)throw Error(ce(349));zi&30||x4(r,e,a)}return a}function x4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function v4(t,e,r,n){e.value=r,e.getSnapshot=n,w4(e)&&C4(t)}function j4(t,e,r){return r(function(){w4(e)&&C4(t)})}function w4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pa(t,r)}catch{return!0}}function C4(t){var e=Ns(t,1);e!==null&&ua(e,t,1,-1)}function k2(t){var e=Ca();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=W9.bind(null,Rt,t),[e.memoizedState,t]}function gf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function N4(){return Gn().memoizedState}function yp(t,e,r,n){var a=Ca();Rt.flags|=t,a.memoizedState=gf(1|e,r,void 0,n===void 0?null:n)}function Fv(t,e,r,n){var a=Gn();n=n===void 0?null:n;var s=void 0;if(ar!==null){var i=ar.memoizedState;if(s=i.destroy,n!==null&&GI(n,i.deps)){a.memoizedState=gf(e,r,s,n);return}}Rt.flags|=t,a.memoizedState=gf(1|e,r,s,n)}function I2(t,e){return yp(8390656,8,t,e)}function JI(t,e){return Fv(2048,8,t,e)}function S4(t,e){return Fv(4,2,t,e)}function A4(t,e){return Fv(4,4,t,e)}function k4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I4(t,e,r){return r=r!=null?r.concat([t]):null,Fv(4,4,k4.bind(null,e,t),r)}function XI(){}function T4(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function E4(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function O4(t,e,r){return zi&21?(pa(r,e)||(r=R5(),Rt.lanes|=r,Wi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kr=!0),t.memoizedState=r)}function U9(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=Qw.transition;Qw.transition={};try{t(!1),e()}finally{lt=r,Qw.transition=n}}function P4(){return Gn().memoizedState}function z9(t,e,r){var n=yo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},D4(t))_4(e,r);else if(r=h4(t,e,r,n),r!==null){var a=Br();ua(r,t,n,a),$4(r,e,n)}}function W9(t,e,r){var n=yo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(D4(t))_4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,pa(l,i)){var c=e.interleaved;c===null?(a.next=a,VI(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=h4(t,e,a,n),r!==null&&(a=Br(),ua(r,t,n,a),$4(r,e,n))}}function D4(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function _4(t,e){jd=Qb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,II(t,r)}}var ex={readContext:Hn,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},H9={readContext:Hn,useCallback:function(t,e){return Ca().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:I2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yp(4194308,4,k4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yp(4194308,4,t,e)},useInsertionEffect:function(t,e){return yp(4,2,t,e)},useMemo:function(t,e){var r=Ca();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ca();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=z9.bind(null,Rt,t),[n.memoizedState,t]},useRef:function(t){var e=Ca();return t={current:t},e.memoizedState=t},useState:k2,useDebugValue:XI,useDeferredValue:function(t){return Ca().memoizedState=t},useTransition:function(){var t=k2(!1),e=t[0];return t=U9.bind(null,t[1]),Ca().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Rt,a=Ca();if(It){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),pr===null)throw Error(ce(349));zi&30||x4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,I2(j4.bind(null,n,s,t),[t]),n.flags|=2048,gf(9,v4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ca(),e=pr.identifierPrefix;if(It){var r=ss,n=as;r=(n&~(1<<32-ca(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=V9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G9={readContext:Hn,useCallback:T4,useContext:Hn,useEffect:JI,useImperativeHandle:I4,useInsertionEffect:S4,useLayoutEffect:A4,useMemo:E4,useReducer:eC,useRef:N4,useState:function(){return eC(pf)},useDebugValue:XI,useDeferredValue:function(t){var e=Gn();return O4(e,ar.memoizedState,t)},useTransition:function(){var t=eC(pf)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:y4,useSyncExternalStore:b4,useId:P4,unstable_isNewReconciler:!1},Y9={readContext:Hn,useCallback:T4,useContext:Hn,useEffect:JI,useImperativeHandle:I4,useInsertionEffect:S4,useLayoutEffect:A4,useMemo:E4,useReducer:tC,useRef:N4,useState:function(){return tC(pf)},useDebugValue:XI,useDeferredValue:function(t){var e=Gn();return ar===null?e.memoizedState=t:O4(e,ar.memoizedState,t)},useTransition:function(){var t=tC(pf)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:y4,useSyncExternalStore:b4,useId:P4,unstable_isNewReconciler:!1};function ra(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function WN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bv={isMounted:function(t){return(t=t._reactInternals)?sl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Br(),a=yo(t),s=ds(n,a);s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ua(e,t,a,n),pp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Br(),a=yo(t),s=ds(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ua(e,t,a,n),pp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Br(),n=yo(t),a=ds(r,n);a.tag=2,e!=null&&(a.callback=e),e=po(t,a,n),e!==null&&(ua(e,t,n,r),pp(e,t,n))}};function T2(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!lf(r,n)||!lf(a,s):!0}function R4(t,e,r){var n=!1,a=Oo,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(a=en(e)?Vi:$r.current,n=e.contextTypes,s=(n=n!=null)?bc(t,a):Oo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function E2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bv.enqueueReplaceState(e,e.state,null)}function HN(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},UI(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Hn(s):(s=en(e)?Vi:$r.current,a.context=bc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(WN(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Bv.enqueueReplaceState(a,a.state,null),Xb(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function wc(t,e){try{var r="",n=e;do r+=wW(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function rC(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function GN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var K9=typeof WeakMap=="function"?WeakMap:Map;function M4(t,e,r){r=ds(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){rx||(rx=!0,nS=n),GN(t,e)},r}function L4(t,e,r){r=ds(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){GN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){GN(t,e),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function O2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new K9;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=cH.bind(null,t,e,r),e.then(t,t))}function P2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D2(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ds(-1,1),e.tag=2,po(r,e,1))),r.lanes|=1),t)}var J9=Ds.ReactCurrentOwner,Kr=!1;function Mr(t,e,r,n){e.child=t===null?m4(e,null,r,n):vc(e,t.child,r,n)}function _2(t,e,r,n,a){r=r.render;var s=e.ref;return Zl(e,a),n=YI(t,e,r,n,s,a),r=KI(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ss(t,e,a)):(It&&r&&RI(e),e.flags|=1,Mr(t,e,n,a),e.child)}function $2(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!sT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,F4(t,e,s,n,a)):(t=jp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:lf,r(i,n)&&t.ref===e.ref)return Ss(t,e,a)}return e.flags|=1,t=bo(s,n),t.ref=e.ref,t.return=e,e.child=t}function F4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(lf(s,n)&&t.ref===e.ref)if(Kr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(Kr=!0);else return e.lanes=t.lanes,Ss(t,e,a)}return YN(t,e,r,n,a)}function B4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Vl,dn),dn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Vl,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Vl,dn),dn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Vl,dn),dn|=n;return Mr(t,e,a,r),e.child}function q4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function YN(t,e,r,n,a){var s=en(r)?Vi:$r.current;return s=bc(e,s),Zl(e,a),r=YI(t,e,r,n,s,a),n=KI(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ss(t,e,a)):(It&&n&&RI(e),e.flags|=1,Mr(t,e,r,a),e.child)}function R2(t,e,r,n,a){if(en(r)){var s=!0;Hb(e)}else s=!1;if(Zl(e,a),e.stateNode===null)bp(t,e),R4(e,r,n),HN(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=en(r)?Vi:$r.current,u=bc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&E2(e,i,n,u),Ks=!1;var m=e.memoizedState;i.state=m,Xb(e,n,i,a),c=e.memoizedState,l!==n||m!==c||Qr.current||Ks?(typeof d=="function"&&(WN(e,r,d,n),c=e.memoizedState),(l=Ks||T2(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,p4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ra(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=en(r)?Vi:$r.current,c=bc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&E2(e,i,n,c),Ks=!1,m=e.memoizedState,i.state=m,Xb(e,n,i,a);var p=e.memoizedState;l!==f||m!==p||Qr.current||Ks?(typeof h=="function"&&(WN(e,r,h,n),p=e.memoizedState),(u=Ks||T2(e,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return KN(t,e,r,n,s,a)}function KN(t,e,r,n,a,s){q4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&j2(e,r,!1),Ss(t,e,s);n=e.stateNode,J9.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=vc(e,t.child,null,s),e.child=vc(e,null,l,s)):Mr(t,e,l,s),e.memoizedState=n.state,a&&j2(e,r,!0),e.child}function V4(t){var e=t.stateNode;e.pendingContext?v2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v2(t,e.context,!1),zI(t,e.containerInfo)}function M2(t,e,r,n,a){return xc(),LI(a),e.flags|=256,Mr(t,e,r,n),e.child}var JN={dehydrated:null,treeContext:null,retryLane:0};function XN(t){return{baseLanes:t,cachePool:null,transitions:null}}function U4(t,e,r){var n=e.pendingProps,a=$t.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt($t,a&1),t===null)return UN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Uv(i,n,0,null),t=Oi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=XN(r),e.memoizedState=JN,t):ZI(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return X9(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=bo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bo(l,s):(s=Oi(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?XN(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=JN,n}return s=t.child,t=s.sibling,n=bo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ZI(t,e){return e=Uv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hh(t,e,r,n){return n!==null&&LI(n),vc(e,t.child,null,r),t=ZI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X9(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=rC(Error(ce(422))),hh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Uv({mode:"visible",children:n.children},a,0,null),s=Oi(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&vc(e,t.child,null,i),e.child.memoizedState=XN(i),e.memoizedState=JN,s);if(!(e.mode&1))return hh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ce(419)),n=rC(s,n,void 0),hh(t,e,i,n)}if(l=(i&t.childLanes)!==0,Kr||l){if(n=pr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ns(t,a),ua(n,t,a,-1))}return aT(),n=rC(Error(ce(421))),hh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=uH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,pn=ho(a.nextSibling),bn=e,It=!0,aa=null,t!==null&&(Fn[Bn++]=as,Fn[Bn++]=ss,Fn[Bn++]=Ui,as=t.id,ss=t.overflow,Ui=e),e=ZI(e,n.children),e.flags|=4096,e)}function L2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zN(t.return,e,r)}function nC(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function z4(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=$t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L2(t,r,e);else if(t.tag===19)L2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt($t,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Zb(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),nC(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Zb(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}nC(e,!0,r,null,s);break;case"together":nC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Z9(t,e,r){switch(e.tag){case 3:V4(e),xc();break;case 5:g4(e);break;case 1:en(e.type)&&Hb(e);break;case 4:zI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;xt(Kb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt($t,$t.current&1),e.flags|=128,null):r&e.child.childLanes?U4(t,e,r):(xt($t,$t.current&1),t=Ss(t,e,r),t!==null?t.sibling:null);xt($t,$t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return z4(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt($t,$t.current),n)break;return null;case 22:case 23:return e.lanes=0,B4(t,e,r)}return Ss(t,e,r)}var W4,ZN,H4,G4;W4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ZN=function(){};H4=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,ji(Pa.current);var s=null;switch(r){case"input":a=vN(t,a),n=vN(t,n),s=[];break;case"select":a=Mt({},a,{value:void 0}),n=Mt({},n,{value:void 0}),s=[];break;case"textarea":a=CN(t,a),n=CN(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zb)}SN(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ef.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ef.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};G4=function(t,e,r,n){r!==n&&(e.flags|=4)};function Iu(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Q9(t,e,r){var n=e.pendingProps;switch(MI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return en(e.type)&&Wb(),Tr(e),null;case 3:return n=e.stateNode,jc(),St(Qr),St($r),HI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,aa!==null&&(oS(aa),aa=null))),ZN(t,e),Tr(e),null;case 5:WI(e);var a=ji(mf.current);if(r=e.type,t!==null&&e.stateNode!=null)H4(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Tr(e),null}if(t=ji(Pa.current),fh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ia]=e,n[df]=s,t=(e.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<nd.length;a++)jt(nd[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":GO(n,s),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jt("invalid",n);break;case"textarea":KO(n,s),jt("invalid",n)}SN(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&dh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&dh(n.textContent,l,t),a=["children",""+l]):ef.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&jt("scroll",n)}switch(r){case"input":nh(n),YO(n,s,!0);break;case"textarea":nh(n),JO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ia]=e,t[df]=n,W4(t,e,!1,!1),e.stateNode=t;e:{switch(i=AN(r,n),r){case"dialog":jt("cancel",t),jt("close",t),a=n;break;case"iframe":case"object":case"embed":jt("load",t),a=n;break;case"video":case"audio":for(a=0;a<nd.length;a++)jt(nd[a],t);a=n;break;case"source":jt("error",t),a=n;break;case"img":case"image":case"link":jt("error",t),jt("load",t),a=n;break;case"details":jt("toggle",t),a=n;break;case"input":GO(t,n),a=vN(t,n),jt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Mt({},n,{value:void 0}),jt("invalid",t);break;case"textarea":KO(t,n),a=CN(t,n),jt("invalid",t);break;default:a=n}SN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?N5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tf(t,c):typeof c=="number"&&tf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ef.hasOwnProperty(s)?c!=null&&s==="onScroll"&&jt("scroll",t):c!=null&&wI(t,s,c,i))}switch(r){case"input":nh(t),YO(t,n,!1);break;case"textarea":nh(t),JO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Eo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Yl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Yl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=zb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)G4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=ji(mf.current),ji(Pa.current),fh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ia]=e,(s=n.nodeValue!==r)&&(t=bn,t!==null))switch(t.tag){case 3:dh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ia]=e,e.stateNode=n}return Tr(e),null;case 13:if(St($t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&pn!==null&&e.mode&1&&!(e.flags&128))d4(),xc(),e.flags|=98560,s=!1;else if(s=fh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Ia]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else aa!==null&&(oS(aa),aa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?sr===0&&(sr=3):aT())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return jc(),ZN(t,e),t===null&&cf(e.stateNode.containerInfo),Tr(e),null;case 10:return qI(e.type._context),Tr(e),null;case 17:return en(e.type)&&Wb(),Tr(e),null;case 19:if(St($t),s=e.memoizedState,s===null)return Tr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Iu(s,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Zb(t),i!==null){for(e.flags|=128,Iu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt($t,$t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yt()>Cc&&(e.flags|=128,n=!0,Iu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Zb(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!It)return Tr(e),null}else 2*Yt()-s.renderingStartTime>Cc&&r!==1073741824&&(e.flags|=128,n=!0,Iu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yt(),e.sibling=null,r=$t.current,xt($t,n?r&1|2:r&1),e):(Tr(e),null);case 22:case 23:return nT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dn&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function eH(t,e){switch(MI(e),e.tag){case 1:return en(e.type)&&Wb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jc(),St(Qr),St($r),HI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WI(e),null;case 13:if(St($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St($t),null;case 4:return jc(),null;case 10:return qI(e.type._context),null;case 22:case 23:return nT(),null;case 24:return null;default:return null}}var ph=!1,Pr=!1,tH=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ql(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qt(t,e,n)}else r.current=null}function QN(t,e,r){try{r()}catch(n){qt(t,e,n)}}var F2=!1;function rH(t,e){if(RN=qb,t=Z5(),$I(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(MN={focusedElem:t,selectionRange:r},qb=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,g=p.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:ra(e.type,b),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){qt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return p=F2,F2=!1,p}function wd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&QN(e,r,s)}a=a.next}while(a!==n)}}function qv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function eS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Y4(t){var e=t.alternate;e!==null&&(t.alternate=null,Y4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ia],delete e[df],delete e[BN],delete e[L9],delete e[F9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function K4(t){return t.tag===5||t.tag===3||t.tag===4}function B2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zb));else if(n!==4&&(t=t.child,t!==null))for(tS(t,e,r),t=t.sibling;t!==null;)tS(t,e,r),t=t.sibling}function rS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(rS(t,e,r),t=t.sibling;t!==null;)rS(t,e,r),t=t.sibling}var jr=null,na=!1;function zs(t,e,r){for(r=r.child;r!==null;)J4(t,e,r),r=r.sibling}function J4(t,e,r){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(Dv,r)}catch{}switch(r.tag){case 5:Pr||ql(r,e);case 6:var n=jr,a=na;jr=null,zs(t,e,r),jr=n,na=a,jr!==null&&(na?(t=jr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):jr.removeChild(r.stateNode));break;case 18:jr!==null&&(na?(t=jr,r=r.stateNode,t.nodeType===8?Jw(t.parentNode,r):t.nodeType===1&&Jw(t,r),sf(t)):Jw(jr,r.stateNode));break;case 4:n=jr,a=na,jr=r.stateNode.containerInfo,na=!0,zs(t,e,r),jr=n,na=a;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&QN(r,e,i),a=a.next}while(a!==n)}zs(t,e,r);break;case 1:if(!Pr&&(ql(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){qt(r,e,l)}zs(t,e,r);break;case 21:zs(t,e,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,zs(t,e,r),Pr=n):zs(t,e,r);break;default:zs(t,e,r)}}function q2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tH),e.forEach(function(n){var a=dH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:jr=l.stateNode,na=!1;break e;case 3:jr=l.stateNode.containerInfo,na=!0;break e;case 4:jr=l.stateNode.containerInfo,na=!0;break e}l=l.return}if(jr===null)throw Error(ce(160));J4(s,i,a),jr=null,na=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){qt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X4(e,t),e=e.sibling}function X4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),va(t),n&4){try{wd(3,t,t.return),qv(3,t)}catch(b){qt(t,t.return,b)}try{wd(5,t,t.return)}catch(b){qt(t,t.return,b)}}break;case 1:Qn(e,t),va(t),n&512&&r!==null&&ql(r,r.return);break;case 5:if(Qn(e,t),va(t),n&512&&r!==null&&ql(r,r.return),t.flags&32){var a=t.stateNode;try{tf(a,"")}catch(b){qt(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&x5(a,s),AN(l,i);var u=AN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?N5(a,f):d==="dangerouslySetInnerHTML"?w5(a,f):d==="children"?tf(a,f):wI(a,d,f,u)}switch(l){case"input":jN(a,s);break;case"textarea":v5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Yl(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?Yl(a,!!s.multiple,s.defaultValue,!0):Yl(a,!!s.multiple,s.multiple?[]:"",!1))}a[df]=s}catch(b){qt(t,t.return,b)}}break;case 6:if(Qn(e,t),va(t),n&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(b){qt(t,t.return,b)}}break;case 3:if(Qn(e,t),va(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sf(e.containerInfo)}catch(b){qt(t,t.return,b)}break;case 4:Qn(e,t),va(t);break;case 13:Qn(e,t),va(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(tT=Yt())),n&4&&q2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Pr=(u=Pr)||d,Qn(e,t),Pr=u):Qn(e,t),va(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(m=ve,h=m.child,m.tag){case 0:case 11:case 14:case 15:wd(4,m,m.return);break;case 1:ql(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(b){qt(n,r,b)}}break;case 5:ql(m,m.return);break;case 22:if(m.memoizedState!==null){U2(f);continue}}h!==null?(h.return=m,ve=h):U2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=C5("display",i))}catch(b){qt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){qt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(e,t),va(t),n&4&&q2(t);break;case 21:break;default:Qn(e,t),va(t)}}function va(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(K4(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tf(a,""),n.flags&=-33);var s=B2(t);rS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=B2(t);tS(t,l,i);break;default:throw Error(ce(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nH(t,e,r){ve=t,Z4(t)}function Z4(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var a=ve,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ph;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Pr;l=ph;var u=Pr;if(ph=i,(Pr=c)&&!u)for(ve=a;ve!==null;)i=ve,c=i.child,i.tag===22&&i.memoizedState!==null?z2(a):c!==null?(c.return=i,ve=c):z2(a);for(;s!==null;)ve=s,Z4(s),s=s.sibling;ve=a,ph=l,Pr=u}V2(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ve=s):V2(t)}}function V2(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||qv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ra(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&A2(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}A2(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Pr||e.flags&512&&eS(e)}catch(m){qt(e,e.return,m)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function U2(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function z2(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{qv(4,e)}catch(c){qt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){qt(e,a,c)}}var s=e.return;try{eS(e)}catch(c){qt(e,s,c)}break;case 5:var i=e.return;try{eS(e)}catch(c){qt(e,i,c)}}}catch(c){qt(e,e.return,c)}if(e===t){ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ve=l;break}ve=e.return}}var aH=Math.ceil,tx=Ds.ReactCurrentDispatcher,QI=Ds.ReactCurrentOwner,Wn=Ds.ReactCurrentBatchConfig,Ke=0,pr=null,Qt=null,Nr=0,dn=0,Vl=Fo(0),sr=0,yf=null,Wi=0,Vv=0,eT=0,Cd=null,Hr=null,tT=0,Cc=1/0,Xa=null,rx=!1,nS=null,go=null,gh=!1,no=null,nx=0,Nd=0,aS=null,xp=-1,vp=0;function Br(){return Ke&6?Yt():xp!==-1?xp:xp=Yt()}function yo(t){return t.mode&1?Ke&2&&Nr!==0?Nr&-Nr:q9.transition!==null?(vp===0&&(vp=R5()),vp):(t=lt,t!==0||(t=window.event,t=t===void 0?16:U5(t.type)),t):1}function ua(t,e,r,n){if(50<Nd)throw Nd=0,aS=null,Error(ce(185));vm(t,r,n),(!(Ke&2)||t!==pr)&&(t===pr&&(!(Ke&2)&&(Vv|=r),sr===4&&eo(t,Nr)),tn(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Cc=Yt()+500,Lv&&Bo()))}function tn(t,e){var r=t.callbackNode;qW(t,e);var n=Bb(t,t===pr?Nr:0);if(n===0)r!==null&&QO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&QO(r),e===1)t.tag===0?B9(W2.bind(null,t)):l4(W2.bind(null,t)),R9(function(){!(Ke&6)&&Bo()}),r=null;else{switch(M5(n)){case 1:r=kI;break;case 4:r=_5;break;case 16:r=Fb;break;case 536870912:r=$5;break;default:r=Fb}r=oB(r,Q4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Q4(t,e){if(xp=-1,vp=0,Ke&6)throw Error(ce(327));var r=t.callbackNode;if(Ql()&&t.callbackNode!==r)return null;var n=Bb(t,t===pr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ax(t,n);else{e=n;var a=Ke;Ke|=2;var s=tB();(pr!==t||Nr!==e)&&(Xa=null,Cc=Yt()+500,Ei(t,e));do try{iH();break}catch(l){eB(t,l)}while(!0);BI(),tx.current=s,Ke=a,Qt!==null?e=0:(pr=null,Nr=0,e=sr)}if(e!==0){if(e===2&&(a=ON(t),a!==0&&(n=a,e=sS(t,a))),e===1)throw r=yf,Ei(t,0),eo(t,n),tn(t,Yt()),r;if(e===6)eo(t,n);else{if(a=t.current.alternate,!(n&30)&&!sH(a)&&(e=ax(t,n),e===2&&(s=ON(t),s!==0&&(n=s,e=sS(t,s))),e===1))throw r=yf,Ei(t,0),eo(t,n),tn(t,Yt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:ui(t,Hr,Xa);break;case 3:if(eo(t,n),(n&130023424)===n&&(e=tT+500-Yt(),10<e)){if(Bb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Br(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=FN(ui.bind(null,t,Hr,Xa),e);break}ui(t,Hr,Xa);break;case 4:if(eo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-ca(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aH(n/1960))-n,10<n){t.timeoutHandle=FN(ui.bind(null,t,Hr,Xa),n);break}ui(t,Hr,Xa);break;case 5:ui(t,Hr,Xa);break;default:throw Error(ce(329))}}}return tn(t,Yt()),t.callbackNode===r?Q4.bind(null,t):null}function sS(t,e){var r=Cd;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=ax(t,e),t!==2&&(e=Hr,Hr=r,e!==null&&oS(e)),t}function oS(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function sH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!pa(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~eT,e&=~Vv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ca(e),n=1<<r;t[r]=-1,e&=~n}}function W2(t){if(Ke&6)throw Error(ce(327));Ql();var e=Bb(t,0);if(!(e&1))return tn(t,Yt()),null;var r=ax(t,e);if(t.tag!==0&&r===2){var n=ON(t);n!==0&&(e=n,r=sS(t,n))}if(r===1)throw r=yf,Ei(t,0),eo(t,e),tn(t,Yt()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,Hr,Xa),tn(t,Yt()),null}function rT(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Cc=Yt()+500,Lv&&Bo())}}function Hi(t){no!==null&&no.tag===0&&!(Ke&6)&&Ql();var e=Ke;Ke|=1;var r=Wn.transition,n=lt;try{if(Wn.transition=null,lt=1,t)return t()}finally{lt=n,Wn.transition=r,Ke=e,!(Ke&6)&&Bo()}}function nT(){dn=Vl.current,St(Vl)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$9(r)),Qt!==null)for(r=Qt.return;r!==null;){var n=r;switch(MI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wb();break;case 3:jc(),St(Qr),St($r),HI();break;case 5:WI(n);break;case 4:jc();break;case 13:St($t);break;case 19:St($t);break;case 10:qI(n.type._context);break;case 22:case 23:nT()}r=r.return}if(pr=t,Qt=t=bo(t.current,null),Nr=dn=e,sr=0,yf=null,eT=Vv=Wi=0,Hr=Cd=null,vi!==null){for(e=0;e<vi.length;e++)if(r=vi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}vi=null}return t}function eB(t,e){do{var r=Qt;try{if(BI(),gp.current=ex,Qb){for(var n=Rt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Qb=!1}if(zi=0,fr=ar=Rt=null,jd=!1,hf=0,QI.current=null,r===null||r.return===null){sr=1,yf=e,Qt=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=P2(i);if(h!==null){h.flags&=-257,D2(h,i,l,s,e),h.mode&1&&O2(s,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var b=new Set;b.add(c),e.updateQueue=b}else p.add(c);break e}else{if(!(e&1)){O2(s,u,e),aT();break e}c=Error(ce(426))}}else if(It&&l.mode&1){var g=P2(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),D2(g,i,l,s,e),LI(wc(c,l));break e}}s=c=wc(c,l),sr!==4&&(sr=2),Cd===null?Cd=[s]:Cd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=M4(s,c,e);S2(s,x);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(go===null||!go.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=L4(s,l,e);S2(s,S);break e}}s=s.return}while(s!==null)}nB(r)}catch(C){e=C,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function tB(){var t=tx.current;return tx.current=ex,t===null?ex:t}function aT(){(sr===0||sr===3||sr===2)&&(sr=4),pr===null||!(Wi&268435455)&&!(Vv&268435455)||eo(pr,Nr)}function ax(t,e){var r=Ke;Ke|=2;var n=tB();(pr!==t||Nr!==e)&&(Xa=null,Ei(t,e));do try{oH();break}catch(a){eB(t,a)}while(!0);if(BI(),Ke=r,tx.current=n,Qt!==null)throw Error(ce(261));return pr=null,Nr=0,sr}function oH(){for(;Qt!==null;)rB(Qt)}function iH(){for(;Qt!==null&&!PW();)rB(Qt)}function rB(t){var e=sB(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?nB(t):Qt=e,QI.current=null}function nB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=eH(r,e),r!==null){r.flags&=32767,Qt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sr=6,Qt=null;return}}else if(r=Q9(r,e,dn),r!==null){Qt=r;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);sr===0&&(sr=5)}function ui(t,e,r){var n=lt,a=Wn.transition;try{Wn.transition=null,lt=1,lH(t,e,r,n)}finally{Wn.transition=a,lt=n}return null}function lH(t,e,r,n){do Ql();while(no!==null);if(Ke&6)throw Error(ce(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(VW(t,s),t===pr&&(Qt=pr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gh||(gh=!0,oB(Fb,function(){return Ql(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var i=lt;lt=1;var l=Ke;Ke|=4,QI.current=null,rH(t,r),X4(r,t),I9(MN),qb=!!RN,MN=RN=null,t.current=r,nH(r),DW(),Ke=l,lt=i,Wn.transition=s}else t.current=r;if(gh&&(gh=!1,no=t,nx=a),s=t.pendingLanes,s===0&&(go=null),RW(r.stateNode),tn(t,Yt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(rx)throw rx=!1,t=nS,nS=null,t;return nx&1&&t.tag!==0&&Ql(),s=t.pendingLanes,s&1?t===aS?Nd++:(Nd=0,aS=t):Nd=0,Bo(),null}function Ql(){if(no!==null){var t=M5(nx),e=Wn.transition,r=lt;try{if(Wn.transition=null,lt=16>t?16:t,no===null)var n=!1;else{if(t=no,no=null,nx=0,Ke&6)throw Error(ce(331));var a=Ke;for(Ke|=4,ve=t.current;ve!==null;){var s=ve,i=s.child;if(ve.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:wd(8,d,s)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var m=d.sibling,h=d.return;if(Y4(d),d===u){ve=null;break}if(m!==null){m.return=h,ve=m;break}ve=h}}}var p=s.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}ve=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ve=i;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wd(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ve=x;break e}ve=s.return}}var y=t.current;for(ve=y;ve!==null;){i=ve;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ve=w;else e:for(i=y;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qv(9,l)}}catch(C){qt(l,l.return,C)}if(l===i){ve=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ve=S;break e}ve=l.return}}if(Ke=a,Bo(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(Dv,t)}catch{}n=!0}return n}finally{lt=r,Wn.transition=e}}return!1}function H2(t,e,r){e=wc(r,e),e=M4(t,e,1),t=po(t,e,1),e=Br(),t!==null&&(vm(t,1,e),tn(t,e))}function qt(t,e,r){if(t.tag===3)H2(t,t,r);else for(;e!==null;){if(e.tag===3){H2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){t=wc(r,t),t=L4(e,t,1),e=po(e,t,1),t=Br(),e!==null&&(vm(e,1,t),tn(e,t));break}}e=e.return}}function cH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Br(),t.pingedLanes|=t.suspendedLanes&r,pr===t&&(Nr&r)===r&&(sr===4||sr===3&&(Nr&130023424)===Nr&&500>Yt()-tT?Ei(t,0):eT|=r),tn(t,e)}function aB(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var r=Br();t=Ns(t,e),t!==null&&(vm(t,e,r),tn(t,r))}function uH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),aB(t,r)}function dH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),aB(t,r)}var sB;sB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Kr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kr=!1,Z9(t,e,r);Kr=!!(t.flags&131072)}else Kr=!1,It&&e.flags&1048576&&c4(e,Yb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;bp(t,e),t=e.pendingProps;var a=bc(e,$r.current);Zl(e,r),a=YI(null,e,n,t,a,r);var s=KI();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(n)?(s=!0,Hb(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,UI(e),a.updater=Bv,e.stateNode=a,a._reactInternals=e,HN(e,n,t,r),e=KN(null,e,n,!0,s,r)):(e.tag=0,It&&s&&RI(e),Mr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(bp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=mH(n),t=ra(n,t),a){case 0:e=YN(null,e,n,t,r);break e;case 1:e=R2(null,e,n,t,r);break e;case 11:e=_2(null,e,n,t,r);break e;case 14:e=$2(null,e,n,ra(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ra(n,a),YN(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ra(n,a),R2(t,e,n,a,r);case 3:e:{if(V4(e),t===null)throw Error(ce(387));n=e.pendingProps,s=e.memoizedState,a=s.element,p4(t,e),Xb(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=wc(Error(ce(423)),e),e=M2(t,e,n,r,a);break e}else if(n!==a){a=wc(Error(ce(424)),e),e=M2(t,e,n,r,a);break e}else for(pn=ho(e.stateNode.containerInfo.firstChild),bn=e,It=!0,aa=null,r=m4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xc(),n===a){e=Ss(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return g4(e),t===null&&UN(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,LN(n,a)?i=null:s!==null&&LN(n,s)&&(e.flags|=32),q4(t,e),Mr(t,e,i,r),e.child;case 6:return t===null&&UN(e),null;case 13:return U4(t,e,r);case 4:return zI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vc(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ra(n,a),_2(t,e,n,a,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,xt(Kb,n._currentValue),n._currentValue=i,s!==null)if(pa(s.value,i)){if(s.children===a.children&&!Qr.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ds(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),zN(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ce(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),zN(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Mr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Zl(e,r),a=Hn(a),n=n(a),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,a=ra(n,e.pendingProps),a=ra(n.type,a),$2(t,e,n,a,r);case 15:return F4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ra(n,a),bp(t,e),e.tag=1,en(n)?(t=!0,Hb(e)):t=!1,Zl(e,r),R4(e,n,a),HN(e,n,a,r),KN(null,e,n,!0,t,r);case 19:return z4(t,e,r);case 22:return B4(t,e,r)}throw Error(ce(156,e.tag))};function oB(t,e){return D5(t,e)}function fH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,r,n){return new fH(t,e,r,n)}function sT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mH(t){if(typeof t=="function")return sT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===NI)return 11;if(t===SI)return 14}return 2}function bo(t,e){var r=t.alternate;return r===null?(r=Vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")sT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Pl:return Oi(r.children,a,s,e);case CI:i=8,a|=8;break;case gN:return t=Vn(12,r,e,a|2),t.elementType=gN,t.lanes=s,t;case yN:return t=Vn(13,r,e,a),t.elementType=yN,t.lanes=s,t;case bN:return t=Vn(19,r,e,a),t.elementType=bN,t.lanes=s,t;case g5:return Uv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h5:i=10;break e;case p5:i=9;break e;case NI:i=11;break e;case SI:i=14;break e;case Ys:i=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Vn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Oi(t,e,r,n){return t=Vn(7,t,n,e),t.lanes=r,t}function Uv(t,e,r,n){return t=Vn(22,t,n,e),t.elementType=g5,t.lanes=r,t.stateNode={isHidden:!1},t}function aC(t,e,r){return t=Vn(6,t,null,e),t.lanes=r,t}function sC(t,e,r){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fw(0),this.expirationTimes=Fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oT(t,e,r,n,a,s,i,l,c){return t=new hH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UI(s),t}function pH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ol,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function iB(t){if(!t)return Oo;t=t._reactInternals;e:{if(sl(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(en(r))return i4(t,r,e)}return e}function lB(t,e,r,n,a,s,i,l,c){return t=oT(r,n,!0,t,a,s,i,l,c),t.context=iB(null),r=t.current,n=Br(),a=yo(r),s=ds(n,a),s.callback=e??null,po(r,s,a),t.current.lanes=a,vm(t,a,n),tn(t,n),t}function zv(t,e,r,n){var a=e.current,s=Br(),i=yo(a);return r=iB(r),e.context===null?e.context=r:e.pendingContext=r,e=ds(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=po(a,e,i),t!==null&&(ua(t,a,i,s),pp(t,a,i)),i}function sx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function G2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function iT(t,e){G2(t,e),(t=t.alternate)&&G2(t,e)}function gH(){return null}var cB=typeof reportError=="function"?reportError:function(t){console.error(t)};function lT(t){this._internalRoot=t}Wv.prototype.render=lT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));zv(t,e,null,null)};Wv.prototype.unmount=lT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){zv(null,t,null,null)}),e[Cs]=null}};function Wv(t){this._internalRoot=t}Wv.prototype.unstable_scheduleHydration=function(t){if(t){var e=B5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qs.length&&e!==0&&e<Qs[r].priority;r++);Qs.splice(r,0,t),r===0&&V5(t)}};function cT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y2(){}function yH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=sx(i);s.call(u)}}var i=lB(e,n,t,0,null,!1,!1,"",Y2);return t._reactRootContainer=i,t[Cs]=i.current,cf(t.nodeType===8?t.parentNode:t),Hi(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=sx(c);l.call(u)}}var c=oT(t,0,!1,null,null,!1,!1,"",Y2);return t._reactRootContainer=c,t[Cs]=c.current,cf(t.nodeType===8?t.parentNode:t),Hi(function(){zv(e,c,r,n)}),c}function Gv(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=sx(i);l.call(c)}}zv(e,i,t,a)}else i=yH(r,e,t,a,n);return sx(i)}L5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=rd(e.pendingLanes);r!==0&&(II(e,r|1),tn(e,Yt()),!(Ke&6)&&(Cc=Yt()+500,Bo()))}break;case 13:Hi(function(){var n=Ns(t,1);if(n!==null){var a=Br();ua(n,t,1,a)}}),iT(t,1)}};TI=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var r=Br();ua(e,t,134217728,r)}iT(t,134217728)}};F5=function(t){if(t.tag===13){var e=yo(t),r=Ns(t,e);if(r!==null){var n=Br();ua(r,t,e,n)}iT(t,e)}};B5=function(){return lt};q5=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};IN=function(t,e,r){switch(e){case"input":if(jN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Mv(n);if(!a)throw Error(ce(90));b5(n),jN(n,a)}}}break;case"textarea":v5(t,r);break;case"select":e=r.value,e!=null&&Yl(t,!!r.multiple,e,!1)}};k5=rT;I5=Hi;var bH={usingClientEntryPoint:!1,Events:[wm,Rl,Mv,S5,A5,rT]},Tu={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xH={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O5(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||gH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Dv=yh.inject(xH),Oa=yh}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bH;In.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cT(e))throw Error(ce(200));return pH(t,e,null,r)};In.createRoot=function(t,e){if(!cT(t))throw Error(ce(299));var r=!1,n="",a=cB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=oT(t,1,!1,null,null,r,!1,n,a),t[Cs]=e.current,cf(t.nodeType===8?t.parentNode:t),new lT(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=O5(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return Hi(t)};In.hydrate=function(t,e,r){if(!Hv(e))throw Error(ce(200));return Gv(null,t,e,!0,r)};In.hydrateRoot=function(t,e,r){if(!cT(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=cB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=lB(e,null,t,1,r??null,a,!1,s,i),t[Cs]=e.current,cf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Wv(e)};In.render=function(t,e,r){if(!Hv(e))throw Error(ce(200));return Gv(null,t,e,!1,r)};In.unmountComponentAtNode=function(t){if(!Hv(t))throw Error(ce(40));return t._reactRootContainer?(Hi(function(){Gv(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};In.unstable_batchedUpdates=rT;In.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hv(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Gv(t,e,r,!1,n)};In.version="18.3.1-next-f1338f8080-20240426";function uB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uB)}catch(t){console.error(t)}}uB(),u5.exports=In;var Yv=u5.exports,K2=Yv;hN.createRoot=K2.createRoot,hN.hydrateRoot=K2.hydrateRoot;var dB={exports:{}},fB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=v;function vH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jH=typeof Object.is=="function"?Object.is:vH,wH=Nm.useSyncExternalStore,CH=Nm.useRef,NH=Nm.useEffect,SH=Nm.useMemo,AH=Nm.useDebugValue;fB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=CH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=SH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,jH(d,h))return p;var b=n(h);return a!==void 0&&a(p,b)?(d=h,p):(d=h,f=b)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=wH(t,s[0],s[1]);return NH(function(){i.hasValue=!0,i.value=l},[l]),AH(l),l};dB.exports=fB;var kH=dB.exports;function IH(t){t()}function TH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){IH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var J2={notify(){},get:()=>[]};function EH(t,e){let r,n=J2,a=0,s=!1;function i(b){d();const g=n.subscribe(b);let x=!1;return()=>{x||(x=!0,g(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=TH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=J2)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var OH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PH=OH(),DH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_H=DH(),$H=()=>PH||_H?v.useLayoutEffect:v.useEffect,RH=$H(),oC=Symbol.for("react-redux-context"),iC=typeof globalThis<"u"?globalThis:{};function MH(){if(!v.createContext)return{};const t=iC[oC]??(iC[oC]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var Po=MH();function LH(t){const{children:e,context:r,serverState:n,store:a}=t,s=v.useMemo(()=>{const c=EH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=v.useMemo(()=>a.getState(),[a]);RH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||Po;return v.createElement(l.Provider,{value:s},e)}var FH=LH;function uT(t=Po){return function(){return v.useContext(t)}}var mB=uT();function hB(t=Po){const e=t===Po?mB:uT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var BH=hB();function qH(t=Po){const e=t===Po?BH:hB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var se=qH(),VH=(t,e)=>t===e;function UH(t=Po){const e=t===Po?mB:uT(t),r=(n,a={})=>{const{equalityFn:s=VH}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;v.useRef(!0);const d=v.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=kH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var q=UH();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const X2="popstate";function zH(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return iS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ox(a)}return HH(e,r,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WH(){return Math.random().toString(36).substr(2,8)}function Z2(t,e){return{usr:t.state,key:t.key,idx:e}}function iS(t,e,r,n){return r===void 0&&(r=null),bf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:r,key:e&&e.key||n||WH()})}function ox(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ru(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function HH(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=ao.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(bf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=ao.Pop;let g=d(),x=g==null?null:g-u;u=g,c&&c({action:l,location:b.location,delta:x})}function m(g,x){l=ao.Push;let y=iS(b.location,g,x);u=d()+1;let w=Z2(y,u),S=b.createHref(y);try{i.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&c&&c({action:l,location:b.location,delta:1})}function h(g,x){l=ao.Replace;let y=iS(b.location,g,x);u=d();let w=Z2(y,u),S=b.createHref(y);i.replaceState(w,"",S),s&&c&&c({action:l,location:b.location,delta:0})}function p(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:ox(g);return y=y.replace(/ $/,"%20"),Xt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return l},get location(){return t(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(X2,f),c=g,()=>{a.removeEventListener(X2,f),c=null}},createHref(g){return e(a,g)},createURL:p,encodeLocation(g){let x=p(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(g){return i.go(g)}};return b}var Q2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Q2||(Q2={}));function GH(t,e,r){return r===void 0&&(r="/"),YH(t,e,r)}function YH(t,e,r,n){let a=typeof e=="string"?ru(e):e,s=dT(a.pathname||"/",r);if(s==null)return null;let i=gB(t);KH(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=iG(s);l=aG(i[c],u)}return l}function gB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=xo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:rG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of yB(s.path))a(s,i,c)}),e}function yB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=yB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function KH(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JH=/^:[\w-]+$/,XH=3,ZH=2,QH=1,eG=10,tG=-2,eP=t=>t==="*";function rG(t,e){let r=t.split("/"),n=r.length;return r.some(eP)&&(n+=tG),e&&(n+=ZH),r.filter(a=>!eP(a)).reduce((a,s)=>a+(JH.test(s)?XH:s===""?QH:eG),n)}function nG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function aG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=sG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:xo([s,f.pathname]),pathnameBase:dG(xo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=xo([s,f.pathnameBase]))}return i}function sG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=oG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let b=l[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function oG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function iG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?ru(t):t;return{pathname:r?r.startsWith("/")?r:cG(r,e):e,search:fG(n),hash:mG(a)}}function cG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fT(t,e){let r=uG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=ru(t):(a=bf({},t),Xt(!a.pathname||!a.pathname.includes("?"),lC("?","pathname","search",a)),Xt(!a.pathname||!a.pathname.includes("#"),lC("#","pathname","hash",a)),Xt(!a.search||!a.search.includes("#"),lC("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=lG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),dG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bB=["post","put","patch","delete"];new Set(bB);const pG=["get",...bB];new Set(pG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}const hT=v.createContext(null),gG=v.createContext(null),qo=v.createContext(null),Kv=v.createContext(null),_s=v.createContext({outlet:null,matches:[],isDataRoute:!1}),xB=v.createContext(null);function yG(t,e){let{relative:r}=e===void 0?{}:e;nu()||Xt(!1);let{basename:n,navigator:a}=v.useContext(qo),{hash:s,pathname:i,search:l}=jB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:xo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function nu(){return v.useContext(Kv)!=null}function Vo(){return nu()||Xt(!1),v.useContext(Kv).location}function vB(t){v.useContext(qo).static||v.useLayoutEffect(t)}function Sm(){let{isDataRoute:t}=v.useContext(_s);return t?PG():bG()}function bG(){nu()||Xt(!1);let t=v.useContext(hT),{basename:e,future:r,navigator:n}=v.useContext(qo),{matches:a}=v.useContext(_s),{pathname:s}=Vo(),i=JSON.stringify(fT(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return vB(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=mT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const xG=v.createContext(null);function vG(t){let e=v.useContext(_s).outlet;return e&&v.createElement(xG.Provider,{value:t},e)}function jB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(qo),{matches:a}=v.useContext(_s),{pathname:s}=Vo(),i=JSON.stringify(fT(a,n.v7_relativeSplatPath));return v.useMemo(()=>mT(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function jG(t,e){return wG(t,e)}function wG(t,e,r,n){nu()||Xt(!1);let{navigator:a}=v.useContext(qo),{matches:s}=v.useContext(_s),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Vo(),d;if(e){var f;let g=typeof e=="string"?ru(e):e;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Xt(!1),d=g}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=GH(t,{pathname:h}),b=kG(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:xo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:xo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&b?v.createElement(Kv.Provider,{value:{location:xf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ao.Pop}},b):b}function CG(){let t=OG(),e=hG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const NG=v.createElement(CG,null);class SG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(_s.Provider,{value:this.props.routeContext},v.createElement(xB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AG(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(hT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(_s.Provider,{value:e},n)}function kG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Xt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,p=!1,b=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||NG,c&&(u<0&&m===0?(DG("route-fallback"),p=!0,g=null):u===m&&(p=!0,g=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),y=()=>{let w;return h?w=b:p?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(AG,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(SG,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var wB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wB||{}),CB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(CB||{});function IG(t){let e=v.useContext(hT);return e||Xt(!1),e}function TG(t){let e=v.useContext(gG);return e||Xt(!1),e}function EG(t){let e=v.useContext(_s);return e||Xt(!1),e}function NB(t){let e=EG(),r=e.matches[e.matches.length-1];return r.route.id||Xt(!1),r.route.id}function OG(){var t;let e=v.useContext(xB),r=TG(),n=NB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function PG(){let{router:t}=IG(wB.UseNavigateStable),e=NB(CB.UseNavigateStable),r=v.useRef(!1);return vB(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,xf({fromRouteId:e},s)))},[t,e])}const tP={};function DG(t,e,r){tP[t]||(tP[t]=!0)}function _G(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Eu(t){let{to:e,replace:r,state:n,relative:a}=t;nu()||Xt(!1);let{future:s,static:i}=v.useContext(qo),{matches:l}=v.useContext(_s),{pathname:c}=Vo(),u=Sm(),d=mT(e,fT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function SB(t){return vG(t.context)}function oe(t){Xt(!1)}function $G(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ao.Pop,navigator:s,static:i=!1,future:l}=t;nu()&&Xt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,future:xf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=ru(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,b=v.useMemo(()=>{let g=dT(d,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:p},navigationType:a}},[c,d,f,m,h,p,a]);return b==null?null:v.createElement(qo.Provider,{value:u},v.createElement(Kv.Provider,{children:r,value:b}))}function RG(t){let{children:e,location:r}=t;return jG(lS(e),r)}new Promise(()=>{});function lS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,lS(n.props.children,s));return}n.type!==oe&&Xt(!1),!n.props.index||!n.props.children||Xt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=lS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cS.apply(this,arguments)}function MG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function LG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FG(t,e){return t.button===0&&(!e||e==="_self")&&!LG(t)}const BG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qG="6";try{window.__reactRouterVersion=qG}catch{}const VG="startTransition",rP=To[VG];function UG(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=zH({window:a,v5Compat:!0}));let i=s.current,[l,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&rP?rP(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>_G(n),[n]),v.createElement($G,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const zG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=MG(e,BG),{basename:h}=v.useContext(qo),p,b=!1;if(typeof u=="string"&&WG.test(u)&&(p=u,zG))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=dT(S.pathname,h);S.origin===w.origin&&C!=null?u=C+S.search+S.hash:b=!0}catch{}let g=yG(u,{relative:a}),x=HG(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return v.createElement("a",cS({},m,{href:p||g,onClick:b||s?n:y,ref:r,target:c}))});var nP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nP||(nP={}));var aP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aP||(aP={}));function HG(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Sm(),u=Vo(),d=jB(t,{relative:i});return v.useCallback(f=>{if(FG(f,r)){f.preventDefault();let m=n!==void 0?n:ox(u)===ox(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function xr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GG=typeof Symbol=="function"&&Symbol.observable||"@@observable",sP=GG,cC=()=>Math.random().toString(36).substring(7).split("").join("."),YG={INIT:`@@redux/INIT${cC()}`,REPLACE:`@@redux/REPLACE${cC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cC()}`},ix=YG;function pT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AB(t,e,r){if(typeof t!="function")throw new Error(xr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xr(1));return r(AB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function d(){if(c)throw new Error(xr(3));return a}function f(g){if(typeof g!="function")throw new Error(xr(4));if(c)throw new Error(xr(5));let x=!0;u();const y=l++;return i.set(y,g),function(){if(x){if(c)throw new Error(xr(6));x=!1,u(),i.delete(y),s=null}}}function m(g){if(!pT(g))throw new Error(xr(7));if(typeof g.type>"u")throw new Error(xr(8));if(typeof g.type!="string")throw new Error(xr(17));if(c)throw new Error(xr(9));try{c=!0,a=n(a,g)}finally{c=!1}return(s=i).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(xr(10));n=g,m({type:ix.REPLACE})}function p(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(xr(11));function y(){const S=x;S.next&&S.next(d())}return y(),{unsubscribe:g(y)}},[sP](){return this}}}return m({type:ix.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[sP]:p}}function KG(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:ix.INIT})>"u")throw new Error(xr(12));if(typeof r(void 0,{type:ix.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xr(13))})}function JG(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{KG(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(xr(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function lx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function XG(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(xr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=lx(...l)(a.dispatch),{...a,dispatch:s}}}function ZG(t){return pT(t)&&"type"in t&&typeof t.type=="string"}var kB=Symbol.for("immer-nothing"),oP=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Nc=Object.getPrototypeOf;function Gi(t){return!!t&&!!t[Cn]}function As(t){var e;return t?IB(t)||Array.isArray(t)||!!t[oP]||!!((e=t.constructor)!=null&&e[oP])||Xv(t)||Zv(t):!1}var QG=Object.prototype.constructor.toString();function IB(t){if(!t||typeof t!="object")return!1;const e=Nc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===QG}function cx(t,e){Jv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Jv(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:Xv(t)?2:Zv(t)?3:0}function uS(t,e){return Jv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TB(t,e,r){const n=Jv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function eY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Xv(t){return t instanceof Map}function Zv(t){return t instanceof Set}function di(t){return t.copy_||t.base_}function dS(t,e){if(Xv(t))return new Map(t);if(Zv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=IB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Cn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Nc(t),n)}else{const n=Nc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function gT(t,e=!1){return Qv(t)||Gi(t)||!As(t)||(Jv(t)>1&&(t.set=t.add=t.clear=t.delete=tY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>gT(n,!0))),t}function tY(){sa(2)}function Qv(t){return Object.isFrozen(t)}var rY={};function Yi(t){const e=rY[t];return e||sa(0,t),e}var vf;function EB(){return vf}function nY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iP(t,e){e&&(Yi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fS(t){mS(t),t.drafts_.forEach(aY),t.drafts_=null}function mS(t){t===vf&&(vf=t.parent_)}function lP(t){return vf=nY(vf,t)}function aY(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cn].modified_&&(fS(e),sa(4)),As(t)&&(t=ux(e,t),e.parent_||dx(e,t)),e.patches_&&Yi("Patches").generateReplacementPatches_(r[Cn].base_,t,e.patches_,e.inversePatches_)):t=ux(e,r,[]),fS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kB?t:void 0}function ux(t,e,r){if(Qv(e))return e;const n=e[Cn];if(!n)return cx(e,(a,s)=>uP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return dx(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),cx(s,(l,c)=>uP(t,n,a,l,c,r,i)),dx(t,a,!1),r&&t.patches_&&Yi("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function uP(t,e,r,n,a,s,i){if(Gi(a)){const l=s&&e&&e.type_!==3&&!uS(e.assigned_,n)?s.concat(n):void 0,c=ux(t,a,l);if(TB(r,n,c),Gi(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(As(a)&&!Qv(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ux(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&dx(t,a)}}function dx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gT(e,r)}function sY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:EB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=yT;r&&(a=[n],s=jf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var yT={get(t,e){if(e===Cn)return t;const r=di(t);if(!uS(r,e))return oY(t,r,e);const n=r[e];return t.finalized_||!As(n)?n:n===uC(t.base_,e)?(dC(t),t.copy_[e]=pS(n,t)):n},has(t,e){return e in di(t)},ownKeys(t){return Reflect.ownKeys(di(t))},set(t,e,r){const n=OB(di(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=uC(di(t),e),s=a==null?void 0:a[Cn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(eY(r,a)&&(r!==void 0||uS(t.base_,e)))return!0;dC(t),hS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,dC(t),hS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=di(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return Nc(t.base_)},setPrototypeOf(){sa(12)}},jf={};cx(yT,(t,e)=>{jf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jf.deleteProperty=function(t,e){return jf.set.call(this,t,e,void 0)};jf.set=function(t,e,r){return yT.set.call(this,t[0],e,r,t[0])};function uC(t,e){const r=t[Cn];return(r?di(r):t)[e]}function oY(t,e,r){var a;const n=OB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function OB(t,e){if(!(e in t))return;let r=Nc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Nc(r)}}function hS(t){t.modified_||(t.modified_=!0,t.parent_&&hS(t.parent_))}function dC(t){t.copy_||(t.copy_=dS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&sa(6),n!==void 0&&typeof n!="function"&&sa(7);let a;if(As(e)){const s=lP(this),i=pS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?fS(s):mS(s)}return iP(s,n),cP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===kB&&(a=void 0),this.autoFreeze_&&gT(a,!0),n){const s=[],i=[];Yi("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else sa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){As(t)||sa(8),Gi(t)&&(t=lY(t));const e=lP(this),r=pS(t,void 0);return r[Cn].isManual_=!0,mS(e),r}finishDraft(t,e){const r=t&&t[Cn];(!r||!r.isManual_)&&sa(9);const{scope_:n}=r;return iP(n,e),cP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Yi("Patches").applyPatches_;return Gi(t)?n(t,e):this.produce(t,a=>n(a,e))}};function pS(t,e){const r=Xv(t)?Yi("MapSet").proxyMap_(t,e):Zv(t)?Yi("MapSet").proxySet_(t,e):sY(t,e);return(e?e.scope_:EB()).drafts_.push(r),r}function lY(t){return Gi(t)||sa(10,t),PB(t)}function PB(t){if(!As(t)||Qv(t))return t;const e=t[Cn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=dS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=dS(t,!0);return cx(r,(n,a)=>{TB(r,n,PB(a))}),e&&(e.finalized_=!1),r}var Nn=new iY,DB=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function _B(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var cY=_B(),uY=_B,dY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lx:lx.apply(null,arguments)},fY=t=>t&&typeof t.match=="function";function Sd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(fs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>ZG(n)&&n.type===t,r}var $B=class ad extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ad.prototype)}static get[Symbol.species](){return ad}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ad(...e[0].concat(this)):new ad(...e.concat(this))}};function dP(t){return As(t)?DB(t,()=>{}):t}function bh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function mY(t){return typeof t=="boolean"}var hY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new $B;return r&&(mY(r)?i.push(cY):i.push(uY(r.extraArgument))),i},pY="RTK_autoBatch",fP=t=>e=>{setTimeout(e,t)},gY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fP(10):t.type==="callback"?t.queueNotification:fP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[pY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},yY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new $B(t);return n&&a.push(gY(typeof n=="object"?n:void 0)),a};function bY(t){const e=hY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(pT(r))l=JG(r);else throw new Error(fs(1));let c;typeof n=="function"?c=n(e):c=e();let u=lx;a&&(u=dY({trace:!1,...typeof a=="object"&&a}));const d=XG(...c),f=yY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return AB(l,s,h)}function RB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(fs(28));if(l in e)throw new Error(fs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function xY(t){return typeof t=="function"}function vY(t,e){let[r,n,a]=RB(e),s;if(xY(t))s=()=>dP(t());else{const l=dP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Gi(d)){const h=f(d,c);return h===void 0?d:h}else{if(As(d))return DB(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var jY=(t,e)=>fY(t)?t.match(e):t(e);function wY(...t){return e=>t.some(r=>jY(r,e))}var CY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NY=(t=21)=>{let e="",r=t;for(;r--;)e+=CY[Math.random()*64|0];return e},SY=["name","message","stack","code"],fC=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},mP=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},AY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of SY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},hP="External signal was aborted",L=(()=>{function t(e,r,n){const a=Sd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Sd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Sd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||AY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):NY(),p=new AbortController;let b,g;function x(w){g=w,p.abort()}u&&(u.aborted?x(hP):u.addEventListener("abort",()=>x(hP),{once:!0}));const y=async function(){var C,j;let w;try{let N=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:f,extra:m});if(IY(N)&&(N=await N),N===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((T,k)=>{b=()=>{k({name:"AbortError",message:g||"Aborted"})},p.signal.addEventListener("abort",b)});d(s(h,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),w=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:p.signal,abort:x,rejectWithValue:(T,k)=>new fC(T,k),fulfillWithValue:(T,k)=>new mP(T,k)})).then(T=>{if(T instanceof fC)throw T;return T instanceof mP?a(T.payload,h,c,T.meta):a(T,h,c)})])}catch(N){w=N instanceof fC?i(null,h,c,N.payload,N.meta):i(N,h,c)}finally{b&&p.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&i.match(w)&&w.meta.condition||d(w),w}();return Object.assign(y,{abort:x,requestId:h,arg:c,unwrap(){return y.then(kY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:wY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function kY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function IY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var TY=Symbol.for("rtk-slice-createasyncthunk");function EY(t,e){return`${t}/${e}`}function OY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[TY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(fs(11));const l=(typeof a.reducers=="function"?a.reducers(DY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const j=typeof S=="string"?S:S.type;if(!j)throw new Error(fs(12));if(j in u.sliceCaseReducersByType)throw new Error(fs(13));return u.sliceCaseReducersByType[j]=C,d},addMatcher(S,C){return u.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return u.actionCreators[S]=C,d},exposeCaseReducer(S,C){return u.sliceCaseReducersByName[S]=C,d}};c.forEach(S=>{const C=l[S],j={reducerName:S,type:EY(s,S),createNotation:typeof a.reducers=="function"};$Y(C)?MY(j,C,d,e):_Y(j,C,d)});function f(){const[S={},C=[],j=void 0]=typeof a.extraReducers=="function"?RB(a.extraReducers):[a.extraReducers],N={...S,...u.sliceCaseReducersByType};return vY(a.initialState,A=>{for(let T in N)A.addCase(T,N[T]);for(let T of u.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of C)A.addMatcher(T.matcher,T.reducer);j&&A.addDefaultCase(j)})}const m=S=>S,h=new Map,p=new WeakMap;let b;function g(S,C){return b||(b=f()),b(S,C)}function x(){return b||(b=f()),b.getInitialState()}function y(S,C=!1){function j(A){let T=A[S];return typeof T>"u"&&C&&(T=bh(p,j,x)),T}function N(A=m){const T=bh(h,C,()=>new WeakMap);return bh(T,A,()=>{const k={};for(const[E,P]of Object.entries(a.selectors??{}))k[E]=PY(P,A,()=>bh(p,A,x),C);return k})}return{reducerPath:S,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const w={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(S,{reducerPath:C,...j}={}){const N=C??i;return S.inject({reducerPath:N,reducer:g},j),{...w,...y(N,!0)}}};return w}}function PY(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ye=OY();function DY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function _Y({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!RY(n))throw new Error(fs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Sd(t,i):Sd(t))}function $Y(t){return t._reducerDefinitionType==="asyncThunk"}function RY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function MY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(fs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||xh,pending:l||xh,rejected:c||xh,settled:u||xh})}function xh(){}function fs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const LY="https://staging-engine.testthelink.online",FY=async(t,e)=>{var r;try{const n=await fetch(`${LY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},BY=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),qY=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),VY=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),e0={login:FY,logout:BY,fetchUserProfile:qY,changePassword:VY},UY={user:null,isAuthenticated:!1,isLoading:!1,error:null},wp=L("auth/login",async({username:t,password:e},r)=>{try{return await e0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),MB=L("auth/logout",async(t,e)=>{try{return await e0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),mC=L("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await e0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Cp=L("auth/fetchUserProfile",async(t,e)=>{try{return await e0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),LB=ye({name:"auth",initialState:UY,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(wp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(MB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(Cp.pending,e=>{e.isLoading=!0}).addCase(Cp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Cp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(mC.pending,e=>{e.isLoading=!0}).addCase(mC.fulfilled,e=>{e.isLoading=!1}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:F7e}=LB.actions,zY=LB.reducer;let WY={data:""},HY=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||WY,GY=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YY=/\/\*[^]*?\*\/|  +/g,pP=/\n+/g,to=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?to(i,s):s+"{"+to(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=to(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=to.p?to.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Wa={},FB=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+FB(t[r]);return e}return t},KY=(t,e,r,n,a)=>{let s=FB(t),i=Wa[s]||(Wa[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Wa[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=GY.exec(u.replace(YY,""));)d[4]?m.shift():d[3]?(f=d[3].replace(pP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(pP," ").trim();return m[0]})(t);Wa[i]=to(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Wa.g?Wa.g:null;return r&&(Wa.g=Wa[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Wa[i],e,n,l),i},JY=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":to(l,""):l===!1?"":l}return n+a+(i??"")},"");function t0(t){let e=this||{},r=t.call?t(e.p):t;return KY(r.unshift?r.raw?JY(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,HY(e.target),e.g,e.o,e.k)}let BB,gS,yS;t0.bind({g:1});let ks=t0.bind({k:1});function XY(t,e,r,n){to.p=e,BB=t,gS=r,yS=n}function Uo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:gS&&gS()},l),r.o=/ *go\d+/.test(c),l.className=t0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),yS&&u[0]&&yS(l),BB(u,l)}return a}}var ZY=t=>typeof t=="function",fx=(t,e)=>ZY(t)?t(e):t,QY=(()=>{let t=0;return()=>(++t).toString()})(),qB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),eK=20,VB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,eK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return VB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Np=[],wi={toasts:[],pausedAt:void 0},ol=t=>{wi=VB(wi,t),Np.forEach(e=>{e(wi)})},tK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rK=(t={})=>{let[e,r]=v.useState(wi),n=v.useRef(wi);v.useEffect(()=>(n.current!==wi&&r(wi),Np.push(r),()=>{let s=Np.indexOf(r);s>-1&&Np.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||tK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},nK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||QY()}),Am=t=>(e,r)=>{let n=nK(e,t,r);return ol({type:2,toast:n}),n.id},pe=(t,e)=>Am("blank")(t,e);pe.error=Am("error");pe.success=Am("success");pe.loading=Am("loading");pe.custom=Am("custom");pe.dismiss=t=>{ol({type:3,toastId:t})};pe.remove=t=>ol({type:4,toastId:t});pe.promise=(t,e,r)=>{let n=pe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?fx(e.success,a):void 0;return s?pe.success(s,{id:n,...r,...r==null?void 0:r.success}):pe.dismiss(n),a}).catch(a=>{let s=e.error?fx(e.error,a):void 0;s?pe.error(s,{id:n,...r,...r==null?void 0:r.error}):pe.dismiss(n)}),t};var aK=(t,e)=>{ol({type:1,toast:{id:t,height:e}})},sK=()=>{ol({type:5,time:Date.now()})},Ad=new Map,oK=1e3,iK=(t,e=oK)=>{if(Ad.has(t))return;let r=setTimeout(()=>{Ad.delete(t),ol({type:4,toastId:t})},e);Ad.set(t,r)},lK=t=>{let{toasts:e,pausedAt:r}=rK(t);v.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&pe.dismiss(l.id);return}return setTimeout(()=>pe.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=v.useCallback(()=>{r&&ol({type:6,time:Date.now()})},[r]),a=v.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,p)=>p<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,p)=>h+(p.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(s=>{if(s.dismissed)iK(s.id,s.removeDelay);else{let i=Ad.get(s.id);i&&(clearTimeout(i),Ad.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:aK,startPause:sK,endPause:n,calculateOffset:a}}},cK=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uK=ks`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dK=ks`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fK=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mK=ks`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hK=Uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${mK} 1s linear infinite;
`,pK=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gK=ks`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yK=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bK=Uo("div")`
  position: absolute;
`,xK=Uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vK=ks`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jK=Uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(jK,null,e):e:r==="blank"?null:v.createElement(xK,null,v.createElement(hK,{...n}),r!=="loading"&&v.createElement(bK,null,r==="error"?v.createElement(fK,{...n}):v.createElement(yK,{...n})))},CK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,SK="0%{opacity:0;} 100%{opacity:1;}",AK="0%{opacity:1;} 100%{opacity:0;}",kK=Uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,IK=Uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=qB()?[SK,AK]:[CK(r),NK(r)];return{animation:e?`${ks(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ks(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},EK=v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?TK(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(wK,{toast:t}),i=v.createElement(IK,{...t.ariaProps},fx(t.message,t));return v.createElement(kK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):v.createElement(v.Fragment,null,s,i))});XY(v.createElement);var OK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=v.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:s,className:e,style:r},a)},PK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},DK=t0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vh=16,_K=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=lK(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:vh,left:vh,right:vh,bottom:vh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=PK(d,f);return v.createElement(OK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?DK:"",style:m},u.type==="custom"?fx(u.message,u):a?a(u):v.createElement(EK,{toast:u,position:d}))}))},Ie=pe;function UB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=UB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=UB(t))&&(n&&(n+=" "),n+=e);return n}function $K({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const zB=v.forwardRef($K);function RK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ga=v.forwardRef(RK);function MK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const WB=v.forwardRef(MK);function LK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const FK=v.forwardRef(LK);function BK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const qK=v.forwardRef(BK);function VK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const UK=v.forwardRef(VK);function zK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const bT=v.forwardRef(zK);function WK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const bS=v.forwardRef(WK);function HK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const HB=v.forwardRef(HK);function GK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const gP=v.forwardRef(GK);function YK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const GB=v.forwardRef(YK);function KK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const JK=v.forwardRef(KK);function XK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const ZK=v.forwardRef(XK);function QK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const YB=v.forwardRef(QK);function eJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const tJ=v.forwardRef(eJ);function rJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const r0=v.forwardRef(rJ);function nJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const aJ=v.forwardRef(nJ);function sJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const oJ=v.forwardRef(sJ);function iJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const lJ=v.forwardRef(iJ);function cJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ae=v.forwardRef(cJ);function uJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Se=v.forwardRef(uJ);function dJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const au=v.forwardRef(dJ);function fJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const mJ=v.forwardRef(fJ);function hJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Le=v.forwardRef(hJ);function pJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gJ=v.forwardRef(pJ);function yJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const KB=v.forwardRef(yJ);function bJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const JB=v.forwardRef(bJ),xJ=[{name:"Dashboard",href:"/dashboard",icon:oJ},{name:"Settings",icon:GB,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:JK,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:mJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:YB,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:ZK,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:bS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:bS}];function XB({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:Re("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:Re("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:Re("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:Re("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(XB,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(ec,{to:l.href,className:Re("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:Re("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function vJ(){var l,c;const t=Vo(),{user:e}=q(u=>u.auth),[r,n]=v.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u,i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(XB,{items:xJ,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function vl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((p,b)=>n[b]!==p)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const p=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-h)*100)/100,g=b/16,x=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${x(b,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function yP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const jJ=(t,e)=>Math.abs(t-e)<=1,wJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},bP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},CJ=t=>t,NJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},SJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(bP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(bP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},xP={passive:!0},vP=typeof window>"u"?!0:"onscrollend"in window,AJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&vP?()=>{}:wJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,xP);const u=t.options.useScrollendEvent&&vP;return u&&r.addEventListener("scrollend",c,xP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},kJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},IJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class TJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:CJ,rangeExtractor:NJ,onChange:()=>{},measureElement:kJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=vl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=vl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=vl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,p=l.get(f),b=typeof p=="number"?p:this.options.estimateSize(d),g=h+b,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:g,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=vl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?EJ({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=vl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=vl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return yP(n[ZB(0,n.length-1,a=>yP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();jJ(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const ZB=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function EJ({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=ZB(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const jP=typeof document<"u"?v.useLayoutEffect:v.useEffect;function OJ(t){const e=v.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?Yv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=v.useState(()=>new TJ(r));return n.setOptions(r),jP(()=>n._didMount(),[]),jP(()=>n._willUpdate()),n}function PJ(t){return OJ({observeElementRect:SJ,observeElementOffset:AJ,scrollToFn:IJ,...t})}var DJ=Object.defineProperty,_J=(t,e,r)=>e in t?DJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hC=(t,e,r)=>(_J(t,typeof e!="symbol"?e+"":e,r),r);let $J=class{constructor(){hC(this,"current",this.detect()),hC(this,"handoffState","pending"),hC(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ms=new $J,mt=(t,e)=>{ms.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function da(t){let e=v.useRef(t);return mt(()=>{e.current=t},[t]),e}function xT(t,e){let[r,n]=v.useState(t),a=da(t);return mt(()=>n(a.current),[a,n,...e]),r}let we=function(t){let e=da(t);return V.useCallback((...r)=>e.current(...r),[e])};function RJ(t,e,r){let[n,a]=v.useState(r),s=t!==void 0,i=v.useRef(s),l=v.useRef(!1),c=v.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,we(u=>(s||a(u),e==null?void 0:e(u)))]}function n0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Sn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return n0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Sn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function zo(){let[t]=v.useState(Sn);return v.useEffect(()=>()=>t.dispose(),[t]),t}function MJ(){let t=typeof document>"u";return"useSyncExternalStore"in To?(e=>e.useSyncExternalStore)(To)(()=>()=>{},()=>!1,()=>!t):!1}function su(){let t=MJ(),[e,r]=v.useState(ms.isHandoffComplete);return e&&ms.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{e!==!0&&r(!0)},[e]),v.useEffect(()=>ms.handoff(),[]),t?!1:e}var wP;let on=(wP=V.useId)!=null?wP:function(){let t=su(),[e,r]=V.useState(t?()=>ms.nextId():null);return mt(()=>{e===null&&r(ms.nextId())},[e]),e!=null?""+e:void 0};function Et(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Et),n}function a0(t){return ms.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let xS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ns=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ns||{}),QB=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(QB||{}),LJ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(LJ||{});function e3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(xS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var vT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(vT||{});function jT(t,e=0){var r;return t===((r=a0(t))==null?void 0:r.body)?!1:Et(e,{0(){return t.matches(xS)},1(){let n=t;for(;n!==null;){if(n.matches(xS))return!0;n=n.parentElement}return!1}})}function t3(t){let e=a0(t);Sn().nextFrame(()=>{e&&!jT(e.activeElement,0)&&vo(t)})}var FJ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(FJ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function vo(t){t==null||t.focus({preventScroll:!0})}let BJ=["textarea","input"].join(",");function qJ(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,BJ))!=null?r:!1}function wT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function VJ(t,e){return kd(e3(),e,{relativeTo:t})}function kd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?wT(t):t:e3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&qJ(m)&&m.select(),2}function r3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UJ(){return/Android/gi.test(window.navigator.userAgent)}function n3(){return r3()||UJ()}function jh(t,e,r){let n=da(e);v.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function a3(t,e,r){let n=da(e);v.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function CT(t,e,r=!0){let n=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!jT(c,vT.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=v.useRef(null);jh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),jh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),jh("click",i=>{n3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),jh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),a3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function il(...t){return v.useMemo(()=>a0(...t),[...t])}function CP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function s3(t,e){let[r,n]=v.useState(()=>CP(t));return mt(()=>{n(CP(t))},[t.type,t.as]),mt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let o3=Symbol();function zJ(t,e=!0){return Object.assign(t,{[o3]:e})}function rr(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let r=we(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[o3]))?void 0:r}function NP(t){return[t.screenX,t.screenY]}function i3(){let t=v.useRef([-1,-1]);return{wasMoved(e){let r=NP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=NP(e)}}}function l3({container:t,accept:e,walk:r,enabled:n=!0}){let a=v.useRef(e),s=v.useRef(r);v.useEffect(()=>{a.current=e,s.current=r},[e,r]),mt(()=>{if(!t||!n)return;let i=a0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function wf(t,e){let r=v.useRef([]),n=we(t);v.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function mx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Do=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Do||{}),so=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(so||{});function Gt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??WJ;let c=c3(e,t);if(s)return wh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return wh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Et(d?0:1,{0(){return null},1(){return wh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return wh(c,r,n,i,l)}function wh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=pC(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[p,b]of Object.entries(e))typeof b=="boolean"&&(m=!0),b===!0&&h.push(p);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===v.Fragment&&Object.keys(vS(c)).length>0){if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...b)=>mx(m==null?void 0:m.className(...b),c.className):mx(m==null?void 0:m.className,c.className),p=h?{className:h}:{};return v.cloneElement(d,Object.assign({},c3(d.props,vS(pC(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},p))}return v.createElement(s,Object.assign({},pC(c,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&f),d)}function WJ(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function c3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Lt(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function vS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function pC(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let HJ="div";var Cf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Cf||{});function GJ(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Gt({ourProps:s,theirProps:a,slot:{},defaultTag:HJ,name:"Hidden"})}let hx=Lt(GJ),NT=v.createContext(null);NT.displayName="OpenClosedContext";var Kt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Kt||{});function km(){return v.useContext(NT)}function ST({value:t,children:e}){return V.createElement(NT.Provider,{value:t},e)}function YJ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ta=[];YJ(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ta[0]!==e.target&&(Ta.unshift(e.target),Ta=Ta.filter(r=>r!=null&&r.isConnected),Ta.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function AT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&KJ(r)?!1:n}function KJ(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function JJ(t){throw new Error("Unexpected object: "+t)}var it=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(it||{});function jS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:JJ(t)}}function u3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))f3(r,d3(e,n),a);return r}function d3(t,e){return t?t+"["+e+"]":e}function f3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())f3(t,d3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):u3(r,e,t)}var at=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(at||{}),XJ={},ZJ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ZJ||{}),QJ=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(QJ||{}),eX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(eX||{}),tX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(tX||{});function gC(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):wT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let rX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===it.Specific?e.idx:jS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(p=>!t.virtual.disabled(p)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=gC(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===it.Specific?e.idx:jS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=gC(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=gC(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},kT=v.createContext(null);kT.displayName="ComboboxActionsContext";function Im(t){let e=v.useContext(kT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Im),r}return e}let m3=v.createContext(null);function nX(t){var e;let r=ll("VirtualProvider"),[n,a]=v.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=PJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=v.useState(0);return mt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),V.createElement(m3.Provider,{value:s},V.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&XJ.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return V.createElement(v.Fragment,{key:c.key},V.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let IT=v.createContext(null);IT.displayName="ComboboxDataContext";function ll(t){let e=v.useContext(IT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ll),r}return e}function aX(t,e){return Et(e.type,rX,t,e)}let sX=v.Fragment;function oX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...p}=t,b=!1,g=null,[x=f?[]:void 0,y]=RJ(r,a,n),[w,S]=v.useReducer(aX,{dataRef:v.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=v.useRef(!1),j=v.useRef({static:!1,hold:!1}),N=v.useRef(null),A=v.useRef(null),T=v.useRef(null),k=v.useRef(null),E=we(typeof l=="string"?(Z,te)=>{let G=l;return(Z==null?void 0:Z[G])===(te==null?void 0:te[G])}:l??((Z,te)=>Z===te)),P=we(Z=>w.options.findIndex(te=>E(te.dataRef.current.value,Z))),M=v.useCallback(Z=>Et($.mode,{1:()=>x.some(te=>E(te,Z)),0:()=>E(x,Z)}),[x]),R=we(Z=>w.activeOptionIndex===P(Z)),$=v.useMemo(()=>({...w,immediate:b,optionsPropsRef:j,labelRef:N,inputRef:A,buttonRef:T,optionsRef:k,value:x,defaultValue:n,disabled:c,mode:f?1:0,virtual:w.virtual,get activeOptionIndex(){if(C.current&&w.activeOptionIndex===null&&w.options.length>0){let Z=w.options.findIndex(te=>!te.dataRef.current.disabled);if(Z!==-1)return Z}return w.activeOptionIndex},calculateIndex:P,compare:E,isSelected:M,isActive:R,nullable:d,__demoMode:u}),[x,n,c,f,d,u,w,g]);mt(()=>{},[g,void 0]),mt(()=>{w.dataRef.current=$},[$]),CT([$.buttonRef,$.inputRef,$.optionsRef],()=>ke.closeCombobox(),$.comboboxState===0);let B=v.useMemo(()=>{var Z,te,G;return{open:$.comboboxState===0,disabled:c,activeIndex:$.activeOptionIndex,activeOption:$.activeOptionIndex===null?null:$.virtual?$.virtual.options[(Z=$.activeOptionIndex)!=null?Z:0]:(G=(te=$.options[$.activeOptionIndex])==null?void 0:te.dataRef.current.value)!=null?G:null,value:x}},[$,c,x]),U=we(()=>{if($.activeOptionIndex!==null){if($.virtual)ee($.virtual.options[$.activeOptionIndex]);else{let{dataRef:Z}=$.options[$.activeOptionIndex];ee(Z.current.value)}ke.goToOption(it.Specific,$.activeOptionIndex)}}),D=we(()=>{S({type:0}),C.current=!0}),_=we(()=>{S({type:1}),C.current=!1}),F=we((Z,te,G)=>(C.current=!1,Z===it.Specific?S({type:2,focus:it.Specific,idx:te,trigger:G}):S({type:2,focus:Z,trigger:G}))),H=we((Z,te)=>(S({type:3,payload:{id:Z,dataRef:te}}),()=>{$.isActive(te.current.value)&&(C.current=!0),S({type:4,id:Z})})),W=we(Z=>(S({type:5,id:Z}),()=>S({type:5,id:null}))),ee=we(Z=>Et($.mode,{0(){return y==null?void 0:y(Z)},1(){let te=$.value.slice(),G=te.findIndex(z=>E(z,Z));return G===-1?te.push(Z):te.splice(G,1),y==null?void 0:y(te)}})),fe=we(Z=>{S({type:6,trigger:Z})}),ke=v.useMemo(()=>({onChange:ee,registerOption:H,registerLabel:W,goToOption:F,closeCombobox:_,openCombobox:D,setActivationTrigger:fe,selectActiveOption:U}),[]),ne=e===null?{}:{ref:e},J=v.useRef(null),le=zo();return v.useEffect(()=>{J.current&&n!==void 0&&le.addEventListener(J.current,"reset",()=>{y==null||y(n)})},[J,y]),V.createElement(kT.Provider,{value:ke},V.createElement(IT.Provider,{value:$},V.createElement(ST,{value:Et($.comboboxState,{0:Kt.Open,1:Kt.Closed})},i!=null&&x!=null&&u3({[i]:x}).map(([Z,te],G)=>V.createElement(hx,{features:Cf.Hidden,ref:G===0?z=>{var me;J.current=(me=z==null?void 0:z.closest("form"))!=null?me:null}:void 0,...vS({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:Z,value:te})})),Gt({ourProps:ne,theirProps:p,slot:B,defaultTag:sX,name:"Combobox"}))))}let iX="input";function lX(t,e){var r,n,a,s,i;let l=on(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=ll("Combobox.Input"),p=Im("Combobox.Input"),b=rr(h.inputRef,e),g=il(h.inputRef),x=v.useRef(!1),y=zo(),w=we(()=>{p.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),p.goToOption(it.Nothing)}),S=function(){var $;return typeof d=="function"&&h.value!==void 0?($=d(h.value))!=null?$:"":typeof h.value=="string"?h.value:""}();wf(([$,B],[U,D])=>{if(x.current)return;let _=h.inputRef.current;_&&((D===0&&B===1||$!==U)&&(_.value=$),requestAnimationFrame(()=>{if(x.current||!_||(g==null?void 0:g.activeElement)!==_)return;let{selectionStart:F,selectionEnd:H}=_;Math.abs((H??0)-(F??0))===0&&F===0&&_.setSelectionRange(_.value.length,_.value.length)}))},[S,h.comboboxState,g]),wf(([$],[B])=>{if($===0&&B===1){if(x.current)return;let U=h.inputRef.current;if(!U)return;let D=U.value,{selectionStart:_,selectionEnd:F,selectionDirection:H}=U;U.value="",U.value=D,H!==null?U.setSelectionRange(_,F,H):U.setSelectionRange(_,F)}},[h.comboboxState]);let C=v.useRef(!1),j=we(()=>{C.current=!0}),N=we(()=>{y.nextFrame(()=>{C.current=!1})}),A=we($=>{switch(x.current=!0,$.key){case at.Enter:if(x.current=!1,h.comboboxState!==0||C.current)return;if($.preventDefault(),$.stopPropagation(),h.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),h.mode===0&&p.closeCombobox();break;case at.ArrowDown:return x.current=!1,$.preventDefault(),$.stopPropagation(),Et(h.comboboxState,{0:()=>p.goToOption(it.Next),1:()=>p.openCombobox()});case at.ArrowUp:return x.current=!1,$.preventDefault(),$.stopPropagation(),Et(h.comboboxState,{0:()=>p.goToOption(it.Previous),1:()=>{p.openCombobox(),y.nextFrame(()=>{h.value||p.goToOption(it.Last)})}});case at.Home:if($.shiftKey)break;return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(it.First);case at.PageUp:return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(it.First);case at.End:if($.shiftKey)break;return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(it.Last);case at.PageDown:return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(it.Last);case at.Escape:return x.current=!1,h.comboboxState!==0?void 0:($.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&$.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&w(),p.closeCombobox());case at.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&p.selectActiveOption(),p.closeCombobox();break}}),T=we($=>{u==null||u($),h.nullable&&h.mode===0&&$.target.value===""&&w(),p.openCombobox()}),k=we($=>{var B,U,D;let _=(B=$.relatedTarget)!=null?B:Ta.find(F=>F!==$.currentTarget);if(x.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(_))&&!((D=h.buttonRef.current)!=null&&D.contains(_))&&h.comboboxState===0)return $.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?w():h.activationTrigger!==1&&p.selectActiveOption()),p.closeCombobox()}),E=we($=>{var B,U,D;let _=(B=$.relatedTarget)!=null?B:Ta.find(F=>F!==$.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(_)||(D=h.optionsRef.current)!=null&&D.contains(_)||h.disabled||h.immediate&&h.comboboxState!==0&&(p.openCombobox(),y.nextFrame(()=>{p.setActivationTrigger(1)}))}),P=xT(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),M=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),R={ref:b,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find($=>{var B;return!((B=h.virtual)!=null&&B.disabled($.dataRef.current.value))&&h.compare($.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:j,onCompositionEnd:N,onKeyDown:A,onChange:T,onFocus:E,onBlur:k};return Gt({ourProps:R,theirProps:m,slot:M,defaultTag:iX,name:"Combobox.Input"})}let cX="button";function uX(t,e){var r;let n=ll("Combobox.Button"),a=Im("Combobox.Button"),s=rr(n.buttonRef,e),i=on(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=zo(),d=we(b=>{switch(b.key){case at.ArrowDown:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case at.ArrowUp:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(it.Last)})),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case at.Escape:return n.comboboxState!==0?void 0:(b.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&b.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}));default:return}}),f=we(b=>{if(AT(b.currentTarget))return b.preventDefault();n.comboboxState===0?a.closeCombobox():(b.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})})}),m=xT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=v.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),p={ref:s,id:l,type:s3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Gt({ourProps:p,theirProps:c,slot:h,defaultTag:cX,name:"Combobox.Button"})}let dX="label";function fX(t,e){let r=on(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=ll("Combobox.Label"),i=Im("Combobox.Label"),l=rr(s.labelRef,e);mt(()=>i.registerLabel(n),[n]);let c=we(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Gt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:dX,name:"Combobox.Label"})}let mX="ul",hX=Do.RenderStrategy|Do.Static;function pX(t,e){let r=on(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=ll("Combobox.Options"),l=rr(i.optionsRef,e),c=km(),u=c!==null?(c&Kt.Open)===Kt.Open:i.comboboxState===0;mt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),mt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),l3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=xT(()=>{var h,p;return(p=i.labelId)!=null?p:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=v.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:V.createElement(nX,null,s.children)}),Gt({ourProps:m,theirProps:s,slot:f,defaultTag:mX,features:hX,visible:u,name:"Combobox.Options"})}let gX="li";function yX(t,e){var r;let n=on(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=ll("Combobox.Option"),d=Im("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=v.useRef(null),p=da({disabled:s,value:i,domRef:h,order:l}),b=v.useContext(m3),g=rr(e,h,b?b.measureElement:null),x=we(()=>d.onChange(i));mt(()=>d.registerOption(a,p),[p,a]);let y=v.useRef(!(u.virtual||u.__demoMode));mt(()=>{if(!u.virtual||!u.__demoMode)return;let k=Sn();return k.requestAnimationFrame(()=>{y.current=!0}),k.dispose},[u.virtual,u.__demoMode]),mt(()=>{if(!y.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let k=Sn();return k.requestAnimationFrame(()=>{var E,P;(P=(E=h.current)==null?void 0:E.scrollIntoView)==null||P.call(E,{block:"nearest"})}),k.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=we(k=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return k.preventDefault();x(),n3()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=we(()=>{var k;if(s||(k=u.virtual)!=null&&k.disabled(i))return d.goToOption(it.Nothing);let E=u.calculateIndex(i);d.goToOption(it.Specific,E)}),C=i3(),j=we(k=>C.update(k)),N=we(k=>{var E;if(!C.wasMoved(k)||s||(E=u.virtual)!=null&&E.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(it.Specific,P,0)}),A=we(k=>{var E;C.wasMoved(k)&&(s||(E=u.virtual)!=null&&E.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(it.Nothing)))}),T=v.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Gt({ourProps:{id:a,ref:g,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:j,onMouseEnter:j,onPointerMove:N,onMouseMove:N,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:T,defaultTag:gX,name:"Combobox.Option"})}let bX=Lt(oX),xX=Lt(uX),vX=Lt(lX),jX=Lt(fX),wX=Lt(pX),CX=Lt(yX),jl=Object.assign(bX,{Input:vX,Button:xX,Label:jX,Options:wX,Option:CX});function h3(t,e,r,n){let a=da(r);v.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Tm(){let t=v.useRef(!1);return mt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function p3(t){let e=we(t),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,n0(()=>{r.current&&e()})}),[e])}var sd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(sd||{});function NX(){let t=v.useRef(0);return a3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function g3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let SX="div";var y3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(y3||{});function AX(t,e){let r=v.useRef(null),n=rr(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;su()||(i=1);let c=il(r);TX({ownerDocument:c},!!(i&16));let u=EX({ownerDocument:c,container:r,initialFocus:a},!!(i&2));OX({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=NX(),f=we(b=>{let g=r.current;g&&(x=>x())(()=>{Et(d.current,{[sd.Forwards]:()=>{kd(g,ns.First,{skipElements:[b.relatedTarget]})},[sd.Backwards]:()=>{kd(g,ns.Last,{skipElements:[b.relatedTarget]})}})})}),m=zo(),h=v.useRef(!1),p={ref:n,onKeyDown(b){b.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let g=g3(s);r.current instanceof HTMLElement&&g.add(r.current);let x=b.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(b3(g,x)||(h.current?kd(r.current,Et(d.current,{[sd.Forwards]:()=>ns.Next,[sd.Backwards]:()=>ns.Previous})|ns.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&vo(b.target)))}};return V.createElement(V.Fragment,null,!!(i&4)&&V.createElement(hx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Cf.Focusable}),Gt({ourProps:p,theirProps:l,defaultTag:SX,name:"FocusTrap"}),!!(i&4)&&V.createElement(hx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Cf.Focusable}))}let kX=Lt(AX),Ou=Object.assign(kX,{features:y3});function IX(t=!0){let e=v.useRef(Ta.slice());return wf(([r],[n])=>{n===!0&&r===!1&&n0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ta.slice())},[t,Ta,e]),we(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function TX({ownerDocument:t},e){let r=IX(e);wf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&vo(r())},[e]),p3(()=>{e&&vo(r())})}function EX({ownerDocument:t,container:e,initialFocus:r},n){let a=v.useRef(null),s=Tm();return wf(()=>{if(!n)return;let i=e.current;i&&n0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?vo(r.current):kd(i,ns.First)===QB.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function OX({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Tm();h3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=g3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?b3(l,u)?(n.current=u,vo(u)):(i.preventDefault(),i.stopPropagation(),vo(c)):vo(n.current)},!0)}function b3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let x3=v.createContext(!1);function PX(){return v.useContext(x3)}function wS(t){return V.createElement(x3.Provider,{value:t.force},t.children)}function DX(t){let e=PX(),r=v.useContext(v3),n=il(t),[a,s]=v.useState(()=>{if(!e&&r!==null||ms.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return v.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),v.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let _X=v.Fragment;function $X(t,e){let r=t,n=v.useRef(null),a=rr(zJ(d=>{n.current=d}),e),s=il(n),i=DX(n),[l]=v.useState(()=>{var d;return ms.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=v.useContext(CS),u=su();return mt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),mt(()=>{if(l&&c)return c.register(l)},[c,l]),p3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:Yv.createPortal(Gt({ourProps:{ref:a},theirProps:r,defaultTag:_X,name:"Portal"}),l):null}let RX=v.Fragment,v3=v.createContext(null);function MX(t,e){let{target:r,...n}=t,a={ref:rr(e)};return V.createElement(v3.Provider,{value:r},Gt({ourProps:a,theirProps:n,defaultTag:RX,name:"Popover.Group"}))}let CS=v.createContext(null);function LX(){let t=v.useContext(CS),e=v.useRef([]),r=we(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=we(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=v.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,v.useMemo(()=>function({children:s}){return V.createElement(CS.Provider,{value:a},s)},[a])]}let FX=Lt($X),BX=Lt(MX),NS=Object.assign(FX,{Group:BX});function qX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const VX=typeof Object.is=="function"?Object.is:qX,{useState:UX,useEffect:zX,useLayoutEffect:WX,useDebugValue:HX}=To;function GX(t,e,r){const n=e(),[{inst:a},s]=UX({inst:{value:n,getSnapshot:e}});return WX(()=>{a.value=n,a.getSnapshot=e,yC(a)&&s({inst:a})},[t,n,e]),zX(()=>(yC(a)&&s({inst:a}),t(()=>{yC(a)&&s({inst:a})})),[t]),HX(n),n}function yC(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!VX(r,n)}catch{return!0}}function YX(t,e,r){return e()}const KX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JX=!KX,XX=JX?YX:GX,ZX="useSyncExternalStore"in To?(t=>t.useSyncExternalStore)(To):XX;function QX(t){return ZX(t.subscribe,t.getSnapshot,t.getSnapshot)}function eZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function tZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function rZ(){return r3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Sn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function nZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function aZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ci=eZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Sn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:aZ(r)},a=[rZ(),tZ(),nZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ci.subscribe(()=>{let t=Ci.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ci.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ci.dispatch("TEARDOWN",r)}});function sZ(t,e,r){let n=QX(Ci),a=t?n.get(t):void 0,s=a?a.count>0:!1;return mt(()=>{if(!(!t||!e))return Ci.dispatch("PUSH",t,r),()=>Ci.dispatch("POP",t,r)},[e,t]),s}let bC=new Map,Pu=new Map;function SP(t,e=!0){mt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Pu.get(n))!=null?i:1;if(l===1?Pu.delete(n):Pu.set(n,l-1),l!==1)return;let c=bC.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,bC.delete(n))}let s=(r=Pu.get(n))!=null?r:0;return Pu.set(n,s+1),s!==0||(bC.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function oZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=v.useRef((n=r==null?void 0:r.current)!=null?n:null),s=il(a),i=we(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:we(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:v.useMemo(()=>function(){return r!=null?null:V.createElement(hx,{features:Cf.Hidden,ref:a})},[a,r])}}let TT=v.createContext(()=>{});TT.displayName="StackContext";var SS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(SS||{});function iZ(){return v.useContext(TT)}function lZ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=iZ(),i=we((...l)=>{e==null||e(...l),s(...l)});return mt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),V.createElement(TT.Provider,{value:i},t)}let j3=v.createContext(null);function w3(){let t=v.useContext(j3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,w3),e}return t}function cZ(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(r){let n=we(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return V.createElement(j3.Provider,{value:a},r.children)},[e])]}let uZ="p";function dZ(t,e){let r=on(),{id:n=`headlessui-description-${r}`,...a}=t,s=w3(),i=rr(e);mt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Gt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:uZ,name:s.name||"Description"})}let fZ=Lt(dZ),mZ=Object.assign(fZ,{});var hZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(hZ||{}),pZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(pZ||{});let gZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},px=v.createContext(null);px.displayName="DialogContext";function Em(t){let e=v.useContext(px);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Em),r}return e}function yZ(t,e,r=()=>[document.body]){sZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function bZ(t,e){return Et(e.type,gZ,t,e)}let xZ="div",vZ=Do.RenderStrategy|Do.Static;function jZ(t,e){let r=on(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=v.useState(0),m=v.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=km();a===void 0&&h!==null&&(a=(h&Kt.Open)===Kt.Open);let p=v.useRef(null),b=rr(p,e),g=il(p),x=t.hasOwnProperty("open")||h!==null,y=t.hasOwnProperty("onClose");if(!x&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=a?0:1,[S,C]=v.useReducer(bZ,{titleId:null,descriptionId:null,panelRef:v.createRef()}),j=we(()=>s(!1)),N=we(G=>C({type:0,id:G})),A=su()?c?!1:w===0:!1,T=d>1,k=v.useContext(px)!==null,[E,P]=LX(),M={get current(){var G;return(G=S.panelRef.current)!=null?G:p.current}},{resolveContainers:R,mainTreeNodeRef:$,MainTreeNode:B}=oZ({portals:E,defaultContainers:[M]}),U=T?"parent":"leaf",D=h!==null?(h&Kt.Closing)===Kt.Closing:!1,_=k||D?!1:A,F=v.useCallback(()=>{var G,z;return(z=Array.from((G=g==null?void 0:g.querySelectorAll("body > *"))!=null?G:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains($.current)&&me instanceof HTMLElement))!=null?z:null},[$]);SP(F,_);let H=T?!0:A,W=v.useCallback(()=>{var G,z;return(z=Array.from((G=g==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?G:[]).find(me=>me.contains($.current)&&me instanceof HTMLElement))!=null?z:null},[$]);SP(W,H),CT(R,G=>{G.preventDefault(),j()},!(!A||T));let fe=!(T||w!==0);h3(g==null?void 0:g.defaultView,"keydown",G=>{fe&&(G.defaultPrevented||G.key===at.Escape&&(G.preventDefault(),G.stopPropagation(),j()))}),yZ(g,!(D||w!==0||k),R),v.useEffect(()=>{if(w!==0||!p.current)return;let G=new ResizeObserver(z=>{for(let me of z){let xe=me.target.getBoundingClientRect();xe.x===0&&xe.y===0&&xe.width===0&&xe.height===0&&j()}});return G.observe(p.current),()=>G.disconnect()},[w,p,j]);let[ne,J]=cZ(),le=v.useMemo(()=>[{dialogState:w,close:j,setTitleId:N},S],[w,S,j,N]),Z=v.useMemo(()=>({open:w===0}),[w]),te={ref:b,id:n,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ne};return V.createElement(lZ,{type:"Dialog",enabled:w===0,element:p,onUpdate:we((G,z)=>{z==="Dialog"&&Et(G,{[SS.Add]:()=>f(me=>me+1),[SS.Remove]:()=>f(me=>me-1)})})},V.createElement(wS,{force:!0},V.createElement(NS,null,V.createElement(px.Provider,{value:le},V.createElement(NS.Group,{target:p},V.createElement(wS,{force:!1},V.createElement(J,{slot:Z,name:"Dialog.Description"},V.createElement(Ou,{initialFocus:i,containers:R,features:A?Et(U,{parent:Ou.features.RestoreFocus,leaf:Ou.features.All&~Ou.features.FocusLock}):Ou.features.None},V.createElement(P,null,Gt({ourProps:te,theirProps:u,slot:Z,defaultTag:xZ,features:vZ,visible:w===0,name:"Dialog"}))))))))),V.createElement(B,null))}let wZ="div";function CZ(t,e){let r=on(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Em("Dialog.Overlay"),l=rr(e),c=we(d=>{if(d.target===d.currentTarget){if(AT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=v.useMemo(()=>({open:s===0}),[s]);return Gt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:wZ,name:"Dialog.Overlay"})}let NZ="div";function SZ(t,e){let r=on(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Em("Dialog.Backdrop"),l=rr(e);v.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=v.useMemo(()=>({open:s===0}),[s]);return V.createElement(wS,{force:!0},V.createElement(NS,null,Gt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:NZ,name:"Dialog.Backdrop"})))}let AZ="div";function kZ(t,e){let r=on(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Em("Dialog.Panel"),l=rr(e,i.panelRef),c=v.useMemo(()=>({open:s===0}),[s]),u=we(d=>{d.stopPropagation()});return Gt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:AZ,name:"Dialog.Panel"})}let IZ="h2";function TZ(t,e){let r=on(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Em("Dialog.Title"),l=rr(e);v.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=v.useMemo(()=>({open:s===0}),[s]);return Gt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:IZ,name:"Dialog.Title"})}let EZ=Lt(jZ),OZ=Lt(SZ),PZ=Lt(kZ),DZ=Lt(CZ),_Z=Lt(TZ),xC=Object.assign(EZ,{Backdrop:OZ,Panel:PZ,Overlay:DZ,Title:_Z,Description:mZ}),AP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function kP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return AP.test(i)&&(i=i.replace(AP,"")),i}function $Z(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():kP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return kP(t).trim()}function RZ(t){let e=v.useRef(""),r=v.useRef("");return we(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=$Z(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var MZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(MZ||{}),LZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(LZ||{}),FZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(FZ||{});function vC(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=wT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let BZ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=vC(t),a=jS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=vC(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=vC(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},ET=v.createContext(null);ET.displayName="MenuContext";function s0(t){let e=v.useContext(ET);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,s0),r}return e}function qZ(t,e){return Et(e.type,BZ,t,e)}let VZ=v.Fragment;function UZ(t,e){let{__demoMode:r=!1,...n}=t,a=v.useReducer(qZ,{__demoMode:r,menuState:r?0:1,buttonRef:v.createRef(),itemsRef:v.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=rr(e);CT([l,i],(h,p)=>{var b;c({type:1}),jT(p,vT.Loose)||(h.preventDefault(),(b=l.current)==null||b.focus())},s===0);let d=we(()=>{c({type:1})}),f=v.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return V.createElement(ET.Provider,{value:a},V.createElement(ST,{value:Et(s,{0:Kt.Open,1:Kt.Closed})},Gt({ourProps:m,theirProps:n,slot:f,defaultTag:VZ,name:"Menu"})))}let zZ="button";function WZ(t,e){var r;let n=on(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=s0("Menu.Button"),c=rr(i.buttonRef,e),u=zo(),d=we(b=>{switch(b.key){case at.Space:case at.Enter:case at.ArrowDown:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:it.First}));break;case at.ArrowUp:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:it.Last}));break}}),f=we(b=>{switch(b.key){case at.Space:b.preventDefault();break}}),m=we(b=>{if(AT(b.currentTarget))return b.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(b.preventDefault(),l({type:0})))}),h=v.useMemo(()=>({open:i.menuState===0}),[i]),p={ref:c,id:a,type:s3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Gt({ourProps:p,theirProps:s,slot:h,defaultTag:zZ,name:"Menu.Button"})}let HZ="div",GZ=Do.RenderStrategy|Do.Static;function YZ(t,e){var r,n;let a=on(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=s0("Menu.Items"),u=rr(l.itemsRef,e),d=il(l.itemsRef),f=zo(),m=km(),h=m!==null?(m&Kt.Open)===Kt.Open:l.menuState===0;v.useEffect(()=>{let y=l.itemsRef.current;y&&l.menuState===0&&y!==(d==null?void 0:d.activeElement)&&y.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),l3({container:l.itemsRef.current,enabled:l.menuState===0,accept(y){return y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let p=we(y=>{var w,S;switch(f.dispose(),y.key){case at.Space:if(l.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),c({type:3,value:y.key});case at.Enter:if(y.preventDefault(),y.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:C}=l.items[l.activeItemIndex];(S=(w=C.current)==null?void 0:w.domRef.current)==null||S.click()}t3(l.buttonRef.current);break;case at.ArrowDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Next});case at.ArrowUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Previous});case at.Home:case at.PageUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.First});case at.End:case at.PageDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Last});case at.Escape:y.preventDefault(),y.stopPropagation(),c({type:1}),Sn().nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case at.Tab:y.preventDefault(),y.stopPropagation(),c({type:1}),Sn().nextFrame(()=>{VJ(l.buttonRef.current,y.shiftKey?ns.Previous:ns.Next)});break;default:y.key.length===1&&(c({type:3,value:y.key}),f.setTimeout(()=>c({type:4}),350));break}}),b=we(y=>{switch(y.key){case at.Space:y.preventDefault();break}}),g=v.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:p,onKeyUp:b,role:"menu",tabIndex:0,ref:u};return Gt({ourProps:x,theirProps:i,slot:g,defaultTag:HZ,features:GZ,visible:h,name:"Menu.Items"})}let KZ=v.Fragment;function JZ(t,e){let r=on(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=s0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=v.useRef(null),d=rr(e,u);mt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let C=Sn();return C.requestAnimationFrame(()=>{var j,N;(N=(j=u.current)==null?void 0:j.scrollIntoView)==null||N.call(j,{block:"nearest"})}),C.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=RZ(u),m=v.useRef({disabled:a,domRef:u,get textValue(){return f()}});mt(()=>{m.current.disabled=a},[m,a]),mt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=we(()=>{l({type:1})}),p=we(C=>{if(a)return C.preventDefault();l({type:1}),t3(i.buttonRef.current)}),b=we(()=>{if(a)return l({type:2,focus:it.Nothing});l({type:2,focus:it.Specific,id:n})}),g=i3(),x=we(C=>g.update(C)),y=we(C=>{g.wasMoved(C)&&(a||c||l({type:2,focus:it.Specific,id:n,trigger:0}))}),w=we(C=>{g.wasMoved(C)&&(a||c&&l({type:2,focus:it.Nothing}))}),S=v.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Gt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:y,onMouseMove:y,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:S,defaultTag:KZ,name:"Menu.Item"})}let XZ=Lt(UZ),ZZ=Lt(WZ),QZ=Lt(YZ),eQ=Lt(JZ),wl=Object.assign(XZ,{Button:ZZ,Items:QZ,Item:eQ});function tQ(t=0){let[e,r]=v.useState(t),n=Tm(),a=v.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=v.useCallback(c=>!!(e&c),[e]),i=v.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=v.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function rQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function jC(t,...e){t&&e.length>0&&t.classList.add(...e)}function wC(t,...e){t&&e.length>0&&t.classList.remove(...e)}function nQ(t,e){let r=Sn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function aQ(t,e,r,n){let a=r?"enter":"leave",s=Sn(),i=n!==void 0?rQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Et(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Et(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Et(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return wC(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),jC(t,...e.base,...l,...u),s.nextFrame(()=>{wC(t,...e.base,...l,...u),jC(t,...e.base,...l,...c),nQ(t,()=>(wC(t,...e.base,...l),jC(t,...e.base,...e.entered),i()))}),s.dispose}function sQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Tm(),l=zo(),c=da(r);mt(()=>{t&&(c.current="enter")},[t]),mt(()=>{let u=Sn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(aQ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Ws(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let o0=v.createContext(null);o0.displayName="TransitionContext";var oQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(oQ||{});function iQ(){let t=v.useContext(o0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function lQ(){let t=v.useContext(i0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let i0=v.createContext(null);i0.displayName="NestingContext";function l0(t){return"children"in t?l0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function C3(t,e){let r=da(t),n=v.useRef([]),a=Tm(),s=zo(),i=we((h,p=so.Hidden)=>{let b=n.current.findIndex(({el:g})=>g===h);b!==-1&&(Et(p,{[so.Unmount](){n.current.splice(b,1)},[so.Hidden](){n.current[b].state="hidden"}}),s.microTask(()=>{var g;!l0(n)&&a.current&&((g=r.current)==null||g.call(r))}))}),l=we(h=>{let p=n.current.find(({el:b})=>b===h);return p?p.state!=="visible"&&(p.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,so.Unmount)}),c=v.useRef([]),u=v.useRef(Promise.resolve()),d=v.useRef({enter:[],leave:[],idle:[]}),f=we((h,p,b)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([g])=>g!==h)),e==null||e.chains.current[p].push([h,new Promise(g=>{c.current.push(g)})]),e==null||e.chains.current[p].push([h,new Promise(g=>{Promise.all(d.current[p].map(([x,y])=>y)).then(()=>g())})]),p==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(p)):b(p)}),m=we((h,p,b)=>{Promise.all(d.current[p].splice(0).map(([g,x])=>x)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>b(p))});return v.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function cQ(){}let uQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function IP(t){var e;let r={};for(let n of uQ)r[n]=(e=t[n])!=null?e:cQ;return r}function dQ(t){let e=v.useRef(IP(t));return v.useEffect(()=>{e.current=IP(t)},[t]),e}let fQ="div",N3=Do.RenderStrategy;function mQ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:p,...b}=t,g=v.useRef(null),x=rr(g,e),y=(r=b.unmount)==null||r?so.Unmount:so.Hidden,{show:w,appear:S,initial:C}=iQ(),[j,N]=v.useState(w?"visible":"hidden"),A=lQ(),{register:T,unregister:k}=A;v.useEffect(()=>T(g),[T,g]),v.useEffect(()=>{if(y===so.Hidden&&g.current){if(w&&j!=="visible"){N("visible");return}return Et(j,{hidden:()=>k(g),visible:()=>T(g)})}},[j,g,T,k,w,y]);let E=da({base:Ws(b.className),enter:Ws(c),enterFrom:Ws(u),enterTo:Ws(d),entered:Ws(f),leave:Ws(m),leaveFrom:Ws(h),leaveTo:Ws(p)}),P=dQ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=su();v.useEffect(()=>{if(M&&j==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,j,M]);let R=C&&!S,$=S&&w&&C,B=!M||R?"idle":w?"enter":"leave",U=tQ(0),D=we(fe=>Et(fe,{enter:()=>{U.addFlag(Kt.Opening),P.current.beforeEnter()},leave:()=>{U.addFlag(Kt.Closing),P.current.beforeLeave()},idle:()=>{}})),_=we(fe=>Et(fe,{enter:()=>{U.removeFlag(Kt.Opening),P.current.afterEnter()},leave:()=>{U.removeFlag(Kt.Closing),P.current.afterLeave()},idle:()=>{}})),F=C3(()=>{N("hidden"),k(g)},A),H=v.useRef(!1);sQ({immediate:$,container:g,classes:E,direction:B,onStart:da(fe=>{H.current=!0,F.onStart(g,fe,D)}),onStop:da(fe=>{H.current=!1,F.onStop(g,fe,_),fe==="leave"&&!l0(F)&&(N("hidden"),k(g))})});let W=b,ee={ref:x};return $?W={...W,className:mx(b.className,...E.current.enter,...E.current.enterFrom)}:H.current&&(W.className=mx(b.className,(n=g.current)==null?void 0:n.className),W.className===""&&delete W.className),V.createElement(i0.Provider,{value:F},V.createElement(ST,{value:Et(j,{visible:Kt.Open,hidden:Kt.Closed})|U.flags},Gt({ourProps:ee,theirProps:W,defaultTag:fQ,features:N3,visible:j==="visible",name:"Transition.Child"})))}function hQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=v.useRef(null),l=rr(i,e);su();let c=km();if(r===void 0&&c!==null&&(r=(c&Kt.Open)===Kt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=v.useState(r?"visible":"hidden"),f=C3(()=>{d("hidden")}),[m,h]=v.useState(!0),p=v.useRef([r]);mt(()=>{m!==!1&&p.current[p.current.length-1]!==r&&(p.current.push(r),h(!1))},[p,r]);let b=v.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);v.useEffect(()=>{if(r)d("visible");else if(!l0(f))d("hidden");else{let w=i.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[r,f]);let g={unmount:a},x=we(()=>{var w;m&&h(!1),(w=t.beforeEnter)==null||w.call(t)}),y=we(()=>{var w;m&&h(!1),(w=t.beforeLeave)==null||w.call(t)});return V.createElement(i0.Provider,{value:f},V.createElement(o0.Provider,{value:b},Gt({ourProps:{...g,as:v.Fragment,children:V.createElement(S3,{ref:l,...g,...s,beforeEnter:x,beforeLeave:y})},theirProps:{},defaultTag:v.Fragment,features:N3,visible:u==="visible",name:"Transition"})))}function pQ(t,e){let r=v.useContext(o0)!==null,n=km()!==null;return V.createElement(V.Fragment,null,!r&&n?V.createElement(AS,{ref:e,...t}):V.createElement(S3,{ref:e,...t}))}let AS=Lt(hQ),S3=Lt(mQ),gQ=Lt(pQ),Sp=Object.assign(AS,{Child:gQ,Root:AS});function yQ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=se(),{user:n}=q(d=>d.auth),[a,s]=v.useState(!1),i=v.useRef(null),l=Sm();v.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(MB())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(JB,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(UK,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(wl,{as:"div",className:"relative",children:[o.jsxs(wl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(Sp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(wl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(wl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(gJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(wl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(lJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(wl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(FK,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(bQ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(xQ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function bQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function xQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function vQ(){const t=Sm(),e=Vo(),r=localStorage.getItem("token"),[n,a]=v.useState(!0);v.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),v.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(vJ,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yQ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(SB,{})})})]})]})}const jQ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(SB,{})})});function wQ(){const[t,e]=v.useState(""),[r,n]=v.useState(""),a=se(),{isLoading:s,error:i}=q(c=>c.auth),l=c=>{c.preventDefault(),a(wp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700",children:"Username"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:c=>e(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"admin"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"*********"})})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(tJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const CQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),NQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),SQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Om(t){return t+.5|0}const oo=(t,e,r)=>Math.max(Math.min(t,r),e);function od(t){return oo(Om(t*2.55),0,255)}function jo(t){return oo(Om(t*255),0,255)}function ts(t){return oo(Om(t/2.55)/100,0,1)}function TP(t){return oo(Om(t*100),0,100)}const _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kS=[..."0123456789ABCDEF"],AQ=t=>kS[t&15],kQ=t=>kS[(t&240)>>4]+kS[t&15],Ch=t=>(t&240)>>4===(t&15),IQ=t=>Ch(t.r)&&Ch(t.g)&&Ch(t.b)&&Ch(t.a);function TQ(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&_n[t[1]]*17,g:255&_n[t[2]]*17,b:255&_n[t[3]]*17,a:e===5?_n[t[4]]*17:255}:(e===7||e===9)&&(r={r:_n[t[1]]<<4|_n[t[2]],g:_n[t[3]]<<4|_n[t[4]],b:_n[t[5]]<<4|_n[t[6]],a:e===9?_n[t[7]]<<4|_n[t[8]]:255})),r}const EQ=(t,e)=>t<255?e(t):"";function OQ(t){var e=IQ(t)?AQ:kQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+EQ(t.a,e):void 0}const PQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A3(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function DQ(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function _Q(t,e,r){const n=A3(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function $Q(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function OT(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=$Q(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function PT(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(jo)}function DT(t,e,r){return PT(A3,t,e,r)}function RQ(t,e,r){return PT(_Q,t,e,r)}function MQ(t,e,r){return PT(DQ,t,e,r)}function k3(t){return(t%360+360)%360}function LQ(t){const e=PQ.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?od(+e[5]):jo(+e[5]));const a=k3(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=RQ(a,s,i):e[1]==="hsv"?n=MQ(a,s,i):n=DT(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function FQ(t,e){var r=OT(t);r[0]=k3(r[0]+e),r=DT(r),t.r=r[0],t.g=r[1],t.b=r[2]}function BQ(t){if(!t)return;const e=OT(t),r=e[0],n=TP(e[1]),a=TP(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ts(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const EP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},OP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qQ(){const t={},e=Object.keys(OP),r=Object.keys(EP);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,EP[s]);s=parseInt(OP[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Nh;function VQ(t){Nh||(Nh=qQ(),Nh.transparent=[0,0,0,0]);const e=Nh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zQ(t){const e=UQ.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?od(i):oo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?od(n):oo(n,0,255)),a=255&(e[4]?od(a):oo(a,0,255)),s=255&(e[6]?od(s):oo(s,0,255)),{r:n,g:a,b:s,a:r}}}function WQ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ts(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const CC=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Cl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function HQ(t,e,r){const n=Cl(ts(t.r)),a=Cl(ts(t.g)),s=Cl(ts(t.b));return{r:jo(CC(n+r*(Cl(ts(e.r))-n))),g:jo(CC(a+r*(Cl(ts(e.g))-a))),b:jo(CC(s+r*(Cl(ts(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Sh(t,e,r){if(t){let n=OT(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=DT(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function I3(t,e){return t&&Object.assign(e||{},t)}function PP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jo(t[3]))):(e=I3(t,{r:0,g:0,b:0,a:1}),e.a=jo(e.a)),e}function GQ(t){return t.charAt(0)==="r"?zQ(t):LQ(t)}let T3=class IS{constructor(e){if(e instanceof IS)return e;const r=typeof e;let n;r==="object"?n=PP(e):r==="string"&&(n=TQ(e)||VQ(e)||GQ(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=I3(this._rgb);return e&&(e.a=ts(e.a)),e}set rgb(e){this._rgb=PP(e)}rgbString(){return this._valid?WQ(this._rgb):void 0}hexString(){return this._valid?OQ(this._rgb):void 0}hslString(){return this._valid?BQ(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=HQ(this._rgb,e._rgb,r)),this}clone(){return new IS(this.rgb)}alpha(e){return this._rgb.a=jo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Om(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Sh(this._rgb,2,e),this}darken(e){return Sh(this._rgb,2,-e),this}saturate(e){return Sh(this._rgb,1,e),this}desaturate(e){return Sh(this._rgb,1,-e),this}rotate(e){return FQ(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ha(){}const YQ=(()=>{let t=0;return()=>t++})();function We(t){return t==null}function Tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function cn(t,e){return zt(t)?t:e}function qe(t,e){return typeof t>"u"?e:t}const KQ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,E3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ot(t,e,r,n){let a,s,i;if(Tt(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ge(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function gx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function yx(t){if(Tt(t))return t.map(yx);if(Ge(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=yx(t[r[a]]);return e}return t}function O3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function JQ(t,e,r,n){if(!O3(t))return;const a=e[t],s=r[t];Ge(a)&&Ge(s)?Nf(a,s,n):e[t]=yx(s)}function Nf(t,e,r){const n=Tt(e)?e:[e],a=n.length;if(!Ge(t))return t;r=r||{};const s=r.merger||JQ;let i;for(let l=0;l<a;++l){if(i=n[l],!Ge(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Id(t,e){return Nf(t,e,{merger:XQ})}function XQ(t,e,r){if(!O3(t))return;const n=e[t],a=r[t];Ge(n)&&Ge(a)?Id(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yx(a))}const DP={"":t=>t,x:t=>t.x,y:t=>t.y};function ZQ(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function QQ(t){const e=ZQ(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function _o(t,e){return(DP[e]||(DP[e]=QQ(e)))(t)}function _T(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Sf=t=>typeof t<"u",$o=t=>typeof t=="function",_P=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function eee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const kt=Math.PI,At=2*kt,tee=At+kt,bx=Number.POSITIVE_INFINITY,ree=kt/180,Jt=kt/2,ti=kt/4,$P=kt*2/3,io=Math.log10,Da=Math.sign;function Td(t,e,r){return Math.abs(t-e)<r}function RP(t){const e=Math.round(t);t=Td(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(io(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function nee(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function aee(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sc(t){return!aee(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function see(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function P3(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ia(t){return t*(kt/180)}function $T(t){return t*(180/kt)}function MP(t){if(!zt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function D3(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*kt&&(s+=At),{angle:s,distance:a}}function TS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oee(t,e){return(t-e+tee)%At-kt}function fn(t){return(t%At+At)%At}function Af(t,e,r,n){const a=fn(t),s=fn(e),i=fn(r),l=fn(s-a),c=fn(i-a),u=fn(a-s),d=fn(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function mr(t,e,r){return Math.max(e,Math.min(r,t))}function iee(t){return mr(t,-32768,32767)}function os(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function RT(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const is=(t,e,r,n)=>RT(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),lee=(t,e,r)=>RT(t,r,n=>t[n][e]>=r);function cee(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const _3=["push","pop","shift","splice","unshift"];function uee(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_3.forEach(r=>{const n="_onData"+_T(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function LP(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(_3.forEach(s=>{delete t[s]}),delete t._chartjs)}function $3(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const R3=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function M3(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,R3.call(window,()=>{n=!1,t.apply(e,r)}))}}function dee(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const MT=t=>t==="start"?"left":t==="end"?"right":"center",Or=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,fee=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function L3(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:p}=i.getUserBounds();if(h){if(a=Math.min(is(c,d,f).lo,r?n:is(e,d,i.getPixelForValue(f)).lo),u){const b=c.slice(0,a+1).reverse().findIndex(g=>!We(g[l.axis]));a-=Math.max(0,b)}a=mr(a,0,n-1)}if(p){let b=Math.max(is(c,i.axis,m,!0).hi+1,r?0:is(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const g=c.slice(b-1).findIndex(x=>!We(x[l.axis]));b+=Math.max(0,g)}s=mr(b,a,n)-a}else s=n-a}return{start:a,count:s}}function F3(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Ah=t=>t===0||t===1,FP=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*At/r)),BP=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*At/r)+1,Ed={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Jt)+1,easeOutSine:t=>Math.sin(t*Jt),easeInOutSine:t=>-.5*(Math.cos(kt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ah(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ah(t)?t:FP(t,.075,.3),easeOutElastic:t=>Ah(t)?t:BP(t,.075,.3),easeInOutElastic(t){return Ah(t)?t:t<.5?.5*FP(t*2,.1125,.45):.5+.5*BP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ed.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ed.easeInBounce(t*2)*.5:Ed.easeOutBounce(t*2-1)*.5+.5};function LT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qP(t){return LT(t)?t:new T3(t)}function NC(t){return LT(t)?t:new T3(t).saturate(.5).darken(.1).hexString()}const mee=["x","y","borderWidth","radius","tension"],hee=["color","borderColor","backgroundColor"];function pee(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:hee},numbers:{type:"number",properties:mee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gee(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const VP=new Map;function yee(t,e){e=e||{};const r=t+JSON.stringify(e);let n=VP.get(r);return n||(n=new Intl.NumberFormat(t,e),VP.set(r,n)),n}function Pm(t,e,r){return yee(e,r).format(t)}const B3={values(t){return Tt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=bee(t,r)}const i=io(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Pm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(io(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?B3.numeric.call(this,t,e,r):""}};function bee(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var c0={formatters:B3};function xee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:c0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ki=Object.create(null),ES=Object.create(null);function Od(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function SC(t,e,r){return typeof e=="string"?Nf(Od(t,e),r):Nf(Od(t,""),e)}class vee{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>NC(a.backgroundColor),this.hoverBorderColor=(n,a)=>NC(a.borderColor),this.hoverColor=(n,a)=>NC(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return SC(this,e,r)}get(e){return Od(this,e)}describe(e,r){return SC(ES,e,r)}override(e,r){return SC(Ki,e,r)}route(e,r,n,a){const s=Od(this,e),i=Od(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ge(c)?Object.assign({},u,c):qe(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Ot=new vee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pee,gee,xee]);function jee(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function wee(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Tt(f))i=xx(t,a,s,i,f);else if(Tt(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Tt(m)&&(i=xx(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function ri(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function UP(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function OS(t,e,r,n){q3(t,e,r,n,null)}function q3(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,p=e.rotation,b=e.radius;let g=(p||0)*ree;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(g),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,b,0,0,At):t.arc(r,n,b,0,At),t.closePath();break;case"triangle":d=a?a/2:b,t.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=$P,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=$P,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,i=Math.cos(g+ti)*c,f=Math.cos(g+ti)*(a?a/2-u:c),l=Math.sin(g+ti)*c,m=Math.sin(g+ti)*(a?a/2-u:c),t.arc(r-f,n-l,u,g-kt,g-Jt),t.arc(r+m,n-i,u,g-Jt,g),t.arc(r+f,n+l,u,g,g+Jt),t.arc(r-m,n+i,u,g+Jt,g+kt),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*b,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}g+=ti;case"rectRot":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":g+=ti;case"cross":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),g+=ti,f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(g)*b,l=Math.sin(g)*b,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(a?a/2:b),n+Math.sin(g)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ls(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function u0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function d0(t){t.restore()}function Cee(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Nee(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function See(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Aee(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function kee(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Ji(t,e,r,n,a,s={}){const i=Tt(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,See(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&kee(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),Aee(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function kf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*kt,kt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,kt,Jt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Jt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Jt,!0),t.lineTo(r+i.topLeft,n)}const Iee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Tee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Eee(t,e){const r=(""+t).match(Iee);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Oee=t=>+t||0;function FT(t,e){const r={},n=Ge(e),a=n?Object.keys(e):e,s=Ge(t)?n?i=>qe(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Oee(s(i));return r}function V3(t){return FT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pi(t){return FT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rr(t){const e=V3(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function or(t,e){t=t||{},e=e||Ot.font;let r=qe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=qe(t.style,e.style);n&&!(""+n).match(Tee)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:qe(t.family,e.family),lineHeight:Eee(qe(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:qe(t.weight,e.weight),string:""};return a.string=jee(a),a}function id(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Pee(t,e,r){const{min:n,max:a}=t,s=E3(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Wo(t,e){return Object.assign(Object.create(t),e)}function BT(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=H3("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>BT([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return z3(l,c,()=>Bee(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return WP(l).includes(c)},ownKeys(l){return WP(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Ac(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:U3(t,n),setContext:s=>Ac(t,s,r,n),override:s=>Ac(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return z3(s,i,()=>_ee(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function U3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:$o(r)?r:()=>r,isIndexable:$o(n)?n:()=>n}}const Dee=(t,e)=>t?t+_T(e):e,qT=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function z3(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function _ee(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return $o(l)&&i.isScriptable(e)&&(l=$ee(e,l,t,r)),Tt(l)&&l.length&&(l=Ree(e,l,t,i.isIndexable)),qT(e,l)&&(l=Ac(l,a,s&&s[e],i)),l}function $ee(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),qT(t,c)&&(c=VT(a._scopes,a,t,c)),c}function Ree(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ge(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=VT(u,a,t,d);e.push(Ac(f,s,i&&i[t],l))}}return e}function W3(t,e,r){return $o(t)?t(e,r):t}const Mee=(t,e)=>t===!0?e:typeof t=="string"?_o(e,t):void 0;function Lee(t,e,r,n,a){for(const s of e){const i=Mee(r,s);if(i){t.add(i);const l=W3(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function VT(t,e,r,n){const a=e._rootScopes,s=W3(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=zP(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=zP(l,i,s,c,n),c===null)?!1:BT(Array.from(l),[""],a,s,()=>Fee(e,r,n))}function zP(t,e,r,n,a){for(;r;)r=Lee(t,e,r,n,a);return r}function Fee(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Tt(a)&&Ge(r)?r:a||{}}function Bee(t,e,r,n){let a;for(const s of e)if(a=H3(Dee(s,t),r),typeof a<"u")return qT(t,a)?VT(r,n,t,a):a}function H3(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function WP(t){let e=t._keys;return e||(e=t._keys=qee(t._scopes)),e}function qee(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function G3(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(_o(d,s),u)};return i}const Vee=Number.EPSILON||1e-14,kc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Y3=t=>t==="x"?"y":"x";function Uee(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=TS(s,a),c=TS(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function zee(t,e,r){const n=t.length;let a,s,i,l,c,u=kc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=kc(t,d+1),!(!c||!u)){if(Td(e[d],0,Vee)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function Wee(t,e,r="x"){const n=Y3(r),a=t.length;let s,i,l,c=kc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=kc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Hee(t,e="x"){const r=Y3(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=kc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=kc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Da(a[i-1])!==Da(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}zee(t,a,s),Wee(t,s,e)}function kh(t,e,r){return Math.max(Math.min(t,r),e)}function Gee(t,e){let r,n,a,s,i,l=ls(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&ls(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=kh(a.cp1x,e.left,e.right),a.cp1y=kh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=kh(a.cp2x,e.left,e.right),a.cp2y=kh(a.cp2y,e.top,e.bottom)))}function Yee(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Hee(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Uee(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Gee(t,r)}function UT(){return typeof window<"u"&&typeof document<"u"}function zT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const f0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Kee(t,e){return f0(t).getPropertyValue(e)}const Jee=["top","right","bottom","left"];function Di(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Jee[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Xee=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Zee(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(Xee(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function fi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=f0(r),s=a.boxSizing==="border-box",i=Di(a,"padding"),l=Di(a,"border","width"),{x:c,y:u,box:d}=Zee(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:p}=e;return s&&(h-=i.width+l.width,p-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/p*r.height/n)}}function Qee(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&zT(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=f0(s),c=Di(l,"border","width"),u=Di(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=vx(l.maxWidth,s,"clientWidth"),a=vx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||bx,maxHeight:a||bx}}const Ih=t=>Math.round(t*10)/10;function ete(t,e,r,n){const a=f0(t),s=Di(a,"margin"),i=vx(a.maxWidth,t,"clientWidth")||bx,l=vx(a.maxHeight,t,"clientHeight")||bx,c=Qee(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Di(a,"border","width"),h=Di(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Ih(Math.min(u,i,c.maxWidth)),d=Ih(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ih(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Ih(Math.floor(d*n))),{width:u,height:d}}function HP(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const tte=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};UT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function GP(t,e){const r=Kee(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function mi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function rte(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function nte(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=mi(t,a,r),l=mi(a,s,r),c=mi(s,e,r),u=mi(i,l,r),d=mi(l,c,r);return mi(u,d,r)}const ate=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},ste=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tc(t,e,r){return t?ate(e,r):ste()}function K3(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function J3(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function X3(t){return t==="angle"?{between:Af,compare:oee,normalize:fn}:{between:os,compare:(e,r)=>e-r,normalize:e=>e}}function YP({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function ote(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=X3(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function Z3(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=X3(n),{start:d,end:f,loop:m,style:h}=ote(t,e,r),p=[];let b=!1,g=null,x,y,w;const S=()=>c(a,w,x)&&l(a,w)!==0,C=()=>l(s,x)===0||c(s,w,x),j=()=>b||S(),N=()=>!b||C();for(let A=d,T=d;A<=f;++A)y=e[A%i],!y.skip&&(x=u(y[n]),x!==w&&(b=c(x,a,s),g===null&&j()&&(g=l(x,a)===0?A:T),g!==null&&N()&&(p.push(YP({start:g,end:A,loop:m,count:i,style:h})),g=null),T=A,w=x));return g!==null&&p.push(YP({start:g,end:f,loop:m,count:i,style:h})),p}function Q3(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=Z3(n[a],t.points,e);s.length&&r.push(...s)}return r}function ite(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function lte(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function cte(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=ite(r,a,s,n);if(n===!0)return KP(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return KP(t,lte(r,i,c,u),r,e)}function KP(t,e,r,n){return!n||!n.setContext||!r?e:ute(t,e,r,n)}function ute(t,e,r,n){const a=t._chart.getContext(),s=JP(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(p,b,g,x){const y=l?-1:1;if(p!==b){for(p+=c;r[p%c].skip;)p-=y;for(;r[b%c].skip;)b+=y;p%c!==b%c&&(u.push({start:p%c,end:b%c,loop:g,style:x}),d=x,f=b%c)}}for(const p of e){f=l?f:p.start;let b=r[f%c],g;for(m=f+1;m<=p.end;m++){const x=r[m%c];g=JP(n.setContext(Wo(a,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),dte(g,d)&&h(f,m-1,p.loop,d),b=x,d=g}f<m-1&&h(f,m-1,p.loop,d)}return u}function JP(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dte(t,e){if(!e)return!1;const r=[],n=function(a,s){return LT(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Th(t,e,r){return t.options.clip?t[r]:e[r]}function fte(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Th(r,e,"left"),right:Th(r,e,"right"),top:Th(n,e,"top"),bottom:Th(n,e,"bottom")}:e}function eq(t,e){const r=e._clip;if(r.disabled)return!1;const n=fte(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=R3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ka=new mte;const XP="transparent",hte={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=qP(t||XP),a=n.valid&&qP(e||XP);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class pte{constructor(e,r,n,a){const s=r[n];a=id([e.to,a,s,e.from]);const i=id([e.from,s,a]);this._active=!0,this._fn=e.fn||hte[e.type||typeof i],this._easing=Ed[e.easing]||Ed.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=id([e.to,r,a,e.from]),this._from=id([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class tq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ge(e))return;const r=Object.keys(Ot.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ge(s))return;const i={};for(const l of r)i[l]=s[l];(Tt(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=yte(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&gte(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new pte(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ka.add(this._chart,n),!0}}function gte(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function yte(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function ZP(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function bte(t,e,r){if(r===!1)return!1;const n=ZP(t,r),a=ZP(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function xte(t){let e,r,n,a;return Ge(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function rq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function QP(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],zt(u)&&(s||e===0||Da(e)===Da(u))&&(e+=u)}return!d&&!n.all?0:e}function vte(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function AC(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function jte(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function wte(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Cte(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function eD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function tD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=jte(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const p=e[h],{[c]:b,[u]:g}=p,x=p._stacks||(p._stacks={});m=x[u]=Cte(a,d,b),m[l]=g,m._top=eD(m,i,!0,n.type),m._bottom=eD(m,i,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=g}}function kC(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Nte(t,e){return Wo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ste(t,e,r){return Wo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Du(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const IC=t=>t==="reset"||t==="none",rD=(t,e)=>e?t:Object.assign({},t),Ate=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:rq(r,!0),values:null};class fa{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=AC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Du(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,p)=>f==="x"?m:f==="r"?p:h,s=r.xAxisID=qe(n.xAxisID,kC(e,"x")),i=r.yAxisID=qe(n.yAxisID,kC(e,"y")),l=r.rAxisID=qe(n.rAxisID,kC(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&LP(this._data,this),e._stacked&&Du(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ge(r)){const a=this._cachedMeta;this._data=vte(r,a)}else if(n!==r){if(n){LP(n,this);const a=this._cachedMeta;Du(a),a._parsed=[]}r&&Object.isExtensible(r)&&uee(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=AC(r.vScale,r),r.stack!==n.stack&&(a=!0,Du(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(tD(this,r._parsed),r._stacked=AC(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Tt(a[e])?m=this.parseArrayData(n,a,e,r):Ge(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&tD(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,p;for(m=0,h=a;m<h;++m)p=m+n,f[m]={[l]:d||s.parse(u[p],p),[c]:i.parse(r[p],p)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(_o(h,l),m),y:i.parse(_o(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:rq(a,!0),values:r._stacks[e.axis]._visualValues};return QP(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=QP(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=Ate(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=wte(l);let m,h;function p(){h=a[m];const b=h[l.axis];return!zt(h[e.axis])||d>b||f<b}for(m=0;m<i&&!(!p()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!p()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],zt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=xte(qe(this.options.clip,bte(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=Ste(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Nte(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Sf(n);if(l)return rD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Ot.elements[e]),p=()=>this.getContext(n,a,r),b=u.resolveNamedOptions(m,h,p,f);return b.$shared&&(b.$shared=c,s[i]=Object.freeze(rD(b,c))),b}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new tq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||IC(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){IC(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!IC(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Du(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(fa,"defaults",{}),he(fa,"datasetElementType",null),he(fa,"dataElementType",null);function kte(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=$3(n.sort((a,s)=>a-s))}return t._cache.$bar}function Ite(t){const e=t.iScale,r=kte(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Sf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function Tte(t,e,r,n){const a=r.barThickness;let s,i;return We(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Ete(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Ote(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function nq(t,e,r,n){return Tt(t)?Ote(t,e,r,n):e[r.axis]=r.parse(t,n),e}function nD(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(nq(m,f,s,u));return c}function TC(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Pte(t,e,r){return t!==0?Da(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Dte(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function _te(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Dte(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[aD(d,i,l,c)]=!0,a=u)),s[aD(a,i,l,c)]=!0,t.borderSkipped=s}function aD(t,e,r,n){return n?(t=$te(t,e,r),t=sD(t,r,e)):t=sD(t,e,r),t}function $te(t,e,r){return t===e?r:t===r?e:t}function sD(t,e,r){return t==="start"?e:t==="end"?r:t}function Rte(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Ap extends fa{parsePrimitiveData(e,r,n,a){return nD(e,r,n,a)}parseArrayData(e,r,n,a){return nD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,p,b;for(m=n,h=n+a;m<h;++m)b=r[m],p={},p[s.axis]=s.parse(_o(b,u),m),f.push(nq(_o(b,d),p,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=TC(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const p=this.getParsed(h),b=s||We(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),g=this._calculateBarIndexPixels(h,d),x=(p._stacks||{})[l.axis],y={horizontal:u,base:b.base,enableBorderRadius:!x||TC(p._custom)||i===x._top||i===x._bottom,x:u?b.head:g.center,y:u?g.center:b.head,height:u?g.size:Math.abs(b.size),width:u?Math.abs(b.size):g.size};m&&(y.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const w=y.options||e[h].options;_te(y,w,x,i),Rte(y,w,d.ratio),this.updateElement(e[h],h,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(We(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Ite(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=TC(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,p,b;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&Da(f)!==Da(u.barEnd)&&(m=0),m+=f);const g=!We(s)&&!d?s:m;let x=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(m+h):p=x,b=p-x,Math.abs(b)<i){b=Pte(b,r,l)*i,f===l&&(x-=b/2);const y=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),S=Math.min(y,w),C=Math.max(y,w);x=Math.max(Math.min(x,C),S),p=x+b,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(p)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const y=Da(b)*r.getLineWidthForValue(l)/2;x+=y,b-=y}return{size:b,base:x,head:p,center:p+b/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=qe(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?Ete(e,r,a,u):Tte(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(i,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Ap,"id","bar"),he(Ap,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Ap,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class kp extends fa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=qe(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=qe(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],p=!s&&this.getParsed(m),b={},g=b[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(p[d]),x=b[f]=s?l.getBasePixel():l.getPixelForValue(p[f]);b.skip=isNaN(g)||isNaN(x),u&&(b.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(b.options.radius=0)),this.updateElement(h,m,b,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=qe(n&&n._custom,s),a}}he(kp,"id","bubble"),he(kp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(kp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Mte(t,e,r){let n=1,a=1,s=0,i=0;if(e<At){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(w,S,C)=>Af(w,l,c,!0)?1:Math.max(S,S*r,C,C*r),p=(w,S,C)=>Af(w,l,c,!0)?-1:Math.min(S,S*r,C,C*r),b=h(0,u,f),g=h(Jt,d,m),x=p(kt,u,f),y=p(kt+Jt,d,m);n=(b-x)/2,a=(g-y)/2,s=-(b+x)/2,i=-(g+y)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Ni extends fa{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ge(n[e])){const{key:c="value"}=this._parsing;s=u=>+_o(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ia(this.options.rotation-90)}_getCircumference(){return ia(this.options.circumference)}_getRotationExtents(){let e=At,r=-At;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(KQ(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:p,offsetY:b}=Mte(f,d,c),g=(n.width-i)/m,x=(n.height-i)/h,y=Math.max(Math.min(g,x)/2,0),w=E3(this.options.radius,y),S=Math.max(w*c,0),C=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=b*w,a.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/At)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,p=m?0:this.outerRadius,{sharedOptions:b,includeOptions:g}=this._getSharedOptions(r,a);let x=this._getRotation(),y;for(y=0;y<r;++y)x+=this._circumference(y,s);for(y=r;y<r+n;++y){const w=this._circumference(y,s),S=e[y],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:p,innerRadius:h};g&&(C.options=b||this.resolveDataElementOptions(y,S.active?"active":a)),x+=w,this.updateElement(S,y,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?At*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Pm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(qe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Ni,"id","doughnut"),he(Ni,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Ni,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Ni,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Ip extends fa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=L3(r,a,i);this._drawStart=l,this._drawCount=c,F3(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:p,segment:b}=this.options,g=Sc(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",y=r+n,w=e.length;let S=r>0&&this.getParsed(r-1);for(let C=0;C<w;++C){const j=e[C],N=x?j:{};if(C<r||C>=y){N.skip=!0;continue}const A=this.getParsed(C),T=We(A[h]),k=N[m]=i.getPixelForValue(A[m],C),E=N[h]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[h],C);N.skip=isNaN(k)||isNaN(E)||T,N.stop=C>0&&Math.abs(A[m]-S[m])>g,b&&(N.parsed=A,N.raw=u.data[C]),f&&(N.options=d||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,N,a),S=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(Ip,"id","line"),he(Ip,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(Ip,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Pd extends fa{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Pm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return G3.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*kt;let h=m,p;const b=360/this.countVisibleElements();for(p=0;p<r;++p)h+=this._computeAngle(p,a,b);for(p=r;p<r+n;p++){const g=e[p];let x=h,y=h+this._computeAngle(p,a,b),w=i.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=y,s&&(c.animateScale&&(w=0),c.animateRotate&&(x=y=m));const S={x:d,y:f,innerRadius:0,outerRadius:w,startAngle:x,endAngle:y,options:this.resolveDataElementOptions(p,g.active?"active":a)};this.updateElement(g,p,S,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ia(this.resolveDataElementOptions(e,r).angle||n):0}}he(Pd,"id","polarArea"),he(Pd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Pd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PS extends Ni{}he(PS,"id","pie"),he(PS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Tp extends fa{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return G3.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}he(Tp,"id","radar"),he(Tp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(Tp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ep extends fa{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=L3(r,n,a);if(this._drawStart=s,this._drawCount=i,F3(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,p=l.axis,{spanGaps:b,segment:g}=this.options,x=Sc(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||a==="none";let w=r>0&&this.getParsed(r-1);for(let S=r;S<r+n;++S){const C=e[S],j=this.getParsed(S),N=y?C:{},A=We(j[p]),T=N[h]=i.getPixelForValue(j[h],S),k=N[p]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[p],S);N.skip=isNaN(T)||isNaN(k)||A,N.stop=S>0&&Math.abs(j[h]-w[h])>x,g&&(N.parsed=j,N.raw=u.data[S]),m&&(N.options=f||this.resolveDataElementOptions(S,C.active?"active":a)),y||this.updateElement(C,S,N,a),w=j}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Ep,"id","scatter"),he(Ep,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Ep,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Lte=Object.freeze({__proto__:null,BarController:Ap,BubbleController:kp,DoughnutController:Ni,LineController:Ip,PieController:PS,PolarAreaController:Pd,RadarController:Tp,ScatterController:Ep});function ni(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class WT{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(WT.prototype,e)}init(){}formats(){return ni()}parse(){return ni()}format(){return ni()}add(){return ni()}diff(){return ni()}startOf(){return ni()}endOf(){return ni()}}var Fte={_date:WT};function Bte(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?lee:is;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(b=>!We(b[f.axis]));d.lo-=Math.max(0,h);const p=m.slice(d.hi).findIndex(b=>!We(b[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:s.length-1}}function m0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Bte(s[l],e,i,a);for(let h=f;h<=m;++h){const p=d[h];p.skip||n(p,u,h)}}}function qte(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function EC(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||m0(t,r,e,function(l,c,u){!a&&!ls(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function Vte(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=D3(i,{x:e.x,y:e.y});Af(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return m0(t,r,e,s),a}function Ute(t,e,r,n,a,s){let i=[];const l=qte(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const p=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(p))&&!h)return;const g=l(e,p);g<c?(i=[{element:d,datasetIndex:f,index:m}],c=g):g===c&&i.push({element:d,datasetIndex:f,index:m})}return m0(t,r,e,u),i}function OC(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?Vte(t,e,r,a):Ute(t,e,r,n,a,s)}function oD(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return m0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var zte={modes:{index(t,e,r,n){const a=fi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?EC(t,a,s,n,i):OC(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=fi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?EC(t,a,s,n,i):OC(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=fi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return EC(t,a,s,n,i)},nearest(t,e,r,n){const a=fi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return OC(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=fi(e,t);return oD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=fi(e,t);return oD(t,a,"y",r.intersect,n)}}};const aq=["left","top","right","bottom"];function _u(t,e){return t.filter(r=>r.pos===e)}function iD(t,e){return t.filter(r=>aq.indexOf(r.pos)===-1&&r.box.axis===e)}function $u(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Wte(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Hte(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!aq.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Gte(t,e){const r=Hte(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function Yte(t){const e=Wte(t),r=$u(e.filter(u=>u.box.fullSize),!0),n=$u(_u(e,"left"),!0),a=$u(_u(e,"right")),s=$u(_u(e,"top"),!0),i=$u(_u(e,"bottom")),l=iD(e,"x"),c=iD(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:_u(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function lD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function sq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Kte(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ge(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&sq(i,s.getPadding());const l=Math.max(0,e.outerWidth-lD(i,t,"left","right")),c=Math.max(0,e.outerHeight-lD(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Jte(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Xte(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function ld(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Xte(l.horizontal,e));const{same:f,other:m}=Kte(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&ld(a,e,r,n)||d}function Eh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function cD(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Sf(u.start)&&(i=u.start),c.fullSize?Eh(c,a.left,i,r.outerWidth-a.right-a.left,m):Eh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Sf(u.start)&&(s=u.start),c.fullSize?Eh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Eh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var _r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Rr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=Yte(t.boxes),c=l.vertical,u=l.horizontal;ot(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,g)=>g.box.options&&g.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);sq(m,Rr(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),p=Gte(c.concat(u),f);ld(l.fullSize,h,f,p),ld(c,h,f,p),ld(u,h,f,p)&&ld(c,h,f,p),Jte(h),cD(l.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,cD(l.rightAndBottom,h,f,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ot(l.chartArea,b=>{const g=b.box;Object.assign(g,t.chartArea),g.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class oq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Zte extends oq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Op="$chartjs",Qte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uD=t=>t===null||t==="";function ere(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Op]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",uD(a)){const s=GP(t,"width");s!==void 0&&(t.width=s)}if(uD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=GP(t,"height");s!==void 0&&(t.height=s)}return t}const iq=tte?{passive:!0}:!1;function tre(t,e,r){t&&t.addEventListener(e,r,iq)}function rre(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,iq)}function nre(t,e){const r=Qte[t.type]||t.type,{x:n,y:a}=fi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function jx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function are(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||jx(l.addedNodes,n),i=i&&!jx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function sre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||jx(l.removedNodes,n),i=i&&!jx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const If=new Map;let dD=0;function lq(){const t=window.devicePixelRatio;t!==dD&&(dD=t,If.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function ore(t,e){If.size||window.addEventListener("resize",lq),If.set(t,e)}function ire(t){If.delete(t),If.size||window.removeEventListener("resize",lq)}function lre(t,e,r){const n=t.canvas,a=n&&zT(n);if(!a)return;const s=M3((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),ore(t,s),i}function PC(t,e,r){r&&r.disconnect(),e==="resize"&&ire(t)}function cre(t,e,r){const n=t.canvas,a=M3(s=>{t.ctx!==null&&r(nre(s,t))},t);return tre(n,e,a),a}class ure extends oq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(ere(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Op])return!1;const n=r[Op].initial;["height","width"].forEach(s=>{const i=n[s];We(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Op],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:are,detach:sre,resize:lre}[r]||cre;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:PC,detach:PC,resize:PC}[r]||rre)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return ete(e,r,n,a)}isAttached(e){const r=e&&zT(e);return!!(r&&r.isConnected)}}function dre(t){return!UT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Zte:ure}var cp;let $s=(cp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Sc(this.x)&&Sc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(cp,"defaults",{}),he(cp,"defaultRoutes"),cp);function fre(t,e){const r=t.options.ticks,n=mre(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?pre(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return gre(e,u,s,i/a),u;const d=hre(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(Oh(e,u,d,We(h)?0:l-h,l),f=0,m=i-1;f<m;f++)Oh(e,u,d,s[f],s[f+1]);return Oh(e,u,d,c,We(h)?e.length:c+h),u}return Oh(e,u,d),u}function mre(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function hre(t,e,r){const n=yre(t),a=e.length/r;if(!n)return Math.max(a,1);const s=nee(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function pre(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function gre(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Oh(t,e,r,n,a){const s=qe(n,0),i=Math.min(qe(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function yre(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const bre=t=>t==="left"?"right":t==="right"?"left":t,fD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,mD=(t,e)=>Math.min(e||t,t);function hD(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function xre(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function vre(t,e){ot(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Ru(t){return t.drawTicks?t.tickLength:0}function pD(t,e){if(!t.display)return 0;const r=or(t.font,e),n=Rr(t.padding);return(Tt(t.text)?t.text.length:1)*r.lineHeight+n.height}function jre(t,e){return Wo(t,{scale:e,type:"scale"})}function wre(t,e,r){return Wo(t,{tick:r,index:e,type:"tick"})}function Cre(t,e,r){let n=MT(t);return(r&&e!=="right"||!r&&e==="right")&&(n=bre(n)),n}function Nre(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,p;const b=i-a,g=l-s;if(t.isHorizontal()){if(h=Or(n,s,l),Ge(r)){const x=Object.keys(r)[0],y=r[x];p=d[x].getPixelForValue(y)+b-e}else r==="center"?p=(u.bottom+u.top)/2+b-e:p=fD(t,r,e);m=l-s}else{if(Ge(r)){const x=Object.keys(r)[0],y=r[x];h=d[x].getPixelForValue(y)-g+e}else r==="center"?h=(u.left+u.right)/2-g+e:h=fD(t,r,e);p=Or(n,i,a),f=r==="left"?-Jt:Jt}return{titleX:h,titleY:p,maxWidth:m,rotation:f}}class cl extends $s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=cn(e,Number.POSITIVE_INFINITY),r=cn(r,Number.NEGATIVE_INFINITY),n=cn(n,Number.POSITIVE_INFINITY),a=cn(a,Number.NEGATIVE_INFINITY),{min:cn(e,n),max:cn(r,a),minDefined:zt(e),maxDefined:zt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:cn(r,cn(n,r)),max:cn(n,cn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pee(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?hD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=fre(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=yt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=mD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=mr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Ru(e.grid)-r.padding-pD(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=$T(Math.min(Math.asin(mr((d.highest.height+6)/l,-1,1)),Math.asin(mr(c/u,-1,1))-Math.asin(mr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=pD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Ru(s)+c):(e.height=this.maxHeight,e.width=Ru(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,p=ia(this.labelRotation),b=Math.cos(p),g=Math.sin(p);if(l){const x=n.mirror?0:g*f.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=n.mirror?0:b*f.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,d,g,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)We(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=hD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/mD(r,n));let u=0,d=0,f,m,h,p,b,g,x,y,w,S,C;for(f=0;f<r;f+=c){if(p=e[f].label,b=this._resolveTickFontOptions(f),a.font=g=b.string,x=s[g]=s[g]||{data:{},gc:[]},y=b.lineHeight,w=S=0,!We(p)&&!Tt(p))w=xx(a,x.data,x.gc,w,p),S=y;else if(Tt(p))for(m=0,h=p.length;m<h;++m)C=p[m],!We(C)&&!Tt(C)&&(w=xx(a,x.data,x.gc,w,C),S+=y);i.push(w),l.push(S),u=Math.max(w,u),d=Math.max(S,d)}vre(s,r);const j=i.indexOf(u),N=l.indexOf(d),A=T=>({width:i[T]||0,height:l[T]||0});return{first:A(0),last:A(r-1),widest:A(j),highest:A(N),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return iee(this._alignToPixels?ri(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=wre(this.getContext(),e,n))}return this.$context||(this.$context=jre(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ia(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Ru(s),h=[],p=l.setContext(this.getContext()),b=p.display?p.width:0,g=b/2,x=function(B){return ri(n,B,b)};let y,w,S,C,j,N,A,T,k,E,P,M;if(i==="top")y=x(this.bottom),N=this.bottom-m,T=y-g,E=x(e.top)+g,M=e.bottom;else if(i==="bottom")y=x(this.top),E=e.top,M=x(e.bottom)-g,N=y+g,T=this.top+m;else if(i==="left")y=x(this.right),j=this.right-m,A=y-g,k=x(e.left)+g,P=e.right;else if(i==="right")y=x(this.left),k=e.left,P=x(e.right)-g,j=y+g,A=this.left+m;else if(r==="x"){if(i==="center")y=x((e.top+e.bottom)/2+.5);else if(Ge(i)){const B=Object.keys(i)[0],U=i[B];y=x(this.chart.scales[B].getPixelForValue(U))}E=e.top,M=e.bottom,N=y+g,T=N+m}else if(r==="y"){if(i==="center")y=x((e.left+e.right)/2);else if(Ge(i)){const B=Object.keys(i)[0],U=i[B];y=x(this.chart.scales[B].getPixelForValue(U))}j=y-g,A=j-m,k=e.left,P=e.right}const R=qe(a.ticks.maxTicksLimit,f),$=Math.max(1,Math.ceil(f/R));for(w=0;w<f;w+=$){const B=this.getContext(w),U=s.setContext(B),D=l.setContext(B),_=U.lineWidth,F=U.color,H=D.dash||[],W=D.dashOffset,ee=U.tickWidth,fe=U.tickColor,ke=U.tickBorderDash||[],ne=U.tickBorderDashOffset;S=xre(this,w,c),S!==void 0&&(C=ri(n,S,_),u?j=A=k=P=C:N=T=E=M=C,h.push({tx1:j,ty1:N,tx2:A,ty2:T,x1:k,y1:E,x2:P,y2:M,width:_,color:F,borderDash:H,borderDashOffset:W,tickWidth:ee,tickColor:fe,tickBorderDash:ke,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=y,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Ru(n.grid),h=m+d,p=f?-d:h,b=-ia(this.labelRotation),g=[];let x,y,w,S,C,j,N,A,T,k,E,P,M="middle";if(a==="top")j=this.bottom-p,N=this._getXAxisLabelAlignment();else if(a==="bottom")j=this.top+p,N=this._getXAxisLabelAlignment();else if(a==="left"){const $=this._getYAxisLabelAlignment(m);N=$.textAlign,C=$.x}else if(a==="right"){const $=this._getYAxisLabelAlignment(m);N=$.textAlign,C=$.x}else if(r==="x"){if(a==="center")j=(e.top+e.bottom)/2+h;else if(Ge(a)){const $=Object.keys(a)[0],B=a[$];j=this.chart.scales[$].getPixelForValue(B)+h}N=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-h;else if(Ge(a)){const $=Object.keys(a)[0],B=a[$];C=this.chart.scales[$].getPixelForValue(B)}N=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const R=this._getLabelSizes();for(x=0,y=l.length;x<y;++x){w=l[x],S=w.label;const $=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,T=this._resolveTickFontOptions(x),k=T.lineHeight,E=Tt(S)?S.length:1;const B=E/2,U=$.color,D=$.textStrokeColor,_=$.textStrokeWidth;let F=N;i?(C=A,N==="inner"&&(x===y-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?u==="near"||b!==0?P=-E*k+k/2:u==="center"?P=-R.highest.height/2-B*k+k:P=-R.highest.height+k/2:u==="near"||b!==0?P=k/2:u==="center"?P=R.highest.height/2-B*k:P=R.highest.height-E*k,f&&(P*=-1),b!==0&&!$.showLabelBackdrop&&(C+=k/2*Math.sin(b))):(j=A,P=(1-E)*k/2);let H;if($.showLabelBackdrop){const W=Rr($.backdropPadding),ee=R.heights[x],fe=R.widths[x];let ke=P-W.top,ne=0-W.left;switch(M){case"middle":ke-=ee/2;break;case"bottom":ke-=ee;break}switch(N){case"center":ne-=fe/2;break;case"right":ne-=fe;break;case"inner":x===y-1?ne-=fe:x>0&&(ne-=fe/2);break}H={left:ne,top:ke,width:fe+W.width,height:ee+W.height,color:$.backdropColor}}g.push({label:S,font:T,textOffset:P,options:{rotation:b,color:U,strokeColor:D,strokeWidth:_,textAlign:F,textBaseline:M,translation:[C,j],backdrop:H}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ia(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=ri(e,this.left,i)-i/2,d=ri(e,this.right,l)+l/2,f=m=c):(f=ri(e,this.top,i)-i/2,m=ri(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&u0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;Ji(n,u,0,d,c,l)}a&&d0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=or(n.font),i=Rr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ge(r)?(c+=i.bottom,Tt(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Nre(this,c,r,l);Ji(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Cre(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=qe(e.grid&&e.grid.z,-1),a=qe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==cl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return or(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ph{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;kre(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,Sre(e,i,n),this.override&&Ot.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Ot[a]&&(delete Ot[a][n],this.override&&delete Ki[n])}}function Sre(t,e,r){const n=Nf(Object.create(null),[r?Ot.get(r):{},Ot.get(e),t.defaults]);Ot.set(e,n),t.defaultRoutes&&Are(e,t.defaultRoutes),t.descriptors&&Ot.describe(e,t.descriptors)}function Are(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Ot.route(s,a,c,l)})}function kre(t){return"id"in t&&"defaults"in t}class Ire{constructor(){this.controllers=new Ph(fa,"datasets",!0),this.elements=new Ph($s,"elements"),this.plugins=new Ph(Object,"plugins"),this.scales=new Ph(cl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):ot(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=_T(e);yt(n["before"+a],[],n),r[e](n),yt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Na=new Ire;class Tre{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(yt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=qe(n.options&&n.options.plugins,{}),s=Ere(n);return a===!1&&!r?[]:Pre(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Ere(t){const e={},r=[],n=Object.keys(Na.plugins.items);for(let s=0;s<n.length;s++)r.push(Na.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Ore(t,e){return!e&&t===!1?null:t===!0?{}:t}function Pre(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Ore(n[c],a);u!==null&&s.push({plugin:l,options:Dre(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Dre(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function DS(t,e){const r=Ot.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function _re(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function $re(t,e){return t===e?"_index_":"_value_"}function gD(t){if(t==="x"||t==="y"||t==="r")return t}function Rre(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function _S(t,...e){if(gD(t))return t;for(const r of e){const n=r.axis||Rre(r.position)||t.length>1&&gD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function yD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Mre(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return yD(t,"x",r[0])||yD(t,"y",r[0])}return{}}function Lre(t,e){const r=Ki[t.type]||{scales:{}},n=e.scales||{},a=DS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ge(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=_S(i,l,Mre(i,t),Ot.scales[l.type]),u=$re(c,a),d=r.scales||{};s[i]=Id(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||DS(l,e),d=(Ki[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=_re(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Id(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Id(l,[Ot.scales[l.type],Ot.scale])}),s}function cq(t){const e=t.options||(t.options={});e.plugins=qe(e.plugins,{}),e.scales=Lre(t,e)}function uq(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Fre(t){return t=t||{},t.data=uq(t.data),cq(t),t}const bD=new Map,dq=new Set;function Dh(t,e){let r=bD.get(t);return r||(r=e(),bD.set(t,r),dq.add(r)),r}const Mu=(t,e,r)=>{const n=_o(e,r);n!==void 0&&t.add(n)};class Bre{constructor(e){this._config=Fre(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Dh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Dh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Dh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Dh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Mu(c,e,f))),d.forEach(f=>Mu(c,a,f)),d.forEach(f=>Mu(c,Ki[s]||{},f)),d.forEach(f=>Mu(c,Ot,f)),d.forEach(f=>Mu(c,ES,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),dq.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Ki[r]||{},Ot.datasets[r]||{},{type:r},Ot,ES]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=xD(this._resolverCache,e,a);let c=i;if(Vre(i,r)){s.$shared=!1,n=$o(n)?n():n;const u=this.createResolver(e,n,l);c=Ac(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=xD(this._resolverCache,e,n);return Ge(r)?Ac(s,r,void 0,a):s}}function xD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:BT(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const qre=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>$o(t[e]));function Vre(t,e){const{isScriptable:r,isIndexable:n}=U3(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&($o(l)||qre(l))||i&&Tt(l))return!0}return!1}var Ure="4.4.9";const zre=["top","bottom","left","right","chartArea"];function vD(t,e){return t==="top"||t==="bottom"||zre.indexOf(t)===-1&&e==="x"}function jD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function wD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),yt(r&&r.onComplete,[t],e)}function Wre(t){const e=t.chart,r=e.options.animation;yt(r&&r.onProgress,[t],e)}function fq(t){return UT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pp={},CD=t=>{const e=fq(t);return Object.values(Pp).filter(r=>r.canvas===e).pop()};function Hre(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Gre(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Js{static register(...e){Na.add(...e),ND()}static unregister(...e){Na.remove(...e),ND()}constructor(e,r){const n=this.config=new Bre(r),a=fq(e),s=CD(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||dre(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=YQ(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Tre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dee(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Pp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ka.listen(this,"complete",wD),Ka.listen(this,"progress",Wre),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return We(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():HP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return UP(this.canvas,this.ctx),this}stop(){return Ka.stop(this),this}resize(e,r){Ka.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,HP(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),yt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ot(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=_S(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ot(s,i=>{const l=i.options,c=l.id,u=_S(c,l),d=qe(l.type,i.dtype);(l.position===void 0||vD(l.position,u)!==vD(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Na.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),ot(a,(i,l)=>{i||delete n[l]}),ot(n,i=>{_r.configure(this,i,i.options),_r.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(jD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||DS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Na.getController(l),{datasetElementType:u,dataElementType:d}=Ot.datasets[l];Object.assign(c,{dataElementType:Na.getElement(d),datasetElementType:u&&Na.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||ot(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ot(this.scales,e=>{_r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!_P(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Hre(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!_P(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ot(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,$o(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ka.has(this)?this.attached&&!Ka.running(this)&&Ka.start(this):(this.draw(),wD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=eq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&u0(r,a),e.controller.draw(),a&&d0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ls(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=zte.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Sf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ka.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),UP(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Pp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};ot(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ot(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ot(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!gx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=eee(e),u=Gre(e,this._lastEvent,n,c);n&&(this._lastEvent=null,yt(s.onHover,[e,l,this],this),c&&yt(s.onClick,[e,l,this],this));const d=!gx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Js,"defaults",Ot),he(Js,"instances",Pp),he(Js,"overrides",Ki),he(Js,"registry",Na),he(Js,"version",Ure),he(Js,"getChart",CD);function ND(){return ot(Js.instances,t=>t._plugins.invalidate())}function Yre(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Jt,n-Jt),t.closePath(),t.clip()}function Kre(t){return FT(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Jre(t,e,r,n){const a=Kre(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return mr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:mr(a.innerStart,0,i),innerEnd:mr(a.innerEnd,0,i)}}function Nl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function wx(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const p=a-c;if(n){const $=d>0?d-n:0,B=f>0?f-n:0,U=($+B)/2,D=U!==0?p*U/(U+n):p;h=(p-D)/2}const b=Math.max(.001,p*f-r/kt)/f,g=(p-b)/2,x=c+g+h,y=a-g-h,{outerStart:w,outerEnd:S,innerStart:C,innerEnd:j}=Jre(e,m,f,y-x),N=f-w,A=f-S,T=x+w/N,k=y-S/A,E=m+C,P=m+j,M=x+C/E,R=y-j/P;if(t.beginPath(),s){const $=(T+k)/2;if(t.arc(i,l,f,T,$),t.arc(i,l,f,$,k),S>0){const _=Nl(A,k,i,l);t.arc(_.x,_.y,S,k,y+Jt)}const B=Nl(P,y,i,l);if(t.lineTo(B.x,B.y),j>0){const _=Nl(P,R,i,l);t.arc(_.x,_.y,j,y+Jt,R+Math.PI)}const U=(y-j/m+(x+C/m))/2;if(t.arc(i,l,m,y-j/m,U,!0),t.arc(i,l,m,U,x+C/m,!0),C>0){const _=Nl(E,M,i,l);t.arc(_.x,_.y,C,M+Math.PI,x-Jt)}const D=Nl(N,x,i,l);if(t.lineTo(D.x,D.y),w>0){const _=Nl(N,T,i,l);t.arc(_.x,_.y,w,x-Jt,T)}}else{t.moveTo(i,l);const $=Math.cos(T)*f+i,B=Math.sin(T)*f+l;t.lineTo($,B);const U=Math.cos(k)*f+i,D=Math.sin(k)*f+l;t.lineTo(U,D)}t.closePath()}function Xre(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){wx(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%At||At))}return wx(t,e,r,n,c,a),t.fill(),c}function Zre(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(s){wx(t,e,r,n,p,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(p=i+(l%At||At))}h&&Yre(t,e,p),s||(wx(t,e,r,n,p,a),t.stroke())}class cd extends $s{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=D3(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,p=qe(m,u-c),b=Af(i,c,u)&&c!==u,g=p>=At||b,x=os(l,d+h,f+h);return g&&x}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>At?Math.floor(a/At):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(kt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Xre(r,this,d,i,l),Zre(r,this,d,i,l),r.restore()}}he(cd,"id","arc"),he(cd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),he(cd,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(cd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function mq(t,e,r=e){t.lineCap=qe(r.borderCapStyle,e.borderCapStyle),t.setLineDash(qe(r.borderDash,e.borderDash)),t.lineDashOffset=qe(r.borderDashOffset,e.borderDashOffset),t.lineJoin=qe(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=qe(r.borderWidth,e.borderWidth),t.strokeStyle=qe(r.borderColor,e.borderColor)}function Qre(t,e,r){t.lineTo(r.x,r.y)}function ene(t){return t.stepped?Cee:t.tension||t.cubicInterpolationMode==="monotone"?Nee:Qre}function hq(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function tne(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=hq(a,r,n),d=ene(s);let{move:f=!0,reverse:m}=n||{},h,p,b;for(h=0;h<=u;++h)p=a[(l+(m?u-h:h))%i],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,b,p,m,s.stepped),b=p);return c&&(p=a[(l+(m?u:0))%i],d(t,b,p,m,s.stepped)),!!c}function rne(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=hq(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,p,b,g,x;const y=S=>(i+(u?l-S:S))%s,w=()=>{b!==g&&(t.lineTo(d,g),t.lineTo(d,b),t.lineTo(d,x))};for(c&&(h=a[y(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[y(m)],h.skip)continue;const S=h.x,C=h.y,j=S|0;j===p?(C<b?b=C:C>g&&(g=C),d=(f*d+S)/++f):(w(),t.lineTo(S,C),p=j,f=0,b=g=C),x=C}w()}function $S(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?rne:tne}function nne(t){return t.stepped?rte:t.tension||t.cubicInterpolationMode==="monotone"?nte:mi}function ane(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),mq(t,e.options),t.stroke(a)}function sne(t,e,r,n){const{segments:a,options:s}=e,i=$S(e);for(const l of a)mq(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const one=typeof Path2D=="function";function ine(t,e,r,n){one&&!e.options.segment?ane(t,e,r,n):sne(t,e,r,n)}class lo extends $s{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Yee(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cte(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=Q3(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=nne(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],p=s[m];if(h===p){l.push(h);continue}const b=Math.abs((a-h[r])/(p[r]-h[r])),g=c(h,p,b,n.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,n){return $S(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=$S(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ine(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(lo,"id","line"),he(lo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(lo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function SD(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Dp extends $s{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return SD(this,r,"x",n)}inYRange(r,n){return SD(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ls(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,OS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(Dp,"id","point"),he(Dp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Dp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pq(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function co(t,e,r,n){return t?0:mr(e,r,n)}function lne(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=V3(n);return{t:co(a.top,s.top,0,r),r:co(a.right,s.right,0,e),b:co(a.bottom,s.bottom,0,r),l:co(a.left,s.left,0,e)}}function cne(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=Pi(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ge(a);return{topLeft:co(!c||l.top||l.left,s.topLeft,0,i),topRight:co(!c||l.top||l.right,s.topRight,0,i),bottomLeft:co(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:co(!c||l.bottom||l.right,s.bottomRight,0,i)}}function une(t){const e=pq(t),r=e.right-e.left,n=e.bottom-e.top,a=lne(t,r/2,n/2),s=cne(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function DC(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&pq(t,n);return l&&(a||os(e,l.left,l.right))&&(s||os(r,l.top,l.bottom))}function dne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fne(t,e){t.rect(e.x,e.y,e.w,e.h)}function _C(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class _p extends $s{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=une(this),l=dne(i.radius)?kf:fne;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,_C(i,r,s)),e.clip(),l(e,_C(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,_C(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return DC(this,e,r,n)}inXRange(e,r){return DC(this,e,null,r)}inYRange(e,r){return DC(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(_p,"id","bar"),he(_p,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(_p,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var mne=Object.freeze({__proto__:null,ArcElement:cd,BarElement:_p,LineElement:lo,PointElement:Dp});const RS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],AD=RS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function gq(t){return RS[t%RS.length]}function yq(t){return AD[t%AD.length]}function hne(t,e){return t.borderColor=gq(e),t.backgroundColor=yq(e),++e}function pne(t,e){return t.backgroundColor=t.data.map(()=>gq(e++)),e}function gne(t,e){return t.backgroundColor=t.data.map(()=>yq(e++)),e}function yne(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Ni?e=pne(r,e):a instanceof Pd?e=gne(r,e):a&&(e=hne(r,e))}}function kD(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function bne(t){return t&&(t.borderColor||t.backgroundColor)}function xne(){return Ot.borderColor!=="rgba(0,0,0,0.1)"||Ot.backgroundColor!=="rgba(0,0,0,0.1)"}var vne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=kD(n)||bne(a)||s&&kD(s)||xne();if(!r.forceOverride&&i)return;const l=yne(t);n.forEach(l)}};function jne(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,p,b;for(i[c++]=t[d],f=0;f<s-2;f++){let g=0,x=0,y;const w=Math.floor((f+1)*l)+1+e,S=Math.min(Math.floor((f+2)*l)+1,r)+e,C=S-w;for(y=w;y<S;y++)g+=t[y].x,x+=t[y].y;g/=C,x/=C;const j=Math.floor(f*l)+1+e,N=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:T}=t[d];for(h=p=-1,y=j;y<N;y++)p=.5*Math.abs((A-g)*(t[y].y-T)-(A-t[y].x)*(x-T)),p>h&&(h=p,m=t[y],b=y);i[c++]=m,d=b}return i[c++]=t[u],i}function wne(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,p,b;const g=[],x=e+r-1,y=t[e].x,S=t[x].x-y;for(i=e;i<e+r;++i){l=t[i],c=(l.x-y)/S*n,u=l.y;const C=c|0;if(C===d)u<p?(p=u,f=i):u>b&&(b=u,m=i),a=(s*a+l.x)/++s;else{const j=i-1;if(!We(f)&&!We(m)){const N=Math.min(f,m),A=Math.max(f,m);N!==h&&N!==j&&g.push({...t[N],x:a}),A!==h&&A!==j&&g.push({...t[A],x:a})}i>0&&j!==h&&g.push(t[j]),g.push(l),d=C,s=0,p=b=u,f=m=h=i}}return g}function bq(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ID(t){t.data.datasets.forEach(e=>{bq(e)})}function Cne(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=mr(is(e,s.axis,i).lo,0,r-1)),u?a=mr(is(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Nne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){ID(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(id([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Cne(c,u);const h=r.threshold||4*n;if(m<=h){bq(a);return}We(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let p;switch(r.algorithm){case"lttb":p=jne(u,f,m,n,r);break;case"min-max":p=wne(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=p})},destroy(t){ID(t)}};function Sne(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=HT(c,u,a);const d=MS(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=Q3(e,d);for(const m of f){const h=MS(r,s[m.start],s[m.end],m.loop),p=Z3(l,a,h);for(const b of p)i.push({source:b,target:m,start:{[r]:TD(d,h,"start",Math.max)},end:{[r]:TD(d,h,"end",Math.min)}})}}return i}function MS(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=fn(a),s=fn(s)),{property:t,start:a,end:s}}function Ane(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=HT(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function HT(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function TD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function xq(t,e){let r=[],n=!1;return Tt(t)?(n=!0,r=t):r=Ane(t,e),r.length?new lo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function ED(t){return t&&t.fill!==!1}function kne(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!zt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Ine(t,e,r){const n=Pne(t);if(Ge(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return zt(a)&&Math.floor(a)===a?Tne(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Tne(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Ene(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ge(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function One(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ge(t)?n=t.value:n=e.getBaseValue(),n}function Pne(t){const e=t.options,r=e.fill;let n=qe(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Dne(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=_ne(e,r);l.push(xq({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)$ne(a,i[d],l)}return new lo({points:a,options:{}})}function _ne(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function $ne(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Rne(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Rne(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(os(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class vq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:At},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Mne(t){const{chart:e,fill:r,line:n}=t;if(zt(r))return Lne(e,r);if(r==="stack")return Dne(t);if(r==="shape")return!0;const a=Fne(t);return a instanceof vq?a:xq(a,n)}function Lne(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Fne(t){return(t.scale||{}).getPointPositionForValue?qne(t):Bne(t)}function Bne(t){const{scale:e={},fill:r}=t,n=Ene(r,e);if(zt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function qne(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=One(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new vq({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function $C(t,e,r){const n=Mne(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},p=a.getDatasetMeta(s),b=eq(a,p);n&&i.points.length&&(u0(t,r),Vne(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:b}),d0(t))}function Vne(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&s!==a&&(OD(t,n,i.top),PD(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),OD(t,n,i.bottom)),PD(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore()}function OD(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[HT(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function PD(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Sne(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,p=n!==!0;t.save(),t.fillStyle=h,Une(t,i,l,p&&MS(a,f,m)),t.beginPath();const b=!!r.pathSegment(t,u);let g;if(p){b?t.closePath():DD(t,n,m,a);const x=!!n.pathSegment(t,d,{move:b,reverse:!0});g=b&&x,g||DD(t,n,f,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Une(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function DD(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var zne={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof lo&&(c={visible:t.isDatasetVisible(i),index:i,fill:Ine(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=kne(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&$C(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;ED(s)&&$C(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!ED(n)||r.drawTime!=="beforeDatasetDraw"||$C(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _D=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Wne=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let $D=class extends $s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=or(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=_D(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((p,b)=>{const g=n+r/2+s.measureText(p.text).width;(b===0||u[u.length-1]+g+2*l>i)&&(f+=d,u[u.length-(b>0?0:1)]=0,h+=d,m++),c[b]={left:0,top:h,row:m,width:g,height:a},u[u.length-1]+=g+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,p=0,b=0;return this.legendItems.forEach((g,x)=>{const{itemWidth:y,itemHeight:w}=Hne(n,r,s,g,a);x>0&&h+w+2*l>d&&(f+=m+l,u.push({width:m,height:h}),p+=m+l,b++,m=h=0),c[x]={left:p,top:h,col:b,width:y,height:w},m=Math.max(m,y),h+=w+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=tc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Or(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Or(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;u0(e,this),this._draw(),d0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Ot.color,c=tc(e.rtl,this.left,this.width),u=or(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:p,boxHeight:b,itemHeight:g}=_D(i,f),x=function(j,N,A){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;a.save();const T=qe(A.lineWidth,1);if(a.fillStyle=qe(A.fillStyle,l),a.lineCap=qe(A.lineCap,"butt"),a.lineDashOffset=qe(A.lineDashOffset,0),a.lineJoin=qe(A.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=qe(A.strokeStyle,l),a.setLineDash(qe(A.lineDash,[])),i.usePointStyle){const k={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:T},E=c.xPlus(j,p/2),P=N+m;q3(a,k,E,P,i.pointStyleWidth&&p)}else{const k=N+Math.max((f-b)/2,0),E=c.leftForLtr(j,p),P=Pi(A.borderRadius);a.beginPath(),Object.values(P).some(M=>M!==0)?kf(a,{x:E,y:k,w:p,h:b,radius:P}):a.rect(E,k,p,b),a.fill(),T!==0&&a.stroke()}a.restore()},y=function(j,N,A){Ji(a,A.text,j,N+g/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?h={x:Or(s,this.left+d,this.right-n[0]),y:this.top+d+S,line:0}:h={x:this.left+d,y:Or(s,this.top+S+d,this.bottom-r[0].height),line:0},K3(this.ctx,e.textDirection);const C=g+d;this.legendItems.forEach((j,N)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const A=a.measureText(j.text).width,T=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),k=p+m+A;let E=h.x,P=h.y;c.setWidth(this.width),w?N>0&&E+k+d>this.right&&(P=h.y+=C,h.line++,E=h.x=Or(s,this.left+d,this.right-n[h.line])):N>0&&P+C>this.bottom&&(E=h.x=E+r[h.line].width+d,h.line++,P=h.y=Or(s,this.top+S+d,this.bottom-r[h.line].height));const M=c.x(E);if(x(M,P,j),E=fee(T,E+p+m,w?E+k:this.right,e.rtl),y(c.x(E),P,j),w)h.x+=k+d;else if(typeof j.text!="string"){const R=u.lineHeight;h.y+=jq(j,R)+d}else h.y+=C}),J3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=or(r.font),a=Rr(r.padding);if(!r.display)return;const s=tc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Or(e.align,f,this.right-m);else{const p=this.columnSizes.reduce((b,g)=>Math.max(b,g.height),0);d=u+Or(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=Or(l,f,f+m);i.textAlign=s.textAlign(MT(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,Ji(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=or(e.font),n=Rr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(os(e,this.left,this.right)&&os(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],os(e,a.left,a.left+a.width)&&os(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Kne(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=Wne(a,n);a&&!s&&yt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&yt(r.onHover,[e,n,this],this)}else n&&yt(r.onClick,[e,n,this],this)}};function Hne(t,e,r,n,a){const s=Gne(n,t,e,r),i=Yne(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function Gne(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Yne(t,e,r){let n=t;return typeof e.text!="string"&&(n=jq(e,r)),n}function jq(t,e){const r=t.text?t.text.length:0;return e*r}function Kne(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Jne={id:"legend",_element:$D,start(t,e,r){const n=t.legend=new $D({ctx:t.ctx,options:r,chart:t});_r.configure(t,n,r),_r.addBox(t,n)},stop(t){_r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;_r.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Rr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class GT extends $s{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Tt(n.text)?n.text.length:1;this._padding=Rr(n.padding);const s=a*or(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Or(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Or(l,a,r),c=kt*-.5):(d=s-e,f=Or(l,r,a),c=kt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=or(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);Ji(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:MT(r.align),textBaseline:"middle",translation:[i,l]})}}function Xne(t,e){const r=new GT({ctx:t.ctx,options:e,chart:t});_r.configure(t,r,e),_r.addBox(t,r),t.titleBlock=r}var Zne={id:"title",_element:GT,start(t,e,r){Xne(t,r)},stop(t){const e=t.titleBlock;_r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;_r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _h=new WeakMap;var Qne={id:"subtitle",start(t,e,r){const n=new GT({ctx:t.ctx,options:r,chart:t});_r.configure(t,n,r),_r.addBox(t,n),_h.set(t,n)},stop(t){_r.removeBox(t,_h.get(t)),_h.delete(t)},beforeUpdate(t,e,r){const n=_h.get(t);_r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ud={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=TS(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function wa(t,e){return e&&(Tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ja(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function eae(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function RD(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=or(e.bodyFont),u=or(e.titleFont),d=or(e.footerFont),f=s.length,m=a.length,h=n.length,p=Rr(e.padding);let b=p.height,g=0,x=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=h*S+(x-h)*c.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let y=0;const w=function(S){g=Math.max(g,r.measureText(S).width+y)};return r.save(),r.font=u.string,ot(t.title,w),r.font=c.string,ot(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?i+2+e.boxPadding:0,ot(n,S=>{ot(S.before,w),ot(S.lines,w),ot(S.after,w)}),y=0,r.font=d.string,ot(t.footer,w),r.restore(),g+=p.width,{width:g,height:b}}function tae(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function rae(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function nae(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),rae(u,t,e,r)&&(u="center"),u}function MD(t,e,r){const n=r.yAlign||e.yAlign||tae(t,r);return{xAlign:r.xAlign||e.xAlign||nae(t,e,r,n),yAlign:n}}function aae(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function sae(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function LD(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Pi(i);let p=aae(e,l);const b=sae(e,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,m)+a:l==="right"&&(p+=Math.max(f,h)+a),{x:mr(p,0,n.width-e.width),y:mr(b,0,n.height-e.height)}}function $h(t,e,r){const n=Rr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function FD(t){return wa([],Ja(t))}function oae(t,e,r){return Wo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function BD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const wq={beforeTitle:Ha,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ha,beforeBody:Ha,beforeLabel:Ha,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return We(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ha,afterBody:Ha,beforeFooter:Ha,footer:Ha,afterFooter:Ha};function Ur(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?wq[e].call(r,n):a}var mN;let qD=(mN=class extends $s{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new tq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=oae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Ur(n,"beforeTitle",this,e),s=Ur(n,"title",this,e),i=Ur(n,"afterTitle",this,e);let l=[];return l=wa(l,Ja(a)),l=wa(l,Ja(s)),l=wa(l,Ja(i)),l}getBeforeBody(e,r){return FD(Ur(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ot(e,s=>{const i={before:[],lines:[],after:[]},l=BD(n,s);wa(i.before,Ja(Ur(l,"beforeLabel",this,s))),wa(i.lines,Ur(l,"label",this,s)),wa(i.after,Ja(Ur(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return FD(Ur(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Ur(n,"beforeFooter",this,e),s=Ur(n,"footer",this,e),i=Ur(n,"afterFooter",this,e);let l=[];return l=wa(l,Ja(a)),l=wa(l,Ja(s)),l=wa(l,Ja(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(eae(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),ot(l,d=>{const f=BD(e.callbacks,d);a.push(Ur(f,"labelColor",this,d)),s.push(Ur(f,"labelPointStyle",this,d)),i.push(Ur(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=ud[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=RD(this,n),u=Object.assign({},l,c),d=MD(this.chart,n,u),f=LD(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Pi(l),{x:m,y:h}=e,{width:p,height:b}=r;let g,x,y,w,S,C;return s==="center"?(S=h+b/2,a==="left"?(g=m,x=g-i,w=S+i,C=S-i):(g=m+p,x=g+i,w=S-i,C=S+i),y=g):(a==="left"?x=m+Math.max(c,d)+i:a==="right"?x=m+p-Math.max(u,f)-i:x=this.caretX,s==="top"?(w=h,S=w-i,g=x-i,y=x+i):(w=h+b,S=w+i,g=x+i,y=x-i),C=w),{x1:g,x2:x,x3:y,y1:w,y2:S,y3:C}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=tc(n.rtl,this.x,this.width);for(e.x=$h(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=or(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=or(s.bodyFont),f=$h(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=r.y+h;if(s.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,u)+u/2,x=p+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,OS(e,b,g,x),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,OS(e,b,g,x)}else{e.lineWidth=Ge(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const b=a.leftForLtr(m,u),g=a.leftForLtr(a.xPlus(m,1),u-2),x=Pi(i.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,kf(e,{x:b,y:p,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),kf(e,{x:g,y:p+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,p,u,c),e.strokeRect(b,p,u,c),e.fillStyle=i.backgroundColor,e.fillRect(g,p+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=or(n.bodyFont);let m=f.lineHeight,h=0;const p=tc(n.rtl,this.x,this.width),b=function(A){r.fillText(A,p.x(e.x+h),e.y+m/2),e.y+=m+s},g=p.textAlign(i);let x,y,w,S,C,j,N;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=$h(this,g,n),r.fillStyle=n.bodyColor,ot(this.beforeBody,b),h=l&&g!=="right"?i==="center"?u/2+d:u+2+d:0,S=0,j=a.length;S<j;++S){for(x=a[S],y=this.labelTextColors[S],r.fillStyle=y,ot(x.before,b),w=x.lines,l&&w.length&&(this._drawColorBox(r,e,S,p,n),m=Math.max(f.lineHeight,c)),C=0,N=w.length;C<N;++C)b(w[C]),m=f.lineHeight;ot(x.after,b)}h=0,m=f.lineHeight,ot(this.afterBody,b),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=tc(n.rtl,this.x,this.width);for(e.x=$h(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=or(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:p}=Pi(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-p),r.quadraticCurveTo(l+u,c+d,l+u-p,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=ud[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=RD(this,e),c=Object.assign({},i,this._size),u=MD(r,e,c),d=LD(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Rr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),K3(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),J3(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!gx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!gx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=ud[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(mN,"positioners",ud),mN);var iae={id:"tooltip",_element:qD,positioners:ud,afterInit(t,e,r){r&&(t.tooltip=new qD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},lae=Object.freeze({__proto__:null,Colors:vne,Decimation:Nne,Filler:zne,Legend:Jne,SubTitle:Qne,Title:Zne,Tooltip:iae});const cae=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function uae(t,e,r,n){const a=t.indexOf(e);if(a===-1)return cae(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const dae=(t,e)=>t===null?null:mr(Math.round(t),0,e);function VD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class LS extends cl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(We(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:uae(n,e,qe(r,e),this._addedLabels),dae(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return VD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(LS,"id","category"),he(LS,"defaults",{ticks:{callback:VD}});function fae(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,p=d-1,{min:b,max:g}=e,x=!We(i),y=!We(l),w=!We(u),S=(g-b)/(f+1);let C=RP((g-b)/p/h)*h,j,N,A,T;if(C<1e-14&&!x&&!y)return[{value:b},{value:g}];T=Math.ceil(g/C)-Math.floor(b/C),T>p&&(C=RP(T*C/p/h)*h),We(c)||(j=Math.pow(10,c),C=Math.ceil(C*j)/j),a==="ticks"?(N=Math.floor(b/C)*C,A=Math.ceil(g/C)*C):(N=b,A=g),x&&y&&s&&see((l-i)/s,C/1e3)?(T=Math.round(Math.min((l-i)/C,d)),C=(l-i)/T,N=i,A=l):w?(N=x?i:N,A=y?l:A,T=u-1,C=(A-N)/T):(T=(A-N)/C,Td(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const k=Math.max(MP(C),MP(N));j=Math.pow(10,We(c)?k:c),N=Math.round(N*j)/j,A=Math.round(A*j)/j;let E=0;for(x&&(m&&N!==i?(r.push({value:i}),N<i&&E++,Td(Math.round((N+E*C)*j)/j,i,UD(i,S,t))&&E++):N<i&&E++);E<T;++E){const P=Math.round((N+E*C)*j)/j;if(y&&P>l)break;r.push({value:P})}return y&&m&&A!==l?r.length&&Td(r[r.length-1].value,l,UD(l,S,t))?r[r.length-1].value=l:r.push({value:l}):(!y||A===l)&&r.push({value:A}),r}function UD(t,e,{horizontal:r,minRotation:n}){const a=ia(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Cx extends cl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Da(a),u=Da(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=fae(a,s);return e.bounds==="ticks"&&P3(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Pm(e,this.chart.options.locale,this.options.ticks.format)}}class FS extends Cx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ia(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(FS,"id","linear"),he(FS,"defaults",{ticks:{callback:c0.formatters.numeric}});const Tf=t=>Math.floor(io(t)),ai=(t,e)=>Math.pow(10,Tf(t)+e);function zD(t){return t/Math.pow(10,Tf(t))===1}function WD(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function mae(t,e){const r=e-t;let n=Tf(r);for(;WD(t,e,n)>10;)n++;for(;WD(t,e,n)<10;)n--;return Math.min(n,Tf(t))}function hae(t,{min:e,max:r}){e=cn(t.min,e);const n=[],a=Tf(e);let s=mae(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=cn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:zD(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=cn(t.max,m);return n.push({value:h,major:zD(h),significand:f}),n}class BS extends cl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Cx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return zt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zt(e)?Math.max(0,e):null,this.max=zt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zt(this._userMin)&&(this.min=e===ai(this.min,0)?ai(this.min,-1):ai(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(ai(n,-1)),i(ai(a,1)))),n<=0&&s(ai(a,-1)),a<=0&&i(ai(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=hae(r,this);return e.bounds==="ticks"&&P3(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Pm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=io(e),this._valueRange=io(this.max)-io(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(io(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(BS,"id","logarithmic"),he(BS,"defaults",{ticks:{callback:c0.formatters.logarithmic,major:{enabled:!0}}});function qS(t){const e=t.ticks;if(e.display&&t.display){const r=Rr(e.backdropPadding);return qe(e.font&&e.font.size,Ot.font.size)+r.height}return 0}function pae(t,e,r){return r=Tt(r)?r:[r],{w:wee(t,e.string,r),h:r.length*e.lineHeight}}function HD(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function gae(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?kt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=or(u.font),m=pae(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=fn(t.getIndexAngle(c)+l),p=Math.round($T(h)),b=HD(p,d.x,m.w,0,180),g=HD(p,d.y,m.h,90,270);yae(r,e,h,b,g)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=vae(t,n,a)}function yae(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function bae(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round($T(fn(c.angle+Jt))),d=Cae(c.y,l.h,u),f=jae(u),m=wae(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function xae(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(ls({x:r,y:n},e)||ls({x:r,y:s},e)||ls({x:a,y:n},e)||ls({x:a,y:s},e))}function vae(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:qS(s)/2,additionalAngle:i?kt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=bae(t,d,c);n.push(f),l==="auto"&&(f.visible=xae(f,u),f.visible&&(u=f))}return n}function jae(t){return t===0||t===180?"center":t<180?"left":"right"}function wae(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Cae(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Nae(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!We(l)){const c=Pi(e.borderRadius),u=Rr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),kf(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Sae(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));Nae(r,i,s);const l=or(i.font),{x:c,y:u,textAlign:d}=s;Ji(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function Cq(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,At);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function Aae(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),Cq(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function kae(t,e,r){return Wo(t,{label:r,index:e,type:"pointLabel"})}class dd extends Cx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Rr(qS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=zt(e)&&!isNaN(e)?e:0,this.max=zt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qS(this.options))}generateTickLabels(e){Cx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=yt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?gae(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=At/(this._pointLabels.length||1),n=this.options.startAngle||0;return fn(e*r+ia(n))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(We(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return kae(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Jt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Cq(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Sae(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),p=s.setContext(m);Aae(this,h,c,i,p)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=or(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Rr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}Ji(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(dd,"id","radialLinear"),he(dd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:c0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(dd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(dd,"descriptors",{angleLines:{_fallback:"grid"}});const h0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yr=Object.keys(h0);function GD(t,e){return t-e}function YD(t,e){if(We(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),zt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Sc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function KD(t,e,r,n){const a=Yr.length;for(let s=Yr.indexOf(t);s<a-1;++s){const i=h0[Yr[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Yr[s]}return Yr[a-1]}function Iae(t,e,r,n,a){for(let s=Yr.length-1;s>=Yr.indexOf(r);s--){const i=Yr[s];if(h0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Yr[r?Yr.indexOf(r):0]}function Tae(t){for(let e=Yr.indexOf(t)+1,r=Yr.length;e<r;++e)if(h0[Yr[e]].common)return Yr[e]}function JD(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=RT(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Eae(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function XD(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Eae(t,n,a,r)}class Ef extends cl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Fte._date(e.adapters.date);a.init(r),Id(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:YD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=zt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=zt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=cee(a,s,i);return this._unit=r.unit||(n.autoSkip?KD(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Iae(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Tae(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),XD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=mr(r,0,i),n=mr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||KD(s.minUnit,r,n,this._getLabelCapacity(r)),l=qe(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Sc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const p=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)JD(d,m,p);return(m===n||a.bounds==="ticks"||h===1)&&JD(d,m,p),Object.keys(d).sort(GD).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return yt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ia(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,XD(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(YD(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $3(e.sort(GD))}}he(Ef,"id","time"),he(Ef,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Rh(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=is(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=is(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class VS extends Ef{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Rh(r,this.min),this._tableRange=Rh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Rh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Rh(this._table,n*this._tableRange+this._minPos,!0)}}he(VS,"id","timeseries"),he(VS,"defaults",Ef.defaults);var Oae=Object.freeze({__proto__:null,CategoryScale:LS,LinearScale:FS,LogarithmicScale:BS,RadialLinearScale:dd,TimeScale:Ef,TimeSeriesScale:VS});const Pae=[Lte,mne,lae,Oae];Js.register(...Pae);const Dae=[{name:"Settings",icon:o.jsx(GB,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(qK,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(aJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(gP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(gP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(bS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(YB,{className:"h-6 w-6"}),path:"/reports/bir"}];function _ae(){const{user:t}=q(n=>n.auth),[e,r]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Dae.map(n=>o.jsxs(ec,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function $ae(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(ec,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}var Rae=function(e){return Mae(e)&&!Lae(e)};function Mae(t){return!!t&&typeof t=="object"}function Lae(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||qae(t)}var Fae=typeof Symbol=="function"&&Symbol.for,Bae=Fae?Symbol.for("react.element"):60103;function qae(t){return t.$$typeof===Bae}function Vae(t){return Array.isArray(t)?[]:{}}function Nx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Of(Vae(t),t,e):t}function Uae(t,e,r){return t.concat(e).map(function(n){return Nx(n,r)})}function zae(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Nx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Nx(e[a],r):n[a]=Of(t[a],e[a],r)}),n}function Of(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Uae,r.isMergeableObject=r.isMergeableObject||Rae;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):zae(t,e,r):Nx(e,r)}Of.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Of(n,a,r)},{})};var US=Of,Nq=typeof global=="object"&&global&&global.Object===Object&&global,Wae=typeof self=="object"&&self&&self.Object===Object&&self,Va=Nq||Wae||Function("return this")(),Ro=Va.Symbol,Sq=Object.prototype,Hae=Sq.hasOwnProperty,Gae=Sq.toString,Lu=Ro?Ro.toStringTag:void 0;function Yae(t){var e=Hae.call(t,Lu),r=t[Lu];try{t[Lu]=void 0;var n=!0}catch{}var a=Gae.call(t);return n&&(e?t[Lu]=r:delete t[Lu]),a}var Kae=Object.prototype,Jae=Kae.toString;function Xae(t){return Jae.call(t)}var Zae="[object Null]",Qae="[object Undefined]",ZD=Ro?Ro.toStringTag:void 0;function ul(t){return t==null?t===void 0?Qae:Zae:ZD&&ZD in Object(t)?Yae(t):Xae(t)}function Aq(t,e){return function(r){return t(e(r))}}var YT=Aq(Object.getPrototypeOf,Object);function dl(t){return t!=null&&typeof t=="object"}var ese="[object Object]",tse=Function.prototype,rse=Object.prototype,kq=tse.toString,nse=rse.hasOwnProperty,ase=kq.call(Object);function QD(t){if(!dl(t)||ul(t)!=ese)return!1;var e=YT(t);if(e===null)return!0;var r=nse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&kq.call(r)==ase}function sse(){this.__data__=[],this.size=0}function Iq(t,e){return t===e||t!==t&&e!==e}function p0(t,e){for(var r=t.length;r--;)if(Iq(t[r][0],e))return r;return-1}var ose=Array.prototype,ise=ose.splice;function lse(t){var e=this.__data__,r=p0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ise.call(e,r,1),--this.size,!0}function cse(t){var e=this.__data__,r=p0(e,t);return r<0?void 0:e[r][1]}function use(t){return p0(this.__data__,t)>-1}function dse(t,e){var r=this.__data__,n=p0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Rs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rs.prototype.clear=sse;Rs.prototype.delete=lse;Rs.prototype.get=cse;Rs.prototype.has=use;Rs.prototype.set=dse;function fse(){this.__data__=new Rs,this.size=0}function mse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function hse(t){return this.__data__.get(t)}function pse(t){return this.__data__.has(t)}function Dm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gse="[object AsyncFunction]",yse="[object Function]",bse="[object GeneratorFunction]",xse="[object Proxy]";function Tq(t){if(!Dm(t))return!1;var e=ul(t);return e==yse||e==bse||e==gse||e==xse}var RC=Va["__core-js_shared__"],e_=function(){var t=/[^.]+$/.exec(RC&&RC.keys&&RC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vse(t){return!!e_&&e_ in t}var jse=Function.prototype,wse=jse.toString;function fl(t){if(t!=null){try{return wse.call(t)}catch{}try{return t+""}catch{}}return""}var Cse=/[\\^$.*+?()[\]{}|]/g,Nse=/^\[object .+?Constructor\]$/,Sse=Function.prototype,Ase=Object.prototype,kse=Sse.toString,Ise=Ase.hasOwnProperty,Tse=RegExp("^"+kse.call(Ise).replace(Cse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ese(t){if(!Dm(t)||vse(t))return!1;var e=Tq(t)?Tse:Nse;return e.test(fl(t))}function Ose(t,e){return t==null?void 0:t[e]}function ml(t,e){var r=Ose(t,e);return Ese(r)?r:void 0}var Pf=ml(Va,"Map"),Df=ml(Object,"create");function Pse(){this.__data__=Df?Df(null):{},this.size=0}function Dse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _se="__lodash_hash_undefined__",$se=Object.prototype,Rse=$se.hasOwnProperty;function Mse(t){var e=this.__data__;if(Df){var r=e[t];return r===_se?void 0:r}return Rse.call(e,t)?e[t]:void 0}var Lse=Object.prototype,Fse=Lse.hasOwnProperty;function Bse(t){var e=this.__data__;return Df?e[t]!==void 0:Fse.call(e,t)}var qse="__lodash_hash_undefined__";function Vse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Df&&e===void 0?qse:e,this}function Xi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xi.prototype.clear=Pse;Xi.prototype.delete=Dse;Xi.prototype.get=Mse;Xi.prototype.has=Bse;Xi.prototype.set=Vse;function Use(){this.size=0,this.__data__={hash:new Xi,map:new(Pf||Rs),string:new Xi}}function zse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function g0(t,e){var r=t.__data__;return zse(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Wse(t){var e=g0(this,t).delete(t);return this.size-=e?1:0,e}function Hse(t){return g0(this,t).get(t)}function Gse(t){return g0(this,t).has(t)}function Yse(t,e){var r=g0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ho(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ho.prototype.clear=Use;Ho.prototype.delete=Wse;Ho.prototype.get=Hse;Ho.prototype.has=Gse;Ho.prototype.set=Yse;var Kse=200;function Jse(t,e){var r=this.__data__;if(r instanceof Rs){var n=r.__data__;if(!Pf||n.length<Kse-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ho(n)}return r.set(t,e),this.size=r.size,this}function ou(t){var e=this.__data__=new Rs(t);this.size=e.size}ou.prototype.clear=fse;ou.prototype.delete=mse;ou.prototype.get=hse;ou.prototype.has=pse;ou.prototype.set=Jse;function Xse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var t_=function(){try{var t=ml(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Eq(t,e,r){e=="__proto__"&&t_?t_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Zse=Object.prototype,Qse=Zse.hasOwnProperty;function Oq(t,e,r){var n=t[e];(!(Qse.call(t,e)&&Iq(n,r))||r===void 0&&!(e in t))&&Eq(t,e,r)}function y0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?Eq(r,l,c):Oq(r,l,c)}return r}function eoe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var toe="[object Arguments]";function r_(t){return dl(t)&&ul(t)==toe}var Pq=Object.prototype,roe=Pq.hasOwnProperty,noe=Pq.propertyIsEnumerable,aoe=r_(function(){return arguments}())?r_:function(t){return dl(t)&&roe.call(t,"callee")&&!noe.call(t,"callee")},_m=Array.isArray;function soe(){return!1}var Dq=typeof gn=="object"&&gn&&!gn.nodeType&&gn,n_=Dq&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,ooe=n_&&n_.exports===Dq,a_=ooe?Va.Buffer:void 0,ioe=a_?a_.isBuffer:void 0,_q=ioe||soe,loe=9007199254740991,coe=/^(?:0|[1-9]\d*)$/;function uoe(t,e){var r=typeof t;return e=e??loe,!!e&&(r=="number"||r!="symbol"&&coe.test(t))&&t>-1&&t%1==0&&t<e}var doe=9007199254740991;function $q(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=doe}var foe="[object Arguments]",moe="[object Array]",hoe="[object Boolean]",poe="[object Date]",goe="[object Error]",yoe="[object Function]",boe="[object Map]",xoe="[object Number]",voe="[object Object]",joe="[object RegExp]",woe="[object Set]",Coe="[object String]",Noe="[object WeakMap]",Soe="[object ArrayBuffer]",Aoe="[object DataView]",koe="[object Float32Array]",Ioe="[object Float64Array]",Toe="[object Int8Array]",Eoe="[object Int16Array]",Ooe="[object Int32Array]",Poe="[object Uint8Array]",Doe="[object Uint8ClampedArray]",_oe="[object Uint16Array]",$oe="[object Uint32Array]",wt={};wt[koe]=wt[Ioe]=wt[Toe]=wt[Eoe]=wt[Ooe]=wt[Poe]=wt[Doe]=wt[_oe]=wt[$oe]=!0;wt[foe]=wt[moe]=wt[Soe]=wt[hoe]=wt[Aoe]=wt[poe]=wt[goe]=wt[yoe]=wt[boe]=wt[xoe]=wt[voe]=wt[joe]=wt[woe]=wt[Coe]=wt[Noe]=!1;function Roe(t){return dl(t)&&$q(t.length)&&!!wt[ul(t)]}function KT(t){return function(e){return t(e)}}var Rq=typeof gn=="object"&&gn&&!gn.nodeType&&gn,Dd=Rq&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,Moe=Dd&&Dd.exports===Rq,MC=Moe&&Nq.process,Ic=function(){try{var t=Dd&&Dd.require&&Dd.require("util").types;return t||MC&&MC.binding&&MC.binding("util")}catch{}}(),s_=Ic&&Ic.isTypedArray,Loe=s_?KT(s_):Roe,Foe=Object.prototype,Boe=Foe.hasOwnProperty;function Mq(t,e){var r=_m(t),n=!r&&aoe(t),a=!r&&!n&&_q(t),s=!r&&!n&&!a&&Loe(t),i=r||n||a||s,l=i?eoe(t.length,String):[],c=l.length;for(var u in t)(e||Boe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uoe(u,c)))&&l.push(u);return l}var qoe=Object.prototype;function JT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qoe;return t===r}var Voe=Aq(Object.keys,Object),Uoe=Object.prototype,zoe=Uoe.hasOwnProperty;function Woe(t){if(!JT(t))return Voe(t);var e=[];for(var r in Object(t))zoe.call(t,r)&&r!="constructor"&&e.push(r);return e}function Lq(t){return t!=null&&$q(t.length)&&!Tq(t)}function XT(t){return Lq(t)?Mq(t):Woe(t)}function Hoe(t,e){return t&&y0(e,XT(e),t)}function Goe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Yoe=Object.prototype,Koe=Yoe.hasOwnProperty;function Joe(t){if(!Dm(t))return Goe(t);var e=JT(t),r=[];for(var n in t)n=="constructor"&&(e||!Koe.call(t,n))||r.push(n);return r}function ZT(t){return Lq(t)?Mq(t,!0):Joe(t)}function Xoe(t,e){return t&&y0(e,ZT(e),t)}var Fq=typeof gn=="object"&&gn&&!gn.nodeType&&gn,o_=Fq&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,Zoe=o_&&o_.exports===Fq,i_=Zoe?Va.Buffer:void 0,l_=i_?i_.allocUnsafe:void 0;function Qoe(t,e){if(e)return t.slice();var r=t.length,n=l_?l_(r):new t.constructor(r);return t.copy(n),n}function Bq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function eie(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function qq(){return[]}var tie=Object.prototype,rie=tie.propertyIsEnumerable,c_=Object.getOwnPropertySymbols,QT=c_?function(t){return t==null?[]:(t=Object(t),eie(c_(t),function(e){return rie.call(t,e)}))}:qq;function nie(t,e){return y0(t,QT(t),e)}function Vq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var aie=Object.getOwnPropertySymbols,Uq=aie?function(t){for(var e=[];t;)Vq(e,QT(t)),t=YT(t);return e}:qq;function sie(t,e){return y0(t,Uq(t),e)}function zq(t,e,r){var n=e(t);return _m(t)?n:Vq(n,r(t))}function oie(t){return zq(t,XT,QT)}function iie(t){return zq(t,ZT,Uq)}var zS=ml(Va,"DataView"),WS=ml(Va,"Promise"),HS=ml(Va,"Set"),GS=ml(Va,"WeakMap"),u_="[object Map]",lie="[object Object]",d_="[object Promise]",f_="[object Set]",m_="[object WeakMap]",h_="[object DataView]",cie=fl(zS),uie=fl(Pf),die=fl(WS),fie=fl(HS),mie=fl(GS),rs=ul;(zS&&rs(new zS(new ArrayBuffer(1)))!=h_||Pf&&rs(new Pf)!=u_||WS&&rs(WS.resolve())!=d_||HS&&rs(new HS)!=f_||GS&&rs(new GS)!=m_)&&(rs=function(t){var e=ul(t),r=e==lie?t.constructor:void 0,n=r?fl(r):"";if(n)switch(n){case cie:return h_;case uie:return u_;case die:return d_;case fie:return f_;case mie:return m_}return e});var hie=Object.prototype,pie=hie.hasOwnProperty;function gie(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&pie.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var p_=Va.Uint8Array;function eE(t){var e=new t.constructor(t.byteLength);return new p_(e).set(new p_(t)),e}function yie(t,e){var r=e?eE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var bie=/\w*$/;function xie(t){var e=new t.constructor(t.source,bie.exec(t));return e.lastIndex=t.lastIndex,e}var g_=Ro?Ro.prototype:void 0,y_=g_?g_.valueOf:void 0;function vie(t){return y_?Object(y_.call(t)):{}}function jie(t,e){var r=e?eE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var wie="[object Boolean]",Cie="[object Date]",Nie="[object Map]",Sie="[object Number]",Aie="[object RegExp]",kie="[object Set]",Iie="[object String]",Tie="[object Symbol]",Eie="[object ArrayBuffer]",Oie="[object DataView]",Pie="[object Float32Array]",Die="[object Float64Array]",_ie="[object Int8Array]",$ie="[object Int16Array]",Rie="[object Int32Array]",Mie="[object Uint8Array]",Lie="[object Uint8ClampedArray]",Fie="[object Uint16Array]",Bie="[object Uint32Array]";function qie(t,e,r){var n=t.constructor;switch(e){case Eie:return eE(t);case wie:case Cie:return new n(+t);case Oie:return yie(t,r);case Pie:case Die:case _ie:case $ie:case Rie:case Mie:case Lie:case Fie:case Bie:return jie(t,r);case Nie:return new n;case Sie:case Iie:return new n(t);case Aie:return xie(t);case kie:return new n;case Tie:return vie(t)}}var b_=Object.create,Vie=function(){function t(){}return function(e){if(!Dm(e))return{};if(b_)return b_(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Uie(t){return typeof t.constructor=="function"&&!JT(t)?Vie(YT(t)):{}}var zie="[object Map]";function Wie(t){return dl(t)&&rs(t)==zie}var x_=Ic&&Ic.isMap,Hie=x_?KT(x_):Wie,Gie="[object Set]";function Yie(t){return dl(t)&&rs(t)==Gie}var v_=Ic&&Ic.isSet,Kie=v_?KT(v_):Yie,Jie=1,Xie=2,Zie=4,Wq="[object Arguments]",Qie="[object Array]",ele="[object Boolean]",tle="[object Date]",rle="[object Error]",Hq="[object Function]",nle="[object GeneratorFunction]",ale="[object Map]",sle="[object Number]",Gq="[object Object]",ole="[object RegExp]",ile="[object Set]",lle="[object String]",cle="[object Symbol]",ule="[object WeakMap]",dle="[object ArrayBuffer]",fle="[object DataView]",mle="[object Float32Array]",hle="[object Float64Array]",ple="[object Int8Array]",gle="[object Int16Array]",yle="[object Int32Array]",ble="[object Uint8Array]",xle="[object Uint8ClampedArray]",vle="[object Uint16Array]",jle="[object Uint32Array]",pt={};pt[Wq]=pt[Qie]=pt[dle]=pt[fle]=pt[ele]=pt[tle]=pt[mle]=pt[hle]=pt[ple]=pt[gle]=pt[yle]=pt[ale]=pt[sle]=pt[Gq]=pt[ole]=pt[ile]=pt[lle]=pt[cle]=pt[ble]=pt[xle]=pt[vle]=pt[jle]=!0;pt[rle]=pt[Hq]=pt[ule]=!1;function _d(t,e,r,n,a,s){var i,l=e&Jie,c=e&Xie,u=e&Zie;if(i!==void 0)return i;if(!Dm(t))return t;var d=_m(t);if(d){if(i=gie(t),!l)return Bq(t,i)}else{var f=rs(t),m=f==Hq||f==nle;if(_q(t))return Qoe(t,l);if(f==Gq||f==Wq||m&&!a){if(i=c||m?{}:Uie(t),!l)return c?sie(t,Xoe(i,t)):nie(t,Hoe(i,t))}else{if(!pt[f])return a?t:{};i=qie(t,f,l)}}s||(s=new ou);var h=s.get(t);if(h)return h;s.set(t,i),Kie(t)?t.forEach(function(g){i.add(_d(g,e,r,g,t,s))}):Hie(t)&&t.forEach(function(g,x){i.set(x,_d(g,e,r,x,t,s))});var p=u?c?iie:oie:c?ZT:XT,b=d?void 0:p(t);return Xse(b||t,function(g,x){b&&(x=g,g=t[x]),Oq(i,x,_d(g,e,r,x,t,s))}),i}var wle=1,Cle=4;function fd(t){return _d(t,wle|Cle)}var j_=Array.isArray,w_=Object.keys,Nle=Object.prototype.hasOwnProperty,Sle=typeof Element<"u";function YS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=j_(t),n=j_(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!YS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=w_(t);if(s=f.length,s!==w_(e).length)return!1;for(a=s;a--!==0;)if(!Nle.call(e,f[a]))return!1;if(Sle&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!YS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Ale=function(e,r){try{return YS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Xs=rt(Ale);var kle=4;function C_(t){return _d(t,kle)}function Yq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Ile="[object Symbol]";function tE(t){return typeof t=="symbol"||dl(t)&&ul(t)==Ile}var Tle="Expected a function";function rE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Tle);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(rE.Cache||Ho),r}rE.Cache=Ho;var Ele=500;function Ole(t){var e=rE(t,function(n){return r.size===Ele&&r.clear(),n}),r=e.cache;return e}var Ple=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dle=/\\(\\)?/g,_le=Ole(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ple,function(r,n,a,s){e.push(a?s.replace(Dle,"$1"):n||r)}),e});function $le(t){if(typeof t=="string"||tE(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var N_=Ro?Ro.prototype:void 0,S_=N_?N_.toString:void 0;function Kq(t){if(typeof t=="string")return t;if(_m(t))return Yq(t,Kq)+"";if(tE(t))return S_?S_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Rle(t){return t==null?"":Kq(t)}function Jq(t){return _m(t)?Yq(t,$le):tE(t)?[t]:Bq(_le(Rle(t)))}var Xq={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=typeof Symbol=="function"&&Symbol.for,nE=gr?Symbol.for("react.element"):60103,aE=gr?Symbol.for("react.portal"):60106,b0=gr?Symbol.for("react.fragment"):60107,x0=gr?Symbol.for("react.strict_mode"):60108,v0=gr?Symbol.for("react.profiler"):60114,j0=gr?Symbol.for("react.provider"):60109,w0=gr?Symbol.for("react.context"):60110,sE=gr?Symbol.for("react.async_mode"):60111,C0=gr?Symbol.for("react.concurrent_mode"):60111,N0=gr?Symbol.for("react.forward_ref"):60112,S0=gr?Symbol.for("react.suspense"):60113,Mle=gr?Symbol.for("react.suspense_list"):60120,A0=gr?Symbol.for("react.memo"):60115,k0=gr?Symbol.for("react.lazy"):60116,Lle=gr?Symbol.for("react.block"):60121,Fle=gr?Symbol.for("react.fundamental"):60117,Ble=gr?Symbol.for("react.responder"):60118,qle=gr?Symbol.for("react.scope"):60119;function En(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nE:switch(t=t.type,t){case sE:case C0:case b0:case v0:case x0:case S0:return t;default:switch(t=t&&t.$$typeof,t){case w0:case N0:case k0:case A0:case j0:return t;default:return e}}case aE:return e}}}function Zq(t){return En(t)===C0}ct.AsyncMode=sE;ct.ConcurrentMode=C0;ct.ContextConsumer=w0;ct.ContextProvider=j0;ct.Element=nE;ct.ForwardRef=N0;ct.Fragment=b0;ct.Lazy=k0;ct.Memo=A0;ct.Portal=aE;ct.Profiler=v0;ct.StrictMode=x0;ct.Suspense=S0;ct.isAsyncMode=function(t){return Zq(t)||En(t)===sE};ct.isConcurrentMode=Zq;ct.isContextConsumer=function(t){return En(t)===w0};ct.isContextProvider=function(t){return En(t)===j0};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nE};ct.isForwardRef=function(t){return En(t)===N0};ct.isFragment=function(t){return En(t)===b0};ct.isLazy=function(t){return En(t)===k0};ct.isMemo=function(t){return En(t)===A0};ct.isPortal=function(t){return En(t)===aE};ct.isProfiler=function(t){return En(t)===v0};ct.isStrictMode=function(t){return En(t)===x0};ct.isSuspense=function(t){return En(t)===S0};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===b0||t===C0||t===v0||t===x0||t===S0||t===Mle||typeof t=="object"&&t!==null&&(t.$$typeof===k0||t.$$typeof===A0||t.$$typeof===j0||t.$$typeof===w0||t.$$typeof===N0||t.$$typeof===Fle||t.$$typeof===Ble||t.$$typeof===qle||t.$$typeof===Lle)};ct.typeOf=En;Xq.exports=ct;var Vle=Xq.exports,oE=Vle,Ule={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zle={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wle={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iE={};iE[oE.ForwardRef]=Wle;iE[oE.Memo]=Qq;function A_(t){return oE.isMemo(t)?Qq:iE[t.$$typeof]||Ule}var Hle=Object.defineProperty,Gle=Object.getOwnPropertyNames,k_=Object.getOwnPropertySymbols,Yle=Object.getOwnPropertyDescriptor,Kle=Object.getPrototypeOf,I_=Object.prototype;function e6(t,e,r){if(typeof e!="string"){if(I_){var n=Kle(e);n&&n!==I_&&e6(t,n,r)}var a=Gle(e);k_&&(a=a.concat(k_(e)));for(var s=A_(t),i=A_(e),l=0;l<a.length;++l){var c=a[l];if(!zle[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=Yle(e,c);try{Hle(t,c,u)}catch{}}}}return t}var Jle=e6;const Xle=rt(Jle);function Bt(){return Bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bt.apply(this,arguments)}function Zle(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function lE(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function T_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var I0=v.createContext(void 0);I0.displayName="FormikContext";var cE=I0.Provider,Qle=I0.Consumer;function t6(){var t=v.useContext(I0);return t}var E_=function(e){return Array.isArray(e)&&e.length===0},Wr=function(e){return typeof e=="function"},$m=function(e){return e!==null&&typeof e=="object"},ece=function(e){return String(Math.floor(Number(e)))===e},LC=function(e){return Object.prototype.toString.call(e)==="[object String]"},r6=function(e){return v.Children.count(e)===0},FC=function(e){return $m(e)&&Wr(e.then)};function ur(t,e,r,n){n===void 0&&(n=0);for(var a=Jq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function _a(t,e,r){for(var n=C_(t),a=n,s=0,i=Jq(e);s<i.length-1;s++){var l=i[s],c=ur(t,i.slice(0,s+1));if(c&&($m(c)||Array.isArray(c)))a=a[l]=C_(c);else{var u=i[s+1];a=a[l]=ece(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function n6(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];$m(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},n6(l,e,r,n[i])):n[i]=e}return n}function tce(t,e){switch(e.type){case"SET_VALUES":return Bt({},t,{values:e.payload});case"SET_TOUCHED":return Bt({},t,{touched:e.payload});case"SET_ERRORS":return Xs(t.errors,e.payload)?t:Bt({},t,{errors:e.payload});case"SET_STATUS":return Bt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Bt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Bt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Bt({},t,{values:_a(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Bt({},t,{touched:_a(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Bt({},t,{errors:_a(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Bt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Bt({},t,{touched:n6(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Bt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Bt({},t,{isSubmitting:!1});default:return t}}var si={},Mh={};function Qe(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=lE(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Bt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=v.useRef(m.initialValues),p=v.useRef(m.initialErrors||si),b=v.useRef(m.initialTouched||Mh),g=v.useRef(m.initialStatus),x=v.useRef(!1),y=v.useRef({});v.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=v.useState(0),S=w[1],C=v.useRef({values:fd(m.initialValues),errors:fd(m.initialErrors)||si,touched:fd(m.initialTouched)||Mh,status:fd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,N=v.useCallback(function(X){var Y=C.current;C.current=tce(Y,X),Y!==C.current&&S(function(de){return de+1})},[]),A=v.useCallback(function(X,Y){return new Promise(function(de,ue){var Ce=m.validate(X,Y);Ce==null?de(si):FC(Ce)?Ce.then(function(_e){de(_e||si)},function(_e){ue(_e)}):de(Ce)})},[m.validate]),T=v.useCallback(function(X,Y){var de=m.validationSchema,ue=Wr(de)?de(Y):de,Ce=Y&&ue.validateAt?ue.validateAt(Y,X):nce(X,ue);return new Promise(function(_e,ze){Ce.then(function(){_e(si)},function(Ft){Ft.name==="ValidationError"?_e(rce(Ft)):ze(Ft)})})},[m.validationSchema]),k=v.useCallback(function(X,Y){return new Promise(function(de){return de(y.current[X].validate(Y))})},[]),E=v.useCallback(function(X){var Y=Object.keys(y.current).filter(function(ue){return Wr(y.current[ue].validate)}),de=Y.length>0?Y.map(function(ue){return k(ue,ur(X,ue))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(de).then(function(ue){return ue.reduce(function(Ce,_e,ze){return _e==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||_e&&(Ce=_a(Ce,Y[ze],_e)),Ce},{})})},[k]),P=v.useCallback(function(X){return Promise.all([E(X),m.validationSchema?T(X):{},m.validate?A(X):{}]).then(function(Y){var de=Y[0],ue=Y[1],Ce=Y[2],_e=US.all([de,ue,Ce],{arrayMerge:ace});return _e})},[m.validate,m.validationSchema,E,A,T]),M=$n(function(X){return X===void 0&&(X=j.values),N({type:"SET_ISVALIDATING",payload:!0}),P(X).then(function(Y){return x.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:Y})),Y})});v.useEffect(function(){i&&x.current===!0&&Xs(h.current,m.initialValues)&&M(h.current)},[i,M]);var R=v.useCallback(function(X){var Y=X&&X.values?X.values:h.current,de=X&&X.errors?X.errors:p.current?p.current:m.initialErrors||{},ue=X&&X.touched?X.touched:b.current?b.current:m.initialTouched||{},Ce=X&&X.status?X.status:g.current?g.current:m.initialStatus;h.current=Y,p.current=de,b.current=ue,g.current=Ce;var _e=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:de,touched:ue,status:Ce,values:Y,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(m.onReset){var ze=m.onReset(j.values,me);FC(ze)?ze.then(_e):_e()}else _e()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);v.useEffect(function(){x.current===!0&&!Xs(h.current,m.initialValues)&&u&&(h.current=m.initialValues,R(),i&&M(h.current))},[u,m.initialValues,R,i,M]),v.useEffect(function(){u&&x.current===!0&&!Xs(p.current,m.initialErrors)&&(p.current=m.initialErrors||si,N({type:"SET_ERRORS",payload:m.initialErrors||si}))},[u,m.initialErrors]),v.useEffect(function(){u&&x.current===!0&&!Xs(b.current,m.initialTouched)&&(b.current=m.initialTouched||Mh,N({type:"SET_TOUCHED",payload:m.initialTouched||Mh}))},[u,m.initialTouched]),v.useEffect(function(){u&&x.current===!0&&!Xs(g.current,m.initialStatus)&&(g.current=m.initialStatus,N({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var $=$n(function(X){if(y.current[X]&&Wr(y.current[X].validate)){var Y=ur(j.values,X),de=y.current[X].validate(Y);return FC(de)?(N({type:"SET_ISVALIDATING",payload:!0}),de.then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:ue}}),N({type:"SET_ISVALIDATING",payload:!1})})):(N({type:"SET_FIELD_ERROR",payload:{field:X,value:de}}),Promise.resolve(de))}else if(m.validationSchema)return N({type:"SET_ISVALIDATING",payload:!0}),T(j.values,X).then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:ur(ue,X)}}),N({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=v.useCallback(function(X,Y){var de=Y.validate;y.current[X]={validate:de}},[]),U=v.useCallback(function(X){delete y.current[X]},[]),D=$n(function(X,Y){N({type:"SET_TOUCHED",payload:X});var de=Y===void 0?a:Y;return de?M(j.values):Promise.resolve()}),_=v.useCallback(function(X){N({type:"SET_ERRORS",payload:X})},[]),F=$n(function(X,Y){var de=Wr(X)?X(j.values):X;N({type:"SET_VALUES",payload:de});var ue=Y===void 0?r:Y;return ue?M(de):Promise.resolve()}),H=v.useCallback(function(X,Y){N({type:"SET_FIELD_ERROR",payload:{field:X,value:Y}})},[]),W=$n(function(X,Y,de){N({type:"SET_FIELD_VALUE",payload:{field:X,value:Y}});var ue=de===void 0?r:de;return ue?M(_a(j.values,X,Y)):Promise.resolve()}),ee=v.useCallback(function(X,Y){var de=Y,ue=X,Ce;if(!LC(X)){X.persist&&X.persist();var _e=X.target?X.target:X.currentTarget,ze=_e.type,Ft=_e.name,Vs=_e.id,za=_e.value,Qo=_e.checked;_e.outerHTML;var Us=_e.options,ei=_e.multiple;de=Y||Ft||Vs,ue=/number|range/.test(ze)?(Ce=parseFloat(za),isNaN(Ce)?"":Ce):/checkbox/.test(ze)?oce(ur(j.values,de),Qo,za):Us&&ei?sce(Us):za}de&&W(de,ue)},[W,j.values]),fe=$n(function(X){if(LC(X))return function(Y){return ee(Y,X)};ee(X)}),ke=$n(function(X,Y,de){Y===void 0&&(Y=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:X,value:Y}});var ue=de===void 0?a:de;return ue?M(j.values):Promise.resolve()}),ne=v.useCallback(function(X,Y){X.persist&&X.persist();var de=X.target,ue=de.name,Ce=de.id;de.outerHTML;var _e=Y||ue||Ce;ke(_e,!0)},[ke]),J=$n(function(X){if(LC(X))return function(Y){return ne(Y,X)};ne(X)}),le=v.useCallback(function(X){Wr(X)?N({type:"SET_FORMIK_STATE",payload:X}):N({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),Z=v.useCallback(function(X){N({type:"SET_STATUS",payload:X})},[]),te=v.useCallback(function(X){N({type:"SET_ISSUBMITTING",payload:X})},[]),G=$n(function(){return N({type:"SUBMIT_ATTEMPT"}),M().then(function(X){var Y=X instanceof Error,de=!Y&&Object.keys(X).length===0;if(de){var ue;try{if(ue=xe(),ue===void 0)return}catch(Ce){throw Ce}return Promise.resolve(ue).then(function(Ce){return x.current&&N({type:"SUBMIT_SUCCESS"}),Ce}).catch(function(Ce){if(x.current)throw N({type:"SUBMIT_FAILURE"}),Ce})}else if(x.current&&(N({type:"SUBMIT_FAILURE"}),Y))throw X})}),z=$n(function(X){X&&X.preventDefault&&Wr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Wr(X.stopPropagation)&&X.stopPropagation(),G().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),me={resetForm:R,validateForm:M,validateField:$,setErrors:_,setFieldError:H,setFieldTouched:ke,setFieldValue:W,setStatus:Z,setSubmitting:te,setTouched:D,setValues:F,setFormikState:le,submitForm:G},xe=$n(function(){return d(j.values,me)}),Te=$n(function(X){X&&X.preventDefault&&Wr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Wr(X.stopPropagation)&&X.stopPropagation(),R()}),Ne=v.useCallback(function(X){return{value:ur(j.values,X),error:ur(j.errors,X),touched:!!ur(j.touched,X),initialValue:ur(h.current,X),initialTouched:!!ur(b.current,X),initialError:ur(p.current,X)}},[j.errors,j.touched,j.values]),cr=v.useCallback(function(X){return{setValue:function(de,ue){return W(X,de,ue)},setTouched:function(de,ue){return ke(X,de,ue)},setError:function(de){return H(X,de)}}},[W,ke,H]),On=v.useCallback(function(X){var Y=$m(X),de=Y?X.name:X,ue=ur(j.values,de),Ce={name:de,value:ue,onChange:fe,onBlur:J};if(Y){var _e=X.type,ze=X.value,Ft=X.as,Vs=X.multiple;_e==="checkbox"?ze===void 0?Ce.checked=!!ue:(Ce.checked=!!(Array.isArray(ue)&&~ue.indexOf(ze)),Ce.value=ze):_e==="radio"?(Ce.checked=ue===ze,Ce.value=ze):Ft==="select"&&Vs&&(Ce.value=Ce.value||[],Ce.multiple=!0)}return Ce},[J,fe,j.values]),Pn=v.useMemo(function(){return!Xs(h.current,j.values)},[h.current,j.values]),qs=v.useMemo(function(){return typeof l<"u"?Pn?j.errors&&Object.keys(j.errors).length===0:l!==!1&&Wr(l)?l(m):l:j.errors&&Object.keys(j.errors).length===0},[l,Pn,j.errors,m]),Dn=Bt({},j,{initialValues:h.current,initialErrors:p.current,initialTouched:b.current,initialStatus:g.current,handleBlur:J,handleChange:fe,handleReset:Te,handleSubmit:z,resetForm:R,setErrors:_,setFormikState:le,setFieldTouched:ke,setFieldValue:W,setFieldError:H,setStatus:Z,setSubmitting:te,setTouched:D,setValues:F,submitForm:G,validateForm:M,validateField:$,isValid:qs,dirty:Pn,unregisterField:U,registerField:B,getFieldProps:On,getFieldMeta:Ne,getFieldHelpers:cr,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Dn}function $e(t){var e=Qe(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return v.useImperativeHandle(s,function(){return e}),v.createElement(cE,{value:e},r?v.createElement(r,e):a?a(e):n?Wr(n)?n(e):r6(n)?null:v.Children.only(n):null)}function rce(t){var e={};if(t.inner){if(t.inner.length===0)return _a(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;ur(e,i.path)||(e=_a(e,i.path,i.message))}}return e}function nce(t,e,r,n){r===void 0&&(r=!1);var a=KS(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function KS(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||QD(a)?KS(a):a!==""?a:void 0}):QD(t[n])?e[n]=KS(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function ace(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?US(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=US(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function sce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function oce(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var ice=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function $n(t){var e=v.useRef(t);return ice(function(){e.current=t}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Fe=v.forwardRef(function(t,e){var r=t.action,n=lE(t,["action"]),a=r??"#",s=t6(),i=s.handleReset,l=s.handleSubmit;return v.createElement("form",Bt({onSubmit:l,ref:e,onReset:i,action:a},n))});Fe.displayName="Form";function lce(t){var e=function(a){return v.createElement(Qle,null,function(s){return v.createElement(t,Bt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",Xle(e,t)}var cce=function(e,r,n){var a=Zi(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},uce=function(e,r,n){var a=Zi(e),s=a[r];return a[r]=a[n],a[n]=s,a},BC=function(e,r,n){var a=Zi(e);return a.splice(r,0,n),a},dce=function(e,r,n){var a=Zi(e);return a[r]=n,a},Zi=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Bt({},e,{length:r+1}))}else return[]},O_=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||$m(a)){var s=Zi(a);return n(s)}return a}},a6=function(t){Zle(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=O_(l,s),h=O_(i,s),p=_a(f.values,u,s(ur(f.values,u))),b=l?m(ur(f.errors,u)):void 0,g=i?h(ur(f.touched,u)):void 0;return E_(b)&&(b=void 0),E_(g)&&(g=void 0),Bt({},f,{values:p,errors:l?_a(f.errors,u,b):f.errors,touched:i?_a(f.touched,u,g):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(Zi(i),[fd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return uce(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return cce(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return BC(l,s,i)},function(l){return BC(l,s,null)},function(l){return BC(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return dce(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(T_(a)),a.pop=a.pop.bind(T_(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Xs(ur(a.formik.values,a.name),ur(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?Zi(i):[];return s||(s=l[a]),Wr(l.splice)&&l.splice(a,1),Wr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=lE(d,["validate","validationSchema"]),m=Bt({},a,{form:f,name:u});return i?v.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):r6(c)?null:v.Children.only(c):null},e}(v.Component);a6.defaultProps={validateOnChange:!0};var Jr=lce(a6);function hl(t){this._maxSize=t,this.clear()}hl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};hl.prototype.get=function(t){return this._values[t]};hl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var fce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,s6=/^\d+$/,mce=/^\d/,hce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,pce=/^\s*(['"]?)(.*?)(\1)\s*$/,uE=512,P_=new hl(uE),D_=new hl(uE),__=new hl(uE),_i={Cache:hl,split:JS,normalizePath:qC,setter:function(t){var e=qC(t);return D_.get(t)||D_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=qC(t);return __.get(t)||__.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(dE(r)||s6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){gce(Array.isArray(t)?t:JS(t),e,r)}};function qC(t){return P_.get(t)||P_.set(t,JS(t).map(function(e){return e.replace(pce,"$2")}))}function JS(t){return t.match(fce)||[""]}function gce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(xce(a)&&(a='"'+a+'"'),l=dE(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function dE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function yce(t){return t.match(mce)&&!t.match(s6)}function bce(t){return hce.test(t)}function xce(t){return!dE(t)&&(yce(t)||bce(t))}const vce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,T0=t=>t.match(vce)||[],E0=t=>t[0].toUpperCase()+t.slice(1),fE=(t,e)=>T0(t).join(e).toLowerCase(),o6=t=>T0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),jce=t=>E0(o6(t)),wce=t=>fE(t,"_"),Cce=t=>fE(t,"-"),Nce=t=>E0(fE(t," ")),Sce=t=>T0(t).map(E0).join(" ");var VC={words:T0,upperFirst:E0,camelCase:o6,pascalCase:jce,snakeCase:wce,kebabCase:Cce,sentenceCase:Nce,titleCase:Sce},mE={exports:{}};mE.exports=function(t){return i6(Ace(t),t)};mE.exports.array=i6;function i6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=kce(e),l=Ice(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var p=h[--d];c(p,l.get(p),f)}while(d);f.delete(u)}n[--r]=u}}}function Ace(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function kce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Ice(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Tce=mE.exports;const Ece=rt(Tce),Oce=Object.prototype.toString,Pce=Error.prototype.toString,Dce=RegExp.prototype.toString,_ce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",$ce=/^Symbol\((.*)\)(.*)$/;function Rce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Rce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return _ce.call(t).replace($ce,"Symbol($1)");const n=Oce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Pce.call(t)+"]":n==="RegExp"?Dce.call(t):null}function hs(t,e){let r=$_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=$_(this[n],e);return s!==null?s:a},2)}function l6(t){return t==null?[]:[].concat(t)}let c6,u6,d6,Mce=/\$\{\s*(\w+)\s*\}/g;c6=Symbol.toStringTag;class R_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[c6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],l6(e).forEach(s=>{if(Gr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}u6=Symbol.hasInstance;d6=Symbol.toStringTag;class Gr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Mce,(a,s)=>hs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new R_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[d6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Gr)}static[u6](e){return R_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Sa={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${hs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${hs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${hs(r,!0)}\``+a}},zr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Gs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},XS={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ZS={isValue:"${path} field must be ${value}"},$p={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Rp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Lce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${hs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${hs(r,!0)}\``}return Gr.formatError(Sa.notType,t)}};Object.assign(Object.create(null),{mixed:Sa,string:zr,number:Gs,date:XS,object:$p,array:Rp,boolean:ZS,tuple:Lce});const O0=t=>t&&t.__isYupSchema__;class Sx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Sx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!O0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const Lh={context:"$",value:"."};function Tc(t,e){return new Go(t,e)}class Go{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Lh.context,this.isValue=this.key[0]===Lh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Lh.context:this.isValue?Lh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&_i.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Go.prototype.__isYupRef=!0;const la=t=>t==null;function Sl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:p,context:b,abortEarly:g=i.spec.abortEarly,disableStackTrace:x=i.spec.disableStackTrace}=a;function y(E){return Go.isRef(E)?E.getValue(r,p,b):E}function w(E={}){const P=Object.assign({value:r,originalValue:s,label:i.spec.label,path:E.path||n,spec:i.spec,disableStackTrace:E.disableStackTrace||x},f,E.params);for(const R of Object.keys(P))P[R]=y(P[R]);const M=new Gr(Gr.formatError(E.message||m,P),r,P.path,E.type||u,P.disableStackTrace);return M.params=P,M}const S=g?l:c;let C={path:n,parent:p,type:u,from:a.from,createError:w,resolve:y,options:a,originalValue:s,schema:i};const j=E=>{Gr.isError(E)?S(E):E?c(null):S(w())},N=E=>{Gr.isError(E)?S(E):l(E)};if(h&&la(r))return j(!0);let T;try{var k;if(T=d.call(C,r,C),typeof((k=T)==null?void 0:k.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(j,N)}}catch(E){N(E);return}j(T)}return e.OPTIONS=t,e}function Fce(t,e,r,n=r){let a,s,i;return e?(_i.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Ax extends Set{describe(){const e=[];for(const r of this.values())e.push(Go.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Ax(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Ul(t,e=new Map){if(O0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Ul(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Ul(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Ul(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Ul(a,e)}else throw Error(`Unable to clone ${t}`);return r}class An{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ax,this._blacklist=new Ax,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Sa.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Ul(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&la(s))return s;let i=hs(e),l=hs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=b=>{a||(a=!0,r(b,i))},f=b=>{a||(a=!0,n(b,i))},m=s.length,h=[];if(!m)return f([]);let p={value:i,originalValue:l,path:c,options:u,schema:this};for(let b=0;b<s.length;b++){const g=s[b];g(p,d,function(y){y&&(Array.isArray(y)?h.push(...y):h.push(y)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Gr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Gr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Gr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Gr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Gr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Gr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Ul(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Sl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Sl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Sa.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Sa.notNull){return this.nullability(!1,e)}required(e=Sa.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Sa.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Sl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=l6(e).map(s=>new Go(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Sx(a,r):Sx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Sl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Sa.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Sl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Sa.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Sl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}An.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])An.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=Fce(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])An.prototype[t]=An.prototype.oneOf;for(const t of["not","nope"])An.prototype[t]=An.prototype.notOneOf;function Qi(){return new f6}class f6 extends An{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=ZS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return la(r)||r===!0}})}isFalse(e=ZS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return la(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Qi.prototype=f6.prototype;const Bce=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function qce(t){const e=QS(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function QS(t){var e,r;const n=Bce.exec(t);return n?{year:Ga(n[1]),month:Ga(n[2],1)-1,day:Ga(n[3],1),hour:Ga(n[4]),minute:Ga(n[5]),second:Ga(n[6]),millisecond:n[7]?Ga(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ga(n[10]),minuteOffset:Ga(n[11])}:null}function Ga(t,e=0){return Number(t)||e}let Vce=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Uce=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Wce="^\\d{4}-\\d{2}-\\d{2}",Hce="\\d{2}:\\d{2}:\\d{2}",Gce="(([+-]\\d{2}(:?\\d{2})?)|Z)",Yce=new RegExp(`${Wce}T${Hce}(\\.\\d+)?${Gce}$`),Kce=t=>la(t)||t===t.trim(),Jce={}.toString();function O(){return new m6}class m6 extends An{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===Jce?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Sa.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=zr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=zr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=zr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||zr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=zr.email){return this.matches(Vce,{name:"email",message:e,excludeEmptyString:!0})}url(e=zr.url){return this.matches(Uce,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zr.uuid){return this.matches(zce,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(Yce,{name:"datetime",message:r||zr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||zr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=QS(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||zr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=QS(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Kce})}lowercase(e=zr.lowercase){return this.transform(r=>la(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>la(r)||r===r.toLowerCase()})}uppercase(e=zr.uppercase){return this.transform(r=>la(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>la(r)||r===r.toUpperCase()})}}O.prototype=m6.prototype;let Xce=t=>t!=+t;function K(){return new h6}class h6 extends An{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Xce(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Gs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Gs.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Gs.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Gs.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Gs.positive){return this.moreThan(0,e)}negative(e=Gs.negative){return this.lessThan(0,e)}integer(e=Gs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>la(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>la(a)?a:Math[e](a))}}K.prototype=h6.prototype;let p6=new Date(""),Zce=t=>Object.prototype.toString.call(t)==="[object Date]";function Me(){return new Rm}class Rm extends An{constructor(){super({type:"date",check(e){return Zce(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=qce(e),isNaN(e)?Rm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Go.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=XS.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=XS.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Rm.INVALID_DATE=p6;Me.prototype=Rm.prototype;Me.INVALID_DATE=p6;function Qce(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=_i.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Go.isRef(l)&&l.isSibling?s(l.path,i):O0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Ece.array(Array.from(n),r).reverse()}function M_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function g6(t){return(e,r)=>M_(t,e)-M_(t,r)}const y6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Mp(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Mp(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Mp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Mp)}):"optional"in t?t.optional():t}const eue=(t,e)=>{const r=[..._i.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=_i.getter(_i.join(r),!0)(t);return!!(a&&n in a)};let L_=t=>Object.prototype.toString.call(t)==="[object Object]";function F_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const tue=g6([]);function ie(t){return new b6(t)}class b6 extends An{constructor(e){super({type:"object",check(r){return L_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=tue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let p,b=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:b,context:r.context,parent:c});let g=m instanceof An?m.spec:void 0,x=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||f in a;continue}p=!r.__validating||!x?m.cast(a[f],u):a[f],p!==void 0&&(c[f]=p)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!L_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Go.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Qce(e,r),n._sortErrors=g6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Mp(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=_i.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return eue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(y6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||$p.exact,test(r){if(r==null)return!0;const n=F_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=$p.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=F_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=$p.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(VC.camelCase)}snakeCase(){return this.transformKeys(VC.snakeCase)}constantCase(){return this.transformKeys(e=>VC.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}ie.prototype=b6.prototype;function Sr(t){return new x6(t)}class x6 extends An{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(y6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!O0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+hs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Rp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Rp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Rp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Sr.prototype=x6.prototype;function rue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const nue=v.forwardRef(rue);function aue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const sue=v.forwardRef(aue);function oue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const iue=v.forwardRef(oue);function lue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const cue=v.forwardRef(lue);function uue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),v.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const due=v.forwardRef(uue);function fue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const mue=v.forwardRef(fue);function hue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const pue=v.forwardRef(hue);function gue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const yue=v.forwardRef(gue);function bue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const xue=v.forwardRef(bue);function ge({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=v.useState(1),[d,f]=v.useState(10),[m,h]=v.useState(""),[p,b]=v.useState({key:null,direction:"asc"}),g=Array.isArray(e)?e:[],y=[...g.filter(T=>Object.values(T).some(k=>k!=null&&k.toString().toLowerCase().includes(m.toLowerCase())))].sort((T,k)=>{if(!p.key)return 0;const E=T[p.key],P=k[p.key];return E==null?1:P==null?-1:typeof E=="string"&&typeof P=="string"?p.direction==="asc"?E.localeCompare(P):P.localeCompare(E):p.direction==="asc"?E-P:P-E}),w=Math.ceil(y.length/d),S=y.slice((c-1)*d,c*d),C=T=>{let k="asc";p.key===T&&p.direction==="asc"&&(k="desc"),b({key:T,direction:k})},j=T=>{u(T)},N=T=>{f(Number(T.target.value)),u(1)},A=T=>{h(T.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):g.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(mue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:A})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(T=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>T.sortable!==!1&&C(T.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:T.header}),T.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(iue,{className:`h-3 w-3 ${p.key===T.key&&p.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(sue,{className:`h-3 w-3 -mt-1 ${p.key===T.key&&p.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},T.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:S.map((T,k)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(T):void 0,children:[t.map(E=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${E.className||"text-neutral-500"}`,children:E.render?E.render(T[E.key],T):T[E.key]},`${T.id||k}-${E.key}`)),typeof a=="function"?(()=>{const E=a(T);return(E==null?void 0:E.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:E.map((P,M)=>o.jsx("button",{onClick:R=>{R.stopPropagation(),P.onClick(T)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((E,P)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),E.onClick(T)},className:E.className||"text-primary-600 hover:text-primary-900",title:E.title,children:E.icon?o.jsx(E.icon,{className:"h-5 w-5","aria-hidden":"true"}):E.label},P))})]},T.id||k))})]})}),r&&w>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,y.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,y.length)})," ","of ",o.jsx("span",{className:"font-medium",children:y.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:N,children:[5,10,25,50].map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(vue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>j(c+1),disabled:c===w,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(jue,{className:"h-5 w-5"})})]})]})]})]})}function vue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function jue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function I({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:p,...b}){const g=m&&h,x=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:b.rows||3,className:Re("form-textarea border border-gray-300 px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:y=>{const w=Array.from(y.target.selectedOptions).map(S=>S.value);d({target:{name:e,value:w}})},onBlur:f,className:Re("form-select border border-gray-300 px-4 py-2 h-auto",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:c.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:Re("form-select border border-gray-300 px-4 py-2 ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:[o.jsx("option",{value:"",children:b.defaultOption||"Select"}),c.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:Re("form-checkbox",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${y.value}`,name:e,type:"radio",value:y.value,disabled:s,checked:u===y.value,onChange:d,onBlur:f,className:Re("form-radio ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:`${e}-${y.value}`,className:"ml-2 block text-sm text-neutral-700",children:y.label})]},y.value))});case"date":case"number":case"email":case"password":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:Re("form-input border border-gray-300 h-[42px] px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),x(),g?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):p?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:p}):null]})}function ae({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Sp.Root,{show:t,as:v.Fragment,children:o.jsx(xC,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Sp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(xC.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Sp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(xC.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(JB,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const P0="https://staging-engine.testthelink.online",wue=[],Cue={departments:wue,department:null,isLoading:!1,error:null},er=L("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${P0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lp=L("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${P0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Fp=L("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${P0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bp=L("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${P0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),v6=ye({name:"departments",initialState:Cue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(er.pending,e=>{e.isLoading=!0}).addCase(er.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(er.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Lp.pending,e=>{e.isLoading=!0}).addCase(Lp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Lp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fp.pending,e=>{e.isLoading=!0}).addCase(Fp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(Fp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Bp.pending,e=>{e.isLoading=!0}).addCase(Bp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Bp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:z7e,resetDepartmentState:W7e}=v6.actions,Nue=v6.reducer;function Sue(){const t=se(),{departments:e,isLoading:r,error:n}=q(S=>S.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(er())},[t]);const m=ie().shape({Code:O().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(j=>j.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0}),Name:O().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(j=>j.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0})}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},g=()=>{d&&(t(Bp(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{t(i?Fp({...S,ID:i.ID}):Lp(S)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:T})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const D0="https://staging-engine.testthelink.online",Aue=[],kue={currencies:Aue,currency:null,isLoading:!1,error:null},qp=L("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${D0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vp=L("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${D0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Up=L("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${D0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zp=L("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${D0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),j6=ye({name:"currencies",initialState:kue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(qp.pending,e=>{e.isLoading=!0}).addCase(qp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vp.pending,e=>{e.isLoading=!0}).addCase(Vp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Vp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Up.pending,e=>{e.isLoading=!0}).addCase(Up.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(Up.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zp.pending,e=>{e.isLoading=!0}).addCase(zp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:H7e,resetCurrencyState:G7e}=j6.actions,Iue=j6.reducer,Tue=(t=[],e=null)=>ie().shape({Code:O().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:O().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function Eue(){const t=se(),{currencies:e,isLoading:r,error:n}=q(w=>w.currencies),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(qp())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},p=w=>{f(w),u(!0)},b=async()=>{try{d&&(t(zp(d.ID)),u(!1),f(null)),Ie.success("Currency deleted successfully.")}catch(w){console.error("Failed to delete currency:",w),Ie.error("Failed to delete currency. Please try again.")}},g=(w,{resetForm:S})=>{try{t(i?Up({...w,ID:i.ID}):Vp(w)),Ie.success("Currency saved successfully.")}catch(C){console.error("Failed to save currency:",C),Ie.error("Failed to save currency. Please try again.")}finally{s(!1),S()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Tue(e,i),onSubmit:g,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:A})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const _0="https://staging-engine.testthelink.online",Oue=[],Pue={subdepartments:Oue,subdepartment:null,isLoading:!1,error:null},wo=L("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Wp=L("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${_0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),Hp=L("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${_0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),Gp=L("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${_0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),w6=ye({name:"subdepartments",initialState:Pue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wp.pending,e=>{e.isLoading=!0}).addCase(Wp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(Hp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gp.pending,e=>{e.isLoading=!0}).addCase(Gp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Gp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:Y7e,resetSubdepartmentState:K7e}=w6.actions,Due=w6.reducer;var C6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B_=V.createContext&&V.createContext(C6),_ue=["attr","size","title"];function $ue(t,e){if(t==null)return{};var r=Rue(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(this,arguments)}function q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(r),!0).forEach(function(n){Mue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mue(t,e,r){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t){return t&&t.map((e,r)=>V.createElement(e.tag,Ix({key:r},e.attr),N6(e.child)))}function hE(t){return e=>V.createElement(Bue,kx({attr:Ix({},t.attr)},e),N6(t.child))}function Bue(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=$ue(t,_ue),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),V.createElement("svg",kx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Ix(Ix({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&V.createElement("title",null,s),t.children)};return B_!==void 0?V.createElement(B_.Consumer,null,r=>e(r)):e(C6)}function que(t){return hE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Vue(t){return hE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Uue(t){return hE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Pt=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=v.useState(""),d=c===""?t:t.filter(m=>{var h;return(h=m==null?void 0:m.label)==null?void 0:h.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full ",children:o.jsx(jl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(jl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(jl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var p;return((p=t.find(b=>b.value===h))==null?void 0:p.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Uue,{className:"h-4 w-4"})}),o.jsx(jl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(que,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(jl.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(jl.Option,{className:({active:p,selected:b})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${p?"bg-blue-50 text-blue-700":""}
                         ${b?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})};function zue(){const t=se(),{subdepartments:e,isLoading:r}=q(C=>C.subdepartments||{}),{departments:n}=q(C=>C.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(wo()),t(er())},[t]);const m=ie().shape({Code:O().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Code.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),Name:O().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Name.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),DepartmentID:K().required("Department is required")}),h=e.map(C=>{var j;return{...C,departmentName:((j=n.find(N=>N.ID===C.DepartmentID))==null?void 0:j.Name)||"N/A"}}),p=()=>{l(null),s(!0)},b=C=>{l(C),s(!0)},g=C=>{f(C),u(!0)},x=async()=>{try{d&&(await t(Gp(d.ID)).unwrap(),Ie.success("Subdepartment deleted successfully."))}catch(C){console.error("Failed to delete subdepartment:",C),Ie.error("Failed to delete subdepartment. Please try again.")}finally{f(null),u(!1)}},y=async(C,{resetForm:j})=>{var T;const N=((T=n.find(k=>k.ID===Number(C.DepartmentID)))==null?void 0:T.Name)||"",A={...C,departmentName:N};try{t(i?Hp({...A,ID:i.ID}):Wp(A)),Ie.success("Subdepartment saved successfully.")}catch(k){console.log(k),Ie.error("Failed to save subdepartment. Please try again.")}finally{s(!1),j()}},w=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,data:h,actions:S,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:y,children:({values:C,errors:j,touched:N,handleChange:A,handleBlur:T,isSubmitting:k,setFieldValue:E})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:C.Code,onChange:A,onBlur:T,error:j.Code,touched:N.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:C.Name,onChange:A,onBlur:T,error:j.Name,touched:N.Name}),o.jsx(Pt,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:C.DepartmentID,onSelect:P=>E("DepartmentID",P),onBlur:T,error:j.DepartmentID,touched:N.DepartmentID,options:n.map(P=>({value:P.ID,label:P.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const $0="https://staging-engine.testthelink.online",Wue=[],Hue={users:Wue,user:null,isLoading:!1,error:null},Yp=L("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Kp=L("users/addUser",async(t,e)=>{try{const r=await fetch(`${$0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),Jp=L("users/updateUser",async(t,e)=>{try{const r=await fetch(`${$0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),Xp=L("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${$0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),S6=ye({name:"users",initialState:Hue,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Yp.pending,e=>{e.isLoading=!0}).addCase(Yp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Yp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kp.pending,e=>{e.isLoading=!0}).addCase(Kp.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xp.pending,e=>{e.isLoading=!0}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:J7e,resetUserState:X7e}=S6.actions,Gue=S6.reducer,R0="https://staging-engine.testthelink.online",Yue=[],Kue={employees:Yue,employee:null,isLoading:!1,error:null},rn=L("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${R0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zp=L("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${R0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Qp=L("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${R0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),eg=L("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${R0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),A6=ye({name:"employees",initialState:Kue,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(rn.pending,e=>{e.isLoading=!0}).addCase(rn.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(rn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qp.pending,e=>{e.isLoading=!0}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:Z7e,resetEmployeeState:Q7e}=A6.actions,Jue=A6.reducer,M0="https://staging-engine.testthelink.online",Xue=[],rc=L("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${M0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),tg=L("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${M0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eA=L("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${M0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),rg=L("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${M0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zue=ye({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(rc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=Xue}).addCase(tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(eA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),Que=Zue.reducer,ede=ie().shape({UserName:O().required("User name is required"),UserAccessID:O().required("User Access is required"),Password:O().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:O().oneOf([Tc("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:O().required("Choose Employee is required")});function tde(){const t=se(),{users:e,isLoading:r}=q(M=>M.users),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null),{userroles:b,isLoading:g}=q(M=>M.userroles),x=b.map(M=>({value:M.ID,label:M.Description})),{employees:y,isLoading:w}=q(M=>M.employees),S=y.map(M=>({value:M.ID,label:`${M.FirstName} ${M.LastName}`}));v.useEffect(()=>{t(Yp()),t(rn()),t(rc())},[t]);const C=()=>{i(null),a(!0)},j=M=>{i(M),a(!0)},N=M=>{d(M),c(!0)},A=()=>{u&&(t(Xp(u.ID)),c(!1),d(null))},T=async(M,{resetForm:R,setErrors:$,setSubmitting:B})=>{const U={...M};try{if(s){const D=await t(Jp({...U,ID:s.ID})).unwrap()}else{const D=await t(Kp(U)).unwrap()}}catch(D){console.log(D),$({general:"Unexpected error occurred."})}finally{R(),a(!1),B(!1)}},k=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],E=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(M=>{var R;return{...M,UserAccessValue:(R=b.find($=>$.ID===M.UserAccessID))==null?void 0:R.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:k,data:P,actions:E,loading:r||g||w})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx($e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:ede,onSubmit:T,children:({values:M,errors:R,touched:$,handleChange:B,handleBlur:U,isSubmitting:D})=>o.jsxs(Fe,{className:"space-y-4",children:[R.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:R.general}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:M.UserName,onChange:B,onBlur:U,error:R.UserName,touched:$.UserName}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:M.UserAccessID,onChange:B,onBlur:U,error:R.UserAccessID,touched:$.UserAccessID,options:x}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:M.Password,onChange:B,onBlur:U,error:R.Password,touched:$.Password}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:M.ConfirmPassword,onChange:B,onBlur:U,error:R.ConfirmPassword,touched:$.ConfirmPassword}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:M.EmployeeID,onChange:B,onBlur:U,error:R.EmployeeID,touched:$.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:D?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})]})}const L0="https://staging-engine.testthelink.online",rde=[],nde={accounts:rde,account:null,isLoading:!1,error:null},Ar=L("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${L0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ng=L("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${L0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ag=L("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${L0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sg=L("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${L0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),k6=ye({name:"chartOfAccounts",initialState:nde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(Ar.pending,e=>{e.isLoading=!0}).addCase(Ar.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(Ar.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:e8e,resetAccountState:t8e}=k6.actions,ade=k6.reducer,F0="https://staging-engine.testthelink.online",sde=[],ode={accountGroups:sde,accountGroup:null,isLoading:!1,error:null},nc=L("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F0}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),og=L("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${F0}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=L("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${F0}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=L("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${F0}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),I6=ye({name:"accountGroups",initialState:ode,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(nc.pending,e=>{e.isLoading=!0}).addCase(nc.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:r8e,resetAccountGroupState:n8e}=I6.actions,ide=I6.reducer,B0="https://staging-engine.testthelink.online",lde=[],cde={majorAccountGroups:lde,majorAccountGroup:null,isLoading:!1,error:null},$i=L("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B0}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),cg=L("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=L("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=L("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),T6=ye({name:"majorAccountGroups",initialState:cde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase($i.pending,e=>{e.isLoading=!0}).addCase($i.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase($i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:a8e,resetMajorAccountGroupState:s8e}=T6.actions,ude=T6.reducer,q0="https://staging-engine.testthelink.online",dde=[],fde={subMajorAccountGroups:dde,subMajorAccountGroup:null,isLoading:!1,error:null},$d=L("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${q0}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),fg=L("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=L("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=L("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),E6=ye({name:"subMajorAccountGroups",initialState:fde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase($d.pending,e=>{e.isLoading=!0}).addCase($d.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase($d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:o8e,resetSubMajorAccountGroupState:i8e}=E6.actions,mde=E6.reducer,hde=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=t6(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return v.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(I,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},pde=ie().shape({AccountCode:O().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:O().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:O().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:O().max(250,"Description must be at most 250 characters"),AccountTypeID:O().required("Account group is required"),AccountSubTypeID:O().required("Major account group is required"),AccountCategoryID:O().required("Sub Major account group is required"),NormalBalance:O().required("Normal balance is required")});function gde({initialData:t,onClose:e}){const r=se(),{accountGroups:n}=q(d=>d.accountGroups),{majorAccountGroups:a}=q(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=q(d=>d.subMajorAccountGroups),[i,l]=v.useState(!1);v.useEffect(()=>{r(nc()),r($i()),r($d())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=d=>{l(!0);const f=t?ag({...d,ID:t.ID}):ng(d);r(f).unwrap().then(()=>{e()}).catch(m=>{console.error("Error submitting account:",m)}).finally(()=>{l(!1)})};return o.jsx($e,{initialValues:c,validationSchema:pde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isValid:b,setFieldValue:g})=>{var x;return o.jsxs(Fe,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(hde,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name}),o.jsx(Pt,{label:"Account Group",options:n.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Account Group",onSelect:y=>{g("AccountTypeID",y||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(Pt,{label:"Major Account Group",options:a.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Major Account Group",onSelect:y=>{g("AccountSubTypeID",y||"")},selectedValue:((x=a.find(y=>y.ID===d.AccountSubTypeID))==null?void 0:x.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(Pt,{label:"Sub Major Account Group",options:s.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Sub Major Account Group",onSelect:y=>{g("AccountCategoryID",y||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:p,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:p,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!b,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),V_=t=>{const e=bde(t);return e.charAt(0).toUpperCase()+e.slice(1)},O6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),xde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...vde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:O6("lucide",a),...!s&&!xde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(jde,{ref:s,iconNode:e,className:O6(`lucide-${yde(V_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=V_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],P6=yr("building",wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pE=yr("calendar",Cde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Sde=yr("circle-arrow-left",Nde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],D6=yr("credit-card",Ade);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ide=yr("eye-off",kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_6=yr("eye",Tde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ode=yr("file-text",Ede);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],el=yr("paperclip",Pde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ya=yr("pencil",Dde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V0=yr("plus",_de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Tx=yr("printer",$de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mde=yr("save",Rde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fde=yr("square-pen",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hr=yr("trash-2",Bde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Kn=yr("trash",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],U0=yr("user",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gE=yr("users",Ude);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wde=yr("x",zde);function Hde(){const t=se(),{accounts:e,isLoading:r}=q(y=>y.chartOfAccounts),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ar())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(sg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete account:",y)}},b=()=>{a(!1),i(null)},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(gde,{initialData:s,onClose:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Gde=ie().shape({Code:O().required("Code is required").max(10,"Code must be at most 10 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters")});function Yde(){const t=se(),{accountGroups:e,isLoading:r,error:n}=q(w=>w.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(nc())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},p=w=>{f(w),u(!0)},b=()=>{d&&(t(lg(d.ID)),u(!1),f(null))},g=(w,{resetForm:S})=>{t(i?ig({...w,ID:i.ID}):og(w)),s(!1),S()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Gde,onSubmit:g,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:A})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Kde=ie().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:K().required("Account Type is required")});function Jde(){const t=se(),{majorAccountGroups:e,isLoading:r}=q(S=>S.majorAccountGroups),{accountGroups:n}=q(S=>S.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t($i()),t(nc())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountTypeID);return{...S,accountTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},g=()=>{d&&(t(dg(d.ID)),u(!1),f(null))},x=async(S,{resetForm:C})=>{var A;const j=((A=n.find(T=>T.ID===Number(S.AccountTypeID)))==null?void 0:A.Name)||"",N={...S,accountTypeName:j};i?await t(ug({...N,ID:i.ID})).unwrap():await t(cg(N)).unwrap(),$i(),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:Kde,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:T})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:N,onBlur:A,error:C.AccountTypeID,touched:j.AccountTypeID,options:n.map(k=>({value:k.ID,label:k.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Xde=ie().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:K().required("Account Sub Type is required")});function Zde(){const t=se(),{subMajorAccountGroups:e,isLoading:r}=q(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=q(S=>S.majorAccountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t($d()),t($i())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},g=()=>{d&&(t(hg(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{var A;const j=((A=n.find(T=>T.ID===Number(S.AccountSubTypeID)))==null?void 0:A.Name)||"",N={...S,accountSubTypeName:j};t(i?mg({...N,ID:i.ID}):fg(N)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:Xde,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:T})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:N,onBlur:A,error:C.AccountSubTypeID,touched:j.AccountSubTypeID,options:n.map(k=>({value:k.ID,label:k.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qde({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:h=[],modeOfPaymentOptions:p=[]}){const b=ie({Code:O().required("Code is required"),TIN:O().required("TIN is required"),Name:O().required("Name is required"),PhoneNumber:O(),MobileNumber:O().required("Mobile number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O(),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),StreetAddress:O().required("Street address is required"),ZIPCode:O().required("Zip code is required"),TypeID:O().required("Vendor type is required"),RDO:O().required("Revenue District Office is required"),IndustryTypeID:O().required("Industry is required"),TaxCodeID:O().required("Tax code is required"),PaymentTermsID:O().required("Payment terms are required"),Vatable:Qi(),PaymentMethodID:O().required("Mode of payment is required"),ContactPerson:O().required("Contact person is required"),DeliveryLeadTime:K().required("Delivery lead time is required").typeError("Must be a number")}),g=Qe({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:b,onSubmit:N=>{e(N)}}),{values:x,handleChange:y,handleBlur:w,errors:S,touched:C,setFieldValue:j}=g;return v.useEffect(()=>{const N=s.find(A=>A.ID.toString()===x.BarangayID);N&&(N.MunicipalityCode&&j("MunicipalityID",N.MunicipalityCode),N.ProvinceCode&&j("ProvinceID",N.ProvinceCode),N.RegionCode&&j("RegionID",N.RegionCode))},[x.BarangayID]),v.useEffect(()=>{const N=a.find(A=>A.ID.toString()===x.MunicipalityID);N&&(N.ProvinceCode&&j("ProvinceID",N.ProvinceCode),N.RegionCode&&j("RegionID",N.RegionCode))},[x.MunicipalityID]),v.useEffect(()=>{const N=n.find(A=>A.ID.toString()===x.ProvinceID);N&&N.RegionCode&&j("RegionID",N.RegionCode)},[x.ProvinceID]),o.jsxs("form",{onSubmit:g.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:x.Code,onChange:y,onBlur:w,error:S.Code,touched:C.Code,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:x.TIN,onChange:y,onBlur:w,error:S.TIN,touched:C.TIN,required:!0})]}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:x.Name,onChange:y,onBlur:w,error:S.Name,touched:C.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Phone Number",name:"PhoneNumber",type:"text",value:x.PhoneNumber,onChange:y,onBlur:w}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",value:x.MobileNumber,onChange:y,onBlur:w,error:S.MobileNumber,touched:C.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.EmailAddress,onChange:y,onBlur:w,error:S.EmailAddress,touched:C.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",type:"text",value:x.Website,onChange:y,onBlur:w})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:i,value:x.RegionID,onChange:y,onBlur:w,error:S.RegionID,touched:C.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:l,value:x.ProvinceID,onChange:y,onBlur:w,error:S.ProvinceID,touched:C.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:x.MunicipalityID,onChange:y,onBlur:w,error:S.MunicipalityID,touched:C.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:x.BarangayID,onChange:y,onBlur:w,error:S.BarangayID,touched:C.BarangayID,required:!0})]}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",value:x.StreetAddress,onChange:y,onBlur:w,error:S.StreetAddress,touched:C.StreetAddress,required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:x.ZIPCode,onChange:y,onBlur:w,error:S.ZIPCode,touched:C.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:x.TypeID,onChange:y,onBlur:w,error:S.TypeID,touched:C.TypeID,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",type:"text",value:x.RDO,onChange:y,onBlur:w,error:S.RDO,touched:C.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:x.IndustryTypeID,onChange:y,onBlur:w,error:S.IndustryTypeID,touched:C.IndustryTypeID,required:!0}),o.jsx(I,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:x.TaxCodeID,onChange:y,onBlur:w,error:S.TaxCodeID,touched:C.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:h,value:x.PaymentTermsID,onChange:y,onBlur:w,error:S.PaymentTermsID,touched:C.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:x.Vatable,onChange:y,onBlur:w}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:p,value:x.PaymentMethodID,onChange:y,onBlur:w,error:S.PaymentMethodID,touched:C.PaymentMethodID,required:!0}),o.jsx(I,{label:"Contact Person",name:"ContactPerson",type:"text",value:x.ContactPerson,onChange:y,onBlur:w,error:S.ContactPerson,touched:C.ContactPerson,required:!0})]}),o.jsx(I,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:x.DeliveryLeadTime,onChange:y,onBlur:w,error:S.DeliveryLeadTime,touched:C.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g.isSubmitting,children:g.isSubmitting?"Saving...":"Save"})]})]})}const z0="https://staging-engine.testthelink.online",efe=[],ps=L("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${z0}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),pg=L("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${z0}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tA=L("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${z0}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=L("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${z0}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tfe=ye({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ps.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ps.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ps.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=efe}).addCase(pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(tA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),rfe=tfe.reducer,W0="https://staging-engine.testthelink.online",nfe=[],Co=L("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W0}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yg=L("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${W0}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),rA=L("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${W0}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=L("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${W0}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),afe=ye({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Co.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Co.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Co.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=nfe}).addCase(yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(rA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),sfe=afe.reducer,H0="https://staging-engine.testthelink.online",ofe=[],No=L("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H0}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xg=L("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${H0}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),nA=L("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${H0}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=L("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${H0}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ife=ye({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(No.pending,e=>{e.isLoading=!0,e.error=null}).addCase(No.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(No.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=ofe}).addCase(xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(nA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),lfe=ife.reducer,G0="https://staging-engine.testthelink.online",cfe=[],So=L("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jg=L("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${G0}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),aA=L("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${G0}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=L("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${G0}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ufe=ye({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0,e.error=null}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=cfe}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(aA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),dfe=ufe.reducer,Y0="https://staging-engine.testthelink.online",ffe=[],Ao=L("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cg=L("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${Y0}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sA=L("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${Y0}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ng=L("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${Y0}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mfe=ye({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=ffe}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(sA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),hfe=mfe.reducer,K0="https://staging-engine.testthelink.online",pfe=[],Rd=L("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=L("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${K0}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oA=L("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${K0}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=L("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${K0}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gfe=ye({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Rd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rd.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Rd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=pfe}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(oA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),yfe=gfe.reducer,J0="https://staging-engine.testthelink.online",bfe=[],ac=L("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J0}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=L("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${J0}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iA=L("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${J0}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=L("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${J0}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xfe=ye({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ac.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ac.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=bfe}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(iA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),vfe=xfe.reducer,X0="https://staging-engine.testthelink.online",jfe=[],ma=L("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Tg=L("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${X0}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=L("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${X0}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=L("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${X0}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wfe=ye({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ma.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ma.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(ma.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=jfe}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Cfe=wfe.reducer,Z0="https://staging-engine.testthelink.online",Nfe=[],sc=L("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z0}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Og=L("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${Z0}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cA=L("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Z0}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=L("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Z0}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Sfe=ye({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sc.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Nfe}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(cA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Afe=Sfe.reducer,Q0="https://staging-engine.testthelink.online",kfe=[],oc=L("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dg=L("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=L("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_g=L("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ife=ye({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oc.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=kfe}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Tfe=Ife.reducer;function Efe(){const t=se(),{vendorDetails:e,isLoading:r}=q(F=>F.vendorDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{regions:f}=q(F=>F.regions),{provinces:m}=q(F=>F.provinces),{municipalities:h}=q(F=>F.municipalities),{barangays:p}=q(F=>F.barangays),{vendorTypes:b}=q(F=>F.vendorTypes),{industries:g}=q(F=>F.industries),{taxCodes:x}=q(F=>F.taxCodes),{paymentTerms:y}=q(F=>F.paymentTerms),{modeOfPayments:w}=q(F=>F.modeOfPayments);v.useEffect(()=>{t(ps()),t(Co()),t(No()),t(So()),t(Ao()),t(Rd()),t(ac()),t(ma()),t(sc()),t(oc())},[t]);const S=f.map(F=>({value:F.ID,label:F.Name})),C=m.map(F=>({value:F.ID,label:F.Name})),j=h.map(F=>({value:F.ID,label:F.Name})),N=p.map(F=>({value:F.ID,label:F.Name})),A=b.map(F=>({value:F.ID,label:F.Name})),T=g.map(F=>({value:F.ID,label:F.Name})),k=x.map(F=>({value:F.ID,label:F.Code})),E=y.map(F=>({value:F.ID,label:F.Name})),P=w.map(F=>({value:F.ID,label:F.Name})),M=()=>{i(null),a(!0)},R=F=>{i(F),a(!0)},$=F=>{d(F),c(!0)},B=async()=>{if(u)try{await t(gg(u.ID)).unwrap(),c(!1),d(null)}catch(F){console.error("Failed to delete vendor details:",F)}},U=F=>{t(s?tA({...F,ID:s.ID}):pg(F)),a(!1)},D=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:F=>{const H=y.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:F=>{const H=w.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:F=>F||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:F=>F?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:F=>{const H=x.find(W=>W.ID==F);return(H==null?void 0:H.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:F=>{const H=b.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:F=>{const H=g.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:F=>F||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:F=>{const H=p.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:F=>{const H=h.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:F=>{const H=m.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:F=>{const H=f.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],_=[{icon:Ae,title:"Edit",onClick:R,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:$,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:M,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:D,data:e,actions:_,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(Qde,{initialData:s,onClose:()=>a(!1),onSubmit:U,provinces:m,municipalities:h,barangays:p,regionOptions:S,provinceOptions:C,municipalityOptions:j,barangayOptions:N,vendorTypeOptions:A,industryOptions:T,taxCodeOptions:k,paymentTermsOptions:E,modeOfPaymentOptions:P})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:B,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ofe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const ej="https://staging-engine.testthelink.online",Pfe=[],$g=L("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=L("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ej}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=L("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ej}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=L("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${ej}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dfe=ye({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Pfe}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),_fe=Dfe.reducer;function $fe(){const t=se(),{vendorCustomerTypes:e,isLoading:r}=q(y=>y.vendorCustomerTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($g())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Mg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete vendor customer type:",y)}},b=y=>{t(s?dA({...y,ID:s.ID}):Rg(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Ofe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Rfe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Mfe(){const t=se(),{vendorTypes:e,isLoading:r}=q(y=>y.vendorTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Rd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ag(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete vendor type:",y)}},b=y=>{t(s?oA({...y,ID:s.ID}):Sg(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(Rfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Lfe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const tj="https://staging-engine.testthelink.online",Ffe=[],Md=L("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=L("modules/addModule",async(t,e)=>{try{const r=await fetch(`${tj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=L("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${tj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=L("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${tj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bfe=ye({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Md.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Md.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Md.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=Ffe}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),qfe=Bfe.reducer;function Vfe(){const t=se(),{modules:e,isLoading:r}=q(y=>y.modules),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Md())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Fg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete module:",y)}},b=y=>{t(s?fA({...y,ID:s.ID}):Lg(y)),a(!1)},g=[{key:"Description",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(Lfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const rj="https://staging-engine.testthelink.online",Ufe=[],ic=L("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=L("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${rj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=L("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${rj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=L("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${rj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),zfe=ye({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ic.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=Ufe}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),Wfe=zfe.reducer,nj="https://staging-engine.testthelink.online",Hfe=[],Ld=L("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=L("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${nj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=L("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${nj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ug=L("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${nj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Gfe=ye({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ld.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ld.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Ld.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=Hfe}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),Yfe=Gfe.reducer,aj="https://staging-engine.testthelink.online",Kfe=[],lc=L("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zg=L("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${aj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=L("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${aj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=L("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${aj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jfe=ye({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lc.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(lc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=Kfe}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),Xfe=Jfe.reducer,Zfe=ie().shape({FirstName:O().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:O().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:O().max(100,"Middle name must be at most 100 characters"),Birthday:Me().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:O().required("Gender is required"),StreetAddress:O().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:O().required("Contact number is required"),EmailAddress:O().email("Invalid email address").required("Email is required"),IDNumber:K(),DepartmentID:K().required("Department is required"),PositionID:O().required("Position is required"),NationalityID:O().required("Nationality is required"),EmploymentStatusID:O().required("Employment status is required"),DateHired:Me().required("Date hired is required"),TIN:O().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:O(),Philhealth:O(),Pagibig:O(),Active:O().required("Status is required"),ZIPCode:O().max(6,"ZIP code must be at most 6 characters"),Region:O().required("Region is required"),Province:O().required("Province is required"),Municipality:O().required("Municipality is required"),Barangay:O().required("Barangay is required")});function Qfe({initialData:t,onClose:e}){const r=se();v.useEffect(()=>{r(er()),r(ic()),r(Ld()),r(Co()),r(No()),r(So()),r(Ao()),r(lc())},[r]);const{regions:n}=q(k=>k.regions),{provinces:a}=q(k=>k.provinces),{municipalities:s}=q(k=>k.municipalities),{barangays:i}=q(k=>k.barangays),{nationalities:l}=q(k=>k.nationalities),c=l==null?void 0:l.map(k=>({value:k.ID,label:k.Name})),u=n.map(k=>({value:k.ID.toString(),label:k.Name})),d=a.map(k=>({value:k.ID.toString(),label:k.Name})),f=s.map(k=>({value:k.ID.toString(),label:k.Name})),m=i.map(k=>({value:k.ID.toString(),label:k.Name})),{departments:h,isLoading:p}=q(k=>k.departments),b=h.map(k=>({value:k.ID,label:k.Name})),{positions:g,isLoading:x}=q(k=>k.positions),y=g.map(k=>({value:k.ID,label:k.Name})),{employmentStatuses:w,isLoading:S}=q(k=>k.employmentStatuses),C=w.map(k=>({value:k.ID,label:k.Name})),[j,N]=v.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},T=k=>{var R;N(!0);const E=((R=h.find($=>$.value===Number(k.DepartmentID)))==null?void 0:R.label)||"",P={...k,DepartmentID:Number(k.DepartmentID),departmentName:E},M=t?Qp({...P,id:t.id,employeeCode:t.employeeCode}):Zp(P);r(M).unwrap().then(()=>{e()}).catch($=>{console.error("Error submitting employee:",$)}).finally(()=>{N(!1),r(rn())})};return o.jsx($e,{initialValues:A,validationSchema:Zfe,onSubmit:T,enableReinitialize:!0,children:({values:k,errors:E,touched:P,handleChange:M,handleBlur:R,isValid:$,setFieldValue:B,submitCount:U})=>(v.useEffect(()=>{const D=i.find(_=>_.ID.toString()===k.Barangay);if(D){const{MunicipalityCode:_,ProvinceCode:F,RegionCode:H}=D;_&&B("Municipality",_),F&&B("Province",F),H&&B("Region",H)}},[k.Barangay]),v.useEffect(()=>{const D=s.find(_=>_.ID.toString()===k.Municipality);if(D){const{ProvinceCode:_,RegionCode:F}=D;_&&B("Province",_),F&&B("Region",F)}},[k.Municipality]),v.useEffect(()=>{const D=a.find(_=>_.ID.toString()===k.Province);if(D){const{RegionCode:_}=D;_&&B("Region",_)}},[k.Province]),o.jsxs(Fe,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(I,{label:"First name",name:"FirstName",type:"text",required:!0,value:k.FirstName,onChange:M,onBlur:R,error:E.FirstName,touched:P.FirstName}),o.jsx(I,{label:"Middle name",name:"MiddleName",type:"text",value:k.MiddleName,onChange:M,onBlur:R,error:E.MiddleName,touched:P.MiddleName}),o.jsx(I,{label:"Last name",name:"LastName",type:"text",required:!0,value:k.LastName,onChange:M,onBlur:R,error:E.LastName,touched:P.LastName}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",required:!0,value:k.Gender,onChange:M,onBlur:R,error:E.Gender,touched:P.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(I,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:k.Birthday,onChange:M,onBlur:R,error:E.Birthday,touched:P.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(I,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:k.Region||"",onChange:M}),o.jsx(I,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:k.Province||"",onChange:M}),o.jsx(I,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:k.Municipality||"",onChange:M}),o.jsx(I,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:k.Barangay||"",onChange:M}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:k.StreetAddress||"",onChange:M,onBlur:R,error:E.StreetAddress,touched:P.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx(Pt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:D=>{const _=c.find(F=>F.value===D);B("NationalityID",D||""),B("Nationality",(_==null?void 0:_.label)||"")},className:"w-full",selectedValue:k.NationalityID,error:E.Nationality,touched:P.Nationality})}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:k.ZIPCode||"",onChange:M,onBlur:R,error:E.ZIPCode,touched:P.ZIPCode}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:k.MobileNumber||"",onChange:M,onBlur:R,error:E.MobileNumber,touched:P.MobileNumber}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:k.EmailAddress||"",onChange:M,onBlur:R,error:E.EmailAddress,touched:P.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:k.EmergencyContact||"",onChange:M,onBlur:R,error:E.EmergencyContact,touched:P.EmergencyContact}),o.jsx(I,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:k.EmergencyNumber||"",onChange:M,onBlur:R,error:E.EmergencyNumber,touched:P.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"ID Number",name:"IDNumber",type:"text",value:k.IDNumber||"",onChange:M}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:k.TIN||"",onChange:M,onBlur:R,error:E.TIN,touched:P.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:k.Pagibig||"",onChange:M,onBlur:R,error:E.Pagibig,touched:P.Pagibig}),o.jsx(I,{label:"GSIS",name:"GSIS",type:"text",value:k.GSIS||"",onChange:M,onBlur:R,error:E.GSIS,touched:P.GSIS})]}),o.jsx(I,{label:"Philhealth",name:"Philhealth",type:"text",value:k.Philhealth||"",onChange:M,onBlur:R,error:E.Philhealth,touched:P.Philhealth}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:k.DepartmentID||"",onChange:M,onBlur:R,error:E.DepartmentID,touched:P.DepartmentID,options:b,disabled:p})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:k.DateHired||"",onChange:M,onBlur:R,error:E.DateHired,touched:P.DateHired}),o.jsx(I,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:k.EmploymentStatusID||"",onChange:M,onBlur:R,error:E.EmploymentStatusID,touched:P.EmploymentStatusID,options:C,disabled:S})]}),o.jsx(I,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:k.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(I,{label:"Position",name:"PositionID",type:"select",required:!0,value:k.PositionID||"",onChange:M,onBlur:R,error:E.PositionID,touched:P.PositionID,options:y,disabled:x}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[k.FirstName,k.MiddleName,k.LastName].filter(Boolean).join(" "),k.TIN&&` - ${k.TIN}`,k.DepartmentID&&` - ${k.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary",children:j?"Saving...":t?"Update":"Save"})]}),U>0&&Object.keys(E).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(E).map(([D,_])=>o.jsx("li",{children:_},D))})]})]}))})}function eme(){const t=se(),{employees:e,isLoading:r}=q(y=>y.employees),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(rn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=()=>{u&&(t(eg(u.ID)),c(!1),d(null))},b=()=>{a(!1),i(null)},g=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"Position",header:"Position",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:y=>(y==null?void 0:y.Name)||""}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(Qfe,{initialData:s,onClose:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function tme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Employment Status is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function rme(){const t=se(),{employmentStatuses:e,isLoading:r}=q(y=>y.employmentStatuses),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ld())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ug(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete employment status:",y)}},b=y=>{t(s?hA({...y,ID:s.ID}):Vg(y)),a(!1)},g=[{key:"Name",header:"Employment Status",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(tme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function nme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Position is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ame(){const t=se(),{positions:e,isLoading:r}=q(y=>y.positions),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ic())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(qg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete position:",y)}},b=y=>{t(s?mA({...y,ID:s.ID}):Bg(y)),a(!1)},g=[{key:"Name",header:"Position",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(nme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function sme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:O().required("User Role is required")}),a=Qe({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ome(){const t=se(),{userroles:e,isLoading:r}=q(y=>y.userroles),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(rc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{if(y.Description=="Administrator"){Ie.error("The 'Administrator' role cannot be edited.");return}i(y),a(!0)},h=y=>{if(y.Description=="Administrator"){Ie.error("The 'Administrator' role cannot be deleted.");return}d(y),c(!0)},p=async()=>{if(u)try{await t(rg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete user role:",y)}},b=y=>{t(s?eA({...y,ID:s.ID}):tg(y)),a(!1)},g=[{key:"Description",header:"User Role",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(sme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ime({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Nationality is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function lme(){const t=se(),{nationalities:e,isLoading:r}=q(y=>y.nationalities),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(lc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Wg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete nationality:",y)}},b=y=>{t(s?pA({...y,ID:s.ID}):zg(y)),a(!1)},g=[{key:"Name",header:"Nationality",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(ime,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Je={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};ie().shape({date:Me().required(Je.required).max(new Date,Je.futureDate),reference:O().max(50,"Reference number too long"),particulars:O().required(Je.required).max(500,"Particulars too long"),debitEntries:Sr().of(ie().shape({accountCode:O().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Sr().of(ie().shape({accountCode:O().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const U_=ie().shape({date:Me().required(Je.required).max(new Date,Je.futureDate),period:O().required(Je.required),stallNumber:O().required(Je.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:O().required(Je.required),stallOwner:O().required(Je.required).max(100,"Name too long"),amount:K().required(Je.required).moreThan(0,Je.positiveNumber)});ie().shape({certificateNo:O().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Me().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:O().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:O().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:O().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:O().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:O().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:O().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Me().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:O().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:K().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:K().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:O().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:K().min(0,"Amount cannot be negative").nullable(),purpose:O().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:K().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:K().min(0,"Interest cannot be negative").nullable()});ie().shape({date:Me().required(Je.required).max(new Date,Je.futureDate),tdNumber:O().required(Je.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:O().required(Je.required).max(100,"Name too long"),location:O().required(Je.required).max(200,"Location too long"),basicTax:K().required(Je.required).moreThan(0,Je.positiveNumber),sef:K().required(Je.required).moreThan(0,Je.positiveNumber),penalty:K().min(0,"Amount cannot be negative")});const cme=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),MunicipalityCode:O().required(Je.required),ProvinceCode:O().required(Je.required),RegionCode:O().required(Je.required)}),ume=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),ProvinceCode:O().required(Je.required),RegionCode:O().required(Je.required)}),dme=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),RegionCode:O().required(Je.required)}),z_=ie().shape({Name:O().required(Je.required).max(100,"Name too long")});ie().shape({id:O().required("ID is required"),status:O().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Me().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:O().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Me().required("Date is required").max(new Date,"Date cannot be in the future"),agency:O().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:O().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:O().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function fme(){const[t,e]=v.useState("region"),[r,n]=v.useState(!1),[a,s]=v.useState(null),[i,l]=v.useState(!1),[c,u]=v.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=se(),{regions:m}=q(R=>R.regions),{provinces:h}=q(R=>R.provinces),{municipalities:p}=q(R=>R.municipalities),{barangays:b}=q(R=>R.barangays);v.useEffect(()=>{f(Co()),f(No()),f(So()),f(Ao())},[f]);const g=()=>{switch(t){case"region":return z_;case"province":return dme;case"municipality":return ume;case"barangay":return cme;default:return z_}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},y=()=>{switch(t){case"region":return m;case"province":return h.map(R=>({...R,RegionName:P(R.RegionCode,m)}));case"municipality":return p.map(R=>({...R,RegionName:P(R.RegionCode,m),ProvinceName:P(R.ProvinceCode,h)}));case"barangay":return b.map(R=>({...R,RegionName:P(R.RegionCode,m),ProvinceName:P(R.ProvinceCode,h),MunicipalityName:P(R.MunicipalityCode,p)}));default:return[]}},w=()=>{switch(t){case"region":return yg;case"province":return xg;case"municipality":return jg;case"barangay":return Cg;default:return null}},S=()=>{switch(t){case"region":return rA;case"province":return nA;case"municipality":return aA;case"barangay":return sA;default:return null}},C=()=>{switch(t){case"region":return bg;case"province":return vg;case"municipality":return wg;case"barangay":return Ng;default:return null}},j=[{icon:Ae,title:"Edit",onClick:R=>A(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:R=>T(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],N=()=>{s(null),n(!0)},A=R=>{s(R),n(!0)},T=R=>{u(R),l(!0)},k=()=>{c&&(f(C()(c.ID)),l(!1),u(null))};v.useEffect(()=>{r&&E.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const E=Qe({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:g(),onSubmit:async(R,{setSubmitting:$})=>{const B=a?S():w(),U=a?{...a,...R}:R;await f(B(U)).unwrap(),n(!1),$(!1)}}),P=(R,$)=>{const B=$.find(U=>U.ID.toString()===R.toString());return B?B.Name:""},M=()=>{const R={formik:E,onChange:E.handleChange,onBlur:E.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(I,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...R});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...R}),o.jsx(I,{label:"Region",name:"RegionCode",type:"select",options:m.map($=>({value:$.ID,label:$.Name})),value:E.values.RegionCode,error:E.errors.RegionCode,touched:E.touched.RegionCode,...R})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Municipality",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter municipality name",...R}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"select",options:h.map($=>({value:$.ID,label:$.Name})),value:E.values.ProvinceCode,error:E.errors.ProvinceCode,touched:E.touched.ProvinceCode,onChange:$=>{const B=$.target.value,U=h.find(D=>D.ID.toString()===B.toString());E.setFieldValue("ProvinceCode",B),U&&E.setFieldValue("RegionCode",U.RegionCode)},onBlur:E.handleBlur,required:!0}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:P(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Barangay",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter barangay name",...R}),o.jsx(I,{label:"Municipality",name:"MunicipalityCode",type:"select",options:p.map($=>({value:$.ID,label:$.Name})),value:E.values.MunicipalityCode,error:E.errors.MunicipalityCode,touched:E.touched.MunicipalityCode,onChange:$=>{const B=$.target.value,U=p.find(D=>D.ID.toString()===B.toString());E.setFieldValue("MunicipalityCode",B),U&&(E.setFieldValue("ProvinceCode",U.ProvinceCode),E.setFieldValue("RegionCode",U.RegionCode))},onBlur:E.handleBlur,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"text",value:P(E.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:P(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:N,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(R=>o.jsx("button",{onClick:()=>e(R),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===R?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[R]},R))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x(),data:y(),actions:j,pagination:!0})}),o.jsx(ae,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:E.handleSubmit,className:"p-4 space-y-4",children:[M(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E.isSubmitting,children:E.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})})]})}const sj="https://staging-engine.testthelink.online",mme=[],Fd=L("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hg=L("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${sj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=L("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${sj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gg=L("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${sj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),hme=ye({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Fd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=mme}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),pme=hme.reducer,oj="https://staging-engine.testthelink.online",gme=[],Bd=L("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yg=L("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=L("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=L("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${oj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),yme=ye({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Bd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=gme}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),bme=yme.reducer,ij="https://staging-engine.testthelink.online",xme=[],vme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],jme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],wme={ppes:xme,ppe:null,isLoading:!1,error:null,categories:vme,suppliers:jme},Jg=L("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=L("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${ij}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Zg=L("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${ij}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=L("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${ij}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$6=ye({name:"ppes",initialState:wme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Jg.pending,e=>{e.isLoading=!0}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xg.pending,e=>{e.isLoading=!0}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zg.pending,e=>{e.isLoading=!0}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qg.pending,e=>{e.isLoading=!0}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:l8e,resetPPEResource:c8e,addCategory:u8e,addSupplier:d8e}=$6.actions,Cme=$6.reducer,Nme=ie().shape({CategoryID:O().required("Category is required"),Description:O().required("Description is required"),DepreciationRate:K().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:K().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:K().typeError("Must be a number").required("Net Book Value is required"),SupplierID:O().required("Supplier is required"),PPENumber:O().required("PPE Number is required"),Unit:O().required("Unit is required"),Barcode:O().required("Barcode is required"),Quantity:K().typeError("Must be a number").required("Quantity is required"),Cost:K().typeError("Must be a number").required("Cost is required"),DateAcquired:O().required("Date acquired is required"),EstimatedUsefulLife:K().typeError("Must be a number").required("Estimated useful life is required"),PONumber:O().required("PO Number is required"),PRNumber:O().required("PR Number is required"),InvoiceNumber:O().required("Invoice Number is required"),AIRNumber:O().required("AIR Number is required"),RISNumber:O().required("RIS Number is required"),Remarks:O()});function Sme({initialData:t,onClose:e}){const r=se(),[n,a]=v.useState(!1),{ppeSuppliers:s}=q(u=>u.ppeSuppliers),{ppeCategories:i}=q(u=>u.ppeCategories);v.useEffect(()=>{r(Fd()),r(Bd())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?Zg({...u,ID:t.ID}):Xg(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting PPE:",f)}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:l,validationSchema:Nme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:p})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Ame=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function kme(){const t=se(),{ppes:e,isLoading:r}=q(S=>S.ppes),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{t(Jg())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{},m=()=>{i(!1)},h=S=>{c(S),a(!0)},p=S=>{window.confirm("Are you sure you want to delete this PPE entry?")&&t(Qg(S.ID))},b=()=>{a(!1),c(null)},g=Ame.map(S=>S.key==="SupplierID"?{key:S.key,header:S.header,sortable:!0,className:"text-neutral-900",render:(C,j)=>j.Supplier.Name||"N/A"}:{key:S.key,header:S.header,sortable:!0,className:"text-neutral-900"}),x=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-danger-600 hover:text-danger-900 p-1 rounded-full hover:bg-danger-50"}],y=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],w=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Tx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Tx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Sme,{initialData:l,onClose:b})}),o.jsx(ae,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(I,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:w,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(I,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:y,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function Ime({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Tme(){const t=se(),{ppeCategories:e,isLoading:r}=q(y=>y.ppeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Gg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete PPE category:",y)}},b=y=>{t(s?gA({...y,ID:s.ID}):Hg(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(Ime,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Eme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ome(){const t=se(),{ppeSuppliers:e,isLoading:r}=q(y=>y.ppeSuppliers),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Bd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Kg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete PPE supplier:",y)}},b=y=>{t(s?yA({...y,ID:s.ID}):Yg(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Eme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const lj="https://staging-engine.testthelink.online",Pme=[],cc=L("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ey=L("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${lj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=L("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${lj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=L("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${lj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dme=ye({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Pme}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),_me=Dme.reducer,$me=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],Rme=ie().shape({});function Mme({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=se(),{documentDetails:i}=q(b=>b.documentDetails),{positions:l}=q(b=>b.positions),{employees:c}=q(b=>b.employees);v.useEffect(()=>{s(cc()),s(ic()),s(rn())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=v.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=b=>{const g=[...d];g.splice(b,1),f(g)},p=(b,g)=>{const x=[...d];x[b]=g,f(x)};return o.jsx($e,{initialValues:u,validationSchema:Rme,onSubmit:(b,{setSubmitting:g})=>{const x=d.map(w=>({PositionorEmployee:w.type,PositionorEmployeeID:w.value,AmountFrom:w.amountFrom,AmountTo:w.amountTo})),y={...b,AllorMajority:n,approvers:x};r(y),g(!1)},enableReinitialize:!0,children:({values:b,errors:g,touched:x,handleChange:y,handleBlur:w,setFieldValue:S,isSubmitting:C})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:b.DocumentTypeID,onChange:y,onBlur:w,error:g.DocumentTypeID,touched:x.DocumentTypeID,options:i.map(j=>({value:j.ID,label:j.Name}))}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:b.SequenceLevel,onChange:y,onBlur:w,error:g.SequenceLevel,touched:x.SequenceLevel,options:$me}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:b.NumberofApprover||"",onChange:y,onBlur:w,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(j,N)=>o.jsx("option",{value:N+1,children:N+1},N+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((j,N)=>{var A,T,k;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Position",checked:j.type==="Position",onChange:()=>p(N,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Employee",checked:j.type==="Employee",onChange:()=>p(N,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:j.value,onChange:E=>p(N,{...j,value:E.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(j.type==="Position"?l:c).map(E=>o.jsx("option",{value:E.ID,children:j.type==="Position"?E.Name:`${E.FirstName} ${E.MiddleName} ${E.LastName}`},E.ID))]}),((A=j.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(N),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Le,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:j.amountFrom,onChange:E=>p(N,{...j,amountFrom:E.target.value})}),((T=j.errors)==null?void 0:T.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:j.amountTo,onChange:E=>p(N,{...j,amountTo:E.target.value})}),((k=j.errors)==null?void 0:k.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountTo})]})]})]}),N<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},N)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Save"})]})]})})}const cj="https://staging-engine.testthelink.online",Lme=[],Fme={approvalMatrix:Lme,matrix:null,isLoading:!1,error:null},qd=L("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ry=L("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${cj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=L("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${cj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=L("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${cj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),R6=ye({name:"approvalMatrix",initialState:Fme,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(qd.pending,e=>{e.isLoading=!0}).addCase(qd.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ny.pending,e=>{e.isLoading=!0}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ay.pending,e=>{e.isLoading=!0}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:f8e,resetMatrixState:m8e}=R6.actions,Bme=R6.reducer;function qme(){const t=se(),{approvalMatrix:e,isLoading:r,error:n}=q(w=>w.approvalMatrix),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(qd())},[t]);const m=()=>{l(null),s(!0)},h=w=>{var N;const S=((N=w.Approvers)==null?void 0:N.map(A=>({type:A.PositionorEmployee,value:A.PositionorEmployeeID,amountFrom:Number(A.AmountFrom),amountTo:Number(A.AmountTo)})))||[],{Approvers:C,...j}=w;l({...j,approvers:S}),s(!0)},p=w=>{f(w),u(!0)},b=async()=>{if(d)try{await t(ay(d.ID)).unwrap(),u(!1),f(null)}catch(w){console.error("Failed to delete approval matrix:",w)}},g=async w=>{try{i?await t(ny({...w,ID:i.ID})).unwrap():await t(ry(w)).unwrap(),t(qd()),s(!1)}catch(S){console.error("Failed to submit approval matrix:",S)}},x=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ge,{columns:x,data:e,actions:y,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(Mme,{initialData:i,onClose:()=>s(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const uj="https://staging-engine.testthelink.online",Vme=[],Ume={banks:Vme,bank:null,isLoading:!1,error:null},Ri=L("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sy=L("banks/addBank",async(t,e)=>{try{const r=await fetch(`${uj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oy=L("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${uj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=L("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${uj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),M6=ye({name:"banks",initialState:Ume,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Ri.pending,e=>{e.isLoading=!0}).addCase(Ri.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Ri.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sy.pending,e=>{e.isLoading=!0}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oy.pending,e=>{e.isLoading=!0}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iy.pending,e=>{e.isLoading=!0}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:h8e,resetBankState:p8e}=M6.actions,zme=M6.reducer,Wme=ie().shape({BranchCode:O().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:O().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),Address:O().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:O().required("Account number is required"),SwiftCode:O().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:O().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:K().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:O().required("Currency is required")});function Hme({initialData:t,onClose:e}){const r=se(),[n,a]=v.useState(!1),{currencies:s}=q(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?oy({...u,ID:t.ID}):sy(u);r(d).unwrap().then(()=>{e(),Ie.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(Ri())})};return o.jsx($e,{initialValues:i,validationSchema:Wme,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:h})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(p=>({value:p.ID,label:p.Code+" - "+p.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Gme=()=>{const t=se(),{banks:e=[],isLoading:r}=q(y=>y.banks),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ri())},[]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=()=>{a(!1),i(null)},p=y=>{d(y),c(!0)},b=async()=>{if(u)try{await t(iy(u.ID)).unwrap(),Ie.success("Bank deleted successfully")}catch(y){Ie.error(y.message||"Failed to delete bank")}finally{c(!1),d(null),t(Ri())}},g=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:y=>(y==null?void 0:y.Code)||"N/A"}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(ae,{isOpen:n,onClose:h,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(Hme,{initialData:s,onClose:h})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},Yme=(t=[],e=null)=>ie({Name:O().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:O().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:O().required("Prefix is required"),Suffix:O().required("Suffix is required"),StartNumber:K().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:K().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:O().required("Document type category is required")}),Kme=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=se(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?await a(bA({...l,ID:t.ID})).unwrap():await a(ey(l)).unwrap(),r()}catch(u){console.error("Failed to save document details:",u)}finally{c(!1),a(cc())}};return o.jsx($e,{initialValues:s,validationSchema:Yme(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(I,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(I,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},dj="https://staging-engine.testthelink.online",Jme=[],Vd=L("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ly=L("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${dj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=L("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${dj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=L("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${dj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xme=ye({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Vd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=Jme}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),Zme=Xme.reducer,Qme=()=>{const t=se(),{documentDetails:e,isLoading:r}=q(w=>w.documentDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{documentTypeCategories:f}=q(w=>w.documentTypeCategories),m=f.map(w=>({value:w.ID,label:w.Name}));v.useEffect(()=>{t(cc()),t(Vd())},[t]);const h=()=>{i(null),a(!0)},p=w=>{i(w),a(!0)},b=w=>{d(w),c(!0)},g=async()=>{if(u)try{await t(ty(u.ID)).unwrap(),c(!1),d(null)}catch(w){console.error("Failed to delete document detail:",w)}},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],y=w=>{const S=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return w.ID>32&&S.push({icon:Le,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ge,{columns:x,data:e,actions:y,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(Kme,{document:s,documentList:e,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})};function ehe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function the(){const t=se(),{documentTypeCategories:e,isLoading:r}=q(y=>y.documentTypeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Vd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(cy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete document type category:",y)}},b=y=>{t(s?xA({...y,ID:s.ID}):ly(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(ehe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const fj="https://staging-engine.testthelink.online",rhe=[],gs=L("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),uy=L("items/addItem",async(t,e)=>{try{const r=await fetch(`${fj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=L("items/updateItem",async(t,e)=>{try{const r=await fetch(`${fj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dy=L("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${fj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),nhe=ye({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(gs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gs.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(gs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=rhe}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),ahe=nhe.reducer,mj="https://staging-engine.testthelink.online",she=[],$a=L("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fy=L("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${mj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=L("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${mj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),my=L("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${mj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ohe=ye({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($a.pending,e=>{e.isLoading=!0,e.error=null}).addCase($a.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase($a.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=she}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),ihe=ohe.reducer,lhe=({item:t,onClose:e})=>{const r=se(),{accounts:n}=q(d=>d.chartOfAccounts),{itemUnits:a}=q(d=>d.itemUnits),{taxCodes:s}=q(d=>d.taxCodes);v.useEffect(()=>{r($a()),r(ma()),r(Ar())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),ChargeAccountID:O().required("Charge Account is required"),UnitID:O().required("Unit is required"),TAXCodeID:O().required("Tax Code is required"),PurchaseOrSales:O().required("Type is required"),TaxRate:K().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:K().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Qi().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?await r(vA({...d,ID:t.ID})).unwrap():await r(uy(d)).unwrap(),e()}catch(m){console.error("Failed to save item:",m)}finally{f(!1)}};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:p,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(g=>({value:g.ID,label:g.Name}))}),o.jsx(I,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:p,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(I,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:p,error:f.UnitID,touched:m.UnitID,options:a.map(g=>({value:g.ID,label:g.Code+" - "+g.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:p,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(g=>({value:g.ID,label:g.Code}))}),o.jsx(I,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:p,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:p,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(I,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:p,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},che=()=>{const t=se(),{items:e,isLoading:r}=q(j=>j.items),{itemUnits:n,isLoading:a}=q(j=>j.itemUnits),{taxCodes:s,isLoading:i}=q(j=>j.taxCodes),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{t(gs()),t($a()),t(ma())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},y=async()=>{if(h)try{await t(dy(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete item:",j)}},w=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:j=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${j===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j?"Yes":"No"})}],S=e.map(j=>{var N,A;return{...j,unitName:((N=n==null?void 0:n.find(T=>T.ID===j.UnitID))==null?void 0:N.Name)||"N/A",TAXCodeValue:((A=s==null?void 0:s.find(T=>T.ID===j.TAXCodeID))==null?void 0:A.Code)||"N/A"}}),C=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ge,{columns:w,data:S,actions:C,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(lhe,{item:u,onClose:()=>c(!1)})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},uhe=ie().shape({MarriageServiceInvoice:O().required("Marriage Service Invoice account is required"),BurialServiceInvoice:O().required("Burial Service Invoice account is required"),DueFromLGU:O().required("Due From LGU account is required"),DueFromRate:K().required("Due From Rate is required"),DueToLGU:O().required("Due To LGU account is required"),DueToRate:K().required("Due To Rate is required"),RealPropertyTax:O().required("Real Property Tax account is required"),RealPropertyTaxRate:K().required("Real Property Tax Rate is required")}),dhe=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=se(),s=q(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});v.useEffect(()=>{a(Ar())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx($e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:uhe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Fe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary disabled:cursor-not-allowed disabled:opacity-50",children:m?"Saving...":"Save"})})]})})},L6="https://staging-engine.testthelink.online",Ud=L("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${L6}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fhe=L("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),F6=L("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${L6}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mhe=L("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),hhe={invoiceChargeAccounts:[],isLoading:!1,error:null},phe=ye({name:"invoiceChargeAccounts",initialState:hhe,reducers:{},extraReducers:t=>{t.addCase(Ud.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ud.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(Ud.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(fhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(F6.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(mhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),ghe=phe.reducer;function yhe(){const t=se(),{invoiceChargeAccounts:e}=q(n=>n.invoiceChargeAccounts);v.useEffect(()=>{t(Ud())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(F6(n)).unwrap(),Ie.success("Invoice charge account updated successfully")}catch(s){console.error("Failed to save invoice charge account:",s)}finally{a(!1),t(Ud())}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:o.jsx(dhe,{onSubmit:r,invoiceChargeAccounts:e})})})}function bhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=Qe({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xhe(){const t=se(),{itemUnits:e,isLoading:r}=q(y=>y.itemUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($a())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(my(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete item unit:",y)}},b=y=>{t(s?jA({...y,ID:s.ID}):fy(y)),a(!1)},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(bhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function vhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:O().required("Type is required"),Description:O().required("Description is required")});return o.jsx($e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const hj="https://staging-engine.testthelink.online",jhe=[],zd=L("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hy=L("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${hj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=L("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${hj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),py=L("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${hj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),whe=ye({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zd.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=jhe}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),Che=whe.reducer;function Nhe(){const t=se(),{projectTypes:e,isLoading:r}=q(y=>y.projectTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(zd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(py(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete project type:",y)}},b=y=>{t(s?wA({...y,ID:s.ID}):hy(y)),a(!1)},g=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(vhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function She({initialData:t,onSubmit:e,onClose:r}){const n=se(),{projectTypes:a,loading:s}=q(c=>c.projectTypes);v.useEffect(()=>{n(zd())},[n]);const i=ie({Title:O().required("Title is required"),ProjectTypeID:O().required("Project Type is required"),StartDate:Me().required("Start Date is required"),EndDate:Me().required("End Date is required"),Description:O().required("Description is required")}),l=Qe({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(I,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(I,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const pj="https://staging-engine.testthelink.online",Ahe=[],ys=L("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gy=L("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${pj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=L("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${pj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yy=L("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${pj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),khe=ye({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ys.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ys.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ys.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=Ahe}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),Ihe=khe.reducer;function The(){const t=se(),{projectDetails:e,isLoading:r}=q(y=>y.projectDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ys())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(yy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete project detail:",y)}},b=y=>{t(s?CA({...y,ID:s.ID}):gy(y)),a(!1)},g=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(She,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.projectTitle,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ehe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")});return o.jsx($e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const gj="https://staging-engine.testthelink.online",Ohe=[],Phe={financialStatements:Ohe,financialStatement:null,isLoading:!1,error:null},by=L("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=L("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${gj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=L("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${gj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=L("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${gj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),B6=ye({name:"financialStatements",initialState:Phe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(by.pending,e=>{e.isLoading=!0}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jy.pending,e=>{e.isLoading=!0}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:g8e,resetFinancialStatementState:y8e}=B6.actions,Dhe=B6.reducer;function _he(){const t=se(),{financialStatements:e,isLoading:r}=q(y=>y.financialStatements),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(by())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(jy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete financial statement:",y)}},b=y=>{t(s?vy({...y,ID:s.ID}):xy(y)),a(!1)},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(Ehe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function $he({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),Year:K().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:O().required("Month Start is required"),MonthEnd:O().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx($e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(I,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(I,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(I,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const yj="https://staging-engine.testthelink.online",Rhe=[],xn=L("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wy=L("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${yj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=L("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${yj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=L("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${yj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mhe=ye({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xn.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(xn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=Rhe}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),Lhe=Mhe.reducer;function Fhe(){const t=se(),{fiscalYears:e,isLoading:r}=q(y=>y.fiscalYears),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(xn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Cy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete fiscal year:",y)}},b=y=>{t(s?NA({...y,id:s.ID}):wy(y)),a(!1)},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx($he,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Bhe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function qhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:O().required("Type is required"),Code:O().required("Code is required"),Name:O().required("Nature of Payment is required"),Rate:K().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx($e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"select",options:Bhe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(I,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function Vhe(){const t=se(),{taxCodes:e,isLoading:r}=q(y=>y.taxCodes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ma())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Eg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax code:",y)}},b=y=>{t(s?lA({...y,ID:s.ID}):Tg(y)),a(!1)},g=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:y=>`${y} %`}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(qhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Uhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=Qe({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function zhe(){const t=se(),{modeOfPayments:e,isLoading:r}=q(y=>y.modeOfPayments),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(oc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(_g(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete mode of payment:",y)}},b=y=>{t(s?uA({...y,ID:s.ID}):Dg(y)),a(!1)},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(Uhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Whe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),NumberOfDays:K().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=Qe({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(I,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Hhe(){const t=se(),{paymentTerms:e,isLoading:r}=q(y=>y.paymentTerms),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(sc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Pg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete payment term:",y)}},b=y=>{t(s?cA({...y,ID:s.ID}):Og(y)),a(!1)},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(Whe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ghe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Yhe(){const t=se(),{industries:e,isLoading:r}=q(y=>y.industries),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ac())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ig(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete industry:",y)}},b=y=>{t(s?iA({...y,ID:s.ID}):kg(y)),a(!1)},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(Ghe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Khe({initialData:t,onSubmit:e,onClose:r}){const n=se();v.useEffect(()=>{n(Co()),n(No()),n(So()),n(Ao())},[n]);const{regions:a}=q(y=>y.regions),{provinces:s}=q(y=>y.provinces),{municipalities:i}=q(y=>y.municipalities),{barangays:l}=q(y=>y.barangays),c=ie({FirstName:O().required("First Name is required"),MiddleName:O(),LastName:O().required("Last Name is required"),Gender:O().required("Gender is required"),Citizenship:O().required("Citizenship is required"),DateOfBirth:Me().required("Date of Birth is required"),PlaceOfBirth:O().required("Place of Birth is required"),Occupation:O().required("Occupation is required"),CivilStatus:O().required("Civil Status is required"),TIN:O().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:O().email().required("Email is required"),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),ZIPCode:O().required("ZIP Code is required"),StreetAddress:O().required("Street Address is required"),RDO:O().required("RDO is required")}),u=Qe({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:y=>e(y)}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:p,setFieldValue:b,handleSubmit:g,submitCount:x}=u;return v.useEffect(()=>{const y=l.find(w=>w.ID.toString()===d.BarangayID);y&&(y.MunicipalityCode&&b("MunicipalityID",y.MunicipalityCode),y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.BarangayID]),v.useEffect(()=>{const y=i.find(w=>w.ID.toString()===d.MunicipalityID);y&&(y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.MunicipalityID]),v.useEffect(()=>{const y=s.find(w=>w.ID.toString()===d.ProvinceID);y&&y.RegionCode&&b("RegionID",y.RegionCode)},[d.ProvinceID]),console.log("values",h),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:p.FirstName&&h.FirstName,touched:p.FirstName,required:!0}),o.jsx(I,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName&&p.MiddleName,touched:p.MiddleName}),o.jsx(I,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:p.LastName&&h.LastName,touched:p.LastName,required:!0}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:p.Gender&&h.Gender,touched:p.Gender,required:!0}),o.jsx(I,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:p.Citizenship&&h.Citizenship,touched:p.Citizenship,required:!0}),o.jsx(I,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:p.DateOfBirth&&h.DateOfBirth,touched:p.DateOfBirth,required:!0}),o.jsx(I,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:p.PlaceOfBirth&&h.PlaceOfBirth,touched:p.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:p.Occupation&&h.Occupation,touched:p.Occupation,required:!0}),o.jsx(I,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:p.CivilStatus&&h.CivilStatus,touched:p.CivilStatus,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:p.TIN&&h.TIN,touched:p.TIN,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:p.EmailAddress&&h.EmailAddress,touched:p.EmailAddress,required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:d.RegionID,onChange:f,onBlur:m,error:p.RegionID&&h.RegionID,touched:p.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:s.map(y=>({value:y.ID,label:y.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:p.ProvinceID&&h.ProvinceID,touched:p.ProvinceID,required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(y=>({value:y.ID,label:y.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:p.MunicipalityID&&h.MunicipalityID,touched:p.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(y=>({value:y.ID,label:y.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:p.BarangayID&&h.BarangayID,touched:p.BarangayID,required:!0}),o.jsx(I,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:p.ZIPCode&&h.ZIPCode,touched:p.ZIPCode,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:p.StreetAddress&&h.StreetAddress,touched:p.StreetAddress,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:p.RDO&&h.RDO,touched:p.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),x>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([y,w])=>o.jsx("li",{children:w},y))})]})]})}const bj="https://staging-engine.testthelink.online",Jhe=[],vn=L("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ny=L("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${bj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=L("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${bj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=L("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${bj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xhe=ye({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(vn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=Jhe}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),Zhe=Xhe.reducer;function Qhe(){const t=se(),{customers:e,isLoading:r}=q(j=>j.customers),{industries:n}=q(j=>j.industries),{taxCodes:a}=q(j=>j.taxCodes),{paymentTerms:s}=q(j=>j.paymentTerms),{modeOfPayments:i}=q(j=>j.modeOfPayments),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{t(vn()),t(ac()),t(ma()),t(sc()),t(oc())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{console.log("Delete customer:",j),p(j),m(!0)},y=async()=>{if(h)try{await t(Sy(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete Individual/Citizen:",j)}},w=async j=>{try{u?await t(SA({...j,ID:u.ID})).unwrap():await t(Ny(j)).unwrap()}catch(N){console.error("Failed to save Individual/Citizen:",N),Ie.error(N.message||"Failed to save Individual/Citizen")}finally{d(null),t(vn()),c(!1)}},S=[{key:"Code",header:"Code",sortable:!0,render:j=>j||"N/A"},{key:"Name",header:"Name",sortable:!0,render:j=>j||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:j=>j||"N/A"},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:j=>{const N=s.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:j=>{const N=i.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:j=>{const N=a.find(A=>A.ID==j);return(N==null?void 0:N.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:j=>{const N=n.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:j=>j||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:j=>j||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:j=>j||"N/A"},{key:"DateofRegistration",header:"Date of Registration",sortable:!0,render:j=>j||"N/A"}],C=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:e,actions:C,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(Khe,{initialData:u,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the individual/citizen "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const epe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},tpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function dt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:Re("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",epe[e],tpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function rpe({initialData:t,onSubmit:e,onClose:r}){const n=se(),{customers:a}=q(y=>y.customers);v.useEffect(()=>{n(vn())},[n]);const s=Qe({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:ie({T_D_No:K().required("TD No. is required"),PropertyID:K().required("Property ID is required")}),onSubmit:y=>{e({...y,assessmentRows:i})}}),[i,l]=v.useState(()=>{var y;return(y=t==null?void 0:t.AssessmentRows)!=null&&y.length?t.AssessmentRows.map(w=>({...w})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:p}=s,b=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},g=y=>{if(i.length===1)return;const w=[...i];w.splice(y,1),l(w)},x=(y,w,S)=>{const C=[...i];C[y][w]=S,l(C)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No,touched:m.T_D_No}),o.jsx(I,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Owner",name:"OwnerID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID,touched:m.OwnerID}),o.jsx(I,{label:"TIN",name:"OwnerTIN",type:"number",value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(I,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(I,{label:"Address",name:"OwnerAddress",type:"text",value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Beneficial/Administrator User",options:a.map(y=>({value:y.ID,label:y.Name})),name:"BeneficialorAdminUserID",type:"select",value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(I,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(I,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(I,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(I,{label:"Survey No.",name:"SurveyNumber",type:"number",value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(I,{label:"Lot No.",name:"LotNumber",type:"text",value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber,touched:m.LotNumber}),o.jsx(I,{label:"CCT",name:"CCT",type:"text",value:c.CCT,onChange:u,onBlur:d,error:f.CCT,touched:m.CCT}),o.jsx(I,{label:"Block No.",name:"BlockNumber",type:"text",value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber,touched:m.BlockNumber}),o.jsx(I,{label:"Dated",name:"Dated",type:"date",value:c.Dated,onChange:u,onBlur:d,error:f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"North",name:"North",type:"text",value:c.North,onChange:u,onBlur:d,error:f.North,touched:m.North}),o.jsx(I,{label:"South",name:"South",type:"text",value:c.South,onChange:u,onBlur:d,error:f.South,touched:m.South}),o.jsx(I,{label:"East",name:"East",type:"text",value:c.East,onChange:u,onBlur:d,error:f.East,touched:m.East}),o.jsx(I,{label:"West",name:"West",type:"text",value:c.West,onChange:u,onBlur:d,error:f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Declaration cancels TD No."}),o.jsx("select",{name:"CancelTDNumber",value:c.CancelTDNumber,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{value:"",children:"Select TD No."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Effectivity of Assessment/Reassessment"}),o.jsx("input",{type:"text",name:"Effectivity",value:c.Effectivity,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Owner:"}),o.jsx("input",{type:"text",name:"ownerPrevious",value:c.ownerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Previous Assessed Value:"}),o.jsx("input",{type:"number",name:"PreviousAssessedValue",value:c.PreviousAssessedValue,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,error:f.KindofProperty,touched:m.KindofProperty}),o.jsx(I,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,error:f.Storeys,touched:m.Storeys})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kind:"}),o.jsxs("select",{name:"kind",value:c.kind,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Kind"}),o.jsx("option",{value:"LAND",children:"LAND"}),o.jsx("option",{value:"BUILDING",children:"BUILDING"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Use:"}),o.jsxs("select",{name:"ActualUse",value:c.ActualUse,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Use"}),o.jsx("option",{value:"RESIDENTIAL",children:"RESIDENTIAL"}),o.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),o.jsx("option",{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Classification:"}),o.jsxs("select",{name:"Classification",value:c.Classification,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Classification"}),o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"C",children:"C"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area Size:"}),o.jsx("input",{type:"text",name:"AreaSize",value:c.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assessment Level:"}),o.jsx("input",{type:"number",name:"AssessmentLevel",value:c.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Market Value:"}),o.jsx("input",{type:"number",name:"MarketValue",value:c.MarketValue,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(dt,{type:"button",onClick:b,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(V0,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(y=>o.jsx("th",{className:"border border-gray-300 p-2 text-sm",children:y},y))})}),o.jsx("tbody",{children:i.map((y,w)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(S=>o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y[S],onChange:C=>x(w,S,C.target.value),className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},S)),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(dt,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})})]},w))})]})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})}const xj="https://staging-engine.testthelink.online",npe=[],Ay=L("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ky=L("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${xj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=L("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${xj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=L("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${xj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ape=ye({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=npe}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),spe=ape.reducer;function ope(){const t=se(),{taxDeclarations:e,isLoading:r}=q(y=>y.taxDeclarations),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ay())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Iy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax declaration:",y)}},b=y=>{t(s?AA({...y,ID:s.ID}):ky(y)),a(!1)},g=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx(I,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(ae,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(rpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const vj="https://staging-engine.testthelink.online",ipe=[],Ty=L("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=L("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${vj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=L("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${vj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=L("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${vj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lpe=ye({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=ipe}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),cpe=lpe.reducer,upe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=se(),{employees:s}=q(u=>u.employees);v.useEffect(()=>{a(rn())},[a]);const i=ie().shape({General_Revision_Date_Year:O().required("Required"),GeneralRevisionCode:O().required("Required"),TaxDeclarationCode:O().required("Required")}),l=Qe({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(I,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(I,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Pt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(Pt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(Pt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(Pt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},dpe=()=>{const t=se(),{generalRevisions:e,isLoading:r}=q(y=>y.generalRevisions),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{t(Ty())},[t]);const f=()=>{c(null),a(!0)},m=y=>{c(y),a(!0)},h=y=>{t(l?kA({...y,ID:l.ID}):Ey(y)),a(!1)},p=y=>{d(y),i(!0)},b=()=>{u&&(t(Oy(u.ID)),i(!1))},g=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,actions:x,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(upe,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),o.jsxs(ae,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})};function fpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=ie({GeneralRevisionYear:K().required("General Revision Year is required"),Classification:O().required("Classification is required"),Unit:O().required("Unit is required"),ActualUse:O().required("Actual Use is required"),SubClassification:O().required("Sub Class No is required"),Price:K().required("Unit Value is required"),Location:O().required("Location or Description is required")}),s=Qe({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return v.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(I,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(I,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(I,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(I,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(I,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const jj="https://staging-engine.testthelink.online",mpe=[],Py=L("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dy=L("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${jj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=L("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${jj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_y=L("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${jj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),hpe=ye({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=mpe}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),ppe=hpe.reducer;function gpe(){const t=se(),{baseUnits:e,isLoading:r}=q(y=>y.baseUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Py())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(_y(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete base unit:",y)}},b=y=>{t(s?IA({...y,ID:s.ID}):Dy(y)),a(!1)},g=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(fpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function ype(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q6(t){var e=ype(t,"string");return tl(e)=="symbol"?e:e+""}function md(t,e,r){return(e=q6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(r),!0).forEach(function(n){md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bpe(t){if(Array.isArray(t))return t}function xpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V6(t,e){if(t){if(typeof t=="string")return TA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TA(t,e):void 0}}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bs(t,e){return bpe(t)||xpe(t,e)||V6(t,e)||vpe()}function jpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ms(t,e){if(t==null)return{};var r,n,a=jpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var wpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Cpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,p=Ms(t,wpe),b=v.useState(l!==void 0?l:r),g=bs(b,2),x=g[0],y=g[1],w=v.useState(c!==void 0?c:a),S=bs(w,2),C=S[0],j=S[1],N=v.useState(h!==void 0?h:i),A=bs(N,2),T=A[0],k=A[1],E=v.useCallback(function(D,_){typeof u=="function"&&u(D,_),k(D)},[u]),P=v.useCallback(function(D,_){var F;typeof d=="function"&&(F=d(D,_)),y(F!==void 0?F:D)},[d]),M=v.useCallback(function(){typeof m=="function"&&m(),j(!0)},[m]),R=v.useCallback(function(){typeof f=="function"&&f(),j(!1)},[f]),$=l!==void 0?l:x,B=c!==void 0?c:C,U=h!==void 0?h:T;return Oe(Oe({},p),{},{inputValue:$,menuIsOpen:B,onChange:E,onInputChange:P,onMenuClose:R,onMenuOpen:M,value:U})}function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},De.apply(null,arguments)}function Npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q6(n.key),n)}}function Spe(t,e,r){return e&&H_(t.prototype,e),r&&H_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},EA(t,e)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ex(t)}function U6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U6=function(){return!!t})()}function kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ipe(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kpe(t)}function Tpe(t){var e=U6();return function(){var r,n=Ex(t);if(e){var a=Ex(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ipe(this,r)}}function Epe(t){if(Array.isArray(t))return TA(t)}function Ope(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yE(t){return Epe(t)||Ope(t)||V6(t)||Ppe()}function Dpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _pe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $pe=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_pe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Dpe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Er="-ms-",Ox="-moz-",et="-webkit-",z6="comm",bE="rule",xE="decl",Rpe="@import",W6="@keyframes",Mpe="@layer",Lpe=Math.abs,wj=String.fromCharCode,Fpe=Object.assign;function Bpe(t,e){return wr(t,0)^45?(((e<<2^wr(t,0))<<2^wr(t,1))<<2^wr(t,2))<<2^wr(t,3):0}function H6(t){return t.trim()}function qpe(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,r){return t.replace(e,r)}function OA(t,e){return t.indexOf(e)}function wr(t,e){return t.charCodeAt(e)|0}function _f(t,e,r){return t.slice(e,r)}function Aa(t){return t.length}function vE(t){return t.length}function Fh(t,e){return e.push(t),t}function Vpe(t,e){return t.map(e).join("")}var Cj=1,Ec=1,G6=0,sn=0,Zt=0,iu="";function Nj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Cj,column:Ec,length:i,return:""}}function Fu(t,e){return Fpe(Nj("",null,null,"",null,null,0),t,{length:-t.length},e)}function Upe(){return Zt}function zpe(){return Zt=sn>0?wr(iu,--sn):0,Ec--,Zt===10&&(Ec=1,Cj--),Zt}function jn(){return Zt=sn<G6?wr(iu,sn++):0,Ec++,Zt===10&&(Ec=1,Cj++),Zt}function Ra(){return wr(iu,sn)}function $y(){return sn}function Mm(t,e){return _f(iu,t,e)}function $f(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y6(t){return Cj=Ec=1,G6=Aa(iu=t),sn=0,[]}function K6(t){return iu="",t}function Ry(t){return H6(Mm(sn-1,PA(t===91?t+2:t===40?t+1:t)))}function Wpe(t){for(;(Zt=Ra())&&Zt<33;)jn();return $f(t)>2||$f(Zt)>3?"":" "}function Hpe(t,e){for(;--e&&jn()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Mm(t,$y()+(e<6&&Ra()==32&&jn()==32))}function PA(t){for(;jn();)switch(Zt){case t:return sn;case 34:case 39:t!==34&&t!==39&&PA(Zt);break;case 40:t===41&&PA(t);break;case 92:jn();break}return sn}function Gpe(t,e){for(;jn()&&t+Zt!==57;)if(t+Zt===84&&Ra()===47)break;return"/*"+Mm(e,sn-1)+"*"+wj(t===47?t:jn())}function Ype(t){for(;!$f(Ra());)jn();return Mm(t,sn)}function Kpe(t){return K6(My("",null,null,null,[""],t=Y6(t),0,[0],t))}function My(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,p=0,b=1,g=1,x=1,y=0,w="",S=a,C=s,j=n,N=w;g;)switch(p=y,y=jn()){case 40:if(p!=108&&wr(N,f-1)==58){OA(N+=tt(Ry(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:N+=Ry(y);break;case 9:case 10:case 13:case 32:N+=Wpe(p);break;case 92:N+=Hpe($y()-1,7);continue;case 47:switch(Ra()){case 42:case 47:Fh(Jpe(Gpe(jn(),$y()),e,r),c);break;default:N+="/"}break;case 123*b:l[u++]=Aa(N)*x;case 125*b:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:x==-1&&(N=tt(N,/\f/g,"")),h>0&&Aa(N)-f&&Fh(h>32?Y_(N+";",n,r,f-1):Y_(tt(N," ","")+";",n,r,f-2),c);break;case 59:N+=";";default:if(Fh(j=G_(N,e,r,u,d,a,l,w,S=[],C=[],f),s),y===123)if(d===0)My(N,e,j,j,S,s,f,l,C);else switch(m===99&&wr(N,3)===110?100:m){case 100:case 108:case 109:case 115:My(t,j,j,n&&Fh(G_(t,j,j,0,0,a,l,w,a,S=[],f),C),a,C,f,l,n?S:C);break;default:My(N,j,j,j,[""],C,0,l,C)}}u=d=h=0,b=x=1,w=N="",f=i;break;case 58:f=1+Aa(N),h=p;default:if(b<1){if(y==123)--b;else if(y==125&&b++==0&&zpe()==125)continue}switch(N+=wj(y),y*b){case 38:x=d>0?1:(N+="\f",-1);break;case 44:l[u++]=(Aa(N)-1)*x,x=1;break;case 64:Ra()===45&&(N+=Ry(jn())),m=Ra(),d=f=Aa(w=N+=Ype($y())),y++;break;case 45:p===45&&Aa(N)==2&&(b=0)}}return s}function G_(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=vE(m),p=0,b=0,g=0;p<n;++p)for(var x=0,y=_f(t,f+1,f=Lpe(b=i[p])),w=t;x<h;++x)(w=H6(b>0?m[x]+" "+y:tt(y,/&\f/g,m[x])))&&(c[g++]=w);return Nj(t,e,r,a===0?bE:l,c,u,d)}function Jpe(t,e,r){return Nj(t,e,r,z6,wj(Upe()),_f(t,2,-2),0)}function Y_(t,e,r,n){return Nj(t,e,r,xE,_f(t,0,n),_f(t,n+1,-1),n)}function uc(t,e){for(var r="",n=vE(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Xpe(t,e,r,n){switch(t.type){case Mpe:if(t.children.length)break;case Rpe:case xE:return t.return=t.return||t.value;case z6:return"";case W6:return t.return=t.value+"{"+uc(t.children,n)+"}";case bE:t.value=t.props.join(",")}return Aa(r=uc(t.children,n))?t.return=t.value+"{"+r+"}":""}function Zpe(t){var e=vE(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function Qpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ege(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var tge=function(e,r,n){for(var a=0,s=0;a=s,s=Ra(),a===38&&s===12&&(r[n]=1),!$f(s);)jn();return Mm(e,sn)},rge=function(e,r){var n=-1,a=44;do switch($f(a)){case 0:a===38&&Ra()===12&&(r[n]=1),e[n]+=tge(sn-1,r,n);break;case 2:e[n]+=Ry(a);break;case 4:if(a===44){e[++n]=Ra()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=wj(a)}while(a=jn());return e},nge=function(e,r){return K6(rge(Y6(e),r))},K_=new WeakMap,age=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!K_.get(n))&&!a){K_.set(e,!0);for(var s=[],i=nge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},sge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function J6(t,e){switch(Bpe(t,e)){case 5103:return et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return et+t+Ox+t+Er+t+t;case 6828:case 4268:return et+t+Er+t+t;case 6165:return et+t+Er+"flex-"+t+t;case 5187:return et+t+tt(t,/(\w+).+(:[^]+)/,et+"box-$1$2"+Er+"flex-$1$2")+t;case 5443:return et+t+Er+"flex-item-"+tt(t,/flex-|-self/,"")+t;case 4675:return et+t+Er+"flex-line-pack"+tt(t,/align-content|flex-|-self/,"")+t;case 5548:return et+t+Er+tt(t,"shrink","negative")+t;case 5292:return et+t+Er+tt(t,"basis","preferred-size")+t;case 6060:return et+"box-"+tt(t,"-grow","")+et+t+Er+tt(t,"grow","positive")+t;case 4554:return et+tt(t,/([^-])(transform)/g,"$1"+et+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+t+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(t)-1-e>6)switch(wr(t,e+1)){case 109:if(wr(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+Ox+(wr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~OA(t,"stretch")?J6(tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wr(t,e+1)!==115)break;case 6444:switch(wr(t,Aa(t)-3-(~OA(t,"!important")&&10))){case 107:return tt(t,":",":"+et)+t;case 101:return tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(wr(t,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Er+"$2box$3")+t}break;case 5936:switch(wr(t,e+11)){case 114:return et+t+Er+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return et+t+Er+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return et+t+Er+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return et+t+Er+t+t}return t}var oge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case xE:e.return=J6(e.value,e.length);break;case W6:return uc([Fu(e,{value:tt(e.value,"@","@"+et)})],a);case bE:if(e.length)return Vpe(e.props,function(s){switch(qpe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uc([Fu(e,{props:[tt(s,/:(read-\w+)/,":"+Ox+"$1")]})],a);case"::placeholder":return uc([Fu(e,{props:[tt(s,/:(plac\w+)/,":"+et+"input-$1")]}),Fu(e,{props:[tt(s,/:(plac\w+)/,":"+Ox+"$1")]}),Fu(e,{props:[tt(s,/:(plac\w+)/,Er+"input-$1")]})],a)}return""})}},ige=[oge],lge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var g=b.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||ige,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var g=b.getAttribute("data-emotion").split(" "),x=1;x<g.length;x++)s[g[x]]=!0;l.push(b)});var c,u=[age,sge];{var d,f=[Xpe,Qpe(function(b){d.insert(b)})],m=Zpe(u.concat(a,f)),h=function(g){return uc(Kpe(g),m)};c=function(g,x,y,w){d=y,h(g?g+"{"+x.styles+"}":x.styles),w&&(p.inserted[x.name]=!0)}}var p={key:r,sheet:new $pe({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return p.sheet.hydrate(l),p},cge=!0;function uge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var X6=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||cge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},dge=function(e,r,n){X6(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function fge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hge=/[A-Z]|^ms/g,pge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Z6=function(e){return e.charCodeAt(1)===45},J_=function(e){return e!=null&&typeof e!="boolean"},UC=ege(function(t){return Z6(t)?t:t.replace(hge,"-$&").toLowerCase()}),X_=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(pge,function(n,a,s){return ka={name:a,styles:s,next:ka},a})}return mge[e]!==1&&!Z6(e)&&typeof r=="number"&&r!==0?r+"px":r};function Rf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return ka={name:a.name,styles:a.styles,next:ka},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)ka={name:i.name,styles:i.styles,next:ka},i=i.next;var l=s.styles+";";return l}return gge(t,e,r)}case"function":{if(t!==void 0){var c=ka,u=r(t);return ka=c,Rf(t,e,u)}break}}var d=r;return d}function gge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Rf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;J_(l)&&(n+=UC(s)+":"+X_(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)J_(i[c])&&(n+=UC(s)+":"+X_(s,i[c])+";");else{var u=Rf(t,e,i);switch(s){case"animation":case"animationName":{n+=UC(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var Z_=/label:\s*([^\s;{]+)\s*(;|$)/g,ka;function Q6(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";ka=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Rf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Rf(r,e,t[l]),n){var c=s;a+=c[l]}Z_.lastIndex=0;for(var u="",d;(d=Z_.exec(a))!==null;)u+="-"+d[1];var f=fge(a)+u;return{name:f,styles:a,next:ka}}var yge=function(e){return e()},bge=To.useInsertionEffect?To.useInsertionEffect:!1,xge=bge||yge,eV=v.createContext(typeof HTMLElement<"u"?lge({key:"css"}):null);eV.Provider;var vge=function(e){return v.forwardRef(function(r,n){var a=v.useContext(eV);return e(r,a,n)})},jge=v.createContext({}),jE={}.hasOwnProperty,DA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wge=function(e,r){var n={};for(var a in r)jE.call(r,a)&&(n[a]=r[a]);return n[DA]=e,n},Cge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return X6(r,n,a),xge(function(){return dge(r,n,a)}),null},Nge=vge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[DA],s=[n],i="";typeof t.className=="string"?i=uge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=Q6(s,void 0,v.useContext(jge));i+=e.key+"-"+l.name;var c={};for(var u in t)jE.call(t,u)&&u!=="css"&&u!==DA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),v.createElement(v.Fragment,null,v.createElement(Cge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),v.createElement(a,c))}),Sge=Nge,Ee=function(e,r){var n=arguments;if(r==null||!jE.call(r,"css"))return v.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Sge,s[1]=wge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return v.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ee||(Ee={}));function wE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Q6(e)}function Age(){var t=wE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function kge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Ige=Math.min,Tge=Math.max,Px=Math.round,Bh=Math.floor,Dx=t=>({x:t,y:t});function Ege(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Sj(){return typeof window<"u"}function tV(t){return nV(t)?(t.nodeName||"").toLowerCase():"#document"}function Is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rV(t){var e;return(e=(nV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nV(t){return Sj()?t instanceof Node||t instanceof Is(t).Node:!1}function Oge(t){return Sj()?t instanceof Element||t instanceof Is(t).Element:!1}function CE(t){return Sj()?t instanceof HTMLElement||t instanceof Is(t).HTMLElement:!1}function Q_(t){return!Sj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Is(t).ShadowRoot}function aV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=NE(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Pge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dge(t){return["html","body","#document"].includes(tV(t))}function NE(t){return Is(t).getComputedStyle(t)}function _ge(t){if(tV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q_(t)&&t.host||rV(t);return Q_(e)?e.host:e}function sV(t){const e=_ge(t);return Dge(e)?t.ownerDocument?t.ownerDocument.body:t.body:CE(e)&&aV(e)?e:sV(e)}function _x(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=sV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Is(a);if(s){const l=_A(i);return e.concat(i,i.visualViewport||[],aV(a)?a:[],l&&r?_x(l):[])}return e.concat(a,_x(a,[],r))}function _A(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $ge(t){const e=NE(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=CE(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=Px(r)!==s||Px(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function SE(t){return Oge(t)?t:t.contextElement}function e$(t){const e=SE(t);if(!CE(e))return Dx(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=$ge(e);let i=(s?Px(r.width):r.width)/n,l=(s?Px(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Rge=Dx(0);function Mge(t){const e=Is(t);return!Pge()||!e.visualViewport?Rge:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Lge(t,e,r){return!1}function t$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=SE(t);let i=Dx(1);e&&(i=e$(t));const l=Lge()?Mge(s):Dx(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Is(s),h=n;let p=m,b=_A(p);for(;b&&n&&h!==p;){const g=e$(b),x=b.getBoundingClientRect(),y=NE(b),w=x.left+(b.clientLeft+parseFloat(y.paddingLeft))*g.x,S=x.top+(b.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=w,u+=S,p=Is(b),b=_A(p)}}return Ege({width:d,height:f,x:c,y:u})}function oV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fge(t,e){let r=null,n;const a=rV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const p=Bh(f),b=Bh(a.clientWidth-(d+m)),g=Bh(a.clientHeight-(f+h)),x=Bh(d),w={rootMargin:-p+"px "+-b+"px "+-g+"px "+-x+"px",threshold:Tge(0,Ige(1,c))||1};let S=!0;function C(j){const N=j[0].intersectionRatio;if(N!==c){if(!S)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!oV(u,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(t)}return i(!0),s}function Bge(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=SE(t),d=a||s?[...u?_x(u):[],..._x(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?Fge(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let p,b=c?t$(t):null;c&&g();function g(){const x=t$(t);b&&!oV(b,x)&&r(),b=x,p=requestAnimationFrame(g)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}var $A=v.useLayoutEffect,qge=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$x=function(){};function Vge(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Uge(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(Vge(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var r$=function(e){return Zge(e)?e.filter(Boolean):tl(e)==="object"&&e!==null?[e]:[]},iV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Ms(e,qge);return Oe({},r)},Wt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Aj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function zge(t){return Aj(t)?window.innerHeight:t.clientHeight}function lV(t){return Aj(t)?window.pageYOffset:t.scrollTop}function Rx(t,e){if(Aj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Wge(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Hge(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function qh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$x,a=lV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=Hge(l,a,s,r);Rx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function n$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Rx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Rx(t,Math.max(e.offsetTop-a,0))}function Gge(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function a$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Yge(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var cV=!1,Kge={get passive(){return cV=!0}},Vh=typeof window<"u"?window:{};Vh.addEventListener&&Vh.removeEventListener&&(Vh.addEventListener("p",$x,Kge),Vh.removeEventListener("p",$x,!1));var Jge=cV;function Xge(t){return t!=null}function Zge(t){return Array.isArray(t)}function Uh(t,e,r){return t?e:r}var Qge=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=bs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=bs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},eye=["children","innerProps"],tye=["children","innerProps"];function rye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=Wge(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,p=m.height,b=m.top,g=r.offsetParent.getBoundingClientRect(),x=g.top,y=i?window.innerHeight:zge(c),w=lV(c),S=parseInt(getComputedStyle(r).marginBottom,10),C=parseInt(getComputedStyle(r).marginTop,10),j=x-C,N=y-b,A=j+w,T=f-w-b,k=h-y+w+S,E=w+b-C,P=160;switch(a){case"auto":case"bottom":if(N>=p)return{placement:"bottom",maxHeight:e};if(T>=p&&!i)return s&&qh(c,k,P),{placement:"bottom",maxHeight:e};if(!i&&T>=n||i&&N>=n){s&&qh(c,k,P);var M=i?N-S:T-S;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var R=e,$=i?j:A;return $>=n&&(R=Math.min($-S-l,e)),{placement:"top",maxHeight:R}}if(a==="bottom")return s&&Rx(c,k),{placement:"bottom",maxHeight:e};break;case"top":if(j>=p)return{placement:"top",maxHeight:e};if(A>=p&&!i)return s&&qh(c,E,P),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&j>=n){var B=e;return(!i&&A>=n||i&&j>=n)&&(B=i?j-C:A-C),s&&qh(c,E,P),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function nye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var uV=function(e){return e==="auto"?"bottom":e},aye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Oe((n={label:"menu"},md(n,nye(a),"100%"),md(n,"position","absolute"),md(n,"width","100%"),md(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},dV=v.createContext(null),sye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=v.useContext(dV)||{},d=u.setPortalPlacement,f=v.useRef(null),m=v.useState(a),h=bs(m,2),p=h[0],b=h[1],g=v.useState(null),x=bs(g,2),y=x[0],w=x[1],S=c.spacing.controlHeight;return $A(function(){var C=f.current;if(C){var j=i==="fixed",N=l&&!j,A=rye({maxHeight:a,menuEl:C,minHeight:n,placement:s,shouldScroll:N,isFixedPosition:j,controlHeight:S});b(A.maxHeight),w(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,S]),r({ref:f,placerProps:Oe(Oe({},e),{},{placement:y||uV(s),maxHeight:p})})},oye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ee("div",De({},Wt(e,"menu",{menu:!0}),{ref:n},a),r)},iye=oye,lye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Oe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},cye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Ee("div",De({},Wt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},fV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Oe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},uye=fV,dye=fV,fye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Ms(e,eye);return Ee("div",De({},Wt(Oe(Oe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},mye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Ms(e,tye);return Ee("div",De({},Wt(Oe(Oe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},hye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},pye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(uV(i)),f=bs(d,2),m=f[0],h=f[1],p=v.useMemo(function(){return{setPortalPlacement:h}},[]),b=v.useState(null),g=bs(b,2),x=g[0],y=g[1],w=v.useCallback(function(){if(a){var N=Gge(a),A=l==="fixed"?0:window.pageYOffset,T=N[m]+A;(T!==(x==null?void 0:x.offset)||N.left!==(x==null?void 0:x.rect.left)||N.width!==(x==null?void 0:x.rect.width))&&y({offset:T,rect:N})}},[a,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);$A(function(){w()},[w]);var S=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=Bge(a,c.current,w,{elementResize:"ResizeObserver"in window}))},[a,w]);$A(function(){S()},[S]);var C=v.useCallback(function(N){c.current=N,S()},[S]);if(!r&&l!=="fixed"||!x)return null;var j=Ee("div",De({ref:C},Wt(Oe(Oe({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ee(dV.Provider,{value:p},r?Yv.createPortal(j,r):j)},gye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},yye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Ee("div",De({},Wt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},bye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Oe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},xye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Ee("div",De({},Wt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},vye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},jye=function(e){var r=e.children,n=e.innerProps;return Ee("div",De({},Wt(e,"indicatorsContainer",{indicators:!0}),n),r)},s$,wye=["size"],Cye=["innerProps","isRtl","size"],Nye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},mV=function(e){var r=e.size,n=Ms(e,wye);return Ee("svg",De({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Nye},n))},AE=function(e){return Ee(mV,De({size:20},e),Ee("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hV=function(e){return Ee(mV,De({size:20},e),Ee("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Sye=pV,Aye=function(e){var r=e.children,n=e.innerProps;return Ee("div",De({},Wt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ee(hV,null))},kye=pV,Iye=function(e){var r=e.children,n=e.innerProps;return Ee("div",De({},Wt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ee(AE,null))},Tye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Eye=function(e){var r=e.innerProps;return Ee("span",De({},r,Wt(e,"indicatorSeparator",{"indicator-separator":!0})))},Oye=Age(s$||(s$=kge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Pye=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},zC=function(e){var r=e.delay,n=e.offset;return Ee("span",{css:wE({animation:"".concat(Oye," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Dye=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Ms(e,Cye);return Ee("div",De({},Wt(Oe(Oe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ee(zC,{delay:0,offset:n}),Ee(zC,{delay:160,offset:!0}),Ee(zC,{delay:320,offset:!n}))},_ye=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},$ye=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ee("div",De({ref:s},Wt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},Rye=$ye,Mye=["data"],Lye=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Fye=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ee("div",De({},Wt(e,"group",{group:!0}),c),Ee(i,De({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Ee("div",null,r))},Bye=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Oe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},qye=function(e){var r=iV(e);r.data;var n=Ms(r,Mye);return Ee("div",De({},Wt(e,"groupHeading",{"group-heading":!0}),n))},Vye=Fye,Uye=["innerRef","isDisabled","isHidden","inputClassName"],zye=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Oe(Oe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Wye),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},gV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Wye={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gV)},Hye=function(e){return Oe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},gV)},Gye=function(e){var r=e.cx,n=e.value,a=iV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Ms(a,Uye);return Ee("div",De({},Wt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ee("input",De({className:r({input:!0},c),ref:s,style:Hye(l),disabled:i},u)))},Yye=Gye,Kye=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Oe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},Jye=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Oe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Xye=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Oe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},yV=function(e){var r=e.children,n=e.innerProps;return Ee("div",n,r)},Zye=yV,Qye=yV;function ebe(t){var e=t.children,r=t.innerProps;return Ee("div",De({role:"button"},r),e||Ee(AE,{size:14}))}var tbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ee(u,{data:a,innerProps:Oe(Oe({},Wt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Ee(d,{data:a,innerProps:Oe({},Wt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ee(f,{data:a,innerProps:Oe(Oe({},Wt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},rbe=tbe,nbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},abe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ee("div",De({},Wt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},sbe=abe,obe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},ibe=function(e){var r=e.children,n=e.innerProps;return Ee("div",De({},Wt(e,"placeholder",{placeholder:!0}),n),r)},lbe=ibe,cbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},ube=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ee("div",De({},Wt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},dbe=ube,fbe={ClearIndicator:Iye,Control:Rye,DropdownIndicator:Aye,DownChevron:hV,CrossIcon:AE,Group:Vye,GroupHeading:qye,IndicatorsContainer:jye,IndicatorSeparator:Eye,Input:Yye,LoadingIndicator:Dye,Menu:iye,MenuList:cye,MenuPortal:pye,LoadingMessage:mye,NoOptionsMessage:fye,MultiValue:rbe,MultiValueContainer:Zye,MultiValueLabel:Qye,MultiValueRemove:ebe,Option:sbe,Placeholder:lbe,SelectContainer:yye,SingleValue:dbe,ValueContainer:xye},mbe=function(e){return Oe(Oe({},fbe),e.components)},o$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function hbe(t,e){return!!(t===e||o$(t)&&o$(e))}function pbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!hbe(t[r],e[r]))return!1;return!0}function gbe(t,e){e===void 0&&(e=pbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var ybe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bbe=function(e){return Ee("span",De({css:ybe},e))},i$=bbe,xbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(b,g){return b&&b.length?"".concat(b.indexOf(g)+1," of ").concat(b.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},vbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,p=c.isMulti,b=c.isOptionDisabled,g=c.isSearchable,x=c.menuIsOpen,y=c.options,w=c.screenReaderStatus,S=c.tabSelectsValue,C=c.isLoading,j=c["aria-label"],N=c["aria-live"],A=v.useMemo(function(){return Oe(Oe({},xbe),f||{})},[f]),T=v.useMemo(function(){var $="";if(r&&A.onChange){var B=r.option,U=r.options,D=r.removedValue,_=r.removedValues,F=r.value,H=function(le){return Array.isArray(le)?null:le},W=D||B||H(F),ee=W?m(W):"",fe=U||_||void 0,ke=fe?fe.map(m):[],ne=Oe({isDisabled:W&&b(W,l),label:ee,labels:ke},r);$=A.onChange(ne)}return $},[r,A,b,l,m]),k=v.useMemo(function(){var $="",B=n||a,U=!!(n&&l&&l.includes(n));if(B&&A.onFocus){var D={focused:B,label:m(B),isDisabled:b(B,l),isSelected:U,options:s,context:B===n?"menu":"value",selectValue:l,isAppleDevice:d};$=A.onFocus(D)}return $},[n,a,m,b,A,s,l,d]),E=v.useMemo(function(){var $="";if(x&&y.length&&!C&&A.onFilter){var B=w({count:s.length});$=A.onFilter({inputValue:h,resultsMessage:B})}return $},[s,h,x,A,y,w,C]),P=(r==null?void 0:r.action)==="initial-input-focus",M=v.useMemo(function(){var $="";if(A.guidance){var B=a?"value":x?"menu":"input";$=A.guidance({"aria-label":j,context:B,isDisabled:n&&b(n,l),isMulti:p,isSearchable:g,tabSelectsValue:S,isInitialFocus:P})}return $},[j,n,a,p,b,g,x,A,l,S,P]),R=Ee(v.Fragment,null,Ee("span",{id:"aria-selection"},T),Ee("span",{id:"aria-focused"},k),Ee("span",{id:"aria-results"},E),Ee("span",{id:"aria-guidance"},M));return Ee(v.Fragment,null,Ee(i$,{id:u},P&&R),Ee(i$,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&R))},jbe=vbe,RA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],wbe=new RegExp("["+RA.map(function(t){return t.letters}).join("")+"]","g"),bV={};for(var WC=0;WC<RA.length;WC++)for(var HC=RA[WC],GC=0;GC<HC.letters.length;GC++)bV[HC.letters[GC]]=HC.base;var xV=function(e){return e.replace(wbe,function(r){return bV[r]})},Cbe=gbe(xV),l$=function(e){return e.replace(/^\s+|\s+$/g,"")},Nbe=function(e){return"".concat(e.label," ").concat(e.value)},Sbe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Oe({ignoreCase:!0,ignoreAccents:!0,stringify:Nbe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?l$(n):n,f=c?l$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=Cbe(d),f=xV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Abe=["innerRef"];function kbe(t){var e=t.innerRef,r=Ms(t,Abe),n=Qge(r,"onExited","in","enter","exit","appear");return Ee("input",De({ref:e},n,{css:wE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ibe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Tbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(g,x){if(u.current!==null){var y=u.current,w=y.scrollTop,S=y.scrollHeight,C=y.clientHeight,j=u.current,N=x>0,A=S-C-w,T=!1;A>x&&i.current&&(n&&n(g),i.current=!1),N&&l.current&&(s&&s(g),l.current=!1),N&&x>A?(r&&!i.current&&r(g),j.scrollTop=S,T=!0,i.current=!0):!N&&-x>w&&(a&&!l.current&&a(g),j.scrollTop=0,T=!0,l.current=!0),T&&Ibe(g)}},[r,n,a,s]),f=v.useCallback(function(g){d(g,g.deltaY)},[d]),m=v.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),h=v.useCallback(function(g){var x=c.current-g.changedTouches[0].clientY;d(g,x)},[d]),p=v.useCallback(function(g){if(g){var x=Jge?{passive:!1}:!1;g.addEventListener("wheel",f,x),g.addEventListener("touchstart",m,x),g.addEventListener("touchmove",h,x)}},[h,m,f]),b=v.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",m,!1),g.removeEventListener("touchmove",h,!1))},[h,m,f]);return v.useEffect(function(){if(e){var g=u.current;return p(g),function(){b(g)}}},[e,p,b]),function(g){u.current=g}}var c$=["boxSizing","height","overflow","paddingRight","position"],u$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function d$(t){t.cancelable&&t.preventDefault()}function f$(t){t.stopPropagation()}function m$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function h$(){return"ontouchstart"in window||navigator.maxTouchPoints}var p$=!!(typeof window<"u"&&window.document&&window.document.createElement),Bu=0,Al={capture:!1,passive:!1};function Ebe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=v.useRef({}),s=v.useRef(null),i=v.useCallback(function(c){if(p$){var u=document.body,d=u&&u.style;if(n&&c$.forEach(function(p){var b=d&&d[p];a.current[p]=b}),n&&Bu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(u$).forEach(function(p){var b=u$[p];d&&(d[p]=b)}),d&&(d.paddingRight="".concat(h,"px"))}u&&h$()&&(u.addEventListener("touchmove",d$,Al),c&&(c.addEventListener("touchstart",m$,Al),c.addEventListener("touchmove",f$,Al))),Bu+=1}},[n]),l=v.useCallback(function(c){if(p$){var u=document.body,d=u&&u.style;Bu=Math.max(Bu-1,0),n&&Bu<1&&c$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&h$()&&(u.removeEventListener("touchmove",d$,Al),c&&(c.removeEventListener("touchstart",m$,Al),c.removeEventListener("touchmove",f$,Al)))}},[n]);return v.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var Obe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Pbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Dbe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Tbe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=Ebe({isEnabled:r}),f=function(h){u(h),d(h)};return Ee(v.Fragment,null,r&&Ee("div",{onClick:Obe,css:Pbe}),e(f))}var _be={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$be=function(e){var r=e.name,n=e.onFocus;return Ee("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:_be,value:"",onChange:function(){}})},Rbe=$be;function kE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Mbe(){return kE(/^iPhone/i)}function vV(){return kE(/^Mac/i)}function Lbe(){return kE(/^iPad/i)||vV()&&navigator.maxTouchPoints>1}function Fbe(){return Mbe()||Lbe()}function Bbe(){return vV()||Fbe()}var qbe=function(e){return e.label},Vbe=function(e){return e.label},Ube=function(e){return e.value},zbe=function(e){return!!e.isDisabled},Wbe={clearIndicator:kye,container:gye,control:_ye,dropdownIndicator:Sye,group:Lye,groupHeading:Bye,indicatorsContainer:vye,indicatorSeparator:Tye,input:zye,loadingIndicator:Pye,loadingMessage:dye,menu:aye,menuList:lye,menuPortal:hye,multiValue:Kye,multiValueLabel:Jye,multiValueRemove:Xye,noOptionsMessage:uye,option:nbe,placeholder:obe,singleValue:cbe,valueContainer:bye},Hbe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Gbe=4,jV=4,Ybe=38,Kbe=jV*2,Jbe={baseUnit:jV,controlHeight:Ybe,menuGutter:Kbe},YC={borderRadius:Gbe,colors:Hbe,spacing:Jbe},Xbe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:a$(),captureMenuScroll:!a$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Sbe(),formatGroupLabel:qbe,getOptionLabel:Vbe,getOptionValue:Ube,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:zbe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Yge(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function g$(t,e,r,n){var a=NV(t,e,r),s=SV(t,e,r),i=CV(t,e),l=Mx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function Ly(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return g$(t,i,e,l)}).filter(function(i){return b$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=g$(t,r,e,n);return b$(t,s)?s:void 0}).filter(Xge)}function wV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,yE(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function y$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,yE(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Zbe(t,e){return wV(Ly(t,e))}function b$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!kV(t)||!s)&&AV(t,{label:i,value:l,data:a},n)}function Qbe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function exe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var KC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},CV=function(e,r){return e.getOptionLabel(r)},Mx=function(e,r){return e.getOptionValue(r)};function NV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function SV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Mx(t,e);return r.some(function(a){return Mx(t,a)===n})}function AV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var kV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},txe=1,IV=function(t){Ape(r,t);var e=Tpe(r);function r(n){var a;if(Npe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Bbe(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,p=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:p}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,p=f&&a.isOptionSelected(c,h),b=a.isOptionDisabled(c,h);if(p){var g=a.getOptionValue(c);a.setValue(h.filter(function(x){return a.getOptionValue(x)!==g}),"deselect-option",c)}else if(!b)f?a.setValue([].concat(yE(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(p){return a.getOptionValue(p)!==f}),h=Uh(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(Uh(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=Uh(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return KC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return y$(Ly(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Uge.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return CV(a.props,c)},a.getOptionValue=function(c){return Mx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=Wbe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return mbe(a.props)},a.buildCategorizedOptions=function(){return Ly(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return wV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Oe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Aj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return kV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,p=u.isClearable,b=u.isDisabled,g=u.menuIsOpen,x=u.onKeyDown,y=u.tabSelectsValue,w=u.openMenuOnFocus,S=a.state,C=S.focusedOption,j=S.focusedValue,N=S.selectValue;if(!b&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(j)a.removeValue(j);else{if(!f)return;d?a.popValue():p&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!g||!y||!C||w&&a.isOptionSelected(C,N))return;a.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(g){if(!C||a.isComposing)return;a.selectOption(C);break}return;case"Escape":g?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):p&&m&&a.clearValue();break;case" ":if(h)return;if(!g){a.openMenu("first");break}if(!C)return;a.selectOption(C);break;case"ArrowUp":g?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":g?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!g)return;a.focusOption("pageup");break;case"PageDown":if(!g)return;a.focusOption("pagedown");break;case"Home":if(!g)return;a.focusOption("first");break;case"End":if(!g)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++txe),a.state.selectValue=r$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=KC(s,i[l])}return a}return Spe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&n$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(n$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(YC):Oe(Oe({},YC),this.props.theme):YC}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,p=f.options,b=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:b,isMulti:m,isRtl:h,options:p,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return NV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return SV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return AV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),p=h.Input,b=this.state,g=b.inputIsHidden,x=b.ariaSelection,y=this.commonProps,w=l||this.getElementId("input"),S=Oe(Oe(Oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?v.createElement(p,De({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},S)):v.createElement(kbe,De({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$x,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,p=h.controlShouldRenderValue,b=h.isDisabled,g=h.isMulti,x=h.inputValue,y=h.placeholder,w=this.state,S=w.selectValue,C=w.focusedValue,j=w.isFocused;if(!this.hasValue()||!p)return x?null:v.createElement(f,De({},m,{key:"placeholder",isDisabled:b,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return S.map(function(A,T){var k=A===C,E="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return v.createElement(i,De({},m,{components:{Container:l,Label:c,Remove:u},isFocused:k,isDisabled:b,key:E,index:T,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(M){M.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(x)return null;var N=S[0];return v.createElement(d,De({},m,{data:N,isDisabled:b}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,De({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return v.createElement(s,De({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(i,De({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,De({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,p=this.commonProps,b=this.state.focusedOption,g=this.props,x=g.captureMenuScroll,y=g.inputValue,w=g.isLoading,S=g.loadingMessage,C=g.minMenuHeight,j=g.maxMenuHeight,N=g.menuIsOpen,A=g.menuPlacement,T=g.menuPosition,k=g.menuPortalTarget,E=g.menuShouldBlockScroll,P=g.menuShouldScrollIntoView,M=g.noOptionsMessage,R=g.onMenuScrollToTop,$=g.onMenuScrollToBottom;if(!N)return null;var B=function(ee,fe){var ke=ee.type,ne=ee.data,J=ee.isDisabled,le=ee.isSelected,Z=ee.label,te=ee.value,G=b===ne,z=J?void 0:function(){return a.onOptionHover(ne)},me=J?void 0:function(){return a.selectOption(ne)},xe="".concat(a.getElementId("option"),"-").concat(fe),Te={id:xe,onClick:me,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:le};return v.createElement(h,De({},p,{innerProps:Te,data:ne,isDisabled:J,isSelected:le,key:xe,label:Z,type:ke,value:te,isFocused:G,innerRef:G?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(ee.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var ee=W.data,fe=W.options,ke=W.index,ne="".concat(a.getElementId("group"),"-").concat(ke),J="".concat(ne,"-heading");return v.createElement(i,De({},p,{key:ne,data:ee,options:fe,Heading:l,headingProps:{id:J,data:W.data},label:a.formatGroupLabel(W.data)}),W.options.map(function(le){return B(le,"".concat(ke,"-").concat(le.index))}))}else if(W.type==="option")return B(W,"".concat(W.index))});else if(w){var D=S({inputValue:y});if(D===null)return null;U=v.createElement(f,p,D)}else{var _=M({inputValue:y});if(_===null)return null;U=v.createElement(m,p,_)}var F={minMenuHeight:C,maxMenuHeight:j,menuPlacement:A,menuPosition:T,menuShouldScrollIntoView:P},H=v.createElement(sye,De({},p,F),function(W){var ee=W.ref,fe=W.placerProps,ke=fe.placement,ne=fe.maxHeight;return v.createElement(c,De({},p,F,{innerRef:ee,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:w,placement:ke}),v.createElement(Dbe,{captureEnabled:x,onTopArrive:R,onBottomArrive:$,lockEnabled:E},function(J){return v.createElement(u,De({},p,{innerRef:function(Z){a.getMenuListRef(Z),J(Z)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:a.getElementId("listbox")},isLoading:w,maxHeight:ne,focusedOption:b}),U)}))});return k||T==="fixed"?v.createElement(d,De({},p,{appendTo:k,controlElement:this.controlRef,menuPlacement:A,menuPosition:T}),H):H}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(Rbe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(b){return a.getOptionValue(b)}).join(i);return v.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(b,g){return v.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:a.getOptionValue(b)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,h)}else{var p=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return v.createElement(jbe,De({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,p=this.state.isFocused,b=this.commonProps=this.getCommonProps();return v.createElement(l,De({},b,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:p}),this.renderLiveRegion(),v.createElement(s,De({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:p,menuIsOpen:h}),v.createElement(c,De({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(i,De({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,p=a.value,b=a.menuIsOpen,g=a.inputValue,x=a.isMulti,y=r$(p),w={};if(i&&(p!==i.value||h!==i.options||b!==i.menuIsOpen||g!==i.inputValue)){var S=b?Zbe(a,y):[],C=b?y$(Ly(a,y),"".concat(m,"-option")):[],j=l?Qbe(s,y):null,N=exe(s,S),A=KC(C,N);w={selectValue:y,focusedOption:N,focusedOptionId:A,focusableOptionsWithIds:C,focusedValue:j,clearFocusValueOnUpdate:!1}}var T=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},k=u,E=d&&f;return d&&!E&&(k={value:Uh(x,y,y[0]||null),options:y,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(k=null),Oe(Oe(Oe({},w),T),{},{prevProps:a,ariaSelection:k,prevWasFocused:E})}}]),r}(v.Component);IV.defaultProps=Xbe;var rxe=v.forwardRef(function(t,e){var r=Cpe(t);return v.createElement(IV,De({ref:e},r))}),Lr=rxe;function Mf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,p=0,b=0,g=0,x=0,y=0,w=0,S=0;return a?(m=l*c,h=+(m*d).toFixed(2),b=+(m-h).toFixed(2),p=+(b*i/(100+i)).toFixed(2),g=+(b-p).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),p=+(m*i/100).toFixed(2),g=+(m-h).toFixed(2),b=+(g+p).toFixed(2)),x=+(g*u/100*-1).toFixed(2),y=+(g*f/100*-1).toFixed(2),w=+(x+y).toFixed(2),S=a?+(b+w).toFixed(2):+(g+w).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:p,subtotalTaxIncluded:b,subtotalTaxExcluded:g,withheld:x,ewt:y,ewtrate:f,totalDeduction:w,subtotal:S}}function TV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ie({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),FPP:O().required("Required"),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required"),DiscountRate:K().required("Required")}),d=Qe({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:p=>{const b=i.find(S=>String(S.ID)===String(p.TAXCodeID)),g=Mf({price:p.Price,quantity:p.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:p.DiscountRate,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(S=>String(S.value)===String(p.ResponsibilityCenter)),y=l.find(S=>String(S.value)===String(p.ChargeAccountID)),w=n.find(S=>String(S.value)===String(p.ItemID));t({...p,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Mf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const EV="https://staging-engine.testthelink.online",nxe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Fy=L("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${EV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),JC=L("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),By=L("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${EV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),qy=L("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),OV=ye({name:"obligationRequests",initialState:nxe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Fy.pending,e=>{e.isLoading=!0}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(JC.pending,e=>{e.isLoading=!0}).addCase(JC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(JC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(By.pending,e=>{e.isLoading=!0}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qy.pending,e=>{e.isLoading=!0}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:b8e}=OV.actions,axe=OV.reducer,x$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],sxe=ie().shape({obrNo:O(),obrDate:Me().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),responsibilityCenter:O().required("Responsibility Center is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:Sr().min(1,"At least one item is required")});function oxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=se(),y=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,A]=v.useState(null),[T,k]=v.useState(!1),[E,P]=v.useState([]),M=(D,_)=>{const F=D.reduce((ee,fe)=>ee+Number(fe.amount||0),0),H=_.reduce((ee,fe)=>ee+Number(fe.amount||0),0),W=F-H;return{grossAmount:F,totalTaxes:H,netAmount:W}},R={description:"",amount:"",accountCode:""},$={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[R],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{S(!0),M(D.items,D.taxes);const _=new FormData;D.payeeType==="Employee"?(_.append("EmployeeID",D.payeeId),_.append("VendorID",""),_.append("CustomerID","")):D.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",D.payeeId),_.append("CustomerID","")):D.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",D.payeeId)),_.append("PayeeType",D.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",D.obrNo),_.append("InvoiceDate",D.obrDate),_.append("ResponsibilityCenter",D.responsibilityCenter);const F=D.accountingEntries.reduce((ne,J)=>ne+Number(J.subtotal||0),0),H=D.accountingEntries.reduce((ne,J)=>ne+Number(J.ewt||0),0),W=D.accountingEntries.reduce((ne,J)=>ne+Number(J.withheld||0),0),ee=D.accountingEntries.reduce((ne,J)=>ne+Number(J.vat||0),0),fe=D.accountingEntries.reduce((ne,J)=>ne+Number(J.discount||0),0);_.append("Total",F.toFixed(2)),_.append("EWT",H.toFixed(2)),_.append("WithheldAmount",W.toFixed(2)),_.append("Vat_Total",ee.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",D.fund),_.append("FiscalYearID",D.fiscalYear),_.append("ProjectID",D.project),_.append("TravelID",""),_.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,J)=>{ne.ID?_.append(`Attachments[${J}].ID`,ne.ID):_.append(`Attachments[${J}].File`,ne)});const ke=t?qy({formData:_,id:t.ID}):By(_);x(ke).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit")}).finally(()=>{S(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(gE,{className:"w-5 h-5"});case"Vendor":return o.jsx(bT,{className:"w-5 h-5"});case"Individual":return o.jsx(U0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:$,validationSchema:sxe,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:_,touched:F,handleChange:H,handleBlur:W,setFieldValue:ee,setFieldTouched:fe,isValid:ke})=>{M(D.items,D.taxes);const J=x$.map(G=>({value:G.value,label:G.label})).find(G=>G.value===D.payeeType),le=G=>{j(null),ee("payeeType",G),ee("payeeName",""),ee("payeeId",""),ee("payeeAddress",""),ee("officeUnitProject",""),ee("orsNumber","")},Z=G=>{let z=null;switch(D.payeeType){case"Employee":z=s.find(me=>me.ID===G);break;case"Vendor":z=i.find(me=>me.ID===G);break;case"Individual":z=l.find(me=>me.ID===G);break}j(z),ee("payeeName",z==null?void 0:z.Name),ee("payeeId",z==null?void 0:z.ID)},te=G=>{switch(G){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Fe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:x$.map(G=>o.jsxs("button",{type:"button",onClick:()=>le(G.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===G.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:G.value}),o.jsx("span",{className:"ml-3 font-medium",children:G.label})]},G.value))}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",J==null?void 0:J.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:te(D.payeeType),value:te(D.payeeType).find(G=>G.value===D.payeeId)||null,onChange:G=>Z(G.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(J==null?void 0:J.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((J==null?void 0:J.label)==="Employee"||(J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"OBR No.",name:"obrNo",value:D.obrNo,onChange:H,onBlur:W,error:_.obrNo,touched:F.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:H,onBlur:W,error:_.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:c,value:c.find(G=>G.value===D.responsibilityCenter)||null,onChange:G=>ee("responsibilityCenter",G.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),_.responsibilityCenter&&F.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:u,value:u.find(G=>G.value===D.fund)||null,onChange:G=>ee("fund",G.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:f,value:f.find(G=>G.value===D.fiscalYear)||null,onChange:G=>ee("fiscalYear",G.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:d,value:d.find(G=>G.value===D.project)||null,onChange:G=>ee("project",G.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(Jr,{name:"accountingEntries",children:({push:G,remove:z})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((me,xe)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>z(xe),className:"text-red-600 text-xs",children:""})})]},xe)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((me,xe)=>me+Number(xe.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:T,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:me=>{G(me),k(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(Jr,{name:"Attachments",render:({remove:G,push:z})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z({File:null}),children:"+ Attachment"})]}),(me=D.Attachments)==null?void 0:me.map((xe,Te)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[xe.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${xe.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:xe.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Te}].ID`,value:xe.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Te+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Te}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ne=>ee(`Attachments[${Te}].File`,Ne.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>G(Te),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(hr,{className:"w-4 h-4"})})]},Te))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function ixe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(au,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(HB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(WB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(KB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}function PV(t,e){return function(){return t.apply(e,arguments)}}const{toString:lxe}=Object.prototype,{getPrototypeOf:IE}=Object,{iterator:kj,toStringTag:DV}=Symbol,Ij=(t=>e=>{const r=lxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ba=t=>(t=t.toLowerCase(),e=>Ij(e)===t),Tj=t=>e=>typeof e===t,{isArray:lu}=Array,Lf=Tj("undefined");function cxe(t){return t!==null&&!Lf(t)&&t.constructor!==null&&!Lf(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _V=ba("ArrayBuffer");function uxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_V(t.buffer),e}const dxe=Tj("string"),nn=Tj("function"),$V=Tj("number"),Ej=t=>t!==null&&typeof t=="object",fxe=t=>t===!0||t===!1,Vy=t=>{if(Ij(t)!=="object")return!1;const e=IE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DV in t)&&!(kj in t)},mxe=ba("Date"),hxe=ba("File"),pxe=ba("Blob"),gxe=ba("FileList"),yxe=t=>Ej(t)&&nn(t.pipe),bxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=Ij(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},xxe=ba("URLSearchParams"),[vxe,jxe,wxe,Cxe]=["ReadableStream","Request","Response","Headers"].map(ba),Nxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),lu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function RV(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MV=t=>!Lf(t)&&t!==Si;function MA(){const{caseless:t}=MV(this)&&this||{},e={},r=(n,a)=>{const s=t&&RV(e,a)||a;Vy(e[s])&&Vy(n)?e[s]=MA(e[s],n):Vy(n)?e[s]=MA({},n):lu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Lm(arguments[n],r);return e}const Sxe=(t,e,r,{allOwnKeys:n}={})=>(Lm(e,(a,s)=>{r&&nn(a)?t[s]=PV(a,r):t[s]=a},{allOwnKeys:n}),t),Axe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ixe=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&IE(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Txe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Exe=t=>{if(!t)return null;if(lu(t))return t;let e=t.length;if(!$V(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Oxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&IE(Uint8Array)),Pxe=(t,e)=>{const n=(t&&t[kj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},Dxe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_xe=ba("HTMLFormElement"),$xe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),v$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Rxe=ba("RegExp"),LV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Lm(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},Mxe=t=>{LV(t,(e,r)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(nn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Lxe=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return lu(t)?n(t):n(String(t).split(e)),r},Fxe=()=>{},Bxe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qxe(t){return!!(t&&nn(t.append)&&t[DV]==="FormData"&&t[kj])}const Vxe=t=>{const e=new Array(10),r=(n,a)=>{if(Ej(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=lu(n)?[]:{};return Lm(n,(i,l)=>{const c=r(i,a+1);!Lf(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Uxe=ba("AsyncFunction"),zxe=t=>t&&(Ej(t)||nn(t))&&nn(t.then)&&nn(t.catch),FV=((t,e)=>t?setImmediate:e?((r,n)=>(Si.addEventListener("message",({source:a,data:s})=>{a===Si&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Si.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",nn(Si.postMessage)),Wxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Si):typeof process<"u"&&process.nextTick||FV,Hxe=t=>t!=null&&nn(t[kj]),Q={isArray:lu,isArrayBuffer:_V,isBuffer:cxe,isFormData:bxe,isArrayBufferView:uxe,isString:dxe,isNumber:$V,isBoolean:fxe,isObject:Ej,isPlainObject:Vy,isReadableStream:vxe,isRequest:jxe,isResponse:wxe,isHeaders:Cxe,isUndefined:Lf,isDate:mxe,isFile:hxe,isBlob:pxe,isRegExp:Rxe,isFunction:nn,isStream:yxe,isURLSearchParams:xxe,isTypedArray:Oxe,isFileList:gxe,forEach:Lm,merge:MA,extend:Sxe,trim:Nxe,stripBOM:Axe,inherits:kxe,toFlatObject:Ixe,kindOf:Ij,kindOfTest:ba,endsWith:Txe,toArray:Exe,forEachEntry:Pxe,matchAll:Dxe,isHTMLForm:_xe,hasOwnProperty:v$,hasOwnProp:v$,reduceDescriptors:LV,freezeMethods:Mxe,toObjectSet:Lxe,toCamelCase:$xe,noop:Fxe,toFiniteNumber:Bxe,findKey:RV,global:Si,isContextDefined:MV,isSpecCompliantForm:qxe,toJSONObject:Vxe,isAsyncFn:Uxe,isThenable:zxe,setImmediate:FV,asap:Wxe,isIterable:Hxe};function Be(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const BV=Be.prototype,qV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qV[t]={value:t}});Object.defineProperties(Be,qV);Object.defineProperty(BV,"isAxiosError",{value:!0});Be.from=(t,e,r,n,a,s)=>{const i=Object.create(BV);return Q.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Be.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const Gxe=null;function LA(t){return Q.isPlainObject(t)||Q.isArray(t)}function VV(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function j$(t,e,r){return t?t.concat(e).map(function(a,s){return a=VV(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function Yxe(t){return Q.isArray(t)&&!t.some(LA)}const Kxe=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Oj(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!Q.isUndefined(g[b])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Q.isDate(p))return p.toISOString();if(!c&&Q.isBlob(p))throw new Be("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(p)||Q.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,b,g){let x=p;if(p&&!g&&typeof p=="object"){if(Q.endsWith(b,"{}"))b=n?b:b.slice(0,-2),p=JSON.stringify(p);else if(Q.isArray(p)&&Yxe(p)||(Q.isFileList(p)||Q.endsWith(b,"[]"))&&(x=Q.toArray(p)))return b=VV(b),x.forEach(function(w,S){!(Q.isUndefined(w)||w===null)&&e.append(i===!0?j$([b],S,s):i===null?b:b+"[]",u(w))}),!1}return LA(p)?!0:(e.append(j$(g,b,s),u(p)),!1)}const f=[],m=Object.assign(Kxe,{defaultVisitor:d,convertValue:u,isVisitable:LA});function h(p,b){if(!Q.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),Q.forEach(p,function(x,y){(!(Q.isUndefined(x)||x===null)&&a.call(e,x,Q.isString(y)?y.trim():y,b,m))===!0&&h(x,b?b.concat(y):[y])}),f.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return h(t),e}function w$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function TE(t,e){this._pairs=[],t&&Oj(t,this,e)}const UV=TE.prototype;UV.append=function(e,r){this._pairs.push([e,r])};UV.toString=function(e){const r=e?function(n){return e.call(this,n,w$)}:w$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Jxe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zV(t,e,r){if(!e)return t;const n=r&&r.encode||Jxe;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Q.isURLSearchParams(e)?e.toString():new TE(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class C${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const WV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xxe=typeof URLSearchParams<"u"?URLSearchParams:TE,Zxe=typeof FormData<"u"?FormData:null,Qxe=typeof Blob<"u"?Blob:null,eve={isBrowser:!0,classes:{URLSearchParams:Xxe,FormData:Zxe,Blob:Qxe},protocols:["http","https","file","blob","url","data"]},EE=typeof window<"u"&&typeof document<"u",FA=typeof navigator=="object"&&navigator||void 0,tve=EE&&(!FA||["ReactNative","NativeScript","NS"].indexOf(FA.product)<0),rve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nve=EE&&window.location.href||"http://localhost",ave=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:EE,hasStandardBrowserEnv:tve,hasStandardBrowserWebWorkerEnv:rve,navigator:FA,origin:nve},Symbol.toStringTag,{value:"Module"})),Dr={...ave,...eve};function sve(t,e){return Oj(t,new Dr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return Dr.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ove(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ive(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function HV(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Q.isArray(a)?a.length:i,c?(Q.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Q.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&Q.isArray(a[i])&&(a[i]=ive(a[i])),!l)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,a)=>{e(ove(n),a,r,0)}),r}return null}function lve(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Fm={transitional:WV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(HV(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sve(e,this.formSerializer).toString();if((l=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),lve(e)):e}],transformResponse:[function(e){const r=this.transitional||Fm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Fm.headers[t]={}});const cve=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uve=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&cve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},N$=Symbol("internals");function qu(t){return t&&String(t).trim().toLowerCase()}function Uy(t){return t===!1||t==null?t:Q.isArray(t)?t.map(Uy):String(t)}function dve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const fve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function XC(t,e,r,n,a){if(Q.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Q.isString(e)){if(Q.isString(n))return e.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(e)}}function mve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function hve(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let an=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=qu(c);if(!d)throw new Error("header name must be a non-empty string");const f=Q.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Uy(l))}const i=(l,c)=>Q.forEach(l,(u,d)=>s(u,d,c));if(Q.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(Q.isString(e)&&(e=e.trim())&&!fve(e))i(uve(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let l={},c,u;for(const d of e){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=qu(e),e){const n=Q.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return dve(a);if(Q.isFunction(r))return r.call(this,a,n);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=qu(e),e){const n=Q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||XC(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=qu(i),i){const l=Q.findKey(n,i);l&&(!r||XC(n,n[l],l,r))&&(delete n[l],a=!0)}}return Q.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||XC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Q.forEach(this,(a,s)=>{const i=Q.findKey(n,s);if(i){r[i]=Uy(a),delete r[s];return}const l=e?mve(s):String(s).trim();l!==s&&delete r[s],r[l]=Uy(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[N$]=this[N$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=qu(i);n[l]||(hve(a,i),n[l]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(an.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(an);function ZC(t,e){const r=this||Fm,n=e||r,a=an.from(n.headers);let s=n.data;return Q.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function GV(t){return!!(t&&t.__CANCEL__)}function cu(t,e,r){Be.call(this,t??"canceled",Be.ERR_CANCELED,e,r),this.name="CanceledError"}Q.inherits(cu,Be,{__CANCEL__:!0});function YV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Be("Request failed with status code "+r.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function yve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Lx=(t,e,r=3)=>{let n=0;const a=gve(50,250);return yve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},S$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},A$=t=>(...e)=>Q.asap(()=>t(...e)),bve=Dr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Dr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Dr.origin),Dr.navigator&&/(msie|trident)/i.test(Dr.navigator.userAgent)):()=>!0,xve=Dr.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];Q.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function KV(t,e,r){let n=!vve(e);return t&&(n||r==!1)?jve(t,e):e}const k$=t=>t instanceof an?{...t}:t;function rl(t,e){e=e||{};const r={};function n(u,d,f,m){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:m},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function a(u,d,f,m){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!Q.isUndefined(d))return n(void 0,d)}function i(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(k$(u),k$(d),f,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);Q.isUndefined(m)&&f!==l||(r[d]=m)}),r}const JV=t=>{const e=rl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=an.from(i),e.url=zV(KV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(r)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Dr.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(e)),n||n!==!1&&bve(e.url))){const u=a&&s&&xve.read(s);u&&i.set(a,u)}return e},wve=typeof XMLHttpRequest<"u",Cve=wve&&function(t){return new Promise(function(r,n){const a=JV(t);let s=a.data;const i=an.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function b(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function x(){if(!g)return;const w=an.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:t,request:g};YV(function(N){r(N),b()},function(N){n(N),b()},C),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(n(new Be("Request aborted",Be.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new Be("Network Error",Be.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||WV;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Be(S,C.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,t,g)),g=null},s===void 0&&i.setContentType(null),"setRequestHeader"in g&&Q.forEach(i.toJSON(),function(S,C){g.setRequestHeader(C,S)}),Q.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([m,p]=Lx(u,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Lx(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=w=>{g&&(n(!w||w.type?new cu(null,t,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=pve(a.url);if(y&&Dr.protocols.indexOf(y)===-1){n(new Be("Unsupported protocol "+y+":",Be.ERR_BAD_REQUEST,t));return}g.send(s||null)})},Nve=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Be?d:new cu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},Sve=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Ave=async function*(t,e){for await(const r of kve(t))yield*Sve(r,e)},kve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},I$=(t,e,r,n)=>{const a=Ave(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Pj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XV=Pj&&typeof ReadableStream=="function",Ive=Pj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ZV=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Tve=XV&&ZV(()=>{let t=!1;const e=new Request(Dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),T$=64*1024,BA=XV&&ZV(()=>Q.isReadableStream(new Response("").body)),Fx={stream:BA&&(t=>t.body)};Pj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fx[e]&&(Fx[e]=Q.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Be(`Response type '${e}' is not supported`,Be.ERR_NOT_SUPPORT,n)})})})(new Response);const Eve=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Dr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await Ive(t)).byteLength},Ove=async(t,e)=>{const r=Q.toFiniteNumber(t.getContentLength());return r??Eve(e)},Pve=Pj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=JV(t);u=u?(u+"").toLowerCase():"text";let h=Nve([a,s&&s.toAbortSignal()],i),p;const b=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(c&&Tve&&r!=="get"&&r!=="head"&&(g=await Ove(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(Q.isFormData(n)&&(j=C.headers.get("content-type"))&&d.setContentType(j),C.body){const[N,A]=S$(g,Lx(A$(c)));n=I$(C.body,T$,N,A)}}Q.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;p=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let y=await fetch(p);const w=BA&&(u==="stream"||u==="response");if(BA&&(l||w&&b)){const C={};["status","statusText","headers"].forEach(T=>{C[T]=y[T]});const j=Q.toFiniteNumber(y.headers.get("content-length")),[N,A]=l&&S$(j,Lx(A$(l),!0))||[];y=new Response(I$(y.body,T$,N,()=>{A&&A(),b&&b()}),C)}u=u||"text";let S=await Fx[Q.findKey(Fx,u)||"text"](y,t);return!w&&b&&b(),await new Promise((C,j)=>{YV(C,j,{data:S,headers:an.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,t,p),{cause:x.cause||x}):Be.from(x,x&&x.code,t,p)}}),qA={http:Gxe,xhr:Cve,fetch:Pve};Q.forEach(qA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const E$=t=>`- ${t}`,Dve=t=>Q.isFunction(t)||t===null||t===!1,QV={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!Dve(r)&&(n=qA[(i=String(r)).toLowerCase()],n===void 0))throw new Be(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(E$).join(`
`):" "+E$(s[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:qA};function QC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cu(null,t)}function O$(t){return QC(t),t.headers=an.from(t.headers),t.data=ZC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),QV.getAdapter(t.adapter||Fm.adapter)(t).then(function(n){return QC(t),n.data=ZC.call(t,t.transformResponse,n),n.headers=an.from(n.headers),n},function(n){return GV(n)||(QC(t),n&&n.response&&(n.response.data=ZC.call(t,t.transformResponse,n.response),n.response.headers=an.from(n.response.headers))),Promise.reject(n)})}const eU="1.9.0",Dj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Dj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const P$={};Dj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+eU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Be(a(i," has been removed"+(r?" in "+r:"")),Be.ERR_DEPRECATED);return r&&!P$[i]&&(P$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Dj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _ve(t,e,r){if(typeof t!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Be("option "+s+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Be("Unknown option "+s,Be.ERR_BAD_OPTION)}}const zy={assertOptions:_ve,validators:Dj},ja=zy.validators;let Mi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new C$,response:new C$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=rl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&zy.assertOptions(n,{silentJSONParsing:ja.transitional(ja.boolean),forcedJSONParsing:ja.transitional(ja.boolean),clarifyTimeoutError:ja.transitional(ja.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:zy.assertOptions(a,{encode:ja.function,serialize:ja.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),zy.assertOptions(r,{baseUrl:ja.spelling("baseURL"),withXsrfToken:ja.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Q.merge(s.common,s[r.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=an.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,m;if(!c){const p=[O$.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const p=l[f++],b=l[f++];try{h=p(h)}catch(g){b.call(this,g);break}}try{d=O$.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=rl(this.defaults,e);const r=KV(e.baseURL,e.url,e.allowAbsoluteUrls);return zV(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Mi.prototype[e]=function(r,n){return this.request(rl(n||{},{method:e,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(rl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Mi.prototype[e]=r(),Mi.prototype[e+"Form"]=r(!0)});let $ve=class tU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new cu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new tU(function(a){e=a}),cancel:e}}};function Rve(t){return function(r){return t.apply(null,r)}}function Mve(t){return Q.isObject(t)&&t.isAxiosError===!0}const VA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VA).forEach(([t,e])=>{VA[e]=t});function rU(t){const e=new Mi(t),r=PV(Mi.prototype.request,e);return Q.extend(r,Mi.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return rU(rl(t,a))},r}const Xe=rU(Fm);Xe.Axios=Mi;Xe.CanceledError=cu;Xe.CancelToken=$ve;Xe.isCancel=GV;Xe.VERSION=eU;Xe.toFormData=Oj;Xe.AxiosError=Be;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=Rve;Xe.isAxiosError=Mve;Xe.mergeConfig=rl;Xe.AxiosHeaders=an;Xe.formToJSON=t=>HV(Q.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=QV.getAdapter;Xe.HttpStatusCode=VA;Xe.default=Xe;const{Axios:j8e,AxiosError:w8e,CanceledError:C8e,isCancel:N8e,CancelToken:S8e,VERSION:A8e,all:k8e,Cancel:I8e,isAxiosError:T8e,spread:E8e,toFormData:O8e,AxiosHeaders:P8e,HttpStatusCode:D8e,formToJSON:_8e,getAdapter:$8e,mergeConfig:R8e}=Xe,_t=Xe.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});_t.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));_t.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const OE="https://staging-engine.testthelink.online",Ht=L("budgetFunds/fetchBudgetFunds",async()=>(await _t("/funds")).data),Wy=L("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${OE}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return pe.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),Hy=L("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${OE}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return pe.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),Gy=L("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${OE}/funds/${t}`,{method:"DELETE"})).json())return pe.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),Lve=ye({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ht.pending,e=>{e.loading=!0,e.error=null}).addCase(Ht.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Ht.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to fetch budget funds")}).addCase(Wy.pending,e=>{e.loading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(Wy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to create fund")}).addCase(Hy.pending,e=>{e.loading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(Hy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to update fund")}).addCase(Gy.pending,e=>{e.loading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(Gy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to delete fund")})}}),Fve=Lve.reducer,Bve=[{ID:"1",Name:"Budget 1"}],ko=L("budget/fetchBudgets",async(t,e)=>{try{return Bve}catch(r){return e.rejectWithValue(r.message)}}),e1=L("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),t1=L("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),r1=L("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),qve={budgets:[],isLoading:!1,error:null},Vve=ye({name:"budget",initialState:qve,reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(e1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(e1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(e1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(t1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(t1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(t1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(r1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(r1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Uve=Vve.reducer;function zve(){const t=se(),{obligationRequests:e,isLoading:r}=q(j=>j.obligationRequests),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[p,b]=v.useState("list"),[g,x]=v.useState(null);v.useEffect(()=>{t(Fy()),t(rn()),t(vn()),t(ps()),t(er()),t(ys()),t(Ht()),t(xn()),t(gs()),t(ma()),t($a()),t(ko())},[t]);const y=()=>{x(null),b("form")},w=j=>{x(j),b("form")},S=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const N=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(oxe,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),p==="details"&&g&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>w(g),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ixe,{or:g,onBack:S})})]})]})}function Li(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${UA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function UA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${UA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${UA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const PE="https://staging-engine.testthelink.online",Wve={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Yy=L("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${PE}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Ky=L("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${PE}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),n1=L("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Jy=L("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${PE}/disbursementVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Xy=L("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),nU=ye({name:"disbursementVouchers",initialState:Wve,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Ky.pending,e=>{e.isLoading=!0}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(n1.pending,e=>{e.isLoading=!0}).addCase(n1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(n1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jy.pending,e=>{e.isLoading=!0}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xy.pending,e=>{e.isLoading=!0}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yy.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Yy.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Yy.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:M8e}=nU.actions,Hve=nU.reducer,D$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Gve=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function Yve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[],chartOfAccountsOptions:x=[]}){const y=se(),w=v.useRef(null),[S,C]=v.useState(!1),[j,N]=v.useState(null),[A,T]=v.useState(null),[k,E]=v.useState(null),[P,M]=v.useState(!1),[R,$]=v.useState([]),[B,U]=v.useState((t==null?void 0:t.modeOfPayment)||""),D=()=>ie().shape({payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),accountingEntries:k==="Standalone Request"?Sr():Sr().min(1,"At least one item is required"),contraAccount:O().required("Contra Account is required"),modeOfPayment:O().required("Mode of Payment is required"),bank:B==="Check"?O().required("Bank is required"):O(),checkNumber:B==="Check"?O().required("Check Number is required"):O(),receivedPaymentBy:O().required("Received Payment By is required")}),{requestOptions:_,requestOptionsLoading:F,requestOptionsError:H}=q(J=>J.disbursementVouchers),W=(J,le)=>{const Z=J.reduce((z,me)=>z+Number(me.amount||0),0),te=le.reduce((z,me)=>z+Number(me.amount||0),0),G=Z-te;return{grossAmount:Z,totalTaxes:te,netAmount:G}},ee={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[ee],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},ke=J=>{C(!0),W(J.items,J.taxes);const le=new FormData;J.payeeType==="Employee"?(le.append("EmployeeID",J.payeeId),le.append("VendorID",""),le.append("CustomerID","")):J.payeeType==="Vendor"?(le.append("EmployeeID",""),le.append("VendorID",J.payeeId),le.append("CustomerID","")):J.payeeType==="Individual"&&(le.append("EmployeeID",""),le.append("VendorID",""),le.append("CustomerID",J.payeeId)),le.append("PayeeType",J.payeeType),le.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),le.append("Address",(j==null?void 0:j.StreetAddress)||""),le.append("InvoiceNumber",J.obrNo),le.append("InvoiceDate",J.obrDate),le.append("ResponsibilityCenter",J.responsibilityCenter);const Z=J.accountingEntries.reduce((Te,Ne)=>Te+Number(Ne.subtotal||0),0),te=J.accountingEntries.reduce((Te,Ne)=>Te+Number(Ne.ewt||0),0),G=J.accountingEntries.reduce((Te,Ne)=>Te+Number(Ne.withheld||0),0),z=J.accountingEntries.reduce((Te,Ne)=>Te+Number(Ne.vat||0),0),me=J.accountingEntries.reduce((Te,Ne)=>Te+Number(Ne.discount||0),0);le.append("Total",Z.toFixed(2)),le.append("EWT",te.toFixed(2)),le.append("WithheldAmount",G.toFixed(2)),le.append("Vat_Total",z.toFixed(2)),le.append("Discounts",me.toFixed(2)),le.append("FundsID",J.fund),le.append("FiscalYearID",J.fiscalYear),le.append("ProjectID",J.project),le.append("TravelID",""),le.append("Items",JSON.stringify(J.accountingEntries)),J.Attachments.forEach((Te,Ne)=>{Te.File?le.append(`Attachments[${Ne}].File`,Te.File):Te.ID&&le.append(`Attachments[${Ne}].ID`,Te.ID)}),le.append("OBR_LinkID",J.OBR_LinkID||""),le.append("ContraAccountID",J.contraAccount),le.append("ModeOfPayment",J.modeOfPayment),le.append("BankID",J.bank),le.append("CheckNumber",J.checkNumber),le.append("ReceivedPaymentBy",J.receivedPaymentBy);const xe=t?Xy({formData:le,id:t.ID}):Jy(le);y(xe).unwrap().then(()=>{pe.success("Success"),e()}).catch(Te=>{pe.error((Te==null?void 0:Te.message)||"Failed to submit")}).finally(()=>{C(!1)})},ne=({type:J})=>{switch(J){case"Employee":return o.jsx(gE,{className:"w-5 h-5"});case"Vendor":return o.jsx(bT,{className:"w-5 h-5"});case"Individual":return o.jsx(U0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:w,initialValues:fe,validationSchema:D(),onSubmit:ke,enableReinitialize:!0,children:({values:J,errors:le,touched:Z,handleChange:te,handleBlur:G,setFieldValue:z,setFieldTouched:me,isValid:xe})=>{W(J.items,J.taxes);const Ne=D$.map(Y=>({value:Y.value,label:Y.label})).find(Y=>Y.value===J.payeeType),cr=Y=>{N(null),z("payeeType",Y),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},On=Y=>{T(null),z("requestType",Y),E(Y),Y==="Standalone Request"&&z("accountingEntries",[]),J.payeeType&&J.payeeId&&Y&&y(Yy({requestType:Y,payeeType:J.payeeType,payeeId:J.payeeId}))},Pn=Y=>{var Ce,_e;T(Y);const ue=(((Ce=Y==null?void 0:Y.raw)==null?void 0:Ce.TransactionItemsAll)||[]).map(ze=>{var za,Qo,Us,ei,LO,FO,BO;const Ft={Price:ze.Price??0,Quantity:ze.Quantity??1,DiscountRate:ze.DiscountRate??0,Vatable:ze.Vatable,withheldEWT:ze.EWTRate??0},Vs=Mf({price:Ft.Price,quantity:Ft.Quantity,taxRate:ze.TaxRate||0,discountPercent:Ft.DiscountRate,vatable:Ft.Vatable,ewtRate:Ft.withheldEWT});return{...ze,...Vs,itemName:((za=ze.Item)==null?void 0:za.Name)||"",subtotal:ze.AmountDue||0,Remarks:ze.Remarks||"",FPP:ze.FPP||"",accountCode:((Us=(Qo=ze.ChargeAccount)==null?void 0:Qo.ChartofAccounts)==null?void 0:Us.AccountCode)||"",accountName:((LO=(ei=ze.ChargeAccount)==null?void 0:ei.ChartofAccounts)==null?void 0:LO.Name)||"",fundCode:((BO=(FO=Y==null?void 0:Y.raw)==null?void 0:FO.sourceFunds)==null?void 0:BO.Code)||""}});w.current&&(w.current.setFieldValue("accountingEntries",ue),w.current.setFieldValue("OBR_LinkID",((_e=Y==null?void 0:Y.raw)==null?void 0:_e.LinkID)||""))},qs=Y=>{let de=null;switch(J.payeeType){case"Employee":de=s.find(ue=>ue.ID===Y);break;case"Vendor":de=i.find(ue=>ue.ID===Y);break;case"Individual":de=l.find(ue=>ue.ID===Y);break}N(de),z("payeeName",de==null?void 0:de.Name),z("payeeId",de==null?void 0:de.ID)},Dn=Y=>{switch(Y){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},X=Y=>{U(Y.target.value),te(Y),Y.target.value==="Cash"&&(z("bank",""),z("checkNumber",""))};return o.jsxs(Fe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:D$.map(Y=>o.jsxs("button",{type:"button",onClick:()=>cr(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.payeeType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ne,{type:Y.value}),o.jsx("span",{className:"ml-3 font-medium",children:Y.label})]},Y.value))}),le.payeeType&&Z.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),J.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ne==null?void 0:Ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:Dn(J.payeeType),onChange:Y=>qs(Y.value),value:Dn(J.payeeType).find(Y=>Y.value===J.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),le.payeeType&&Z.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ne==null?void 0:Ne.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ne==null?void 0:Ne.label)==="Employee"||(Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:Gve.map(Y=>o.jsx("button",{type:"button",onClick:()=>On(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.requestType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Y.label})},Y.value))}),le.requestType&&Z.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]}),J.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:_.map(Y=>{var ue,Ce,_e,ze,Ft,Vs,za,Qo,Us,ei;let de="";return J.payeeType==="Employee"?de=`${((ue=Y.Employee)==null?void 0:ue.FirstName)||""} ${((Ce=Y.Employee)==null?void 0:Ce.MiddleName)||""} ${((_e=Y.Employee)==null?void 0:_e.LastName)||""}`.trim():J.payeeType==="Individual"?!((ze=Y.Employee)!=null&&ze.FirstName)&&!((Ft=Y.Employee)!=null&&Ft.MiddleName)&&!((Vs=Y.Employee)!=null&&Vs.LastName)?de=Y.Name||"N/A":de=`${((za=Y.Employee)==null?void 0:za.FirstName)||""} ${((Qo=Y.Employee)==null?void 0:Qo.MiddleName)||""} ${((Us=Y.Employee)==null?void 0:Us.LastName)||""}`.trim():J.payeeType==="Vendor"&&(de=Y.Name||"N/A"),{value:Y.ID,label:`${Y.InvoiceNumber||""}  ${de}  ${Y.TIN||""}  ${Y.InvoiceDate}  ${((ei=Y.sourceFunds)==null?void 0:ei.Code)||""}`,raw:Y}}),isLoading:F,value:A,onChange:Pn,placeholder:F?"Loading":H?`Error: ${H}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),le.requestType&&Z.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]})]})]}),o.jsx("hr",{}),o.jsx(Jr,{name:"accountingEntries",children:({push:Y,remove:de})=>o.jsxs(o.Fragment,{children:[J.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),J.accountingEntries.map((ue,Ce)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:ue.itemName}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:ue.Remarks}),o.jsx("span",{children:ue.FPP}),o.jsx("span",{children:ue.accountCode}),o.jsx("span",{children:ue.accountName}),o.jsx("span",{children:ue.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>de(Ce),className:"text-red-600 text-xs",children:""})})]},Ce)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:J.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:Li(J.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2))})})]}),o.jsx(ae,{isOpen:P,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>M(!1),onSubmit:ue=>{Y(ue),M(!1)}})})]})}),le.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.accountingEntries}),o.jsx("hr",{}),(()=>{const Y={};J.accountingEntries.forEach(ue=>{console.log("entry",ue);const Ce=ue.TaxName||"N/A",_e=ue.TaxRate||0,ze=Number(ue.WithheldAmount||0),Ft=`${Ce}-${_e}`;Y[Ft]||(Y[Ft]={taxName:Ce,taxRate:_e,withheld:0}),Y[Ft].withheld+=ze});const de=Object.values(Y);return de.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),de.map(({taxName:ue,taxRate:Ce,withheld:_e},ze)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ue}),o.jsx("span",{className:"text-right",children:parseFloat(Ce).toFixed(2)}),o.jsx("span",{className:"text-right",children:_e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},ze))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(Lr,{name:"contraAccount",options:x,onChange:Y=>z("contraAccount",Y==null?void 0:Y.value),value:x.find(Y=>Y.value===J.contraAccount)||null,classNamePrefix:"react-select"}),le.contraAccount&&Z.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.contraAccount})]}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:J.modeOfPayment,onChange:X,onBlur:G,error:le.modeOfPayment,touched:Z.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Bank",name:"bank",value:J.bank,onChange:te,onBlur:G,error:le.bank,touched:Z.bank,required:B==="Check"})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check No.",name:"checkNumber",value:J.checkNumber,onChange:te,onBlur:G,error:le.checkNumber,touched:Z.checkNumber,required:B==="Check"})})]}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:J.receivedPaymentBy,onChange:te,onBlur:G,error:le.receivedPaymentBy,touched:Z.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(Jr,{name:"Attachments",render:({remove:Y,push:de})=>{var ue;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>de({File:null}),children:"+ Attachment"})]}),(ue=J.Attachments)==null?void 0:ue.map((Ce,_e)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ce.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ce.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ce.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${_e}].ID`,value:Ce.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${_e+1}`}),o.jsx("input",{type:"file",name:`Attachments[${_e}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:ze=>z(`Attachments[${_e}].File`,ze.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>Y(_e),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(hr,{className:"w-4 h-4"})})]},_e))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Kve(){const t=se(),{disbursementVouchers:e,isLoading:r}=q(N=>N.disbursementVouchers),{employees:n}=q(N=>N.employees),{customers:a}=q(N=>N.customers),{vendorDetails:s}=q(N=>N.vendorDetails),{departments:i}=q(N=>N.departments),{projectDetails:l}=q(N=>N.projectDetails),{funds:c}=q(N=>N.funds),{fiscalYears:u}=q(N=>N.fiscalYears),{items:d}=q(N=>N.items),{taxCodes:f}=q(N=>N.taxCodes),{itemUnits:m}=q(N=>N.itemUnits),{budgets:h}=q(N=>N.budget),p=q(N=>{var A;return((A=N.chartOfAccounts)==null?void 0:A.accounts)||[]}),[b,g]=v.useState("list"),[x,y]=v.useState(null);v.useEffect(()=>{t(Ky()),t(rn()),t(vn()),t(ps()),t(er()),t(ys()),t(Ht()),t(xn()),t(gs()),t(ma()),t($a()),t(ko()),t(Ar())},[t]);const w=()=>{y(null),g("form")},S=N=>{y(N),g("form")},C=()=>{g("list"),y(null)},j=[{key:"Status",header:"Status",sortable:!0,render:N=>{let A="bg-neutral-100 text-neutral-800";switch(N){case"Requested":A="bg-warning-100 text-warning-800";break;case"Pending Approval":A="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":A="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":A="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A}`,children:N})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:N=>new Date(N).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:w,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:e,actions:N=>{var T;const A=[];return((T=N.Transaction)==null?void 0:T.Status)==="Rejected"&&A.push({icon:Ae,title:"Edit",onClick:()=>handleEditOR(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),A},loading:r})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Yve,{initialData:x,employeeOptions:n.map(N=>({value:N.ID,label:N.FirstName+" "+N.MiddleName+" "+N.LastName})),vendorOptions:s.map(N=>({value:N.ID,label:N.Name})),individualOptions:a.map(N=>({value:N.ID,label:N.Name})),chartOfAccountsOptions:(p||[]).map(N=>({value:N.ID,label:N.AccountCode+" - "+N.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(N=>({value:N.ID,label:N.Name})),fundOptions:c.map(N=>({value:N.ID,label:N.Name})),projectOptions:l.map(N=>({value:N.ID,label:N.Title})),fiscalYearOptions:u.map(N=>({value:N.ID,label:N.Name})),particularsOptions:d.map(N=>({value:N.ID,label:N.Name})),unitOptions:m.map(N=>({value:N.ID,label:N.Name})),taxCodeOptions:f.map(N=>({value:N.ID,label:N.Name})),budgetOptions:h.map(N=>({value:N.ID,label:N.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),b==="details"&&x&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>S(x),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function Jve({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=q(y=>y.departments),{employees:l}=q(y=>y.employees),{budgets:c}=q(y=>y.budget);console.log("Budgets:",c);const u=se();v.useEffect(()=>{u(er()),u(rn()),u(ko())},[u]);const d=ie({BudgetID:O().required("Office is required"),DateStart:Me().required("Start Date is required"),DateEnd:Me().required("End Date is required"),Place:O().required("Place/Office to be visited is required"),Venue:O().required("Venue/Destination is required"),Remarks:O(),Purpose:O().required("Purpose of Travel is required"),Travelers:Sr().of(ie({TravelerID:O().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Sr().of(ie({Amount:K().required("Amount is required"),BudgetID:O().required("Budget of Fund is required"),Type:O().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Sr().of(ie({Name:O().required("Document name is required")})).min(1,"At least one document is required")}),f=Qe({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(y,w)=>{const S=new FormData;for(const C in y)C==="Attachments"?y.Attachments.forEach((j,N)=>{j.File?S.append(`Attachments[${N}].File`,j.File):j.ID&&S.append(`Attachments[${N}].ID`,j.ID)}):S.append(C,JSON.stringify(y[C]));try{await e(S)}catch(C){console.error(C)}finally{w(!1)}}}),{values:m,handleChange:h,handleBlur:p,errors:b,touched:g,isSubmitting:x}=f;return o.jsx(cE,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(I,{type:"select",label:"Office",name:"BudgetID",options:i.map(y=>({value:y.ID,label:y.Name})),value:m.BudgetID,onChange:h,onBlur:p,error:b.BudgetID,touched:g.BudgetID,required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:p,error:b.DateStart,touched:g.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:p,error:b.DateEnd,touched:g.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:p,error:b.Place,touched:g.Place,required:!0}),o.jsx(I,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:p,error:b.Venue,touched:g.Venue,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:p,error:b.Remarks,touched:g.Remarks}),o.jsx(I,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:p,error:b.Purpose,touched:g.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:p}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:p}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:p}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Jr,{name:"Travelers",render:({remove:y,push:w})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(dt,{type:"button",onClick:()=>w({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((S,C)=>{var j,N,A,T;return o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx(I,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:l.map(k=>({value:k.ID,label:k.FirstName+" "+k.MiddleName+" "+k.LastName})),value:S.TravelerID,onChange:h,onBlur:p,error:(N=(j=b.Travelers)==null?void 0:j[C])==null?void 0:N.TravelerID,touched:(T=(A=g.Travelers)==null?void 0:A[C])==null?void 0:T.TravelerID,className:"min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Travelers.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(Jr,{name:"TravelPayments",render:({remove:y,push:w})=>{var S,C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(dt,{type:"button",onClick:()=>w({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelPayments)==null?void 0:S.map((j,N)=>{var A,T,k,E,P,M,R,$,B,U,D,_;return o.jsxs("div",{className:"flex flex-wrap items-center items-end gap-4 mb-2",children:[o.jsx(I,{type:"number",label:"Amount",name:`TravelPayments[${N}].Amount`,value:j.Amount,onChange:h,onBlur:p,error:(T=(A=b.TravelPayments)==null?void 0:A[N])==null?void 0:T.Amount,touched:(E=(k=g.TravelPayments)==null?void 0:k[N])==null?void 0:E.Amount,className:"max-w-[180px] flex-1",required:!0}),o.jsx(I,{type:"select",label:"Source of Fund",name:`TravelPayments[${N}].BudgetID`,options:c.map(F=>({value:F.ID,label:F.Name})),value:j.BudgetID,onChange:h,onBlur:p,error:(M=(P=b.TravelPayments)==null?void 0:P[N])==null?void 0:M.BudgetID,touched:($=(R=g.TravelPayments)==null?void 0:R[N])==null?void 0:$.BudgetID,className:"min-w-[200px] flex-1",required:!0}),o.jsx(I,{type:"select",label:"Type",name:`TravelPayments[${N}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:j.Type,onChange:h,onBlur:p,error:(U=(B=b.TravelPayments)==null?void 0:B[N])==null?void 0:U.Type,touched:(_=(D=g.TravelPayments)==null?void 0:D[N])==null?void 0:_.Type,className:"min-w-[100px] flex-1",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(N),className:"bg-red-600 hover:bg-red-700 text-white p-1 mt-2",disabled:m.TravelPayments.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})]},N)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(C=m.TravelPayments)==null?void 0:C.reduce((j,N)=>{const A=parseFloat(N.Amount);return j+(isNaN(A)?0:A)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(Jr,{name:"TravelDocuments",render:({remove:y,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(dt,{type:"button",onClick:()=>w({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelDocuments)==null?void 0:S.map((C,j)=>{var N,A,T,k;return o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx(I,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:h,onBlur:p,error:(A=(N=b.TravelDocuments)==null?void 0:N[j])==null?void 0:A.Name,touched:(k=(T=g.TravelDocuments)==null?void 0:T[j])==null?void 0:k.Name,className:"flex-1 min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.TravelDocuments.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(Jr,{name:"Attachments",render:({remove:y,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>w({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.Attachments)==null?void 0:S.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:N=>f.setFieldValue(`Attachments[${j}].File`,N.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(hr,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Save"})]})]})})}function Xve({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(au,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(HB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(WB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(KB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const _j="https://staging-engine.testthelink.online",Zve=[],Zy=L("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_j}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Qy=L("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${_j}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),zA=L("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${_j}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),eb=L("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${_j}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qve=ye({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=Zve}).addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(zA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),e0e=Qve.reducer;function t0e(){const t=se(),{travelOrders:e,isLoading:r}=q(x=>x.travelOrders),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Zy())},[t]);const f=async x=>{try{u?await t(zA({...x,ID:u.ID})).unwrap():await t(Qy(x)).unwrap(),i(!1),d(null),pe.success("Success")}catch(y){throw pe.error(y||"Failed"),y}},m=()=>{d(null),i(!0)},h=async()=>{if(u)try{await t(eb(u.ID)).unwrap(),a(!1),d(null)}catch(x){console.error("Failed to delete travel order:",x)}},p=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},g=[{key:"TransactionStatus",header:"Status",sortable:!0,render:x=>{let y="bg-neutral-100 text-neutral-800";switch(x){case"Requested":y="bg-warning-100 text-warning-800";break;case"Approval Progress":y="bg-primary-100 text-primary-800";break;case"Rejected":y="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y}`,children:x})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x=>[],loading:r})}),o.jsx(ae,{isOpen:s,onClose:p,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(Jve,{initialData:u,onSubmit:f,onClose:p})}),o.jsx(ae,{isOpen:l,onClose:b,title:"Travel Order Details",size:"lg",children:u&&o.jsx(Xve,{to:u,onClose:b,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(ae,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const r0e="https://staging-engine.testthelink.online";function n0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=v.useState(""),[u,d]=v.useState((t==null?void 0:t.JEVType)||""),f=ie({JEVType:O().required("Type is required"),FundsID:O().required("Fund is required"),InvoiceDate:Me().required("Date is required"),SAI_No:O(),Remarks:O().required("Particulars are required"),ObligationRequestNumber:O(),CheckNumber:O(),CheckDate:Me(),AccountingEntries:Sr().of(ie({ResponsibilityCenter:O().required("Required"),AccountExplanation:O().required("Required"),Debit:K().nullable().typeError("Must be a number").required("Debit is required"),Credit:K().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=Qe({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(w,S)=>{const C=w.AccountingEntries.reduce((A,T)=>A+(parseFloat(T.Debit)||0),0),j=w.AccountingEntries.reduce((A,T)=>A+(parseFloat(T.Credit)||0),0);if(C!==j){c("Total Debit must be equal to Total Credit.");return}else c("");const N=new FormData;for(const A in w)A==="Attachments"?w.Attachments.forEach((T,k)=>{T.File?N.append(`Attachments[${k}].File`,T.File):T.ID&&N.append(`Attachments[${k}].ID`,T.ID)}):N.append(A,JSON.stringify(w[A]));try{await e(N)}catch(A){console.error(A)}finally{S(!1)}}}),h=w=>{d(w.target.value),m.handleChange(w)},{values:p,handleChange:b,handleBlur:g,errors:x,touched:y}=m;return o.jsx(cE,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(I,{type:"select",label:"Type",name:"JEVType",options:n,value:p.JEVType,onChange:h,onBlur:g,error:x.JEVType,touched:y.JEVType,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundsID",options:a,value:p.FundsID,onChange:b,onBlur:g,error:x.FundsID,touched:y.FundsID,required:!0}),o.jsx(I,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:p.InvoiceDate,onChange:b,onBlur:g,error:x.InvoiceDate,touched:y.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:p.ObligationRequestNumber,onChange:b,onBlur:g,error:x.ObligationRequestNumber,touched:y.ObligationRequestNumber}),o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",value:p.Remarks,onChange:b,onBlur:g,error:x.Remarks,touched:y.Remarks,required:!0}),o.jsx(I,{type:"text",label:"Payee",name:"Payee",value:p.Payee,onChange:b,onBlur:g,error:x.Payee,touched:y.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"DV No",name:"SAI_No",value:p.SAI_No,onChange:b,onBlur:g,error:x.SAI_No,touched:y.SAI_No}),o.jsx(I,{type:"text",label:"Check No",name:"CheckNumber",value:p.CheckNumber,onChange:b,onBlur:g,error:x.CheckNumber,touched:y.CheckNumber}),o.jsx(I,{type:"date",label:"Check Date",name:"CheckDate",value:p.CheckDate,onChange:b,onBlur:g,error:x.CheckDate,touched:y.CheckDate})]}),o.jsx("hr",{}),o.jsx(Jr,{name:"AccountingEntries",render:({remove:w,push:S})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(dt,{type:"button",onClick:()=>S({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),p.AccountingEntries.map((C,j)=>{var T,k,E,P,M,R,$,B,U,D,_,F,H,W;const N=parseFloat(C.Debit)>0,A=parseFloat(C.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsx(I,{className:"flex-1 min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${j}].ResponsibilityCenter`,options:s,value:C.ResponsibilityCenter,onChange:b,onBlur:g,error:(k=(T=x.AccountingEntries)==null?void 0:T[j])==null?void 0:k.ResponsibilityCenter,touched:(P=(E=y.AccountingEntries)==null?void 0:E[j])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Lr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:ee=>m.setFieldValue(`AccountingEntries[${j}].AccountExplanation`,(ee==null?void 0:ee.value)||""),name:`AccountingEntries[${j}].AccountExplanation`,value:i.find(ee=>ee.value===C.AccountExplanation)||null,onBlur:g,required:!0}),((R=(M=x.AccountingEntries)==null?void 0:M[j])==null?void 0:R.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[j].AccountExplanation})]}),o.jsx(I,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${j}].Debit`,value:C.Debit,onChange:ee=>{ee.target.value&&parseFloat(ee.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Credit`,0),b(ee)},onBlur:g,error:(B=($=x.AccountingEntries)==null?void 0:$[j])==null?void 0:B.Debit,touched:(D=(U=y.AccountingEntries)==null?void 0:U[j])==null?void 0:D.Debit,required:!A}),o.jsx(I,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${j}].Credit`,value:C.Credit,onChange:ee=>{ee.target.value&&parseFloat(ee.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Debit`,0),b(ee)},onBlur:g,error:(F=(_=x.AccountingEntries)==null?void 0:_[j])==null?void 0:F.Credit,touched:(W=(H=y.AccountingEntries)==null?void 0:H[j])==null?void 0:W.Credit,required:!N})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>w(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:p.AccountingEntries.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Jr,{name:"Attachments",render:({remove:w,push:S})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>S({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(C=p.Attachments)==null?void 0:C.map((j,N)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${r0e}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),o.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${N}].File`,A.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>w(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(hr,{className:"w-4 h-4"})})]},N))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const $j="https://staging-engine.testthelink.online",a0e=[],tb=L("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),rb=L("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${$j}/journalEntryVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=L("journalEntries/updateJournalEntry",async(t,e)=>{try{const r=await fetch(`${$j}/journalEntryVoucher/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),nb=L("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${$j}/journalEntryVoucher/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),s0e=ye({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=a0e}).addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),o0e=s0e.reducer;function i0e(){var C;const{departments:t}=q(j=>j.departments),{accounts:e}=q(j=>j.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=se(),{journalEntries:s,isLoading:i}=q(j=>j.journalEntries),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{a(tb()),a(er()),a(Ar())},[a]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},y=async()=>{if(h)try{await a(nb(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete journal entry:",j)}};console.log(s);const w=async j=>{try{u?await a(WA({...j,ID:u.ID,LinkID:u.LinkID})).unwrap():await a(rb(j)).unwrap(),c(!1),d(null),pe.success("Success")}catch(N){throw pe.error(N||"Failed"),N}},S=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Posted":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"RequestedByEmployee",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:s,actions:j=>{const N=[];return N.push({icon:Ae,title:"Edit",onClick:()=>g(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N.push({icon:Le,title:"Delete",onClick:()=>x(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N},loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(ae,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(n0e,{typeOptions:r,fundOptions:n,centerOptions:t.filter(j=>j.Active).map(j=>({label:j.Name,value:j.ID})),accountOptions:e.filter(j=>j.Active).map(j=>({label:j.AccountCode+" "+j.Name,value:j.ID})),initialData:u?{...u,AccountingEntries:((C=u.JournalEntries)==null?void 0:C.map(j=>{const N=e.find(A=>A.AccountCode===j.AccountCode&&A.Name===j.AccountName);return{ResponsibilityCenter:j.ResponsibilityCenter||"",AccountExplanation:(N==null?void 0:N.ID)||"",PR:j.PR||"",Debit:j.Debit||0,Credit:j.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function l0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),ChartOfAccountID:O().required("Chart of Accounts is required"),FundID:O().required("Fund is required"),DisbursementType:O().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:p,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:p,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:p,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:e.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(I,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(g=>({value:g.value,label:g.label})),value:d.DisbursementType,onChange:h,onBlur:p,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const c0e="https://staging-engine.testthelink.online",u0e={disbursementJournals:[],isLoading:!1,error:null},ab=L("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${c0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),a1=L("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),aU=ye({name:"disbursementJournal",initialState:u0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(a1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(a1.fulfilled,e=>{e.isLoading=!1}).addCase(a1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:d0e}=aU.actions,f0e=aU.reducer;function m0e(){const t="https://staging-engine.testthelink.online",e=se(),{disbursementJournals:r,isLoading:n,error:a}=q(m=>m.disbursementJournal),s=q(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=q(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];v.useEffect(()=>{e(d0e()),e(Ar()),e(Ht())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DisbursementType:m.DisbursementType,modeOfPayment:m.modeOfPayment,startDate:m.startDate,endDate:m.endDate,fundID:m.fundID,code:m.code})});if(!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),b=h.headers.get("Content-Disposition");let g=`Disbursement_Journals_${m.DisbursementType}.xlsx`;b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(h){console.error("Export failed:",h),alert(h.message||"Failed to export disbursement journal")}},f=m=>{e(ab(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(l0e,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:u,data:r,loading:n,pagination:!0})})]})}function h0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=v.useRef(null),s=ie({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),FundID:O().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx($e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const p0e="https://staging-engine.testthelink.online",g0e={generalJournals:[],isLoading:!1,error:null},sb=L("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${p0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),s1=L("generalJournal/exportGeneralJournals",async t=>!0),sU=ye({name:"generalJournal",initialState:g0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(s1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s1.fulfilled,e=>{e.isLoading=!1}).addCase(s1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:y0e}=sU.actions,b0e=sU.reducer;function x0e(){const t="https://staging-engine.testthelink.online",e=se(),{generalJournals:r,isLoading:n,error:a}=q(d=>d.generalJournal),{funds:s}=q(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{e(y0e()),e(Ht())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Journal.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),alert(f.message||"Failed to export general journal")}},u=d=>{e(sb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(h0e,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:r,loading:n,pagination:!0})})]})}function v0e({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=ie({FiscalYearID:O().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx($e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Fe,{children:o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"w-auto sm:w-auto",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:"Search"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:n,children:"Transfer"})]})]})})})}const Bm="https://staging-engine.testthelink.online",j0e={beginningBalance:[],isLoading:!1,error:null},Ai=L("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),ob=L("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ib=L("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),lb=L("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cb=L("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),oU=ye({name:"beginningBalance",initialState:j0e,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Ai.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ai.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Ai.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:_$}=oU.actions,w0e=oU.reducer;function C0e({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=ie({FiscalYearID:O().required("Fiscal Year is required"),FundsID:O().required("Funds are required"),BeginningBalance:K().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:O().required("Chart of Accounts is required")}),l=Qe({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(I,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(I,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Lr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function N0e({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=ie({PreviousFiscalYearID:O().required("Previous Fiscal Year is required"),NextFiscalYearID:O().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=Qe({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(I,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function S0e(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function A0e(){const t=q(P=>{var M;return((M=P.chartOfAccounts)==null?void 0:M.accounts)||[]}),{funds:e}=q(P=>P.funds),r=se(),{fiscalYears:n}=q(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=q(P=>P.beginningBalance),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,p]=v.useState(!1),[b,g]=v.useState(null),[x,y]=v.useState(null);v.useEffect(()=>{r(_$()),r(xn()),r(Ht()),r(Ar())},[r]);const w=async P=>{try{f?await r(ib(P)).unwrap():await r(ob(P)).unwrap(),pe.success("Success"),x&&await r(Ai(x)).unwrap()}catch(M){pe.error(M||"Failed")}finally{c(!1)}},S=async P=>{try{await r(lb(P)).unwrap(),r(_$()),await r(Ai({FiscalYearID:P.NextFiscalYearID})).unwrap(),x&&await r(Ai(x)).unwrap(),pe.success("Success")}catch(M){pe.error(M||"Transfer failed")}finally{d(!1)}},C=()=>{m(null),c(!0)},j=P=>{m(P),c(!0)},N=P=>{g(P),p(!0)},A=async()=>{if(b)try{await r(cb(b.ID)).unwrap(),p(!1),g(null),pe.success("Deleted")}catch(P){pe.error(P||"Failed")}},T=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],k=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],E=async(P,{setSubmitting:M})=>{try{y(P),await r(Ai(P)).unwrap()}catch(R){console.error("Fetch failed:",R)}finally{M(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(v0e,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:E,onAddClick:C,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(C0e,{onSubmit:w,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${S0e(P.Description,50)}]`}))})}),o.jsx(ae,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(N0e,{onSubmit:S,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(ae,{isOpen:h,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',b==null?void 0:b.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:T,actions:k,data:a,loading:s,pagination:!0})})]})}const k0e=ie().shape({ResponsibilityCenter:O().required("Department is required"),OfficeUnitProject:O().required("Section is required"),ContraAccountID:O().required("Charge Account is required"),InvoiceNumber:O().required("PR Number is required"),SAI_No:O(),ObligationRequestNumber:O(),InvoiceDate:Me().required("PR Date is required"),SAIDate:Me(),ALOBSDate:Me(),Remarks:O().required("Purpose is required"),Items:Sr().of(ie({ItemID:O().required("Required"),Quantity:O().required("Required"),Unit:O().required("Required"),Cost:K().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function I0e({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=v.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx($e,{initialValues:u,validationSchema:k0e,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,setFieldValue:b})=>o.jsxs(Fe,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:p,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:p,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:p,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:p,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:p,error:f.SAI_No,touched:m.SAI_No}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:p,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:p,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:p,error:f.SAIDate,touched:m.SAIDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:p,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:p,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Jr,{name:"Items",render:({remove:g,push:x})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(dt,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((y,w)=>{var S,C,j,N,A,T,k,E,P,M,R,$,B,U;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Lr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:D=>b(`Items[${w}].ItemID`,(D==null?void 0:D.value)||""),name:`Items[${w}].ItemID`,value:s.find(D=>D.value===y.ItemID)||null,onBlur:p,required:!0}),((C=(S=f.Items)==null?void 0:S[w])==null?void 0:C.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[w].ItemID})]}),o.jsx(I,{className:"flex-1 max-w-[180px]",type:"number",label:"Quantity",name:`Items[${w}].Quantity`,value:y.Quantity,onChange:h,onBlur:p,error:(N=(j=f.Items)==null?void 0:j[w])==null?void 0:N.Quantity,touched:(T=(A=m.Items)==null?void 0:A[w])==null?void 0:T.Quantity,required:!0}),o.jsx(I,{className:"flex-1 max-w-[150px]",type:"select",label:"Unit",name:`Items[${w}].Unit`,value:y.Unit,onChange:h,onBlur:p,options:i,error:(E=(k=f.Items)==null?void 0:k[w])==null?void 0:E.Unit,touched:(M=(P=m.Items)==null?void 0:P[w])==null?void 0:M.Unit,required:!0}),o.jsx(I,{className:"flex-1 max-w-[200px]",type:"number",label:"Cost",name:`Items[${w}].Cost`,value:y.Cost,onChange:h,onBlur:p,error:($=(R=f.Items)==null?void 0:R[w])==null?void 0:$.Cost,touched:(U=(B=m.Items)==null?void 0:B[w])==null?void 0:U.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(hr,{className:"w-4 h-4"})})})]},w)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,w)=>y+(parseFloat(w.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,w)=>y+(parseFloat(w.Cost)||0)*(parseFloat(w.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Rj="https://staging-engine.testthelink.online",T0e=[],E0e={purchaseRequests:T0e,isLoading:!1,error:null},ub=L("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),db=L("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Rj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fb=L("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Rj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mb=L("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Rj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),O0e=ye({name:"purchaseRequests",initialState:E0e,reducers:{},extraReducers:t=>{t.addCase(ub.pending,e=>{e.isLoading=!0}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(db.pending,e=>{e.isLoading=!0}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fb.pending,e=>{e.isLoading=!0}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mb.pending,e=>{e.isLoading=!0}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),P0e=O0e.reducer;function D0e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),{departments:a}=q(C=>C.departments),s=q(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),{items:i}=q(C=>C.items),{itemUnits:l}=q(C=>C.itemUnits),{purchaseRequests:c,isLoading:u}=q(C=>C.purchaseRequests),[d,f]=v.useState(!1),[m,h]=v.useState(null),p=se();v.useEffect(()=>{p(er()),p(Ar()),p(gs()),p($a()),p(ub())},[]);const b=()=>{n(null),e(!0)},g=()=>{e(!1),n(null)},x=async()=>{if(m)try{await p(mb(m.ID)).unwrap(),f(!1),h(null),pe.success("Deleted")}catch(C){pe.error(C||"Failed")}},y=async C=>{try{const j=C.Items.reduce((T,k)=>T+(parseFloat(k.Cost)||0),0),N=C.Items.reduce((T,k)=>T+(parseFloat(k.Cost)||0)*(parseFloat(k.Quantity)||0),0),A={...C,Total:j.toFixed(2),AmountReceived:N.toFixed(2)};r?await p(fb(A)).unwrap():await p(db(A)).unwrap(),pe.success("Success")}catch(j){pe.error(j||"Failed")}finally{e(!1)}},w=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],S=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,actions:S,data:c,loading:u})}),o.jsx(ae,{isOpen:t,onClose:g,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(I0e,{initialData:r,departmentsOptions:a.map(C=>({value:C.ID,label:C.Name})),chartOfAccountsOptions:s.map(C=>({value:C.ID,label:C.Name})),itemsOptions:i.map(C=>({value:C.ID,label:C.Name})),itemsUnitsOptions:l.map(C=>({value:C.ID,label:C.Name})),onSubmit:y,onClose:g})}),o.jsxs(ae,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}ie({number:O().required("Number is required"),date:Me().required("Date is required"),payee:O().required("Payee is required"),address:O().required("Address is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required")});function _0e({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ie({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required")}),d=Qe({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:p=>{const b=i.find(S=>String(S.ID)===String(p.TAXCodeID)),g=Mf({price:p.Price,quantity:p.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(S=>String(S.value)===String(p.ResponsibilityCenter)),y=l.find(S=>String(S.value)===String(p.ChargeAccountID)),w=n.find(S=>String(S.value)===String(p.ItemID));t({...p,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Mf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const iU="https://staging-engine.testthelink.online",$0e={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},hb=L("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${iU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),o1=L("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),pb=L("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${iU}/fundUtilizationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),gb=L("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),lU=ye({name:"fundUtilizations",initialState:$0e,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(hb.pending,e=>{e.isLoading=!0}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(o1.pending,e=>{e.isLoading=!0}).addCase(o1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(o1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gb.pending,e=>{e.isLoading=!0}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:L8e}=lU.actions,R0e=lU.reducer,$$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],M0e=ie().shape({obrNo:O().required("No. is required"),obrDate:Me().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:Sr().min(1,"At least one item is required")});function L0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=se(),y=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,A]=v.useState(null),[T,k]=v.useState(!1),[E,P]=v.useState([]),M=(D,_)=>{const F=D.reduce((ee,fe)=>ee+Number(fe.amount||0),0),H=_.reduce((ee,fe)=>ee+Number(fe.amount||0),0),W=F-H;return{grossAmount:F,totalTaxes:H,netAmount:W}},R={description:"",amount:"",accountCode:""},$={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[R],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{S(!0),M(D.items,D.taxes);const _=new FormData;D.payeeType==="Employee"?(_.append("EmployeeID",D.payeeId),_.append("VendorID",""),_.append("CustomerID","")):D.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",D.payeeId),_.append("CustomerID","")):D.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",D.payeeId)),_.append("PayeeType",D.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",D.obrNo),_.append("InvoiceDate",D.obrDate);const F=D.accountingEntries.reduce((ne,J)=>ne+Number(J.subtotal||0),0),H=D.accountingEntries.reduce((ne,J)=>ne+Number(J.ewt||0),0),W=D.accountingEntries.reduce((ne,J)=>ne+Number(J.withheld||0),0),ee=D.accountingEntries.reduce((ne,J)=>ne+Number(J.vat||0),0),fe=D.accountingEntries.reduce((ne,J)=>ne+Number(J.discount||0),0);_.append("Total",F.toFixed(2)),_.append("EWT",H.toFixed(2)),_.append("WithheldAmount",W.toFixed(2)),_.append("Vat_Total",ee.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",D.fund),_.append("FiscalYearID",D.fiscalYear),_.append("ProjectID",D.project),_.append("TravelID",""),_.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,J)=>{ne.File?_.append(`Attachments[${J}].File`,ne.File):ne.ID&&_.append(`Attachments[${J}].ID`,ne.ID)});const ke=t?gb({formData:_,id:t.ID}):pb(_);x(ke).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit"),console.error("Error submitting DV:",ne)}).finally(()=>{S(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(gE,{className:"w-5 h-5"});case"Vendor":return o.jsx(bT,{className:"w-5 h-5"});case"Individual":return o.jsx(U0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:$,validationSchema:M0e,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:_,touched:F,handleChange:H,handleBlur:W,setFieldValue:ee,isValid:fe})=>{M(D.items,D.taxes);const ne=$$.map(te=>({value:te.value,label:te.label})).find(te=>te.value===D.payeeType),J=te=>{j(null),ee("payeeType",te),ee("payeeName",""),ee("payeeId",""),ee("payeeAddress",""),ee("officeUnitProject",""),ee("orsNumber","")},le=te=>{let G=null;switch(D.payeeType){case"Employee":G=s.find(z=>z.ID===te);break;case"Vendor":G=i.find(z=>z.ID===te);break;case"Individual":G=l.find(z=>z.ID===te);break}j(G),ee("payeeName",G==null?void 0:G.Name),ee("payeeId",G==null?void 0:G.ID)},Z=te=>{switch(te){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Fe,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:$$.map(te=>o.jsxs("button",{type:"button",onClick:()=>J(te.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===te.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:te.value}),o.jsx("span",{className:"ml-3 font-medium",children:te.label})]},te.value))}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ne==null?void 0:ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:Z(D.payeeType),value:Z(D.payeeType).find(te=>te.value===D.payeeId)||null,onChange:te=>le(te.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ne==null?void 0:ne.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ne==null?void 0:ne.label)==="Employee"||(ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"No.",name:"obrNo",value:D.obrNo,onChange:H,onBlur:W,error:_.obrNo,touched:F.obrNo,required:!0}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:H,onBlur:W,error:_.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:u,value:u.find(te=>te.value===D.fund)||null,onChange:te=>ee("fund",te.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:f,value:f.find(te=>te.value===D.fiscalYear)||null,onChange:te=>ee("fiscalYear",te.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Lr,{options:d,value:d.find(te=>te.value===D.project)||null,onChange:te=>ee("project",te.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(Jr,{name:"accountingEntries",children:({push:te,remove:G})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((z,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:z.responsibilityCenterName}),o.jsx("span",{children:z.Remarks}),o.jsx("span",{children:z.itemName}),o.jsx("span",{children:z.FPP}),o.jsx("span",{children:z.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(z.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>G(me),className:"text-red-600 text-xs",children:""})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((z,me)=>z+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:T,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(_0e,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:z=>{te(z),k(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(Jr,{name:"Attachments",render:({remove:te,push:G})=>{var z;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>G({File:null}),children:"+ Attachment"})]}),(z=D.Attachments)==null?void 0:z.map((me,xe)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${xe}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${xe+1}`}),o.jsx("input",{type:"file",name:`Attachments[${xe}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Te=>ee(`Attachments[${xe}].File`,Te.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>te(xe),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(hr,{className:"w-4 h-4"})})]},xe))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function F0e(){const t=se(),{fundUtilizations:e,isLoading:r}=q(j=>j.fundUtilizations),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[p,b]=v.useState("list"),[g,x]=v.useState(null);v.useEffect(()=>{t(hb()),t(rn()),t(vn()),t(ps()),t(er()),t(ys()),t(Ht()),t(xn()),t(gs()),t(ma()),t($a()),t(ko())},[t]);const y=()=>{x(null),b("form")},w=j=>{x(j),b("form")},S=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("h1",{children:"Fund Utilization Request & Status"})}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const N=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(L0e,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]})]})}const B0e=ie({Year:K().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Me().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:O().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:O().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:O().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:O().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:O().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:O().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:O().required("Citizenship is required"),ICRNo:O().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Me().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:O(),Occupation:O().min(2,"Profession must be at least 2 characters"),Gender:O().required("Sex is required"),HeightFeet:K().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:K().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:K().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:K().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:K().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:K().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:K().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:K().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:K().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:K().min(0,"Real property tax cannot be negative").nullable(),Total:K().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:K().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:K().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:O().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),R$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=p=>{if(!p)return"";const b=parseFloat(p);return Math.floor(b/12).toString()},u=p=>{if(!p)return"";const b=parseFloat(p);return Math.round(b%12).toString()},f=Qe({initialValues:(()=>{const p=(e==null?void 0:e.Customer)||t,b=(p==null?void 0:p.Height)||"",g=b?c(b):"",x=b?u(b):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(p==null?void 0:p.TIN)||"",LastName:(p==null?void 0:p.LastName)||"",FirstName:(p==null?void 0:p.FirstName)||"",MiddleName:(p==null?void 0:p.MiddleName)||"",Address:(p==null?void 0:p.StreetAddress)||"",Citizenship:(p==null?void 0:p.Citizenship)||"",ICRNo:(p==null?void 0:p.ICRNumber)||"",PlaceOfBirth:(p==null?void 0:p.PlaceofBirth)||"",CivilStatus:(p==null?void 0:p.CivilStatus)||"",Occupation:(p==null?void 0:p.Occupation)||"",Gender:(p==null?void 0:p.Gender)||"",HeightFeet:g,HeightInches:x,Weight:(p==null?void 0:p.Weight)||"",BirthDate:(p==null?void 0:p.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:B0e,onSubmit:p=>{const g=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(p)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(p)};n(g)}}),m=p=>{const b={...p,Year:String(p.Year),Height:String(p.Height),Weight:String(p.Weight),InputOne:Number(p.BusinessEarnings),InputTwo:Number(p.OccupationEarnings),InputThree:Number(p.IncomeProperty),OutputOne:Number(p.BusinessTaxDue),OutputTwo:Number(p.OccupationTaxDue),OutputThree:Number(p.PropertyTaxDue),Municipality:p.PlaceIssued,AmountPaid:Number(p.AmountReceived),Words:p.AmountinWords,Profession:p.Occupation};return delete b.BusinessEarnings,delete b.OccupationEarnings,delete b.IncomeProperty,delete b.BusinessTaxDue,delete b.OccupationTaxDue,delete b.PropertyTaxDue,delete b.PlaceIssued,delete b.AmountReceived,delete b.AmountinWords,delete b.Occupation,b},h=p=>({name:p,value:f.values[p]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[p]&&f.errors[p],disabled:a});return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(pE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(U0,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(I,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(I,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(I,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(I,{label:"Citizenship",...h("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(I,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(I,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(I,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation})}),o.jsx("div",{children:o.jsx(I,{label:"Sex",...h("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Height (feet)",...h("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(I,{label:"Height (inches)",...h("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches})}),o.jsx("div",{children:o.jsx(I,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(D6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-6 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(I,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(I,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(I,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Li(f.values.AmountReceived)||"-"})]})})]})}),o.jsx(I,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([p,b])=>o.jsx("li",{children:b},p))})]})]})})},qm="https://staging-engine.testthelink.online",q0e=[],dc=L("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),i1=L("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),yb=L("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),l1=L("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),bb=L("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),cU=ye({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=q0e}).addCase(i1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(i1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(l1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(l1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:F8e}=cU.actions,V0e=cU.reducer;function U0e(){const t=se(),{records:e,isLoading:r}=q(R=>R.communityTax),{customers:n,isLoading:a}=q(R=>R.customers),[s,i]=v.useState("list"),[l,c]=v.useState(null),[u,d]=v.useState(""),[f,m]=v.useState(!1),[h,p]=v.useState({});v.useEffect(()=>{t(dc()),t(vn())},[t]);const b=()=>{c(null),i("form")},g=R=>{c(R),i("details")},x=R=>{c(R),i("form"),console.log("Edit certificate:",R),M(R.CustomerID)},y=R=>{console.log("Print certificate:",R)},w=()=>{i("list"),c(null),p(null)},S=async R=>{try{await t(bb(R.ID)).unwrap(),t(dc())}catch($){console.error("Error deleting certificate:",$)}},C=e==null?void 0:e.filter(R=>{var B,U,D,_;const $=u.toLowerCase();return((B=R==null?void 0:R.LinkID)==null?void 0:B.toLowerCase().includes($))||((U=R==null?void 0:R.CustomerName)==null?void 0:U.toLowerCase().includes($))||((_=(D=R==null?void 0:R.Customer)==null?void 0:D.StreetAddress)==null?void 0:_.toLowerCase().includes($))}),j=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:R=>N(R),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:R=>N(R),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:R=>new Date(R).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:R=>A(R)}],N=R=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(R||0),A=R=>{let $="bg-neutral-100 text-neutral-800";switch(R){case"Requested":$="bg-success-100 text-success-800";break;case"Posted":$="bg-warning-100 text-warning-800";break;case"Cancelled":$="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$}`,children:R})},T=[{icon:r0,title:"View",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:S,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],k=()=>{m(!0)},E=()=>{m(!1)},P=async R=>{try{await t(yb(R)).unwrap(),t(dc()),Ie.success("Certificate saved successfully.")}catch($){console.error("Error saving certificate:",$),Ie.error("Failed to save certificate. Please try again.")}finally{w()}},M=R=>{const $=n.find(B=>B.ID===R);p($)};return o.jsxs(o.Fragment,{children:[s==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:C,actions:T,loading:r||a,onRowClick:g})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Pt,{options:(n==null?void 0:n.map(R=>({label:R.Name,value:R.ID})))||[],placeholder:"Choose Citizen",selectedValue:h==null?void 0:h.ID,onSelect:M,label:"Choose Citizen",required:!0}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:h?o.jsx(R$,{selectedCustomer:h,initialData:l,onCancel:w,onSubmitForm:P},h==null?void 0:h.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>x(l),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(l),className:"btn btn-outline flex items-center",children:[o.jsx(au,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(R$,{initialData:l,onCancel:w,isReadOnly:!0})})]}),o.jsx(ae,{isOpen:f,onClose:E,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const z0e=ie().shape({Year:O().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:O().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Me().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:O().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:O().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:O().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:O().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Me().required("Registration date is required"),KindofOrganization:O().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:O().required("Place of incorporation is required"),NatureOfOrganization:O().required("Business nature is required"),BasicTax:K().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:K().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:K().typeError("Must be a number").min(0,"Cannot be negative"),Total:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:K().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:O().max(500,"Remarks must be less than 500 characters"),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),M$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=Qe({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:z0e,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(pE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(P6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(I,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(I,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(D6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(I,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(I,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(I,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(I,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(I,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(I,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(I,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Li(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},Vm="https://staging-engine.testthelink.online",W0e=[],fc=L("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),c1=L("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=L("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),u1=L("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),vb=L("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),uU=ye({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=W0e}).addCase(c1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(c1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(u1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(u1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:B8e}=uU.actions,H0e=uU.reducer;function G0e(){const[t,e]=v.useState("list"),[r,n]=v.useState(null),[a,s]=v.useState(!1),[i,l]=v.useState(null),{records:c,isLoading:u}=q(E=>E.corporateCommunityTax),{vendorDetails:d,isLoading:f}=q(E=>E.vendorDetails),m=se();v.useEffect(()=>{m(ps()),m(fc())},[m]);const h=()=>{n(null),e("form")},p=E=>{n(E),e("details")},b=E=>{n(E),console.log("Edit certificate:",E),k(E.CustomerID),e("form")},g=E=>{console.log("Print certificate:",E)},x=()=>{e("list"),n(null),l(null)},y=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:E=>w(E),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:E=>w(E),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:E=>w(E),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:E=>w(E),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:E=>S(E)}],w=E=>E>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(E):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(E),S=E=>{let P="bg-neutral-100 text-neutral-800";switch(E){case"Posted":P="bg-green-100 text-green-800";break;case"Requested":P="bg-yellow-100 text-yellow-800";break;case"Cancelled":P="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:E})},j=[{icon:r0,title:"View",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:async E=>{try{await m(vb(E.ID)).unwrap(),m(fc()),console.log("Certificate deleted and data reFetched"),Ie.success("Certificate deleted successfully.")}catch(P){console.error("Error deleting certificate:",P),Ie.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],N=()=>{s(!0)},A=()=>{s(!1)},T=async E=>{try{await m(xb(E)).unwrap(),m(fc()),Ie.success("Certificate saved successfully.")}catch(P){console.error("Error saving certificate:",P),Ie.error("Failed to save certificate. Please try again.")}finally{x()}},k=E=>{const P=d.find(M=>M.ID===E);l(P),console.log("Selected vendor:",P)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:y,data:c,actions:j,loading:f||u,onRowClick:p})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Pt,{options:(d==null?void 0:d.map(E=>({label:E.Name,value:E.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:k,required:!0}),o.jsx("button",{type:"button",onClick:N,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(M$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:T,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>b(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>g(r),className:"btn btn-outline flex items-center",children:[o.jsx(au,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(M$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(ae,{isOpen:a,onClose:A,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Y0e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:r0,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await U_.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(p){console.error("Validation errors:",p.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx($e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:U_,onSubmit:f,children:({values:m,errors:h,touched:p,handleChange:b,handleBlur:g,isSubmitting:x})=>o.jsxs(Fe,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:b,onBlur:g,error:h.date,touched:p.date}),o.jsx(I,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:b,onBlur:g,error:h.period,touched:p.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:b,onBlur:g,error:h.stallNumber,touched:p.stallNumber}),o.jsx(I,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:b,onBlur:g,error:h.stallType,touched:p.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(I,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:b,onBlur:g,error:h.stallOwner,touched:p.stallOwner}),o.jsx(I,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:b,onBlur:g,error:h.amount,touched:p.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Saving...":r?"Update":"Save"})]})]})})})]})}const K0e=ie().shape({CustomerName:O().required("Name is required"),CustomerID:K(),DeceasedCustomerName:O().required("Deceased name is required"),DeceasedCustomerID:K(),Nationality:O().required("Nationality is required"),NationalityID:K().required("Nationality is required"),Age:K().required("Age is required").min(0,"Age must be positive"),Sex:O().required("Sex is required"),DeathDate:Me().required("Date of death is required"),CauseofDeath:O().required("Cause of death is required"),Cementery:O().required("Cemetery name is required"),BurialType:O().required("Service type is required"),Infectious:Qi(),Embalmed:Qi(),Disposition:O().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:O().required("Disposition remarks are required")}),InvoiceDate:Me().required("Invoice date is required"),paymentMethod:O().required("Payment method is required"),Total:K().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:O(),Remarks:O()}),J0e="https://staging-engine.testthelink.online";function X0e({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=v.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(p,b,g)=>{const y=Array.from(p.target.files).map(w=>w);b("Attachments",[...g.Attachments,...y])},u=(p,b,g)=>{const x=[...g.Attachments];x.splice(p,1),b("Attachments",x)},d=(p,b)=>{const g=p.target.value;b("BurialType",g),i(g!=="INTER")},f=async(p,{setSubmitting:b})=>{console.log("Form values:",p);try{await r(p),e()}catch(g){console.error("Submission failed:",g),Ie.error(g.message||"Submission failed. Please try again.")}finally{b(!1)}},m=a==null?void 0:a.map(p=>({value:p.ID,label:p.Name})),h=n==null?void 0:n.map(p=>({value:p.ID,label:p.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:l,validationSchema:K0e,onSubmit:f,enableReinitialize:!0,children:({values:p,errors:b,touched:g,handleChange:x,setFieldValue:y,isSubmitting:w,handleBlur:S,submitCount:C})=>o.jsxs(Fe,{className:"space-y-4 p-4 bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>c(j,y,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),p.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((j,N)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${J0e}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(N,y,p),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},N))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(I,{name:"InvoiceNumber",type:"text",value:p.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(Pt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(A=>A.value===j);y("CustomerName",(N==null?void 0:N.label)||""),y("CustomerID",(N==null?void 0:N.value)||"")},selectedValue:p.CustomerID,error:b.CustomerName,touched:g.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Pt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(A=>A.value===j);y("DeceasedCustomerName",(N==null?void 0:N.label)||""),y("DeceasedCustomerID",(N==null?void 0:N.value)||"")},selectedValue:p.DeceasedCustomerID,error:b.DeceasedCustomerName,touched:g.DeceasedCustomerName}),o.jsx(Pt,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:j=>{const N=h.find(A=>A.value===j);y("NationalityID",j||""),y("Nationality",(N==null?void 0:N.label)||"")},className:"w-full",selectedValue:p.NationalityID,error:b.Nationality,touched:g.Nationality}),o.jsx(I,{label:"Age",name:"Age",type:"number",required:!0,value:p.Age,onChange:x,touched:g.Age,error:g.Age&&b.Age}),o.jsx(I,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:p.Sex,onChange:x,touched:g.Sex,required:!0,error:g.sex&&b.sex}),o.jsx(I,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:p.DeathDate,onChange:x,touched:g.DeathDate,error:g.DeathDate&&b.DeathDate}),o.jsx(I,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:p.CauseofDeath,onChange:x,touched:g.CauseofDeath,error:g.CauseofDeath&&b.CauseofDeath}),o.jsx(I,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:p.Cementery,onChange:x,touched:g.Cementery,error:g.Cementery&&b.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:j,checked:p.BurialType===j,onChange:N=>d(N,y),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),g.BurialType&&b.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:p.Infectious,checked:p.Infectious,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:p.Embalmed,checked:p.Embalmed,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(I,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:p.Disposition,onChange:x,onBlur:S,required:p.BurialType!=="INTER",error:g.Disposition&&b.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:p.InvoiceDate,onChange:x,onBlur:S,error:g.InvoiceDate&&b.InvoiceDate}),o.jsx(I,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:p.paymentMethod,onChange:x,onBlur:S,touched:g.paymentMethod,error:g.paymentMethod&&b.paymentMethod}),o.jsx(I,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:p.Total,onChange:x,onBlur:S,touched:g.Total,error:g.Total&&b.Total}),o.jsx(I,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:p.ReferenceNumber,onChange:x,onBlur:S,touched:g.ReferenceNumber,error:g.ReferenceNumber&&b.ReferenceNumber})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:p.Remarks,onChange:x,onBlur:S,touched:g.Remarks,error:g.Remarks&&b.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:w?"Submitting...":"Submit"})]}),C>0&&Object.keys(b).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(b).map(([j,N])=>o.jsx("li",{children:N},j))})]})]})})]})}const Um="https://staging-engine.testthelink.online",Z0e=[],Wd=L("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Um}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),d1=L("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Um}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),jb=L("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Um}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),f1=L("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Um}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),wb=L("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Um}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),dU=ye({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Wd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Wd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Z0e}).addCase(d1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(d1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(f1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(f1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(f1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:q8e}=dU.actions,Q0e=dU.reducer;function eje(){const t=se(),{customers:e,isLoading:r}=q(w=>w.customers),{nationalities:n,isLoading:a}=q(w=>w.nationalities),{records:s,isLoading:i}=q(w=>w.burialRecords),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(lc()),t(Wd()),t(vn())},[t]);const f=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:w=>o.jsx("div",{className:"flex items-center gap-1",children:w||""})},{key:"CustomerName",header:"Name",sortable:!0,render:w=>(w==null?void 0:w.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:w=>w||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(w,S)=>{var C;return((C=S.DocumentType)==null?void 0:C.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:w=>m(w||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:w=>w||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:w=>({1:"General Fund",2:"Special Education Fund"})[w]||""}],m=w=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(w),h=()=>{d(null),c(!0)},p=w=>{d(w),c(!0)},b=async w=>{console.log("Deleting ticket:",w);try{await t(wb(w.ID)).unwrap(),Ie.success("Burial Receipt deleted successfully")}catch(S){Ie.error(S.message||"Failed to delete Burial Receipt")}},g=()=>{c(!1),d(null)},x=async w=>{const S=new FormData;for(const C in w)if(C!=="Attachments"){const j=typeof w[C]=="object"?JSON.stringify(w[C]):w[C];C==="TransactionItemsAll"?S.append("Items",j):S.append(C,j)}w==null||w.Attachments.forEach((C,j)=>{C.ID?S.append(`Attachments[${j}].ID`,C.ID):S.append(`Attachments[${j}].File`,C)}),u?(S.append("IsNew","false"),S.append("LinkID",u.LinkID),S.append("ID",u.ID)):S.append("IsNew","true");try{await t(jb(S)).unwrap(),u?Ie.success("Burial Receipt Updated Successfully"):Ie.success("Burial Receipt Added Successfully"),t(Wd())}catch(C){Ie.error(C.message||"Something went wrong")}finally{g()}},y=[{icon:ya,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),o.jsxs("button",{onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:f,data:s,className:"min-w-full divide-y divide-gray-200",actions:y,isLoading:i||a||r})}),o.jsx(ae,{isOpen:l,onClose:g,title:u?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(X0e,{initialData:u,onClose:g,onSubmit:x,nationalities:n,customers:e})})]})}const tje=ie().shape({InvoiceNumber:O().required("Invoice number is required"),CustomerName:O().required("Customer is required"),CustomerAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:O().required("Remarks are required"),InvoiceDate:Me().required("Invoice date is required"),Cenomar:O().required("CENOMAR is required"),MarrytoID:O().required('"Marry to" is required'),MarrytoName:O().required('"Marry to Name" is required'),MarrytoAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:O().required("Register number is required"),Total:K().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:K().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:K().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Sr()});function rje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=v.useState(!1),[i,l]=v.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(p){console.error("Error submitting form:",p),Ie.error(p.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,p,b)=>{const x=Array.from(h.target.files).map(y=>y);p("Attachments",[...b.Attachments,...x])},f=(h,p,b)=>{const g=[...b.Attachments];g.splice(h,1),p("Attachments",g)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:c,validationSchema:tje,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:p,touched:b,handleChange:g,handleBlur:x,setFieldValue:y})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:w=>d(w,y,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((w,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:w.ID?o.jsx("a",{href:`${API_URL}/uploads/${w.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:w.name||w.DataName}):w.name||w.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(S,y,h),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:g,onBlur:x,error:p.InvoiceNumber,touched:b.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Pt,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:w=>{const S=m.find(C=>C.value===w);y("CustomerName",(S==null?void 0:S.label)||""),y("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.CustomerID,error:p.CustomerName,touched:b.CustomerName}),o.jsx(I,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:g,onBlur:x,error:p.CustomerAge,touched:b.CustomerAge,min:"1"})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:g,onBlur:x,error:p.Remarks,touched:b.Remarks}),o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:g,onBlur:x,error:p.InvoiceDate,touched:b.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:g,onBlur:x,error:p.Cenomar,touched:b.Cenomar}),o.jsx(Pt,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:w=>{const S=m.find(C=>C.value===w);y("MarrytoName",(S==null?void 0:S.label)||""),y("MarrytoID",(S==null?void 0:S.value)||"")},selectedValue:h.MarrytoID,error:p.MarrytoName,touched:b.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:g,onBlur:x,error:p.MarrytoAge,touched:b.MarrytoAge,min:"1"}),o.jsx(I,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:g,onBlur:x,error:p.RegisterNumber,touched:b.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:g,onBlur:x,error:p.Total,touched:b.Total,min:"0"}),o.jsx(I,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:g,onBlur:x,error:p.RemainingBalance,touched:b.RemainingBalance,min:"0"}),o.jsx(I,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:g,onBlur:x,error:p.AmountReceived,touched:b.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const zm="https://staging-engine.testthelink.online",nje=[],Hd=L("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),m1=L("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Cb=L("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),h1=L("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Nb=L("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),fU=ye({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Hd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Hd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=nje}).addCase(m1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(m1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(m1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(h1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(h1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:V8e}=fU.actions,aje=fU.reducer;function sje(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=se(),{records:s,isLoading:i}=q(g=>g.marriageRecords),{customers:l,isLoading:c}=q(g=>g.customers);v.useEffect(()=>{a(Hd()),a(vn())},[a]);const u=async g=>{console.log("Form data to save:",g);const x=new FormData;for(const y in g)if(y!=="Attachments"){const w=typeof g[y]=="object"?JSON.stringify(g[y]):g[y];y==="TransactionItemsAll"?x.append("Items",w):x.append(y,w)}g==null||g.Attachments.forEach((y,w)=>{y.ID?x.append(`Attachments[${w}].ID`,y.ID):x.append(`Attachments[${w}].File`,y)}),r?(x.append("IsNew",!1),x.append("LinkID",r.LinkID),x.append("ID",r.ID)):x.append("IsNew",!0);try{await a(Cb(x)).unwrap(),r?Ie.success("Marriage Receipt Updated Successfully"):Ie.success("Marriage Receipt Added Successfully"),a(Hd())}catch(y){Ie.error(y.message||"Something went wrong")}finally{m()}},d=async g=>{console.log("Deleting ticket:",g);try{await a(Nb(g.ID)).unwrap(),Ie.success("Marriage Receipt deleted successfully")}catch(x){Ie.error(x.message||"Failed to delete Marriage Receipt")}},f=g=>{n(g),e(!0)},m=()=>{n(null),e(!1)},h=[{key:"Status",header:"Status",sortable:!0,render:g=>o.jsx("span",{className:`px-2 py-1 rounded ${g==="Posted"?"bg-green-100 text-green-800":g==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g})},{key:"APAR",header:"AP/AR",sortable:!0,render:g=>g||""},{key:"CustomerName",header:"Customer",sortable:!0,render:g=>(g==null?void 0:g.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:g=>p(g),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:g=>p(g||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:g=>g?`${g}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:g=>p(g||"0.00"),className:"text-right font-medium"}],p=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(g||0),b=[{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Le,title:"Delete",onClick:d,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ge,{columns:h,data:s,actions:b,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(ae,{isOpen:t,onClose:m,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(rje,{initialData:r,customers:l,onClose:m,onSubmit:u})})]})}const mU=6048e5,oje=864e5,hU=6e4,pU=36e5,L$=Symbol.for("constructDateFrom");function Ts(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&L$ in t?t[L$](e):t instanceof Date?new t.constructor(e):new Date(e)}function kn(t,e){return Ts(e||t,t)}let ije={};function Mj(){return ije}function Ff(t,e){var l,c,u,d;const r=Mj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=kn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Bx(t,e){return Ff(t,{...e,weekStartsOn:1})}function gU(t,e){const r=kn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Ts(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Bx(a),i=Ts(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Bx(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function F$(t){const e=kn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function lje(t,...e){const r=Ts.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function B$(t,e){const r=kn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function cje(t,e,r){const[n,a]=lje(r==null?void 0:r.in,t,e),s=B$(n),i=B$(a),l=+s-F$(s),c=+i-F$(i);return Math.round((l-c)/oje)}function uje(t,e){const r=gU(t,e),n=Ts(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Bx(n)}function dje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fje(t){return!(!dje(t)&&typeof t!="number"||isNaN(+kn(t)))}function mje(t,e){const r=kn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const hje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pje=(t,e,r)=>{let n;const a=hje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function p1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const gje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xje={date:p1({formats:gje,defaultWidth:"full"}),time:p1({formats:yje,defaultWidth:"full"}),dateTime:p1({formats:bje,defaultWidth:"full"})},vje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jje=(t,e,r,n)=>vje[t];function Vu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const wje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Aje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ije=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tje={ordinalNumber:Ije,era:Vu({values:wje,defaultWidth:"wide"}),quarter:Vu({values:Cje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vu({values:Nje,defaultWidth:"wide"}),day:Vu({values:Sje,defaultWidth:"wide"}),dayPeriod:Vu({values:Aje,defaultWidth:"wide",formattingValues:kje,defaultFormattingWidth:"wide"})};function Uu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Oje(l,f=>f.test(i)):Eje(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Eje(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Oje(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Pje(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const Dje=/^(\d+)(th|st|nd|rd)?/i,_je=/\d+/i,$je={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rje={any:[/^b/i,/^(a|c)/i]},Mje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lje={any:[/1/i,/2/i,/3/i,/4/i]},Fje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wje={ordinalNumber:Pje({matchPattern:Dje,parsePattern:_je,valueCallback:t=>parseInt(t,10)}),era:Uu({matchPatterns:$je,defaultMatchWidth:"wide",parsePatterns:Rje,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:Mje,defaultMatchWidth:"wide",parsePatterns:Lje,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uu({matchPatterns:Fje,defaultMatchWidth:"wide",parsePatterns:Bje,defaultParseWidth:"any"}),day:Uu({matchPatterns:qje,defaultMatchWidth:"wide",parsePatterns:Vje,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:Uje,defaultMatchWidth:"any",parsePatterns:zje,defaultParseWidth:"any"})},Hje={code:"en-US",formatDistance:pje,formatLong:xje,formatRelative:jje,localize:Tje,match:Wje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gje(t,e){const r=kn(t,e==null?void 0:e.in);return cje(r,mje(r))+1}function Yje(t,e){const r=kn(t,e==null?void 0:e.in),n=+Bx(r)-+uje(r);return Math.round(n/mU)+1}function yU(t,e){var d,f,m,h;const r=kn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Mj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Ts((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Ff(i,e),c=Ts((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Ff(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Kje(t,e){var l,c,u,d;const r=Mj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=yU(t,e),s=Ts((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Ff(s,e)}function Jje(t,e){const r=kn(t,e==null?void 0:e.in),n=+Ff(r,e)-+Kje(r,e);return Math.round(n/mU)+1}function st(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Hs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return st(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):st(r+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return st(a,e.length)}},kl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Hs.y(t,e)},Y:function(t,e,r,n){const a=yU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return st(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):st(s,e.length)},R:function(t,e){const r=gU(t);return st(r,e.length)},u:function(t,e){const r=t.getFullYear();return st(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return st(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return st(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Hs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return st(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Jje(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):st(a,e.length)},I:function(t,e,r){const n=Yje(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):st(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Hs.d(t,e)},D:function(t,e,r){const n=Gje(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):st(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return st(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return st(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return st(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=kl.noon:n===0?a=kl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=kl.evening:n>=12?a=kl.afternoon:n>=4?a=kl.morning:a=kl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Hs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Hs.s(t,e)},S:function(t,e){return Hs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return U$(n);case"XXXX":case"XX":return hi(n);case"XXXXX":case"XXX":default:return hi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return U$(n);case"xxxx":case"xx":return hi(n);case"xxxxx":case"xxx":default:return hi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V$(n,":");case"OOOO":default:return"GMT"+hi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V$(n,":");case"zzzz":default:return"GMT"+hi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return st(n,e.length)},T:function(t,e,r){return st(+t,e.length)}};function V$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+st(s,2)}function U$(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):hi(t,e)}function hi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=st(Math.trunc(n/60),2),s=st(n%60,2);return r+a+e+s}const z$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Xje=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return z$(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",z$(n,e)).replace("{{time}}",bU(a,e))},Zje={p:bU,P:Xje},Qje=/^D+$/,ewe=/^Y+$/,twe=["D","DD","YY","YYYY"];function rwe(t){return Qje.test(t)}function nwe(t){return ewe.test(t)}function awe(t,e,r){const n=swe(t,e,r);if(console.warn(n),twe.includes(t))throw new RangeError(n)}function swe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const owe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lwe=/^'([^]*?)'?$/,cwe=/''/g,uwe=/[a-zA-Z]/;function W$(t,e,r){var d,f,m,h;const n=Mj(),a=n.locale??Hje,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=kn(t,r==null?void 0:r.in);if(!fje(l))throw new RangeError("Invalid time value");let c=e.match(iwe).map(p=>{const b=p[0];if(b==="p"||b==="P"){const g=Zje[b];return g(p,a.formatLong)}return p}).join("").match(owe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const b=p[0];if(b==="'")return{isToken:!1,value:dwe(p)};if(q$[b])return{isToken:!0,value:p};if(b.match(uwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const b=p.value;(nwe(b)||rwe(b))&&awe(b,e,String(t));const g=q$[b[0]];return g(l,b,a.localize,u)}).join("")}function dwe(t){const e=t.match(lwe);return e?e[1].replace(cwe,"'"):t}function H$(t,e){const r=()=>Ts(e==null?void 0:e.in,NaN),a=pwe(t);let s;if(a.date){const u=gwe(a.date,2);s=ywe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=bwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=xwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=kn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return kn(i+l+c,e==null?void 0:e.in)}const zh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pwe(t){const e={},r=t.split(zh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],zh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(zh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=zh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function gwe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function ywe(t,e){if(e===null)return new Date(NaN);const r=t.match(fwe);if(!r)return new Date(NaN);const n=!!r[4],a=zu(r[1]),s=zu(r[2])-1,i=zu(r[3]),l=zu(r[4]),c=zu(r[5])-1;if(n)return Nwe(e,l,c)?vwe(e,l,c):new Date(NaN);{const u=new Date(0);return!wwe(e,s,i)||!Cwe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function zu(t){return t?parseInt(t):1}function bwe(t){const e=t.match(mwe);if(!e)return NaN;const r=g1(e[1]),n=g1(e[2]),a=g1(e[3]);return Swe(r,n,a)?r*pU+n*hU+a*1e3:NaN}function g1(t){return t&&parseFloat(t.replace(",","."))||0}function xwe(t){if(t==="Z")return 0;const e=t.match(hwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Awe(n,a)?r*(n*pU+a*hU):NaN}function vwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const jwe=[31,null,31,30,31,30,31,31,30,31,30,31];function xU(t){return t%400===0||t%4===0&&t%100!==0}function wwe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(jwe[e]||(xU(t)?29:28))}function Cwe(t,e){return e>=1&&e<=(xU(t)?366:365)}function Nwe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Swe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Awe(t,e){return e>=0&&e<=59}const Wm="https://staging-engine.testthelink.online",kwe=[],mc=L("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),y1=L("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Gd=L("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),b1=L("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Sb=L("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),vU=ye({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=kwe}).addCase(y1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(y1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(y1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(Gd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gd.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(Gd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(b1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(b1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:U8e}=vU.actions,Iwe=vU.reducer,Twe=ie().shape({items:O().required("Items type is required"),startTime:Me().required("Start time is required"),endTime:Me().required("End time is required").min(Tc("startTime"),"End time must be after start time"),issuedBy:O().required("Issued by is required"),dateIssued:Me().required("Date issued is required"),postingPeriod:Me().required("Posting period is required"),amountIssued:K().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:O().required("Remarks are required")}),Ewe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},Owe=({ticket:t,onClose:e})=>{const r=se(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?W$(H$(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?W$(H$(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):Ewe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(Gd({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),pe.success("Ticket updated successfully"),r(mc())):(await r(Gd({IsNew:!0,...i})).unwrap(),pe.success("Ticket added successfully"),r(mc()))}catch(i){pe.error(i.message||"Something went wrong")}finally{e()}};return o.jsx($e,{initialValues:n(t),validationSchema:Twe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Fe,{className:"space-y-6",children:[o.jsx(I,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(I,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(I,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(I,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},Pwe=()=>{const t=se(),[e,r]=v.useState(!1),[n,a]=v.useState(null),{tickets:s,isLoading:i,error:l}=q(h=>h.publicMarketTicketing);v.useEffect(()=>{t(mc())},[t]),v.useEffect(()=>{l&&pe.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{console.log("Deleting ticket:",h);try{await t(Sb(h.ID)).unwrap(),pe.success("Ticket deleted successfully")}catch(p){pe.error(p.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:h=>new Date(h).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:h=>new Date(h).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:h=>`${h==null?void 0:h.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:ya,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(dt,{onClick:c,disabled:i,children:[o.jsx(Vue,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(ae,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(Owe,{ticket:n,onClose:()=>r(!1)})})]})};ie().shape({budgetName:O().required("Budget Name is required"),fiscalYear:O().required("Fiscal Year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub-Department is required"),chartOfAccounts:O().required("Chart of Accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),january:O().required("January is required"),february:O().required("February is required"),march:O().required("March is required"),april:O().required("April is required"),may:O().required("May is required"),june:O().required("June is required"),july:O().required("July is required"),august:O().required("August is required"),september:O().required("September is required"),october:O().required("October is required"),november:O().required("November is required"),december:O().required("December is required")});const Dwe=ie().shape({Name:O().required("Budget name is required"),FiscalYearID:K().required("Fiscal year is required"),DepartmentID:K().required("Department is required"),SubDepartmentID:K().required("Sub department is required"),ChartofAccountsID:K().required("Chart of accounts is required"),FundID:K().required("Fund is required"),ProjectID:K().required("Project is required"),Appropriation:K().required("Appropriation is required"),Charges:K().required("Charges is required"),January:K().nullable(),February:K().nullable(),March:K().nullable(),April:K().nullable(),May:K().nullable(),June:K().nullable(),July:K().nullable(),August:K().nullable(),September:K().nullable(),October:K().nullable(),November:K().nullable(),December:K().nullable()}),G$={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function jU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=v.useState({...G$}),f=(m,{setSubmitting:h})=>{e(m),h(!1),console.log("Form submitted with values:",m)};return v.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(G$)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:Dwe,children:({values:m,errors:h,touched:p,handleChange:b,handleBlur:g,isSubmitting:x,submitCount:y})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(I,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:b,onBlur:g,error:h.Name,touched:p.Name,required:!0})}),o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:b,onBlur:g,value:m.FiscalYearID,error:h.FiscalYearID,touched:p.FiscalYearID,options:c,required:!0}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",onChange:b,onBlur:g,value:m.DepartmentID,error:h.DepartmentID,touched:p.DepartmentID,options:n,required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:b,onBlur:g,value:m.SubDepartmentID,error:h.SubDepartmentID,touched:p.SubDepartmentID,options:a,required:!0}),o.jsx(I,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:b,onBlur:g,value:m.ChartofAccountsID,error:h.ChartofAccountsID,touched:p.ChartofAccountsID,options:s,required:!0}),o.jsx(I,{label:"Fund",name:"FundID",type:"select",onChange:b,onBlur:g,value:m.FundID,error:h.FundID,touched:p.FundID,options:i,required:!0}),o.jsx(I,{label:"Project",name:"ProjectID",type:"select",onChange:b,onBlur:g,value:m.ProjectID,error:h.ProjectID,touched:p.ProjectID,options:l,required:!0}),o.jsx(I,{label:"Appropriation",name:"Appropriation",onChange:b,onBlur:g,value:m.Appropriation,error:h.Appropriation,touched:p.Appropriation,type:"number",required:!0}),o.jsx(I,{label:"Charges",name:"Charges",type:"number",onChange:b,onBlur:g,value:m.Charges,error:h.Charges,touched:p.Charges,required:!0}),o.jsx(I,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:b,onBlur:g,value:m.TotalAmount,error:h.TotalAmount,touched:p.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:b,onBlur:g,value:m.AppropriationBalance,error:h.AppropriationBalance,touched:p.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(w=>o.jsx(I,{label:w,name:w,type:"number",onChange:b,onBlur:g,value:m[w],error:h[w],touched:p[w]},w))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),y>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([w,S])=>o.jsx("li",{children:S},w))})]})]})})}const _we=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],$we=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],Rwe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],Mwe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],Lwe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],Y$=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],HA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fwe=ie().shape({budgetName:O().required("Required"),fiscalYear:O().required("Required"),department:O().required("Required"),subDepartment:O().required("Required"),chartOfAccount:O().required("Required"),fund:O().required("Required"),project:O().required("Required"),monthlyAmounts:ie().shape(HA.reduce((t,e)=>(t[e]=K().min(0,"Must be >= 0").required("Required"),t),{}))});function Bwe(){const[t,e]=v.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx($e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:HA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:Fwe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(v.useEffect(()=>{const s=Y$.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Fe,{className:"space-y-4",children:[o.jsx(I,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(I,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:_we,value:r.fiscalYear,onChange:n}),o.jsx(I,{name:"department",label:"Department",type:"select",required:!0,options:$we,value:r.department,onChange:n}),o.jsx(I,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:Rwe,value:r.subDepartment,onChange:n}),o.jsx(I,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:Mwe,value:r.chartOfAccount,onChange:n}),o.jsx(I,{name:"fund",label:"Fund",type:"select",required:!0,options:Lwe,value:r.fund,onChange:n}),o.jsx(I,{name:"project",label:"Project",type:"select",required:!0,options:Y$.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:HA.map(s=>o.jsx(I,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}ie().shape({Status:O().oneOf(["Requested"]).required(),APAR:O().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:K().oneOf([21]).required(),RequestedBy:K().required("Requested by (lngUser) is required"),InvoiceDate:Me().required("Invoice date is required"),InvoiceNumber:O().required("Invoice number is required"),Total:K().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Qi().required("Active is required"),Remarks:O().nullable(),CreatedBy:O().required("Created by is required"),CreatedDate:Me().required("Created date is required"),ApprovalProgress:K().min(0).required("Approval progress is required"),BudgetID:K().required("Budget id is requeired"),ApprovalVersion:K().required("Approval version is required")});const Lj="https://staging-engine.testthelink.online",qwe=[],Yd=L("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=L("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Lj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),GA=L("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Lj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),kb=L("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Lj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vwe=ye({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yd.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(Yd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=qwe}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(GA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(GA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),Uwe=Vwe.reducer;function zwe(){se();const[t,e]=v.useState(!1),[r,n]=v.useState(null),{budgets:a,isLoading:s}=q(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ge,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(jU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function Wwe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=v.useRef(null),i=ie({fiscalYearID:O().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx($e,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,isSubmitting:p,setFieldValue:b})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(g=>({value:g.ID,label:g.Name})),value:u.fiscalYearID,onChange:m,onBlur:h,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const Hwe="https://staging-engine.testthelink.online",Gwe={statementComparisons:[],isLoading:!1,error:null},Ib=L("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hwe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),x1=L("statementComparison/exportStatementComparisons",async t=>!0),wU=ye({name:"statementComparison",initialState:Gwe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(x1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x1.fulfilled,e=>{e.isLoading=!1}).addCase(x1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:Ywe}=wU.actions,Kwe=wU.reducer;function Jwe(){const t="https://staging-engine.testthelink.online",e=se(),{statementComparisons:r,isLoading:n,error:a}=q(u=>u.statementComparison),{fiscalYears:s}=q(u=>u.fiscalYears);v.useEffect(()=>{e(Ywe()),e(xn())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right"},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0},{key:"Final_Sum",header:"Final_Sum",sortable:!0},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(f),b=document.createElement("a");b.href=p,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Ib(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(Wwe,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const Xwe=()=>{const t=se(),[e,r]=v.useState(null);v.useEffect(()=>{t(Ao()),t(So()),t(No()),t(Co()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const S=localStorage.getItem("token"),C=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${S}`}});if(!C.ok)throw new Error("Failed to fetch LGU data");const j=await C.json();f(j),h(j.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(S){console.error("Error loading LGU data:",S)}},s=async(S,C)=>{try{const j=localStorage.getItem("token"),N=new FormData;Object.entries(S).forEach(([k,E])=>{N.append(k,E)}),C&&N.append("Logo",C);const A=await fetch(`${n}/lgu/${S.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`},body:N});if(!A.ok)throw new Error("Failed to update LGU");const T=await A.json();return f(T),h(T.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(j){return console.error("Update error:",j),!1}},{barangays:i}=q(S=>S.barangays),{municipalities:l}=q(S=>S.municipalities),{provinces:c}=q(S=>S.provinces),{regions:u}=q(S=>S.regions),[d,f]=v.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=v.useState("https://placehold.co/150x150?text=LGU+Logo"),[p,b]=v.useState(!1),g=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),TIN:O().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:O().required("RDO is required"),StreetAddress:O().required("Street Address is required"),BarangayID:O().required("Barangay is required"),MunicipalityID:O().required("Municipality is required"),ProvinceID:O().required("Province is required"),RegionID:O().required("Region is required"),ZIPCode:O().required("Zip Code is required"),PhoneNumber:K().required("Phone Number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O().required("Website is required")}),x=Qe({initialValues:d,validationSchema:g,enableReinitialize:!0,onSubmit:async(S,{setSubmitting:C})=>{await s(S,e)&&b(!1),C(!1)}}),y=S=>{var j;const C=(j=S.target.files)==null?void 0:j[0];if(C){r(C);const N=new FileReader;N.onloadend=()=>{h(N.result)},N.readAsDataURL(C)}},w=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((S,C)=>({ID:C+1,Name:S}));return o.jsxs("div",{className:"py-6 px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(P6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!p&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),p&&o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"mt-2"})]}),p?o.jsxs("form",{onSubmit:x.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"LGU Code",name:"Code",value:x.values.Code,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Code,touched:x.touched.Code,required:!0}),o.jsx(I,{label:"LGU Name",name:"Name",value:x.values.Name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Name,touched:x.touched.Name,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:x.values.TIN,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.TIN,touched:x.touched.TIN,required:!0}),o.jsx(I,{label:"RDO",name:"RDO",type:"select",options:w.map(S=>({value:S.ID,label:S.Name})),value:x.values.RDO,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RDO,touched:x.touched.RDO,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",value:x.values.StreetAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.StreetAddress,touched:x.touched.StreetAddress,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",value:x.values.BarangayID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.BarangayID,touched:x.touched.BarangayID,options:i.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",value:x.values.MunicipalityID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.MunicipalityID,touched:x.touched.MunicipalityID,options:l.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",value:x.values.ProvinceID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ProvinceID,touched:x.touched.ProvinceID,options:c.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",value:x.values.RegionID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RegionID,touched:x.touched.RegionID,options:u.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",value:x.values.ZIPCode,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ZIPCode,touched:x.touched.ZIPCode,required:!0}),o.jsx(I,{label:"Mobile Number",name:"PhoneNumber",value:x.values.PhoneNumber,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.PhoneNumber,touched:x.touched.PhoneNumber,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.values.EmailAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.EmailAddress,touched:x.touched.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",value:x.values.Website,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Website,touched:x.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{x.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x.isSubmitting,children:x.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([S,C])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[S]})]},S))})]})]})]})},Zwe=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(I,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(I,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(I,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(I,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(I,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(I,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(I,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(I,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(I,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(I,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(I,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(I,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(I,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(I,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(I,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(I,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(I,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(I,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(I,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(I,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(I,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(I,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(I,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(I,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(I,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(I,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(I,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(I,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function Qwe(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,s]=v.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=v.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:y})}],d=[{icon:_6,title:"View",onClick:y=>h(y)},{icon:ya,title:"Edit",onClick:y=>p(y)},{icon:Kn,title:"Delete",onClick:y=>b(y)}],f=(y,w)=>{c(S=>({...S,[y]:w}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=y=>{n(y),e(!0)},p=y=>{n(y),e(!0)},b=y=>{window.confirm("Are you sure you want to delete this permit?")&&console.log("Deleting permit:",y)},g=()=>{console.log("Saving form data:",l),e(!1)},x=i.filter(y=>y.businessName.toLowerCase().includes(a.toLowerCase())||y.ownerName.toLowerCase().includes(a.toLowerCase())||y.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(V0,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ge,{columns:u,data:x,actions:d,pagination:!0})]})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(Zwe,{formData:l,handleInputChange:f,handleSave:g,onCancel:()=>e(!1),isEdit:!!r})})]})}const eCe=ie().shape({payee:O().required("Payee is required"),amount:K().required("Amount is required").positive("Amount must be positive"),date:Me().required("Date is required"),bank:O().required("Bank is required"),accountNumber:O().required("Account number is required"),accountName:O().required("Account name is required"),chequeType:O().required("Cheque type is required"),checkNumber:O().required("Check number is required"),brstn:O().required("BRSTN is required"),dv:O().required("DV is required"),signatory1:O().required("Signatory 1 is required"),signatory2:O().required("Signatory 2 is required").notOneOf([Tc("signatory1")],"Signatories must be different"),Attachments:Sr()});function tCe(){var S,C,j;const[t,e]=v.useState([]),[r,n]=v.useState(null),[a,s]=v.useState([]),i=se(),{banks:l,isLoading:c}=q(N=>N.banks),{employees:u,isLoading:d}=q(N=>N.employees),f=Qe({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:eCe,onSubmit:async N=>{await b(N)}});v.useEffect(()=>{i(Ri()),i(rn()),m()},[]);const m=async()=>{try{const N=await _t("/chequeGenerator/checkList");s(N.data)}catch(N){throw console.error("Error fetching cheque list:",N),N}},h=(N,A,T)=>{const E=Array.from(N.target.files).map(P=>P);console.log(E,T),A("Attachments",[...T.Attachments,...E])},p=(N,A,T)=>{const k=[...T.Attachments];k.splice(N,1),A("Attachments",k)},b=async N=>{try{const A=new FormData;A.append("IsNew",r?"false":"true"),A.append("ID",(r==null?void 0:r.ID)||""),A.append("AddCondition","true"),A.append("DisbursementID",N.dv),A.append("BankID",N.bank),A.append("SignatoryType",N.chequeType),A.append("AccountNumber",N.accountNumber),A.append("AccountName",N.accountName),A.append("CheckNumber",N.checkNumber),A.append("BRSTN",N.brstn),A.append("CheckDate",N.date),A.append("Payee",N.payee),A.append("Amount",N.amount),A.append("Words",Li(N.amount)),A.append("SignatoryOneID",N.signatory1),A.append("SignatoryTwoID",N.signatory2),A.append("Remarks",N.additionalInformation),A.append("OBR",N.obr||""),t.length>0?t.forEach((E,P)=>{E.ID?A.append(`Attachments[${P}].ID`,E.ID):A.append(`Attachments[${P}].File`,E)}):A.append("Attachments","[]");const T={headers:{"Content-Type":"multipart/form-data"}},k=await _t.post("/chequeGenerator/save",A,T);if(k.data.error&&k.status!==200){Ie.error(k.data.error);return}Ie.success("Cheque saved successfully"),m(),x()}catch(A){throw console.error("Error saving cheque:",A),Ie.error("Failed to save cheque"),A}},g=N=>{n(N),f.setValues({status:N.Status,payee:N.Payee,amount:N.Amount,date:N.CheckDate,bank:N.BankID.toString(),accountNumber:N.AccountNumber,accountName:N.AccountName,chequeType:N.SignatoryType,particulars:N.Particulars||"",checkNumber:N.CheckNumber,brstn:N.BRSTN,dv:N.DisbursementID,additionalInformation:N.Remarks,obr:N.OBR||"",signatory1:N.SignatoryOneID.toString(),signatory2:N.SignatoryTwoID.toString(),Attachments:N.Attachments||[]})},x=()=>{n(null),f.resetForm(),e([])},y=[{key:"Status",header:"Status",sortable:!0,render:N=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${N==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],w=[{icon:ya,title:"Edit",onClick:N=>g(N)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",onClick:f.handleSubmit,className:"btn btn-primary flex items-center",disabled:f.isSubmitting,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Fde,{className:"h-5 w-5 mr-2"}),"Edit"]}):o.jsxs(o.Fragment,{children:[o.jsx(Mde,{className:"h-5 w-5 mr-2"}),"Save"]})}),r&&o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:f.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Pt,{options:l.map(N=>({value:N.ID.toString(),label:N.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:f.values.bank,onSelect:N=>f.setFieldValue("bank",N),error:f.touched.bank&&f.errors.bank,touched:f.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:f.values.chequeType==="Single",onChange:f.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:f.values.chequeType==="Double",onChange:f.handleChange,className:"mr-2"}),"Double"]})]}),f.touched.chequeType&&f.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:f.errors.chequeType})]}),o.jsx(I,{type:"text",label:"DV",value:f.values.dv,onChange:f.handleChange,name:"dv",error:f.touched.dv&&f.errors.dv,touched:f.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>h(N,f.setFieldValue,f.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},f.values.Attachments.length)]}),((C=(S=f==null?void 0:f.values)==null?void 0:S.Attachments)==null?void 0:C.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.values.Attachments.map((N,A)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${API_URL}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>p(A,f.setFieldValue,f.values),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},A))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",f.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Number",name:"accountNumber",value:f.values.accountNumber,onChange:f.handleChange,error:f.touched.accountNumber&&f.errors.accountNumber,touched:f.touched.accountNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Name",name:"accountName",value:f.values.accountName,onChange:f.handleChange,error:f.touched.accountName&&f.errors.accountName,touched:f.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check Number",name:"checkNumber",value:f.values.checkNumber,onChange:f.handleChange,error:f.touched.checkNumber&&f.errors.checkNumber,touched:f.touched.checkNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"BRSTN",name:"brstn",value:f.values.brstn,onChange:f.handleChange,error:f.touched.brstn&&f.errors.brstn,touched:f.touched.brstn})})]}),o.jsx("div",{children:o.jsx(I,{type:"date",label:"Date",name:"date",value:f.values.date,onChange:f.handleChange,error:f.touched.date&&f.errors.date,touched:f.touched.date})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Pay to the order of:",name:"payee",value:f.values.payee,onChange:f.handleChange,error:f.touched.payee&&f.errors.payee,touched:f.touched.payee})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Amount",name:"amount",value:f.values.amount,onChange:f.handleChange,step:"0.01",error:f.touched.amount&&f.errors.amount,touched:f.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(I,{type:"text",value:Li(f.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Pt,{options:u==null?void 0:u.map(N=>({value:N.ID.toString(),label:`${N.FirstName} ${N.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:f.values.signatory1,onSelect:N=>{if(N===f.values.signatory2){Ie.error("Signatory 1 cannot be the same as Signatory 2");return}f.setFieldValue("signatory1",N)},error:f.touched.signatory1&&f.errors.signatory1,touched:f.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(Pt,{options:u==null?void 0:u.map(N=>({value:N.ID.toString(),label:`${N.FirstName} ${N.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:f.values.signatory2,onSelect:N=>{if(N===f.values.signatory1){Ie.error("Signatory 2 cannot be the same as Signatory 1");return}f.setFieldValue("signatory2",N)},error:f.touched.signatory2&&f.errors.signatory2,touched:f.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:f.values.additionalInformation,name:"additionalInformation",onChange:f.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ge,{columns:y,data:a,actions:w,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((j=l.find(N=>N.ID.toString()===f.values.bank))==null?void 0:j.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:f.values.date?new Date(f.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:f.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:f.values.amount?Li(f.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:f.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function rCe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsx(Pt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const nCe="https://staging-engine.testthelink.online",aCe={generalLedgers:[],isLoading:!1,error:null},Tb=L("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nCe}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),v1=L("generalLedger/exportGeneralLedgers",async t=>!0),CU=ye({name:"generalLedger",initialState:aCe,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(v1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v1.fulfilled,e=>{e.isLoading=!1}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:sCe}=CU.actions,oCe=CU.reducer,iCe="https://staging-engine.testthelink.online";function lCe(){const t=se(),{generalLedgers:e,isLoading:r,error:n}=q(d=>d.generalLedger),{funds:a}=q(d=>d.funds),{accounts:s}=q(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{t(sCe()),t(Ht()),t(Ar())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{console.log({values:d});try{const f=await fetch(`${iCe}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Ledger.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),Ie.error(f.message||"Failed to export general ledger")}},u=d=>{t(Tb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(rCe,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:e,loading:r,pagination:!0})})]})}function cCe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Pt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const uCe="https://staging-engine.testthelink.online",dCe={subsidiaryLedgers:[],isLoading:!1,error:null},Eb=L("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uCe}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),j1=L("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),NU=ye({name:"subsidiaryLedger",initialState:dCe,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,e=>{e.isLoading=!1}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:fCe}=NU.actions,mCe=NU.reducer;function hCe(){const t="https://staging-engine.testthelink.online",e=se(),{subsidiaryLedgers:r,isLoading:n,error:a}=q(f=>f.subsidiaryLedger),{funds:s}=q(f=>f.funds),{accounts:i}=q(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(fCe()),e(Ht()),e(Ar())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let b="Subsidiary_Ledger.xlsx";p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(m){console.error("Export failed:",m),Ie.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Eb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(cCe,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function pCe({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=v.useRef(null),a=ie({year:O().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(I,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const gCe="https://staging-engine.testthelink.online",yCe={financialStatements:[],isLoading:!1,error:null},Ob=L("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gCe}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),w1=L("financialStatement/exportFinancialStatements",async t=>!0),SU=ye({name:"financialStatement",initialState:yCe,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,e=>{e.isLoading=!1}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:bCe}=SU.actions,xCe=SU.reducer;function vCe(){const t="https://staging-engine.testthelink.online",e=se(),{financialStatements:r,isLoading:n,error:a}=q(u=>u.financialStatementsReports);v.useEffect(()=>{e(bCe())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:u.year})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(f),b=document.createElement("a");b.href=p,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Ob(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(pCe,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const K$="https://staging-engine.testthelink.online";function J$(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(""),[i,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState([]),[m,h]=v.useState(!1),p=se(),{funds:b}=q(A=>A.funds),{departments:g}=q(A=>A.departments),{fiscalYears:x}=q(A=>A.fiscalYears);v.useEffect(()=>{p(Ht()),p(er()),p(xn())},[p]);const y=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>w(A),className:"text-right"}],w=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),S=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),C=async()=>{if(!j()){Ie.error("Please select all filters");return}try{h(!0);const A=await Xe.post(`${K$}/budgetReport/view`,S());f(A.data||[])}catch{Ie.error("Failed to fetch data")}finally{h(!1)}},j=()=>t&&r&&a&&i&&c,N=async()=>{if(!j()){Ie.error("Please select all filters");return}try{const A=await Xe.post(`${K$}/budgetReport/exportExcel`,S(),{responseType:"blob"}),T=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(T),E=document.createElement("a");E.href=k,E.download="Budget_Report.xlsx",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch{Ie.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{onClick:N,className:"btn btn-outline flex items-center",children:[o.jsx(zB,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-44",children:o.jsx(I,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-44",children:o.jsx(I,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-44",children:o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:x.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-44",children:o.jsx(I,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:b.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-44",children:o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:g.map(A=>({label:A.Name,value:A.ID}))})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ge,{columns:y,data:d,pagination:!0,loading:m})})]})}function jCe(){const[t,e]=v.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(zB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(au,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(I,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(I,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(I,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ge,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const X$="https://staging-engine.testthelink.online",C1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function wCe(){const t=se(),{userroles:e,isLoading:r,error:n}=q(h=>h.userroles),a=q(h=>h.modules.modules),[s,i]=v.useState(null),[l,c]=v.useState({});v.useEffect(()=>{t(rc()),t(Md())},[t]),v.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]),v.useEffect(()=>{if(!(s!=null&&s.ID)||a.length===0)return;(async()=>{try{const p=await fetch(`${X$}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await p.json();if(!p.ok)throw new Error(b.message||"Failed to fetch access");const g={};b.forEach(y=>{g[y.ModuleID]={id:y.ID,view:!!y.View,add:!!y.Add,edit:!!y.Edit,delete:!!y.Delete,print:!!y.Print,mayor:!!y.Mayor}});const x={};a.forEach(y=>{x[y.ID]=g[y.ID]||{...C1}}),c(x)}catch(p){console.error("Error loading module access:",p.message)}})()},[s,a]);const u=(h,p)=>{c(b=>({...b,[h]:{...b[h],[p]:!b[h][p]}}))},d=h=>{const p={};a.forEach(b=>{p[b.ID]={...l[b.ID]||C1,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(p)},f=(h,p)=>{const b={...l};a.forEach(g=>{b[g.ID]={...b[g.ID]||C1,[h]:p}}),c(b)},m=async()=>{if(!(s!=null&&s.ID))return;const h=Object.entries(l).map(([p,b])=>({id:b.id||null,ModuleID:parseInt(p),View:b.view?1:0,Add:b.add?1:0,Edit:b.edit?1:0,Delete:b.delete?1:0,Print:b.print?1:0,Mayor:b.mayor?1:0}));try{const p=await fetch(`${X$}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:h})});if(!p.ok){const b=await p.json();throw new Error(b.message||"Failed to save permissions")}alert("Permissions saved successfully!")}catch(p){console.error("Save failed:",p.message),alert("Error saving permissions.")}};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:m,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(h=>o.jsx("li",{onClick:()=>i(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:h})})},h))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(p=>{var b;return(b=l[p.ID])==null?void 0:b[h]}),onChange:p=>f(h,p.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(p=>{var b;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((b=l[h.ID])==null?void 0:b[p])||!1,onChange:()=>u(h.ID,p),className:"accent-blue-600"})},p)})]},h.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>d(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const CCe=()=>{const t=Sm(),[e,r]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""});se();const[n,a]=v.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){Ie.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){Ie.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),Ie.success("Password updated successfully!"),t("/dashboard")}catch(d){Ie.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Ide,{size:18}):o.jsx(_6,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Sde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},NCe=(t="self")=>_t("/profileDashboard/userDocumentsList",{params:{owner:t}}),SCe=t=>_t("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),ACe=t=>_t(`/profileDashboard/budgetAPARList/${t}`),Z$=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return _t("/profileDashboard/disbursementAmounts",{params:n})},kCe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return _t("/profileDashboard/obligationChart",{params:r})},ICe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return _t("/profileDashboard/travelOrderChart",{params:r})},TCe=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return _t("/profileDashboard/disbursementChart",{params:r})},ECe=(t="Day")=>_t("/profileDashboard/collectionTotals",{params:{dateRange:t}}),OCe=()=>_t("/profileDashboard/chartGeneral"),PCe=()=>_t("/profileDashboard/chartMarriage"),DCe=()=>_t("/profileDashboard/chartBurial"),_Ce=()=>_t("/profileDashboard/chartCedula"),$Ce={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"},RCe=t=>o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((e,r)=>{const n=e.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${$Ce[n]||"bg-gray-100 text-gray-600"}`,children:n},r)})}),MCe=()=>{const[t,e]=v.useState("self"),[r,n]=v.useState([]);v.useEffect(()=>{NCe(t).then(c=>{n(c.data||[])}).catch(()=>{pe.error("Failed to load documents")})},[t]);const{statusCounts:a,documentsList:s}=r||{},i={total:a==null?void 0:a.Total,approved:a==null?void 0:a.Approved,requested:a==null?void 0:a.Requested,rejected:a==null?void 0:a.Rejected},l=[{key:"Status",header:"Status",render:c=>RCe(c)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(yue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome, John Doe"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Position: Accountant"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Department: Finance"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ec,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(ec,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(ec,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Wh,{title:"Total Documents",value:i.total,icon:due}),o.jsx(Wh,{title:"Approved",value:i.approved,icon:nue}),o.jsx(Wh,{title:"Requested",value:i.requested,icon:cue}),o.jsx(Wh,{title:"Rejected",value:i.rejected,icon:xue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(c=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:c.value,checked:t===c.value,onChange:()=>e(c.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:c.label})]},c.value))]}),o.jsx(ge,{columns:l,data:s||[],pagination:!0})]})},Wh=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});var LCe=Array.isArray,ln=LCe,FCe=typeof eh=="object"&&eh&&eh.Object===Object&&eh,AU=FCe,BCe=AU,qCe=typeof self=="object"&&self&&self.Object===Object&&self,VCe=BCe||qCe||Function("return this")(),Ua=VCe,UCe=Ua,zCe=UCe.Symbol,Hm=zCe,Q$=Hm,kU=Object.prototype,WCe=kU.hasOwnProperty,HCe=kU.toString,Wu=Q$?Q$.toStringTag:void 0;function GCe(t){var e=WCe.call(t,Wu),r=t[Wu];try{t[Wu]=void 0;var n=!0}catch{}var a=HCe.call(t);return n&&(e?t[Wu]=r:delete t[Wu]),a}var YCe=GCe,KCe=Object.prototype,JCe=KCe.toString;function XCe(t){return JCe.call(t)}var ZCe=XCe,eR=Hm,QCe=YCe,e1e=ZCe,t1e="[object Null]",r1e="[object Undefined]",tR=eR?eR.toStringTag:void 0;function n1e(t){return t==null?t===void 0?r1e:t1e:tR&&tR in Object(t)?QCe(t):e1e(t)}var Ls=n1e;function a1e(t){return t!=null&&typeof t=="object"}var Fs=a1e,s1e=Ls,o1e=Fs,i1e="[object Symbol]";function l1e(t){return typeof t=="symbol"||o1e(t)&&s1e(t)==i1e}var uu=l1e,c1e=ln,u1e=uu,d1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f1e=/^\w*$/;function m1e(t,e){if(c1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||u1e(t)?!0:f1e.test(t)||!d1e.test(t)||e!=null&&t in Object(e)}var DE=m1e;function h1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yo=h1e;const du=rt(Yo);var p1e=Ls,g1e=Yo,y1e="[object AsyncFunction]",b1e="[object Function]",x1e="[object GeneratorFunction]",v1e="[object Proxy]";function j1e(t){if(!g1e(t))return!1;var e=p1e(t);return e==b1e||e==x1e||e==y1e||e==v1e}var _E=j1e;const Ue=rt(_E);var w1e=Ua,C1e=w1e["__core-js_shared__"],N1e=C1e,N1=N1e,rR=function(){var t=/[^.]+$/.exec(N1&&N1.keys&&N1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function S1e(t){return!!rR&&rR in t}var A1e=S1e,k1e=Function.prototype,I1e=k1e.toString;function T1e(t){if(t!=null){try{return I1e.call(t)}catch{}try{return t+""}catch{}}return""}var IU=T1e,E1e=_E,O1e=A1e,P1e=Yo,D1e=IU,_1e=/[\\^$.*+?()[\]{}|]/g,$1e=/^\[object .+?Constructor\]$/,R1e=Function.prototype,M1e=Object.prototype,L1e=R1e.toString,F1e=M1e.hasOwnProperty,B1e=RegExp("^"+L1e.call(F1e).replace(_1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q1e(t){if(!P1e(t)||O1e(t))return!1;var e=E1e(t)?B1e:$1e;return e.test(D1e(t))}var V1e=q1e;function U1e(t,e){return t==null?void 0:t[e]}var z1e=U1e,W1e=V1e,H1e=z1e;function G1e(t,e){var r=H1e(t,e);return W1e(r)?r:void 0}var pl=G1e,Y1e=pl,K1e=Y1e(Object,"create"),Fj=K1e,nR=Fj;function J1e(){this.__data__=nR?nR(null):{},this.size=0}var X1e=J1e;function Z1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Q1e=Z1e,eNe=Fj,tNe="__lodash_hash_undefined__",rNe=Object.prototype,nNe=rNe.hasOwnProperty;function aNe(t){var e=this.__data__;if(eNe){var r=e[t];return r===tNe?void 0:r}return nNe.call(e,t)?e[t]:void 0}var sNe=aNe,oNe=Fj,iNe=Object.prototype,lNe=iNe.hasOwnProperty;function cNe(t){var e=this.__data__;return oNe?e[t]!==void 0:lNe.call(e,t)}var uNe=cNe,dNe=Fj,fNe="__lodash_hash_undefined__";function mNe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=dNe&&e===void 0?fNe:e,this}var hNe=mNe,pNe=X1e,gNe=Q1e,yNe=sNe,bNe=uNe,xNe=hNe;function fu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fu.prototype.clear=pNe;fu.prototype.delete=gNe;fu.prototype.get=yNe;fu.prototype.has=bNe;fu.prototype.set=xNe;var vNe=fu;function jNe(){this.__data__=[],this.size=0}var wNe=jNe;function CNe(t,e){return t===e||t!==t&&e!==e}var $E=CNe,NNe=$E;function SNe(t,e){for(var r=t.length;r--;)if(NNe(t[r][0],e))return r;return-1}var Bj=SNe,ANe=Bj,kNe=Array.prototype,INe=kNe.splice;function TNe(t){var e=this.__data__,r=ANe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():INe.call(e,r,1),--this.size,!0}var ENe=TNe,ONe=Bj;function PNe(t){var e=this.__data__,r=ONe(e,t);return r<0?void 0:e[r][1]}var DNe=PNe,_Ne=Bj;function $Ne(t){return _Ne(this.__data__,t)>-1}var RNe=$Ne,MNe=Bj;function LNe(t,e){var r=this.__data__,n=MNe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var FNe=LNe,BNe=wNe,qNe=ENe,VNe=DNe,UNe=RNe,zNe=FNe;function mu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mu.prototype.clear=BNe;mu.prototype.delete=qNe;mu.prototype.get=VNe;mu.prototype.has=UNe;mu.prototype.set=zNe;var qj=mu,WNe=pl,HNe=Ua,GNe=WNe(HNe,"Map"),RE=GNe,aR=vNe,YNe=qj,KNe=RE;function JNe(){this.size=0,this.__data__={hash:new aR,map:new(KNe||YNe),string:new aR}}var XNe=JNe;function ZNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var QNe=ZNe,eSe=QNe;function tSe(t,e){var r=t.__data__;return eSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Vj=tSe,rSe=Vj;function nSe(t){var e=rSe(this,t).delete(t);return this.size-=e?1:0,e}var aSe=nSe,sSe=Vj;function oSe(t){return sSe(this,t).get(t)}var iSe=oSe,lSe=Vj;function cSe(t){return lSe(this,t).has(t)}var uSe=cSe,dSe=Vj;function fSe(t,e){var r=dSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var mSe=fSe,hSe=XNe,pSe=aSe,gSe=iSe,ySe=uSe,bSe=mSe;function hu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hu.prototype.clear=hSe;hu.prototype.delete=pSe;hu.prototype.get=gSe;hu.prototype.has=ySe;hu.prototype.set=bSe;var ME=hu,TU=ME,xSe="Expected a function";function LE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(LE.Cache||TU),r}LE.Cache=TU;var EU=LE;const vSe=rt(EU);var jSe=EU,wSe=500;function CSe(t){var e=jSe(t,function(n){return r.size===wSe&&r.clear(),n}),r=e.cache;return e}var NSe=CSe,SSe=NSe,ASe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kSe=/\\(\\)?/g,ISe=SSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ASe,function(r,n,a,s){e.push(a?s.replace(kSe,"$1"):n||r)}),e}),TSe=ISe;function ESe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var FE=ESe,sR=Hm,OSe=FE,PSe=ln,DSe=uu,oR=sR?sR.prototype:void 0,iR=oR?oR.toString:void 0;function OU(t){if(typeof t=="string")return t;if(PSe(t))return OSe(t,OU)+"";if(DSe(t))return iR?iR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _Se=OU,$Se=_Se;function RSe(t){return t==null?"":$Se(t)}var PU=RSe,MSe=ln,LSe=DE,FSe=TSe,BSe=PU;function qSe(t,e){return MSe(t)?t:LSe(t,e)?[t]:FSe(BSe(t))}var DU=qSe,VSe=uu;function USe(t){if(typeof t=="string"||VSe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Uj=USe,zSe=DU,WSe=Uj;function HSe(t,e){e=zSe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[WSe(e[r++])];return r&&r==n?t:void 0}var BE=HSe,GSe=BE;function YSe(t,e,r){var n=t==null?void 0:GSe(t,e);return n===void 0?r:n}var _U=YSe;const ha=rt(_U);function KSe(t){return t==null}var JSe=KSe;const Ye=rt(JSe);var XSe=Ls,ZSe=ln,QSe=Fs,eAe="[object String]";function tAe(t){return typeof t=="string"||!ZSe(t)&&QSe(t)&&XSe(t)==eAe}var rAe=tAe;const Gm=rt(rAe);var $U={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE=Symbol.for("react.element"),VE=Symbol.for("react.portal"),zj=Symbol.for("react.fragment"),Wj=Symbol.for("react.strict_mode"),Hj=Symbol.for("react.profiler"),Gj=Symbol.for("react.provider"),Yj=Symbol.for("react.context"),nAe=Symbol.for("react.server_context"),Kj=Symbol.for("react.forward_ref"),Jj=Symbol.for("react.suspense"),Xj=Symbol.for("react.suspense_list"),Zj=Symbol.for("react.memo"),Qj=Symbol.for("react.lazy"),aAe=Symbol.for("react.offscreen"),RU;RU=Symbol.for("react.module.reference");function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qE:switch(t=t.type,t){case zj:case Hj:case Wj:case Jj:case Xj:return t;default:switch(t=t&&t.$$typeof,t){case nAe:case Yj:case Kj:case Qj:case Zj:case Gj:return t;default:return e}}case VE:return e}}}ut.ContextConsumer=Yj;ut.ContextProvider=Gj;ut.Element=qE;ut.ForwardRef=Kj;ut.Fragment=zj;ut.Lazy=Qj;ut.Memo=Zj;ut.Portal=VE;ut.Profiler=Hj;ut.StrictMode=Wj;ut.Suspense=Jj;ut.SuspenseList=Xj;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(t){return Jn(t)===Yj};ut.isContextProvider=function(t){return Jn(t)===Gj};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qE};ut.isForwardRef=function(t){return Jn(t)===Kj};ut.isFragment=function(t){return Jn(t)===zj};ut.isLazy=function(t){return Jn(t)===Qj};ut.isMemo=function(t){return Jn(t)===Zj};ut.isPortal=function(t){return Jn(t)===VE};ut.isProfiler=function(t){return Jn(t)===Hj};ut.isStrictMode=function(t){return Jn(t)===Wj};ut.isSuspense=function(t){return Jn(t)===Jj};ut.isSuspenseList=function(t){return Jn(t)===Xj};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zj||t===Hj||t===Wj||t===Jj||t===Xj||t===aAe||typeof t=="object"&&t!==null&&(t.$$typeof===Qj||t.$$typeof===Zj||t.$$typeof===Gj||t.$$typeof===Yj||t.$$typeof===Kj||t.$$typeof===RU||t.getModuleId!==void 0)};ut.typeOf=Jn;$U.exports=ut;var sAe=$U.exports,oAe=Ls,iAe=Fs,lAe="[object Number]";function cAe(t){return typeof t=="number"||iAe(t)&&oAe(t)==lAe}var MU=cAe;const uAe=rt(MU);var dAe=MU;function fAe(t){return dAe(t)&&t!=+t}var mAe=fAe;const Ym=rt(mAe);var Un=function(e){return e===0?0:e>0?1:-1},ki=function(e){return Gm(e)&&e.indexOf("%")===e.length-1},be=function(e){return uAe(e)&&!Ym(e)},ir=function(e){return be(e)||Gm(e)},hAe=0,ew=function(e){var r=++hAe;return"".concat(e||"").concat(r)},Xr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Gm(e))return n;var s;if(ki(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return Ym(s)&&(s=n),a&&s>r&&(s=r),s},El=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},pAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},lR=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function YA(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ha(n,e))===r})}function KA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function JA(t){"@babel/helpers - typeof";return JA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JA(t)}var gAe=["viewBox","children"],yAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cR=["points","pathLength"],S1={svg:gAe,polygon:cR,polyline:cR},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!du(n))return null;var a={};return Object.keys(n).forEach(function(s){UE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},bAe=function(e,r,n){return function(a){return e(r,n,a),null}},tw=function(e,r,n){if(!du(e)||JA(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];UE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=bAe(i,r,n))}),a},xAe=["children"],vAe=["children"];function uR(t,e){if(t==null)return{};var r=jAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fR=null,A1=null,zE=function t(e){if(e===fR&&Array.isArray(A1))return A1;var r=[];return v.Children.forEach(e,function(n){Ye(n)||(sAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),A1=r,fR=e,r};function Ma(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return xs(a)}):n=[xs(e)],zE(t).forEach(function(a){var s=ha(a,"type.displayName")||ha(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ln(t,e){var r=Ma(t,e);return r&&r[0]}var mR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},wAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CAe=function(e){return e&&e.type&&Gm(e.type)&&wAe.indexOf(e.type)>=0},NAe=function(e,r,n,a){var s,i=(s=S1==null?void 0:S1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ue(e)&&(a&&i.includes(r)||yAe.includes(r))||n&&UE.includes(r)},Ve=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!du(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;NAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},XA=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return hR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!hR(s,i))return!1}return!0},hR=function(e,r){if(Ye(e)&&Ye(r))return!0;if(!Ye(e)&&!Ye(r)){var n=e.props||{},a=n.children,s=uR(n,xAe),i=r.props||{},l=i.children,c=uR(i,vAe);return a&&l?KA(s,c)&&XA(a,l):!a&&!l?KA(s,c):!1}return!1},pR=function(e,r){var n=[],a={};return zE(e).forEach(function(s,i){if(CAe(s))n.push(s);else if(s){var l=xs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},SAe=function(e){var r=e&&e.type;return r&&dR[r]?dR[r]:null},AAe=function(e,r){return zE(r).indexOf(e)},kAe=["children","width","height","viewBox","className","style","title","desc"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZA.apply(this,arguments)}function IAe(t,e){if(t==null)return{};var r=TAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QA(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=IAe(t,kAe),d=a||{width:r,height:n,x:0,y:0},f=Re("recharts-surface",s);return V.createElement("svg",ZA({},Ve(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var EAe=["children","className"];function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ek.apply(this,arguments)}function OAe(t,e){if(t==null)return{};var r=PAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=V.forwardRef(function(t,e){var r=t.children,n=t.className,a=OAe(t,EAe),s=Re("recharts-layer",n);return V.createElement("g",ek({className:s},Ve(a,!0),{ref:e}),r)}),vs=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function DAe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var _Ae=DAe,$Ae=_Ae;function RAe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:$Ae(t,e,r)}var MAe=RAe,LAe="\\ud800-\\udfff",FAe="\\u0300-\\u036f",BAe="\\ufe20-\\ufe2f",qAe="\\u20d0-\\u20ff",VAe=FAe+BAe+qAe,UAe="\\ufe0e\\ufe0f",zAe="\\u200d",WAe=RegExp("["+zAe+LAe+VAe+UAe+"]");function HAe(t){return WAe.test(t)}var LU=HAe;function GAe(t){return t.split("")}var YAe=GAe,FU="\\ud800-\\udfff",KAe="\\u0300-\\u036f",JAe="\\ufe20-\\ufe2f",XAe="\\u20d0-\\u20ff",ZAe=KAe+JAe+XAe,QAe="\\ufe0e\\ufe0f",eke="["+FU+"]",tk="["+ZAe+"]",rk="\\ud83c[\\udffb-\\udfff]",tke="(?:"+tk+"|"+rk+")",BU="[^"+FU+"]",qU="(?:\\ud83c[\\udde6-\\uddff]){2}",VU="[\\ud800-\\udbff][\\udc00-\\udfff]",rke="\\u200d",UU=tke+"?",zU="["+QAe+"]?",nke="(?:"+rke+"(?:"+[BU,qU,VU].join("|")+")"+zU+UU+")*",ake=zU+UU+nke,ske="(?:"+[BU+tk+"?",tk,qU,VU,eke].join("|")+")",oke=RegExp(rk+"(?="+rk+")|"+ske+ake,"g");function ike(t){return t.match(oke)||[]}var lke=ike,cke=YAe,uke=LU,dke=lke;function fke(t){return uke(t)?dke(t):cke(t)}var mke=fke,hke=MAe,pke=LU,gke=mke,yke=PU;function bke(t){return function(e){e=yke(e);var r=pke(e)?gke(e):void 0,n=r?r[0]:e.charAt(0),a=r?hke(r,1).join(""):e.slice(1);return n[t]()+a}}var xke=bke,vke=xke,jke=vke("toUpperCase"),wke=jke;const rw=rt(wke);function bt(t){return function(){return t}}const WU=Math.cos,Vx=Math.sin,xa=Math.sqrt,Ux=Math.PI,nw=2*Ux,nk=Math.PI,ak=2*nk,pi=1e-6,Cke=ak-pi;function HU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Nke(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HU;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Ske{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HU:Nke(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>pi)if(!(Math.abs(f*c-u*d)>pi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,p=a-l,b=c*c+u*u,g=h*h+p*p,x=Math.sqrt(b),y=Math.sqrt(m),w=s*Math.tan((nk-Math.acos((b+m-g)/(2*x*y)))/2),S=w/y,C=w/x;Math.abs(S-1)>pi&&this._append`L${e+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pi||Math.abs(this._y1-d)>pi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%ak+ak),m>Cke?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>pi&&this._append`A${n},${n},0,${+(m>=nk)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function WE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Ske(e)}function HE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GU(t){this._context=t}GU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function aw(t){return new GU(t)}function YU(t){return t[0]}function KU(t){return t[1]}function JU(t,e){var r=bt(!0),n=null,a=aw,s=null,i=WE(l);t=typeof t=="function"?t:t===void 0?YU:bt(t),e=typeof e=="function"?e:e===void 0?KU:bt(e);function l(c){var u,d=(c=HE(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Hh(t,e,r){var n=null,a=bt(!0),s=null,i=aw,l=null,c=WE(u);t=typeof t=="function"?t:t===void 0?YU:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?KU:bt(+r);function u(f){var m,h,p,b=(f=HE(f)).length,g,x=!1,y,w=new Array(b),S=new Array(b);for(s==null&&(l=i(y=c())),m=0;m<=b;++m){if(!(m<b&&a(g=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(w[p],S[p]);l.lineEnd(),l.areaEnd()}x&&(w[m]=+t(g,m,f),S[m]=+e(g,m,f),l.point(n?+n(g,m,f):w[m],r?+r(g,m,f):S[m]))}if(y)return l=null,y+""||null}function d(){return JU().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:bt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class XU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ake(t){return new XU(t,!0)}function kke(t){return new XU(t,!1)}const GE={draw(t,e){const r=xa(e/Ux);t.moveTo(r,0),t.arc(0,0,r,0,nw)}},Ike={draw(t,e){const r=xa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},ZU=xa(1/3),Tke=ZU*2,Eke={draw(t,e){const r=xa(e/Tke),n=r*ZU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Oke={draw(t,e){const r=xa(e),n=-r/2;t.rect(n,n,r,r)}},Pke=.8908130915292852,QU=Vx(Ux/10)/Vx(7*Ux/10),Dke=Vx(nw/10)*QU,_ke=-WU(nw/10)*QU,$ke={draw(t,e){const r=xa(e*Pke),n=Dke*r,a=_ke*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=nw*s/5,l=WU(i),c=Vx(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},k1=xa(3),Rke={draw(t,e){const r=-xa(e/(k1*3));t.moveTo(0,r*2),t.lineTo(-k1*r,-r),t.lineTo(k1*r,-r),t.closePath()}},Rn=-.5,Mn=xa(3)/2,sk=1/xa(12),Mke=(sk/2+1)*3,Lke={draw(t,e){const r=xa(e/Mke),n=r/2,a=r*sk,s=n,i=r*sk+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Rn*n-Mn*a,Mn*n+Rn*a),t.lineTo(Rn*s-Mn*i,Mn*s+Rn*i),t.lineTo(Rn*l-Mn*c,Mn*l+Rn*c),t.lineTo(Rn*n+Mn*a,Rn*a-Mn*n),t.lineTo(Rn*s+Mn*i,Rn*i-Mn*s),t.lineTo(Rn*l+Mn*c,Rn*c-Mn*l),t.closePath()}};function Fke(t,e){let r=null,n=WE(a);t=typeof t=="function"?t:bt(t||GE),e=typeof e=="function"?e:bt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:bt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:bt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function zx(){}function Wx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ez(t){this._context=t}ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bke(t){return new ez(t)}function tz(t){this._context=t}tz.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qke(t){return new tz(t)}function rz(t){this._context=t}rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vke(t){return new rz(t)}function nz(t){this._context=t}nz.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Uke(t){return new nz(t)}function gR(t){return t<0?-1:1}function yR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(gR(s)+gR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function bR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function I1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function Hx(t){this._context=t}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:I1(this,this._t0,bR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,I1(this,bR(this,r=yR(this,t,e)),r);break;default:I1(this,this._t0,r=yR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function az(t){this._context=new sz(t)}(az.prototype=Object.create(Hx.prototype)).point=function(t,e){Hx.prototype.point.call(this,e,t)};function sz(t){this._context=t}sz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function zke(t){return new Hx(t)}function Wke(t){return new az(t)}function oz(t){this._context=t}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=xR(t),a=xR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function Hke(t){return new oz(t)}function sw(t,e){this._context=t,this._t=e}sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Gke(t){return new sw(t,.5)}function Yke(t){return new sw(t,0)}function Kke(t){return new sw(t,1)}function Oc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ok(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Jke(t,e){return t[e]}function Xke(t){const e=[];return e.key=t,e}function Zke(){var t=bt([]),e=ok,r=Oc,n=Jke;function a(s){var i=Array.from(t.apply(this,arguments),Xke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=HE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:bt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?ok:typeof s=="function"?s:bt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Oc,a):r},a}function Qke(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Oc(t,e)}}function eIe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oc(t,e)}}function tIe(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var b=t[e[p]],g=b[n][1]||0,x=b[n-1][1]||0;h+=g-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Oc(t,e)}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var rIe=["type","size","sizeType"];function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ik.apply(this,arguments)}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){nIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nIe(t,e,r){return e=aIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aIe(t){var e=sIe(t,"string");return Bf(e)=="symbol"?e:e+""}function sIe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oIe(t,e){if(t==null)return{};var r=iIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iz={symbolCircle:GE,symbolCross:Ike,symbolDiamond:Eke,symbolSquare:Oke,symbolStar:$ke,symbolTriangle:Rke,symbolWye:Lke},lIe=Math.PI/180,cIe=function(e){var r="symbol".concat(rw(e));return iz[r]||GE},uIe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*lIe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dIe=function(e,r){iz["symbol".concat(rw(e))]=r},YE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=oIe(e,rIe),u=jR(jR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=cIe(n),x=Fke().type(g).size(uIe(s,l,n));return x()},f=u.className,m=u.cx,h=u.cy,p=Ve(u,!0);return m===+m&&h===+h&&s===+s?V.createElement("path",ik({},p,{className:Re("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};YE.registerSymbol=dIe;function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){qf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cz(n.key),n)}}function pIe(t,e,r){return e&&hIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gIe(t,e,r){return e=Gx(e),yIe(t,lz()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function yIe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bIe(t)}function bIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lz=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function xIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(t,e)}function qf(t,e,r){return e=cz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cz(t){var e=vIe(t,"string");return Pc(e)=="symbol"?e:e+""}function vIe(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ea=32,KE=function(t){function e(){return mIe(this,e),gIe(this,e,arguments)}return xIe(e,t),pIe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ea/2,i=ea/6,l=ea/3,c=n.inactive?a:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ea,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ea,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=fIe({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(YE,{fill:c,cx:s,cy:s,size:ea,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ea,height:ea},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,p){var b=h.formatter||c,g=Re(qf(qf({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=Ue(h.value)?null:h.value;vs(!Ue(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return V.createElement("li",lk({className:g,style:f,key:"legend-item-".concat(p)},tw(n.props,h,p)),V.createElement(QA,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(x,h,p):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);qf(KE,"displayName","Legend");qf(KE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jIe=qj;function wIe(){this.__data__=new jIe,this.size=0}var CIe=wIe;function NIe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var SIe=NIe;function AIe(t){return this.__data__.get(t)}var kIe=AIe;function IIe(t){return this.__data__.has(t)}var TIe=IIe,EIe=qj,OIe=RE,PIe=ME,DIe=200;function _Ie(t,e){var r=this.__data__;if(r instanceof EIe){var n=r.__data__;if(!OIe||n.length<DIe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new PIe(n)}return r.set(t,e),this.size=r.size,this}var $Ie=_Ie,RIe=qj,MIe=CIe,LIe=SIe,FIe=kIe,BIe=TIe,qIe=$Ie;function pu(t){var e=this.__data__=new RIe(t);this.size=e.size}pu.prototype.clear=MIe;pu.prototype.delete=LIe;pu.prototype.get=FIe;pu.prototype.has=BIe;pu.prototype.set=qIe;var uz=pu,VIe="__lodash_hash_undefined__";function UIe(t){return this.__data__.set(t,VIe),this}var zIe=UIe;function WIe(t){return this.__data__.has(t)}var HIe=WIe,GIe=ME,YIe=zIe,KIe=HIe;function Yx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new GIe;++e<r;)this.add(t[e])}Yx.prototype.add=Yx.prototype.push=YIe;Yx.prototype.has=KIe;var dz=Yx;function JIe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var fz=JIe;function XIe(t,e){return t.has(e)}var mz=XIe,ZIe=dz,QIe=fz,eTe=mz,tTe=1,rTe=2;function nTe(t,e,r,n,a,s){var i=r&tTe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&rTe?new ZIe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var p=t[f],b=e[f];if(n)var g=i?n(b,p,f,e,t,s):n(p,b,f,t,e,s);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!QIe(e,function(x,y){if(!eTe(h,y)&&(p===x||a(p,x,r,n,s)))return h.push(y)})){m=!1;break}}else if(!(p===b||a(p,b,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var hz=nTe,aTe=Ua,sTe=aTe.Uint8Array,oTe=sTe;function iTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var lTe=iTe;function cTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var JE=cTe,CR=Hm,NR=oTe,uTe=$E,dTe=hz,fTe=lTe,mTe=JE,hTe=1,pTe=2,gTe="[object Boolean]",yTe="[object Date]",bTe="[object Error]",xTe="[object Map]",vTe="[object Number]",jTe="[object RegExp]",wTe="[object Set]",CTe="[object String]",NTe="[object Symbol]",STe="[object ArrayBuffer]",ATe="[object DataView]",SR=CR?CR.prototype:void 0,T1=SR?SR.valueOf:void 0;function kTe(t,e,r,n,a,s,i){switch(r){case ATe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case STe:return!(t.byteLength!=e.byteLength||!s(new NR(t),new NR(e)));case gTe:case yTe:case vTe:return uTe(+t,+e);case bTe:return t.name==e.name&&t.message==e.message;case jTe:case CTe:return t==e+"";case xTe:var l=fTe;case wTe:var c=n&hTe;if(l||(l=mTe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=pTe,i.set(t,e);var d=dTe(l(t),l(e),n,a,s,i);return i.delete(t),d;case NTe:if(T1)return T1.call(t)==T1.call(e)}return!1}var ITe=kTe;function TTe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var pz=TTe,ETe=pz,OTe=ln;function PTe(t,e,r){var n=e(t);return OTe(t)?n:ETe(n,r(t))}var DTe=PTe;function _Te(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var $Te=_Te;function RTe(){return[]}var MTe=RTe,LTe=$Te,FTe=MTe,BTe=Object.prototype,qTe=BTe.propertyIsEnumerable,AR=Object.getOwnPropertySymbols,VTe=AR?function(t){return t==null?[]:(t=Object(t),LTe(AR(t),function(e){return qTe.call(t,e)}))}:FTe,UTe=VTe;function zTe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var WTe=zTe,HTe=Ls,GTe=Fs,YTe="[object Arguments]";function KTe(t){return GTe(t)&&HTe(t)==YTe}var JTe=KTe,kR=JTe,XTe=Fs,gz=Object.prototype,ZTe=gz.hasOwnProperty,QTe=gz.propertyIsEnumerable,eEe=kR(function(){return arguments}())?kR:function(t){return XTe(t)&&ZTe.call(t,"callee")&&!QTe.call(t,"callee")},XE=eEe,Kx={exports:{}};function tEe(){return!1}var rEe=tEe;Kx.exports;(function(t,e){var r=Ua,n=rEe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Kx,Kx.exports);var yz=Kx.exports,nEe=9007199254740991,aEe=/^(?:0|[1-9]\d*)$/;function sEe(t,e){var r=typeof t;return e=e??nEe,!!e&&(r=="number"||r!="symbol"&&aEe.test(t))&&t>-1&&t%1==0&&t<e}var ZE=sEe,oEe=9007199254740991;function iEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oEe}var QE=iEe,lEe=Ls,cEe=QE,uEe=Fs,dEe="[object Arguments]",fEe="[object Array]",mEe="[object Boolean]",hEe="[object Date]",pEe="[object Error]",gEe="[object Function]",yEe="[object Map]",bEe="[object Number]",xEe="[object Object]",vEe="[object RegExp]",jEe="[object Set]",wEe="[object String]",CEe="[object WeakMap]",NEe="[object ArrayBuffer]",SEe="[object DataView]",AEe="[object Float32Array]",kEe="[object Float64Array]",IEe="[object Int8Array]",TEe="[object Int16Array]",EEe="[object Int32Array]",OEe="[object Uint8Array]",PEe="[object Uint8ClampedArray]",DEe="[object Uint16Array]",_Ee="[object Uint32Array]",Ct={};Ct[AEe]=Ct[kEe]=Ct[IEe]=Ct[TEe]=Ct[EEe]=Ct[OEe]=Ct[PEe]=Ct[DEe]=Ct[_Ee]=!0;Ct[dEe]=Ct[fEe]=Ct[NEe]=Ct[mEe]=Ct[SEe]=Ct[hEe]=Ct[pEe]=Ct[gEe]=Ct[yEe]=Ct[bEe]=Ct[xEe]=Ct[vEe]=Ct[jEe]=Ct[wEe]=Ct[CEe]=!1;function $Ee(t){return uEe(t)&&cEe(t.length)&&!!Ct[lEe(t)]}var REe=$Ee;function MEe(t){return function(e){return t(e)}}var bz=MEe,Jx={exports:{}};Jx.exports;(function(t,e){var r=AU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(Jx,Jx.exports);var LEe=Jx.exports,FEe=REe,BEe=bz,IR=LEe,TR=IR&&IR.isTypedArray,qEe=TR?BEe(TR):FEe,xz=qEe,VEe=WTe,UEe=XE,zEe=ln,WEe=yz,HEe=ZE,GEe=xz,YEe=Object.prototype,KEe=YEe.hasOwnProperty;function JEe(t,e){var r=zEe(t),n=!r&&UEe(t),a=!r&&!n&&WEe(t),s=!r&&!n&&!a&&GEe(t),i=r||n||a||s,l=i?VEe(t.length,String):[],c=l.length;for(var u in t)(e||KEe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||HEe(u,c)))&&l.push(u);return l}var XEe=JEe,ZEe=Object.prototype;function QEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ZEe;return t===r}var eOe=QEe;function tOe(t,e){return function(r){return t(e(r))}}var vz=tOe,rOe=vz,nOe=rOe(Object.keys,Object),aOe=nOe,sOe=eOe,oOe=aOe,iOe=Object.prototype,lOe=iOe.hasOwnProperty;function cOe(t){if(!sOe(t))return oOe(t);var e=[];for(var r in Object(t))lOe.call(t,r)&&r!="constructor"&&e.push(r);return e}var uOe=cOe,dOe=_E,fOe=QE;function mOe(t){return t!=null&&fOe(t.length)&&!dOe(t)}var ow=mOe,hOe=XEe,pOe=uOe,gOe=ow;function yOe(t){return gOe(t)?hOe(t):pOe(t)}var eO=yOe,bOe=DTe,xOe=UTe,vOe=eO;function jOe(t){return bOe(t,vOe,xOe)}var wOe=jOe,ER=wOe,COe=1,NOe=Object.prototype,SOe=NOe.hasOwnProperty;function AOe(t,e,r,n,a,s){var i=r&COe,l=ER(t),c=l.length,u=ER(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:SOe.call(e,m)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var b=!0;s.set(t,e),s.set(e,t);for(var g=i;++f<c;){m=l[f];var x=t[m],y=e[m];if(n)var w=i?n(y,x,m,e,t,s):n(x,y,m,t,e,s);if(!(w===void 0?x===y||a(x,y,r,n,s):w)){b=!1;break}g||(g=m=="constructor")}if(b&&!g){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(b=!1)}return s.delete(t),s.delete(e),b}var kOe=AOe,IOe=pl,TOe=Ua,EOe=IOe(TOe,"DataView"),OOe=EOe,POe=pl,DOe=Ua,_Oe=POe(DOe,"Promise"),$Oe=_Oe,ROe=pl,MOe=Ua,LOe=ROe(MOe,"Set"),jz=LOe,FOe=pl,BOe=Ua,qOe=FOe(BOe,"WeakMap"),VOe=qOe,uk=OOe,dk=RE,fk=$Oe,mk=jz,hk=VOe,wz=Ls,gu=IU,OR="[object Map]",UOe="[object Object]",PR="[object Promise]",DR="[object Set]",_R="[object WeakMap]",$R="[object DataView]",zOe=gu(uk),WOe=gu(dk),HOe=gu(fk),GOe=gu(mk),YOe=gu(hk),gi=wz;(uk&&gi(new uk(new ArrayBuffer(1)))!=$R||dk&&gi(new dk)!=OR||fk&&gi(fk.resolve())!=PR||mk&&gi(new mk)!=DR||hk&&gi(new hk)!=_R)&&(gi=function(t){var e=wz(t),r=e==UOe?t.constructor:void 0,n=r?gu(r):"";if(n)switch(n){case zOe:return $R;case WOe:return OR;case HOe:return PR;case GOe:return DR;case YOe:return _R}return e});var KOe=gi,E1=uz,JOe=hz,XOe=ITe,ZOe=kOe,RR=KOe,MR=ln,LR=yz,QOe=xz,e2e=1,FR="[object Arguments]",BR="[object Array]",Gh="[object Object]",t2e=Object.prototype,qR=t2e.hasOwnProperty;function r2e(t,e,r,n,a,s){var i=MR(t),l=MR(e),c=i?BR:RR(t),u=l?BR:RR(e);c=c==FR?Gh:c,u=u==FR?Gh:u;var d=c==Gh,f=u==Gh,m=c==u;if(m&&LR(t)){if(!LR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new E1),i||QOe(t)?JOe(t,e,r,n,a,s):XOe(t,e,c,r,n,a,s);if(!(r&e2e)){var h=d&&qR.call(t,"__wrapped__"),p=f&&qR.call(e,"__wrapped__");if(h||p){var b=h?t.value():t,g=p?e.value():e;return s||(s=new E1),a(b,g,r,n,s)}}return m?(s||(s=new E1),ZOe(t,e,r,n,a,s)):!1}var n2e=r2e,a2e=n2e,VR=Fs;function Cz(t,e,r,n,a){return t===e?!0:t==null||e==null||!VR(t)&&!VR(e)?t!==t&&e!==e:a2e(t,e,r,n,Cz,a)}var tO=Cz,s2e=uz,o2e=tO,i2e=1,l2e=2;function c2e(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new s2e;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?o2e(d,u,i2e|l2e,n,f):m))return!1}}return!0}var u2e=c2e,d2e=Yo;function f2e(t){return t===t&&!d2e(t)}var Nz=f2e,m2e=Nz,h2e=eO;function p2e(t){for(var e=h2e(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,m2e(a)]}return e}var g2e=p2e;function y2e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Sz=y2e,b2e=u2e,x2e=g2e,v2e=Sz;function j2e(t){var e=x2e(t);return e.length==1&&e[0][2]?v2e(e[0][0],e[0][1]):function(r){return r===t||b2e(r,t,e)}}var w2e=j2e;function C2e(t,e){return t!=null&&e in Object(t)}var N2e=C2e,S2e=DU,A2e=XE,k2e=ln,I2e=ZE,T2e=QE,E2e=Uj;function O2e(t,e,r){e=S2e(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=E2e(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&T2e(a)&&I2e(i,a)&&(k2e(t)||A2e(t)))}var P2e=O2e,D2e=N2e,_2e=P2e;function $2e(t,e){return t!=null&&_2e(t,e,D2e)}var R2e=$2e,M2e=tO,L2e=_U,F2e=R2e,B2e=DE,q2e=Nz,V2e=Sz,U2e=Uj,z2e=1,W2e=2;function H2e(t,e){return B2e(t)&&q2e(e)?V2e(U2e(t),e):function(r){var n=L2e(r,t);return n===void 0&&n===e?F2e(r,t):M2e(e,n,z2e|W2e)}}var G2e=H2e;function Y2e(t){return t}var yu=Y2e;function K2e(t){return function(e){return e==null?void 0:e[t]}}var J2e=K2e,X2e=BE;function Z2e(t){return function(e){return X2e(e,t)}}var Q2e=Z2e,ePe=J2e,tPe=Q2e,rPe=DE,nPe=Uj;function aPe(t){return rPe(t)?ePe(nPe(t)):tPe(t)}var sPe=aPe,oPe=w2e,iPe=G2e,lPe=yu,cPe=ln,uPe=sPe;function dPe(t){return typeof t=="function"?t:t==null?lPe:typeof t=="object"?cPe(t)?iPe(t[0],t[1]):oPe(t):uPe(t)}var Ko=dPe;function fPe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var mPe=fPe;function hPe(t){return t!==t}var pPe=hPe;function gPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var yPe=gPe,bPe=mPe,xPe=pPe,vPe=yPe;function jPe(t,e,r){return e===e?vPe(t,e,r):bPe(t,xPe,r)}var wPe=jPe,CPe=wPe;function NPe(t,e){var r=t==null?0:t.length;return!!r&&CPe(t,e,0)>-1}var SPe=NPe;function APe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var kPe=APe;function IPe(){}var TPe=IPe,O1=jz,EPe=TPe,OPe=JE,PPe=1/0,DPe=O1&&1/OPe(new O1([,-0]))[1]==PPe?function(t){return new O1(t)}:EPe,_Pe=DPe,$Pe=dz,RPe=SPe,MPe=kPe,LPe=mz,FPe=_Pe,BPe=JE,qPe=200;function VPe(t,e,r){var n=-1,a=RPe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=MPe;else if(s>=qPe){var u=e?null:FPe(t);if(u)return BPe(u);i=!1,a=LPe,c=new $Pe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var UPe=VPe,zPe=Ko,WPe=UPe;function HPe(t,e){return t&&t.length?WPe(t,zPe(e)):[]}var GPe=HPe;const UR=rt(GPe);function Az(t,e,r){return e===!0?UR(t,r):Ue(e)?UR(t,e):t}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}var YPe=["ref"];function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iz(n.key),n)}}function JPe(t,e,r){return e&&WR(t.prototype,e),r&&WR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XPe(t,e,r){return e=Xx(e),ZPe(t,kz()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function ZPe(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(t)}function QPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function eDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(t,e)}function iw(t,e,r){return e=Iz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iz(t){var e=tDe(t,"string");return Dc(e)=="symbol"?e:e+""}function tDe(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rDe(t,e){if(t==null)return{};var r=nDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aDe(t){return t.value}function sDe(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=rDe(e,YPe);return V.createElement(KE,r)}var HR=1,La=function(t){function e(){var r;KPe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=XPe(this,e,[].concat(a)),iw(r,"lastBoundingBox",{width:-1,height:-1}),r}return eDe(e,t),JPe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>HR||Math.abs(a.height-this.lastBoundingBox.height)>HR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ya(Ya({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ya(Ya({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},sDe(s,Ya(Ya({},this.props),{},{payload:Az(d,u,aDe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ya(Ya({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&be(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);iw(La,"displayName","Legend");iw(La,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GR=Hm,oDe=XE,iDe=ln,YR=GR?GR.isConcatSpreadable:void 0;function lDe(t){return iDe(t)||oDe(t)||!!(YR&&t&&t[YR])}var cDe=lDe,uDe=pz,dDe=cDe;function Tz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=dDe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Tz(l,e-1,r,n,a):uDe(a,l):n||(a[a.length]=l)}return a}var Ez=Tz;function fDe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var mDe=fDe,hDe=mDe,pDe=hDe(),gDe=pDe,yDe=gDe,bDe=eO;function xDe(t,e){return t&&yDe(t,e,bDe)}var Oz=xDe,vDe=ow;function jDe(t,e){return function(r,n){if(r==null)return r;if(!vDe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var wDe=jDe,CDe=Oz,NDe=wDe,SDe=NDe(CDe),rO=SDe,ADe=rO,kDe=ow;function IDe(t,e){var r=-1,n=kDe(t)?Array(t.length):[];return ADe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var Pz=IDe;function TDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var EDe=TDe,KR=uu;function ODe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=KR(t),i=e!==void 0,l=e===null,c=e===e,u=KR(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var PDe=ODe,DDe=PDe;function _De(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=DDe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var $De=_De,P1=FE,RDe=BE,MDe=Ko,LDe=Pz,FDe=EDe,BDe=bz,qDe=$De,VDe=yu,UDe=ln;function zDe(t,e,r){e.length?e=P1(e,function(s){return UDe(s)?function(i){return RDe(i,s.length===1?s[0]:s)}:s}):e=[VDe];var n=-1;e=P1(e,BDe(MDe));var a=LDe(t,function(s,i,l){var c=P1(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return FDe(a,function(s,i){return qDe(s,i,r)})}var WDe=zDe;function HDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var GDe=HDe,YDe=GDe,JR=Math.max;function KDe(t,e,r){return e=JR(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=JR(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),YDe(t,this,l)}}var JDe=KDe;function XDe(t){return function(){return t}}var ZDe=XDe,QDe=pl,e_e=function(){try{var t=QDe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Dz=e_e,t_e=ZDe,XR=Dz,r_e=yu,n_e=XR?function(t,e){return XR(t,"toString",{configurable:!0,enumerable:!1,value:t_e(e),writable:!0})}:r_e,a_e=n_e,s_e=800,o_e=16,i_e=Date.now;function l_e(t){var e=0,r=0;return function(){var n=i_e(),a=o_e-(n-r);if(r=n,a>0){if(++e>=s_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var c_e=l_e,u_e=a_e,d_e=c_e,f_e=d_e(u_e),m_e=f_e,h_e=yu,p_e=JDe,g_e=m_e;function y_e(t,e){return g_e(p_e(t,e,h_e),t+"")}var b_e=y_e,x_e=$E,v_e=ow,j_e=ZE,w_e=Yo;function C_e(t,e,r){if(!w_e(r))return!1;var n=typeof e;return(n=="number"?v_e(r)&&j_e(e,r.length):n=="string"&&e in r)?x_e(r[e],t):!1}var lw=C_e,N_e=Ez,S_e=WDe,A_e=b_e,ZR=lw,k_e=A_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&ZR(t,e[0],e[1])?e=[]:r>2&&ZR(e[0],e[1],e[2])&&(e=[e[0]]),S_e(t,N_e(e,1),[])}),I_e=k_e;const nO=rt(I_e);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gk.apply(this,arguments)}function T_e(t,e){return D_e(t)||P_e(t,e)||O_e(t,e)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){if(t){if(typeof t=="string")return QR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function D_e(t){if(Array.isArray(t))return t}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){__e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function __e(t,e,r){return e=$_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $_e(t){var e=R_e(t,"string");return Vf(e)=="symbol"?e:e+""}function R_e(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_e(t){return Array.isArray(t)&&ir(t[0])&&ir(t[1])?t.join(" ~ "):t}var L_e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,b=e.label,g=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var P={padding:0,margin:0},M=(m?nO(d,m):d).map(function(R,$){if(R.type==="none")return null;var B=D1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),U=R.formatter||f||M_e,D=R.value,_=R.name,F=D,H=_;if(U&&F!=null&&H!=null){var W=U(D,_,R,$,d);if(Array.isArray(W)){var ee=T_e(W,2);F=ee[0],H=ee[1]}else F=W}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:B},ir(H)?V.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ir(H)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},F),V.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},S=D1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=D1({margin:0},u),j=!Ye(b),N=j?b:"",A=Re("recharts-default-tooltip",h),T=Re("recharts-tooltip-label",p);j&&g&&d!==void 0&&d!==null&&(N=g(b,d));var k=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",gk({className:A,style:S},k),V.createElement("p",{className:T,style:C},V.isValidElement(N)?N:"".concat(N)),w())};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Yh(t,e,r){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F_e(t){var e=B_e(t,"string");return Uf(e)=="symbol"?e:e+""}function B_e(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hu="recharts-tooltip-wrapper",q_e={visibility:"hidden"};function V_e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Re(Hu,Yh(Yh(Yh(Yh({},"".concat(Hu,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(Hu,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(Hu,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(Hu,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function tM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&be(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,b=c[n]+u;return p>b?Math.max(d,c[n]):Math.max(f,c[n])}function U_e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function z_e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=tM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=tM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=U_e({translateX:d,translateY:f,useTranslate3d:l})):u=q_e,{cssProperties:u,cssClasses:V_e({translateX:d,translateY:f,coordinate:r})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){bk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$z(n.key),n)}}function G_e(t,e,r){return e&&H_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y_e(t,e,r){return e=Zx(e),K_e(t,_z()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function K_e(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_e(t)}function J_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function X_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(t,e)}function bk(t,e,r){return e=$z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $z(t){var e=Z_e(t,"string");return _c(e)=="symbol"?e:e+""}function Z_e(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aM=1,Q_e=function(t){function e(){var r;W_e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Y_e(this,e,[].concat(a)),bk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bk(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return X_e(e,t),G_e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aM||Math.abs(n.height-this.state.lastBoundingBox.height)>aM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,p=a.position,b=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=z_e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),S=w.cssClasses,C=w.cssProperties,j=nM(nM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(A){n.wrapperNode=A}},u)}}])}(v.PureComponent),e$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cw={isSsr:e$e()};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function sM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(r),!0).forEach(function(n){aO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mz(n.key),n)}}function n$e(t,e,r){return e&&r$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a$e(t,e,r){return e=Qx(e),s$e(t,Rz()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function s$e(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o$e(t)}function o$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rz=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function i$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(t,e)}function aO(t,e,r){return e=Mz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mz(t){var e=l$e(t,"string");return $c(e)=="symbol"?e:e+""}function l$e(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c$e(t){return t.dataKey}function u$e(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(L_e,e)}var Za=function(t){function e(){return t$e(this,e),a$e(this,e,arguments)}return i$e(e,t),n$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,p=a.payload,b=a.payloadUniqBy,g=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,C=p??[];f&&C.length&&(C=Az(p.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),b,c$e));var j=C.length>0;return V.createElement(Q_e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:j,offset:h,position:g,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:S},u$e(u,oM(oM({},this.props),{},{payload:C})))}}])}(v.PureComponent);aO(Za,"displayName","Tooltip");aO(Za,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d$e=Ua,f$e=function(){return d$e.Date.now()},m$e=f$e,h$e=/\s/;function p$e(t){for(var e=t.length;e--&&h$e.test(t.charAt(e)););return e}var g$e=p$e,y$e=g$e,b$e=/^\s+/;function x$e(t){return t&&t.slice(0,y$e(t)+1).replace(b$e,"")}var v$e=x$e,j$e=v$e,iM=Yo,w$e=uu,lM=NaN,C$e=/^[-+]0x[0-9a-f]+$/i,N$e=/^0b[01]+$/i,S$e=/^0o[0-7]+$/i,A$e=parseInt;function k$e(t){if(typeof t=="number")return t;if(w$e(t))return lM;if(iM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=j$e(t);var r=N$e.test(t);return r||S$e.test(t)?A$e(t.slice(2),r?2:8):C$e.test(t)?lM:+t}var Lz=k$e,I$e=Yo,_1=m$e,cM=Lz,T$e="Expected a function",E$e=Math.max,O$e=Math.min;function P$e(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(T$e);e=cM(e)||0,I$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?E$e(cM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(j){var N=n,A=a;return n=a=void 0,u=j,i=t.apply(A,N),i}function p(j){return u=j,l=setTimeout(x,e),d?h(j):i}function b(j){var N=j-c,A=j-u,T=e-N;return f?O$e(T,s-A):T}function g(j){var N=j-c,A=j-u;return c===void 0||N>=e||N<0||f&&A>=s}function x(){var j=_1();if(g(j))return y(j);l=setTimeout(x,b(j))}function y(j){return l=void 0,m&&n?h(j):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:y(_1())}function C(){var j=_1(),N=g(j);if(n=arguments,a=this,c=j,N){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(x,e),h(c)}return l===void 0&&(l=setTimeout(x,e)),i}return C.cancel=w,C.flush=S,C}var D$e=P$e,_$e=D$e,$$e=Yo,R$e="Expected a function";function M$e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(R$e);return $$e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_$e(t,e,{leading:n,maxWait:e,trailing:a})}var L$e=M$e;const Fz=rt(L$e);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function uM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(r),!0).forEach(function(n){F$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F$e(t,e,r){return e=B$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B$e(t){var e=q$e(t,"string");return zf(e)=="symbol"?e:e+""}function q$e(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V$e(t,e){return H$e(t)||W$e(t,e)||z$e(t,e)||U$e()}function U$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$e(t,e){if(t){if(typeof t=="string")return dM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dM(t,e)}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function H$e(t){if(Array.isArray(t))return t}var uw=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,p=t.debounce,b=p===void 0?0:p,g=t.id,x=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,C=v.useRef(null),j=v.useRef();j.current=y,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=v.useState({containerWidth:a.width,containerHeight:a.height}),A=V$e(N,2),T=A[0],k=A[1],E=v.useCallback(function(M,R){k(function($){var B=Math.round(M),U=Math.round(R);return $.containerWidth===B&&$.containerHeight===U?$:{containerWidth:B,containerHeight:U}})},[]);v.useEffect(function(){var M=function(_){var F,H=_[0].contentRect,W=H.width,ee=H.height;E(W,ee),(F=j.current)===null||F===void 0||F.call(j,W,ee)};b>0&&(M=Fz(M,b,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),$=C.current.getBoundingClientRect(),B=$.width,U=$.height;return E(B,U),R.observe(C.current),function(){R.disconnect()}},[E,b]);var P=v.useMemo(function(){var M=T.containerWidth,R=T.containerHeight;if(M<0||R<0)return null;vs(ki(i)||ki(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),vs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ki(i)?M:i,B=ki(c)?R:c;r&&r>0&&($?B=$/r:B&&($=B*r),m&&B>m&&(B=m)),vs($>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,B,i,c,d,f,r);var U=!Array.isArray(h)&&xs(h.type).endsWith("Chart");return V.Children.map(h,function(D){return V.isValidElement(D)?v.cloneElement(D,Kh({width:$,height:B},U?{style:Kh({height:"100%",width:"100%",maxHeight:B,maxWidth:$},D.props.style)}:{})):D})},[r,h,c,m,f,d,T,i]);return V.createElement("div",{id:g?"".concat(g):void 0,className:Re("recharts-responsive-container",x),style:Kh(Kh({},S),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},P)}),bu=function(e){return null};bu.displayName="Cell";function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){G$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G$e(t,e,r){return e=Y$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y$e(t){var e=K$e(t,"string");return Wf(e)=="symbol"?e:e+""}function K$e(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Il={widthCache:{},cacheCount:0},J$e=2e3,X$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mM="recharts_measurement_span";function Z$e(t){var e=vk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cw.isSsr)return{width:0,height:0};var n=Z$e(r),a=JSON.stringify({text:e,copyStyle:n});if(Il.widthCache[a])return Il.widthCache[a];try{var s=document.getElementById(mM);s||(s=document.createElement("span"),s.setAttribute("id",mM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=vk(vk({},X$e),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Il.widthCache[a]=c,++Il.cacheCount>J$e&&(Il.cacheCount=0,Il.widthCache={}),c}catch{return{width:0,height:0}}},Q$e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function ev(t,e){return nRe(t)||rRe(t,e)||tRe(t,e)||eRe()}function eRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tRe(t,e){if(t){if(typeof t=="string")return pM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(t,e)}}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function nRe(t){if(Array.isArray(t))return t}function aRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oRe(n.key),n)}}function sRe(t,e,r){return e&&gM(t.prototype,e),r&&gM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oRe(t){var e=iRe(t,"string");return Hf(e)=="symbol"?e:e+""}function iRe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uRe=Object.keys(Bz),zl="NaN";function dRe(t,e){return t*Bz[e]}var Jh=function(){function t(e,r){aRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!lRe.test(r)&&(this.num=NaN,this.unit=""),uRe.includes(r)&&(this.num=dRe(e,r),this.unit="px")}return sRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=cRe.exec(r))!==null&&n!==void 0?n:[],s=ev(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function qz(t){if(t.includes(zl))return zl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=yM.exec(e))!==null&&r!==void 0?r:[],a=ev(n,4),s=a[1],i=a[2],l=a[3],c=Jh.parse(s??""),u=Jh.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zl;e=e.replace(yM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=bM.exec(e))!==null&&f!==void 0?f:[],h=ev(m,4),p=h[1],b=h[2],g=h[3],x=Jh.parse(p??""),y=Jh.parse(g??""),w=b==="+"?x.add(y):x.subtract(y);if(w.isNaN())return zl;e=e.replace(bM,w.toString())}return e}var xM=/\(([^()]*)\)/;function fRe(t){for(var e=t;e.includes("(");){var r=xM.exec(e),n=ev(r,2),a=n[1];e=e.replace(xM,qz(a))}return e}function mRe(t){var e=t.replace(/\s+/g,"");return e=fRe(e),e=qz(e),e}function hRe(t){try{return mRe(t)}catch{return zl}}function $1(t){var e=hRe(t.slice(5,-1));return e===zl?"":e}var pRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gRe=["dx","dy","angle","className","breakAll"];function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jk.apply(this,arguments)}function vM(t,e){if(t==null)return{};var r=yRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jM(t,e){return jRe(t)||vRe(t,e)||xRe(t,e)||bRe()}function bRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xRe(t,e){if(t){if(typeof t=="string")return wM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function jRe(t){if(Array.isArray(t))return t}var Vz=/[ \f\n\r\t\v\u2028\u2029]+/,Uz=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ye(r)||(n?s=r.toString().split(""):s=r.toString().split(Vz));var i=s.map(function(c){return{word:c,width:hM(c,a).width}}),l=n?0:hM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},wRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=be(i),f=l,m=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(B,U){var D=U.word,_=U.width,F=B[B.length-1];if(F&&(a==null||s||F.width+_+n<Number(a)))F.words.push(D),F.width+=_+n;else{var H={words:[D],width:_};B.push(H)}return B},[])},h=m(r),p=function($){return $.reduce(function(B,U){return B.width>U.width?B:U})};if(!d)return h;for(var b="",g=function($){var B=f.slice(0,$),U=Uz({breakAll:u,style:c,children:B+b}).wordsWithComputedWidth,D=m(U),_=D.length>i||p(D).width>Number(a);return[_,D]},x=0,y=f.length-1,w=0,S;x<=y&&w<=f.length-1;){var C=Math.floor((x+y)/2),j=C-1,N=g(j),A=jM(N,2),T=A[0],k=A[1],E=g(C),P=jM(E,1),M=P[0];if(!T&&!M&&(x=C+1),T&&M&&(y=C-1),!T&&M){S=k;break}w++}return S||h},CM=function(e){var r=Ye(e)?[]:e.toString().split(Vz);return[{words:r}]},CRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!cw.isSsr){var c,u,d=Uz({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return CM(a);return wRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return CM(a)},NM="#808080",Rc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,p=e.verticalAnchor,b=p===void 0?"end":p,g=e.fill,x=g===void 0?NM:g,y=vM(e,pRe),w=v.useMemo(function(){return CRe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,C=y.dy,j=y.angle,N=y.className,A=y.breakAll,T=vM(y,gRe);if(!ir(n)||!ir(s))return null;var k=n+(be(S)?S:0),E=s+(be(C)?C:0),P;switch(b){case"start":P=$1("calc(".concat(u,")"));break;case"middle":P=$1("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=$1("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var R=w[0].width,$=y.width;M.push("scale(".concat((be($)?$/R:1)/R,")"))}return j&&M.push("rotate(".concat(j,", ").concat(k,", ").concat(E,")")),M.length&&(T.transform=M.join(" ")),V.createElement("text",jk({},Ve(T,!0),{x:k,y:E,className:Re("recharts-text",N),textAnchor:h,fill:x.includes("url")?NM:x}),w.map(function(B,U){var D=B.words.join(A?"":" ");return V.createElement("tspan",{x:k,dy:U===0?P:l,key:"".concat(D,"-").concat(U)},D)}))};function Io(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sO(t){let e,r,n;t.length!==2?(e=Io,r=(l,c)=>Io(t(l),c),n=(l,c)=>t(l)-c):(e=t===Io||t===NRe?t:SRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function SRe(){return 0}function zz(t){return t===null?NaN:+t}function*ARe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kRe=sO(Io),Km=kRe.right;sO(zz).center;class SM extends Map{constructor(e,r=ERe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(AM(this,e))}has(e){return super.has(AM(this,e))}set(e,r){return super.set(IRe(this,e),r)}delete(e){return super.delete(TRe(this,e))}}function AM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function IRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function TRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ERe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ORe(t=Io){if(t===Io)return Wz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Wz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const PRe=Math.sqrt(50),DRe=Math.sqrt(10),_Re=Math.sqrt(2);function tv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=PRe?10:s>=DRe?5:s>=_Re?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?tv(t,e,r*2):[l,c,u]}function wk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?tv(e,t,r):tv(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Ck(t,e,r){return e=+e,t=+t,r=+r,tv(t,e,r)[2]}function Nk(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Ck(e,t,r):Ck(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function kM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function IM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Hz(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Wz:ORe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),p=Math.min(n,Math.floor(e+(c-u)*f/c+m));Hz(t,e,h,p,a)}const s=t[e];let i=r,l=n;for(Gu(t,r,e),a(t[n],s)>0&&Gu(t,r,n);i<l;){for(Gu(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Gu(t,r,l):(++l,Gu(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Gu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $Re(t,e,r){if(t=Float64Array.from(ARe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return IM(t);if(e>=1)return kM(t);var n,a=(n-1)*e,s=Math.floor(a),i=kM(Hz(t,s).subarray(0,s+1)),l=IM(t.subarray(s+1));return i+(l-i)*(a-s)}}function RRe(t,e,r=zz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function MRe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Xn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sk=Symbol("implicit");function oO(){var t=new SM,e=[],r=[],n=Sk;function a(s){let i=t.get(s);if(i===void 0){if(n!==Sk)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new SM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return oO(e,r).unknown(n)},Xn.apply(a,arguments),a}function Gf(){var t=oO().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,p=h?a:n,b=h?n:a;s=(b-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(b-p-s*(m-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var g=MRe(m).map(function(x){return p+s*x});return r(h?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Gf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xn.apply(f(),arguments)}function Gz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gz(e())},t}function Kd(){return Gz(Gf.apply(null,arguments).paddingInner(1))}function iO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Yz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jm(){}var Yf=.7,rv=1/Yf,hc="\\s*([+-]?\\d+)\\s*",Kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LRe=/^#([0-9a-f]{3,8})$/,FRe=new RegExp(`^rgb\\(${hc},${hc},${hc}\\)$`),BRe=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),qRe=new RegExp(`^rgba\\(${hc},${hc},${hc},${Kf}\\)$`),VRe=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${Kf}\\)$`),URe=new RegExp(`^hsl\\(${Kf},${Fa},${Fa}\\)$`),zRe=new RegExp(`^hsla\\(${Kf},${Fa},${Fa},${Kf}\\)$`),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iO(Jm,Jf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EM,formatHex:EM,formatHex8:WRe,formatHsl:HRe,formatRgb:OM,toString:OM});function EM(){return this.rgb().formatHex()}function WRe(){return this.rgb().formatHex8()}function HRe(){return Kz(this).formatHsl()}function OM(){return this.rgb().formatRgb()}function Jf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=LRe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PM(e):r===3?new Zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FRe.exec(t))?new Zr(e[1],e[2],e[3],1):(e=BRe.exec(t))?new Zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qRe.exec(t))?Xh(e[1],e[2],e[3],e[4]):(e=VRe.exec(t))?Xh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=URe.exec(t))?$M(e[1],e[2]/100,e[3]/100,1):(e=zRe.exec(t))?$M(e[1],e[2]/100,e[3]/100,e[4]):TM.hasOwnProperty(t)?PM(TM[t]):t==="transparent"?new Zr(NaN,NaN,NaN,0):null}function PM(t){return new Zr(t>>16&255,t>>8&255,t&255,1)}function Xh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Zr(t,e,r,n)}function GRe(t){return t instanceof Jm||(t=Jf(t)),t?(t=t.rgb(),new Zr(t.r,t.g,t.b,t.opacity)):new Zr}function Ak(t,e,r,n){return arguments.length===1?GRe(t):new Zr(t,e,r,n??1)}function Zr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iO(Zr,Ak,Yz(Jm,{brighter(t){return t=t==null?rv:Math.pow(rv,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yf:Math.pow(Yf,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zr(Fi(this.r),Fi(this.g),Fi(this.b),nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:YRe,formatRgb:_M,toString:_M}));function DM(){return`#${Ii(this.r)}${Ii(this.g)}${Ii(this.b)}`}function YRe(){return`#${Ii(this.r)}${Ii(this.g)}${Ii(this.b)}${Ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function _M(){const t=nv(this.opacity);return`${t===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${t===1?")":`, ${t})`}`}function nv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ii(t){return t=Fi(t),(t<16?"0":"")+t.toString(16)}function $M(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,r,n)}function Kz(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof Jm||(t=Jf(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new oa(i,l,c,t.opacity)}function KRe(t,e,r,n){return arguments.length===1?Kz(t):new oa(t,e,r,n??1)}function oa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iO(oa,KRe,Yz(Jm,{brighter(t){return t=t==null?rv:Math.pow(rv,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yf:Math.pow(Yf,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Zr(R1(t>=240?t-240:t+120,a,n),R1(t,a,n),R1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new oa(RM(this.h),Zh(this.s),Zh(this.l),nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nv(this.opacity);return`${t===1?"hsl(":"hsla("}${RM(this.h)}, ${Zh(this.s)*100}%, ${Zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RM(t){return t=(t||0)%360,t<0?t+360:t}function Zh(t){return Math.max(0,Math.min(1,t||0))}function R1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const lO=t=>()=>t;function JRe(t,e){return function(r){return t+r*e}}function XRe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ZRe(t){return(t=+t)==1?Jz:function(e,r){return r-e?XRe(e,r,t):lO(isNaN(e)?r:e)}}function Jz(t,e){var r=e-t;return r?JRe(t,r):lO(isNaN(t)?e:t)}const MM=function t(e){var r=ZRe(e);function n(a,s){var i=r((a=Ak(a)).r,(s=Ak(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Jz(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function QRe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function eMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=xu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function rMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function av(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function nMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=xu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var kk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M1=new RegExp(kk.source,"g");function aMe(t){return function(){return t}}function sMe(t){return function(e){return t(e)+""}}function oMe(t,e){var r=kk.lastIndex=M1.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=kk.exec(t))&&(a=M1.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:av(n,a)})),r=M1.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?sMe(c[0].x):aMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function xu(t,e){var r=typeof e,n;return e==null||r==="boolean"?lO(e):(r==="number"?av:r==="string"?(n=Jf(e))?(e=n,MM):oMe:e instanceof Jf?MM:e instanceof Date?rMe:eMe(e)?QRe:Array.isArray(e)?tMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nMe:av)(t,e)}function cO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function iMe(t,e){e===void 0&&(e=t,t=xu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function lMe(t){return function(){return t}}function sv(t){return+t}var LM=[0,1];function Fr(t){return t}function Ik(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:lMe(isNaN(e)?NaN:.5)}function cMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function uMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=Ik(a,n),s=r(i,s)):(n=Ik(n,a),s=r(s,i)),function(l){return s(n(l))}}function dMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=Ik(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=Km(t,l,1,n)-1;return s[c](a[c](l))}}function Xm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dw(){var t=LM,e=LM,r=xu,n,a,s,i=Fr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Fr&&(i=cMe(t[0],t[m-1])),l=m>2?dMe:uMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),av)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,sv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=cO,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Fr,d()):i!==Fr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function uO(){return dw()(Fr,Fr)}function fMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ov(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Mc(t){return t=ov(Math.abs(t)),t?t[1]:NaN}function mMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function hMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var pMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xf(t){if(!(e=pMe.exec(t)))throw new Error("invalid format: "+t);var e;return new dO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xf.prototype=dO.prototype;function dO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Xz;function yMe(t,e){var r=ov(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(Xz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ov(t,Math.max(0,e+s-1))[0]}function FM(t,e){var r=ov(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const BM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FM(t*100,e),r:FM,s:yMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qM(t){return t}var VM=Array.prototype.map,UM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bMe(t){var e=t.grouping===void 0||t.thousands===void 0?qM:mMe(VM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?qM:hMe(VM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Xf(f);var m=f.fill,h=f.align,p=f.sign,b=f.symbol,g=f.zero,x=f.width,y=f.comma,w=f.precision,S=f.trim,C=f.type;C==="n"?(y=!0,C="g"):BM[C]||(w===void 0&&(w=12),S=!0,C="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=b==="$"?n:/[%p]/.test(C)?i:"",A=BM[C],T=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(E){var P=j,M=N,R,$,B;if(C==="c")M=A(E)+M,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),w),S&&(E=gMe(E)),U&&+E==0&&p!=="+"&&(U=!1),P=(U?p==="("?p:l:p==="-"||p==="("?"":p)+P,M=(C==="s"?UM[8+Xz/3]:"")+M+(U&&p==="("?")":""),T){for(R=-1,$=E.length;++R<$;)if(B=E.charCodeAt(R),48>B||B>57){M=(B===46?a+E.slice(R+1):E.slice(R))+M,E=E.slice(0,R);break}}}y&&!g&&(E=e(E,1/0));var D=P.length+E.length+M.length,_=D<x?new Array(x-D+1).join(m):"";switch(y&&g&&(E=e(_+E,_.length?x-M.length:1/0),_=""),h){case"<":E=P+E+M+_;break;case"=":E=P+_+E+M;break;case"^":E=_.slice(0,D=_.length>>1)+P+E+M+_.slice(D);break;default:E=_+P+E+M;break}return s(E)}return k.toString=function(){return f+""},k}function d(f,m){var h=u((f=Xf(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Mc(m)/3)))*3,b=Math.pow(10,-p),g=UM[8+p/3];return function(x){return h(b*x)+g}}return{format:u,formatPrefix:d}}var Qh,fO,Zz;xMe({thousands:",",grouping:[3],currency:["$",""]});function xMe(t){return Qh=bMe(t),fO=Qh.format,Zz=Qh.formatPrefix,Qh}function vMe(t){return Math.max(0,-Mc(Math.abs(t)))}function jMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(e)/3)))*3-Mc(Math.abs(t)))}function wMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mc(e)-Mc(t))+1}function Qz(t,e,r,n){var a=Nk(t,e,r),s;switch(n=Xf(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=jMe(a,i))&&(n.precision=s),Zz(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=wMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=vMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return fO(n)}function Jo(t){var e=t.domain;return t.ticks=function(r){var n=e();return wk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return Qz(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Ck(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function iv(){var t=uO();return t.copy=function(){return Xm(t,iv())},Xn.apply(t,arguments),Jo(t)}function e7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,sv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return e7(t).unknown(e)},t=arguments.length?Array.from(t,sv):[0,1],Jo(r)}function t7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function zM(t){return Math.log(t)}function WM(t){return Math.exp(t)}function CMe(t){return-Math.log(-t)}function NMe(t){return-Math.exp(-t)}function SMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function AMe(t){return t===10?SMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HM(t){return(e,r)=>-t(-e,r)}function mO(t){const e=t(zM,WM),r=e.domain;let n=10,a,s;function i(){return a=kMe(n),s=AMe(n),r()[0]<0?(a=HM(a),s=HM(s),t(CMe,NMe)):t(zM,WM),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,b;const g=l==null?10:+l;let x=[];if(!(n%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(b=m<0?p/s(-m):p*s(m),!(b<u)){if(b>d)break;x.push(b)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(b=m>0?p/s(-m):p*s(m),!(b<u)){if(b>d)break;x.push(b)}x.length*2<g&&(x=wk(u,d,g))}else x=wk(m,h,Math.min(h-m,g)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xf(c)).precision==null&&(c.trim=!0),c=fO(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(t7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function r7(){const t=mO(dw()).domain([1,10]);return t.copy=()=>Xm(t,r7()).base(t.base()),Xn.apply(t,arguments),t}function GM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hO(t){var e=1,r=t(GM(e),YM(e));return r.constant=function(n){return arguments.length?t(GM(e=+n),YM(e)):e},Jo(r)}function n7(){var t=hO(dw());return t.copy=function(){return Xm(t,n7()).constant(t.constant())},Xn.apply(t,arguments)}function KM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TMe(t){return t<0?-t*t:t*t}function pO(t){var e=t(Fr,Fr),r=1;function n(){return r===1?t(Fr,Fr):r===.5?t(IMe,TMe):t(KM(r),KM(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Jo(e)}function gO(){var t=pO(dw());return t.copy=function(){return Xm(t,gO()).exponent(t.exponent())},Xn.apply(t,arguments),t}function EMe(){return gO.apply(null,arguments).exponent(.5)}function JM(t){return Math.sign(t)*t*t}function OMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a7(){var t=uO(),e=[0,1],r=!1,n;function a(s){var i=OMe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(JM(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,sv)).map(JM)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return a7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Xn.apply(a,arguments),Jo(a)}function s7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=RRe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[Km(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Io),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return s7().domain(t).range(e).unknown(n)},Xn.apply(s,arguments)}function o7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Km(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return o7().domain([t,e]).range(a).unknown(s)},Xn.apply(Jo(i),arguments)}function i7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Km(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return i7().domain(t).range(e).unknown(r)},Xn.apply(a,arguments)}const L1=new Date,F1=new Date;function lr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>lr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(L1.setTime(+s),F1.setTime(+i),t(L1),t(F1),Math.floor(r(L1,F1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const lv=lr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?lr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lv);lv.range;const cs=1e3,zn=cs*60,us=zn*60,Es=us*24,yO=Es*7,XM=Es*30,B1=Es*365,Ti=lr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getUTCSeconds());Ti.range;const bO=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());bO.range;const xO=lr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());xO.range;const vO=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());vO.range;const jO=lr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());jO.range;const Zm=lr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Es,t=>t.getDate()-1);Zm.range;const fw=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>t.getUTCDate()-1);fw.range;const l7=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>Math.floor(t/Es));l7.range;function gl(t){return lr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zn)/yO)}const mw=gl(0),cv=gl(1),PMe=gl(2),DMe=gl(3),Lc=gl(4),_Me=gl(5),$Me=gl(6);mw.range;cv.range;PMe.range;DMe.range;Lc.range;_Me.range;$Me.range;function yl(t){return lr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/yO)}const hw=yl(0),uv=yl(1),RMe=yl(2),MMe=yl(3),Fc=yl(4),LMe=yl(5),FMe=yl(6);hw.range;uv.range;RMe.range;MMe.range;Fc.range;LMe.range;FMe.range;const wO=lr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wO.range;const CO=lr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CO.range;const Os=lr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ps=lr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ps.range;function c7(t,e,r,n,a,s){const i=[[Ti,1,cs],[Ti,5,5*cs],[Ti,15,15*cs],[Ti,30,30*cs],[s,1,zn],[s,5,5*zn],[s,15,15*zn],[s,30,30*zn],[a,1,us],[a,3,3*us],[a,6,6*us],[a,12,12*us],[n,1,Es],[n,2,2*Es],[r,1,yO],[e,1,XM],[e,3,3*XM],[t,1,B1]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=sO(([,,g])=>g).right(i,m);if(h===i.length)return t.every(Nk(u/B1,d/B1,f));if(h===0)return lv.every(Math.max(Nk(u,d,f),1));const[p,b]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(b)}return[l,c]}const[BMe,qMe]=c7(Ps,CO,hw,l7,jO,xO),[VMe,UMe]=c7(Os,wO,mw,Zm,vO,bO);function q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function V1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function zMe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=Ku(a),d=Ju(a),f=Ku(s),m=Ju(s),h=Ku(i),p=Ju(i),b=Ku(l),g=Ju(l),x=Ku(c),y=Ju(c),w={a:U,A:D,b:_,B:F,c:null,d:nL,e:nL,f:mLe,g:CLe,G:SLe,H:uLe,I:dLe,j:fLe,L:u7,m:hLe,M:pLe,p:H,q:W,Q:oL,s:iL,S:gLe,u:yLe,U:bLe,V:xLe,w:vLe,W:jLe,x:null,X:null,y:wLe,Y:NLe,Z:ALe,"%":sL},S={a:ee,A:fe,b:ke,B:ne,c:null,d:aL,e:aL,f:ELe,g:BLe,G:VLe,H:kLe,I:ILe,j:TLe,L:f7,m:OLe,M:PLe,p:J,q:le,Q:oL,s:iL,S:DLe,u:_Le,U:$Le,V:RLe,w:MLe,W:LLe,x:null,X:null,y:FLe,Y:qLe,Z:ULe,"%":sL},C={a:k,A:E,b:P,B:M,c:R,d:tL,e:tL,f:oLe,g:eL,G:QM,H:rL,I:rL,j:rLe,L:sLe,m:tLe,M:nLe,p:T,q:eLe,Q:lLe,s:cLe,S:aLe,u:KMe,U:JMe,V:XMe,w:YMe,W:ZMe,x:$,X:B,y:eL,Y:QM,Z:QMe,"%":iLe};w.x=j(r,w),w.X=j(n,w),w.c=j(e,w),S.x=j(r,S),S.X=j(n,S),S.c=j(e,S);function j(Z,te){return function(G){var z=[],me=-1,xe=0,Te=Z.length,Ne,cr,On;for(G instanceof Date||(G=new Date(+G));++me<Te;)Z.charCodeAt(me)===37&&(z.push(Z.slice(xe,me)),(cr=ZM[Ne=Z.charAt(++me)])!=null?Ne=Z.charAt(++me):cr=Ne==="e"?" ":"0",(On=te[Ne])&&(Ne=On(G,cr)),z.push(Ne),xe=me+1);return z.push(Z.slice(xe,me)),z.join("")}}function N(Z,te){return function(G){var z=Yu(1900,void 0,1),me=A(z,Z,G+="",0),xe,Te;if(me!=G.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(te&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(xe=V1(Yu(z.y,0,1)),Te=xe.getUTCDay(),xe=Te>4||Te===0?uv.ceil(xe):uv(xe),xe=fw.offset(xe,(z.V-1)*7),z.y=xe.getUTCFullYear(),z.m=xe.getUTCMonth(),z.d=xe.getUTCDate()+(z.w+6)%7):(xe=q1(Yu(z.y,0,1)),Te=xe.getDay(),xe=Te>4||Te===0?cv.ceil(xe):cv(xe),xe=Zm.offset(xe,(z.V-1)*7),z.y=xe.getFullYear(),z.m=xe.getMonth(),z.d=xe.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Te="Z"in z?V1(Yu(z.y,0,1)).getUTCDay():q1(Yu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Te+5)%7:z.w+z.U*7-(Te+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,V1(z)):q1(z)}}function A(Z,te,G,z){for(var me=0,xe=te.length,Te=G.length,Ne,cr;me<xe;){if(z>=Te)return-1;if(Ne=te.charCodeAt(me++),Ne===37){if(Ne=te.charAt(me++),cr=C[Ne in ZM?te.charAt(me++):Ne],!cr||(z=cr(Z,G,z))<0)return-1}else if(Ne!=G.charCodeAt(z++))return-1}return z}function T(Z,te,G){var z=u.exec(te.slice(G));return z?(Z.p=d.get(z[0].toLowerCase()),G+z[0].length):-1}function k(Z,te,G){var z=h.exec(te.slice(G));return z?(Z.w=p.get(z[0].toLowerCase()),G+z[0].length):-1}function E(Z,te,G){var z=f.exec(te.slice(G));return z?(Z.w=m.get(z[0].toLowerCase()),G+z[0].length):-1}function P(Z,te,G){var z=x.exec(te.slice(G));return z?(Z.m=y.get(z[0].toLowerCase()),G+z[0].length):-1}function M(Z,te,G){var z=b.exec(te.slice(G));return z?(Z.m=g.get(z[0].toLowerCase()),G+z[0].length):-1}function R(Z,te,G){return A(Z,e,te,G)}function $(Z,te,G){return A(Z,r,te,G)}function B(Z,te,G){return A(Z,n,te,G)}function U(Z){return i[Z.getDay()]}function D(Z){return s[Z.getDay()]}function _(Z){return c[Z.getMonth()]}function F(Z){return l[Z.getMonth()]}function H(Z){return a[+(Z.getHours()>=12)]}function W(Z){return 1+~~(Z.getMonth()/3)}function ee(Z){return i[Z.getUTCDay()]}function fe(Z){return s[Z.getUTCDay()]}function ke(Z){return c[Z.getUTCMonth()]}function ne(Z){return l[Z.getUTCMonth()]}function J(Z){return a[+(Z.getUTCHours()>=12)]}function le(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var te=j(Z+="",w);return te.toString=function(){return Z},te},parse:function(Z){var te=N(Z+="",!1);return te.toString=function(){return Z},te},utcFormat:function(Z){var te=j(Z+="",S);return te.toString=function(){return Z},te},utcParse:function(Z){var te=N(Z+="",!0);return te.toString=function(){return Z},te}}}var ZM={"-":"",_:" ",0:"0"},br=/^\s*\d+/,WMe=/^%/,HMe=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function GMe(t){return t.replace(HMe,"\\$&")}function Ku(t){return new RegExp("^(?:"+t.map(GMe).join("|")+")","i")}function Ju(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function YMe(t,e,r){var n=br.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function KMe(t,e,r){var n=br.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function JMe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function XMe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ZMe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function QM(t,e,r){var n=br.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function eL(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eLe(t,e,r){var n=br.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function tLe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function tL(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function rLe(t,e,r){var n=br.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function rL(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function nLe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function aLe(t,e,r){var n=br.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function sLe(t,e,r){var n=br.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function oLe(t,e,r){var n=br.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iLe(t,e,r){var n=WMe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function lLe(t,e,r){var n=br.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function cLe(t,e,r){var n=br.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function nL(t,e){return Ze(t.getDate(),e,2)}function uLe(t,e){return Ze(t.getHours(),e,2)}function dLe(t,e){return Ze(t.getHours()%12||12,e,2)}function fLe(t,e){return Ze(1+Zm.count(Os(t),t),e,3)}function u7(t,e){return Ze(t.getMilliseconds(),e,3)}function mLe(t,e){return u7(t,e)+"000"}function hLe(t,e){return Ze(t.getMonth()+1,e,2)}function pLe(t,e){return Ze(t.getMinutes(),e,2)}function gLe(t,e){return Ze(t.getSeconds(),e,2)}function yLe(t){var e=t.getDay();return e===0?7:e}function bLe(t,e){return Ze(mw.count(Os(t)-1,t),e,2)}function d7(t){var e=t.getDay();return e>=4||e===0?Lc(t):Lc.ceil(t)}function xLe(t,e){return t=d7(t),Ze(Lc.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function vLe(t){return t.getDay()}function jLe(t,e){return Ze(cv.count(Os(t)-1,t),e,2)}function wLe(t,e){return Ze(t.getFullYear()%100,e,2)}function CLe(t,e){return t=d7(t),Ze(t.getFullYear()%100,e,2)}function NLe(t,e){return Ze(t.getFullYear()%1e4,e,4)}function SLe(t,e){var r=t.getDay();return t=r>=4||r===0?Lc(t):Lc.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function ALe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function aL(t,e){return Ze(t.getUTCDate(),e,2)}function kLe(t,e){return Ze(t.getUTCHours(),e,2)}function ILe(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function TLe(t,e){return Ze(1+fw.count(Ps(t),t),e,3)}function f7(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function ELe(t,e){return f7(t,e)+"000"}function OLe(t,e){return Ze(t.getUTCMonth()+1,e,2)}function PLe(t,e){return Ze(t.getUTCMinutes(),e,2)}function DLe(t,e){return Ze(t.getUTCSeconds(),e,2)}function _Le(t){var e=t.getUTCDay();return e===0?7:e}function $Le(t,e){return Ze(hw.count(Ps(t)-1,t),e,2)}function m7(t){var e=t.getUTCDay();return e>=4||e===0?Fc(t):Fc.ceil(t)}function RLe(t,e){return t=m7(t),Ze(Fc.count(Ps(t),t)+(Ps(t).getUTCDay()===4),e,2)}function MLe(t){return t.getUTCDay()}function LLe(t,e){return Ze(uv.count(Ps(t)-1,t),e,2)}function FLe(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function BLe(t,e){return t=m7(t),Ze(t.getUTCFullYear()%100,e,2)}function qLe(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function VLe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Fc(t):Fc.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function ULe(){return"+0000"}function sL(){return"%"}function oL(t){return+t}function iL(t){return Math.floor(+t/1e3)}var Tl,h7,p7;zLe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zLe(t){return Tl=zMe(t),h7=Tl.format,Tl.parse,p7=Tl.utcFormat,Tl.utcParse,Tl}function WLe(t){return new Date(t)}function HLe(t){return t instanceof Date?+t:+new Date(+t)}function NO(t,e,r,n,a,s,i,l,c,u){var d=uO(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),b=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function C(j){return(c(j)<j?h:l(j)<j?p:i(j)<j?b:s(j)<j?g:n(j)<j?a(j)<j?x:y:r(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,HLe)):m().map(WLe)},d.ticks=function(j){var N=m();return t(N[0],N[N.length-1],j??10)},d.tickFormat=function(j,N){return N==null?C:u(N)},d.nice=function(j){var N=m();return(!j||typeof j.range!="function")&&(j=e(N[0],N[N.length-1],j??10)),j?m(t7(N,j)):d},d.copy=function(){return Xm(d,NO(t,e,r,n,a,s,i,l,c,u))},d}function GLe(){return Xn.apply(NO(VMe,UMe,Os,wO,mw,Zm,vO,bO,Ti,h7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YLe(){return Xn.apply(NO(BMe,qMe,Ps,CO,hw,fw,jO,xO,Ti,p7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var t=0,e=1,r,n,a,s,i=Fr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(xu),u.rangeRound=d(cO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Xo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g7(){var t=Jo(pw()(Fr));return t.copy=function(){return Xo(t,g7())},Bs.apply(t,arguments)}function y7(){var t=mO(pw()).domain([1,10]);return t.copy=function(){return Xo(t,y7()).base(t.base())},Bs.apply(t,arguments)}function b7(){var t=hO(pw());return t.copy=function(){return Xo(t,b7()).constant(t.constant())},Bs.apply(t,arguments)}function SO(){var t=pO(pw());return t.copy=function(){return Xo(t,SO()).exponent(t.exponent())},Bs.apply(t,arguments)}function KLe(){return SO.apply(null,arguments).exponent(.5)}function x7(){var t=[],e=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Km(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Io),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>$Re(t,s/n))},r.copy=function(){return x7(e).domain(t)},Bs.apply(r,arguments)}function gw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Fr,d,f=!1,m;function h(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,r]=b,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function p(b){return function(g){var x,y,w;return arguments.length?([x,y,w]=g,u=iMe(b,[x,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(xu),h.rangeRound=p(cO),h.unknown=function(b){return arguments.length?(m=b,h):m},function(b){return d=b,a=b(t),s=b(e),i=b(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function v7(){var t=Jo(gw()(Fr));return t.copy=function(){return Xo(t,v7())},Bs.apply(t,arguments)}function j7(){var t=mO(gw()).domain([.1,1,10]);return t.copy=function(){return Xo(t,j7()).base(t.base())},Bs.apply(t,arguments)}function w7(){var t=hO(gw());return t.copy=function(){return Xo(t,w7()).constant(t.constant())},Bs.apply(t,arguments)}function AO(){var t=pO(gw());return t.copy=function(){return Xo(t,AO()).exponent(t.exponent())},Bs.apply(t,arguments)}function JLe(){return AO.apply(null,arguments).exponent(.5)}const lL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gf,scaleDiverging:v7,scaleDivergingLog:j7,scaleDivergingPow:AO,scaleDivergingSqrt:JLe,scaleDivergingSymlog:w7,scaleIdentity:e7,scaleImplicit:Sk,scaleLinear:iv,scaleLog:r7,scaleOrdinal:oO,scalePoint:Kd,scalePow:gO,scaleQuantile:s7,scaleQuantize:o7,scaleRadial:a7,scaleSequential:g7,scaleSequentialLog:y7,scaleSequentialPow:SO,scaleSequentialQuantile:x7,scaleSequentialSqrt:KLe,scaleSequentialSymlog:b7,scaleSqrt:EMe,scaleSymlog:n7,scaleThreshold:i7,scaleTime:GLe,scaleUtc:YLe,tickFormat:Qz},Symbol.toStringTag,{value:"Module"}));var XLe=uu;function ZLe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!XLe(i):r(i,l)))var l=i,c=s}return c}var yw=ZLe;function QLe(t,e){return t>e}var C7=QLe,eFe=yw,tFe=C7,rFe=yu;function nFe(t){return t&&t.length?eFe(t,rFe,tFe):void 0}var aFe=nFe;const bw=rt(aFe);function sFe(t,e){return t<e}var N7=sFe,oFe=yw,iFe=N7,lFe=yu;function cFe(t){return t&&t.length?oFe(t,lFe,iFe):void 0}var uFe=cFe;const xw=rt(uFe);var dFe=FE,fFe=Ko,mFe=Pz,hFe=ln;function pFe(t,e){var r=hFe(t)?dFe:mFe;return r(t,fFe(e))}var gFe=pFe,yFe=Ez,bFe=gFe;function xFe(t,e){return yFe(bFe(t,e),1)}var vFe=xFe;const jFe=rt(vFe);var wFe=tO;function CFe(t,e){return wFe(t,e)}var NFe=CFe;const kO=rt(NFe);var vu=1e9,SFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TO,Dt=!0,Yn="[DecimalError] ",Bi=Yn+"Invalid argument: ",IO=Yn+"Exponent out of range: ",ju=Math.floor,yi=Math.pow,AFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mn,dr=1e7,Nt=7,S7=9007199254740991,dv=ju(S7/Nt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(t){return js(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,r=e.constructor;return ht(js(e,new r(t),0,1),r.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return tr(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(mn))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(mn)?new n(0):(Dt=!1,e=js(Zf(r,s),Zf(t,s),s),Dt=!0,ht(e,a))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I7(e,t):A7(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Yn+"NaN");return r.s?(Dt=!1,e=js(r,t,0,1).times(t),Dt=!0,r.minus(e)):ht(new n(r),a)};je.naturalExponential=je.exp=function(){return k7(this)};je.naturalLogarithm=je.ln=function(){return Zf(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A7(e,t):I7(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bi+t);if(e=tr(a)+1,n=a.d.length-1,r=n*Nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};je.squareRoot=je.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yn+"NaN")}for(t=tr(l),Dt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ea(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ju((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(js(l,s,i+2)).times(.5),Ea(s.d).slice(0,i)===(e=Ea(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(ht(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Dt=!0,ht(n,r)};je.times=je.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%dr|0,e=l/dr|0;s[a]=(s[a]+e)%dr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Dt?ht(t,f.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(qa(t,0,vu),e===void 0?e=n.rounding:qa(e,0,8),ht(r,t+tr(r)+1,e))};je.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=nl(n,!0):(qa(t,0,vu),e===void 0?e=a.rounding:qa(e,0,8),n=ht(new a(n),t+1,e),r=nl(n,!0,t+1)),r};je.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?nl(a):(qa(t,0,vu),e===void 0?e=s.rounding:qa(e,0,8),n=ht(new s(a),t+tr(a)+1,e),r=nl(n.abs(),!1,t+tr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return ht(new e(t),tr(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(mn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Yn+"Infinity");return l}if(l.eq(mn))return l;if(n=c.precision,t.eq(mn))return ht(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=S7){for(a=new c(mn),e=Math.ceil(n/Nt+4),Dt=!1;r%2&&(a=a.times(l),uL(a.d,e)),r=ju(r/2),r!==0;)l=l.times(l),uL(l.d,e);return Dt=!0,t.s<0?new c(mn).div(a):ht(a,n)}}else if(s<0)throw Error(Yn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dt=!1,a=t.times(Zf(l,n+u)),Dt=!0,a=k7(a),a.s=s,a};je.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=tr(a),n=nl(a,r<=s.toExpNeg||r>=s.toExpPos)):(qa(t,1,vu),e===void 0?e=s.rounding:qa(e,0,8),a=ht(new s(a),t,e),r=tr(a),n=nl(a,t<=r||r<=s.toExpNeg,t)),n};je.toSignificantDigits=je.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(qa(t,1,vu),e===void 0?e=n.rounding:qa(e,0,8)),ht(new n(r),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tr(t),r=t.constructor;return nl(t,e<=r.toExpNeg||e>=r.toExpPos)};function A7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?ht(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Nt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/dr|0,c[s]%=dr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dt?ht(e,f):e}function qa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Bi+t)}function Ea(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Nt-n.length,r&&(s+=Zs(r)),s+=n;i=t[e],n=i+"",r=Nt-n.length,r&&(s+=Zs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var js=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%dr|0,i=s/dr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*dr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,p,b,g,x,y,w,S,C,j,N,A,T=n.constructor,k=n.s==a.s?1:-1,E=n.d,P=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Yn+"Division by zero");for(c=n.e-a.e,N=P.length,C=E.length,h=new T(k),p=h.d=[],u=0;P[u]==(E[u]||0);)++u;if(P[u]>(E[u]||0)&&--c,s==null?y=s=T.precision:i?y=s+(tr(n)-tr(a))+1:y=s,y<0)return new T(0);if(y=y/Nt+2|0,u=0,N==1)for(d=0,P=P[0],y++;(u<C||d)&&y--;u++)w=d*dr+(E[u]||0),p[u]=w/P|0,d=w%P|0;else{for(d=dr/(P[0]+1)|0,d>1&&(P=t(P,d),E=t(E,d),N=P.length,C=E.length),S=N,b=E.slice(0,N),g=b.length;g<N;)b[g++]=0;A=P.slice(),A.unshift(0),j=P[0],P[1]>=dr/2&&++j;do d=0,l=e(P,b,N,g),l<0?(x=b[0],N!=g&&(x=x*dr+(b[1]||0)),d=x/j|0,d>1?(d>=dr&&(d=dr-1),f=t(P,d),m=f.length,g=b.length,l=e(f,b,m,g),l==1&&(d--,r(f,N<m?A:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<g&&f.unshift(0),r(b,f,g),l==-1&&(g=b.length,l=e(P,b,N,g),l<1&&(d++,r(b,N<g?A:P,g))),g=b.length):l===0&&(d++,b=[0]),p[u++]=d,l&&b[0]?b[g++]=E[S]||0:(b=[E[S]],g=1);while((S++<C||b[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=c,ht(h,i?s+tr(h)+1:s)}}();function k7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(tr(t)>16)throw Error(IO+tr(t));if(!t.s)return new d(mn);for(Dt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(yi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(mn),d.precision=l;;){if(a=ht(a.times(t),l),r=r.times(++c),i=s.plus(js(a,r,l)),Ea(i.d).slice(0,l)===Ea(s.d).slice(0,l)){for(;u--;)s=ht(s.times(s),l);return d.precision=f,e==null?(Dt=!0,ht(s,f)):s}s=i}}function tr(t){for(var e=t.e*Nt,r=t.d[0];r>=10;r/=10)e++;return e}function U1(t,e,r){if(e>t.LN10.sd())throw Dt=!0,r&&(t.precision=r),Error(Yn+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function Zs(t){for(var e="";t--;)e+="0";return e}function Zf(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,p=h.d,b=h.constructor,g=b.precision;if(h.s<1)throw Error(Yn+(h.s?"NaN":"-Infinity"));if(h.eq(mn))return new b(0);if(e==null?(Dt=!1,u=g):u=e,h.eq(10))return e==null&&(Dt=!0),U1(b,u);if(u+=m,b.precision=u,r=Ea(p),n=r.charAt(0),s=tr(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ea(h.d),n=r.charAt(0),f++;s=tr(h),n>1?(h=new b("0."+r),s++):h=new b(n+"."+r.slice(1))}else return c=U1(b,u+2,g).times(s+""),h=Zf(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=g,e==null?(Dt=!0,ht(h,g)):h;for(l=i=h=js(h.minus(mn),h.plus(mn),u),d=ht(h.times(h),u),a=3;;){if(i=ht(i.times(d),u),c=l.plus(js(i,new b(a),u)),Ea(c.d).slice(0,u)===Ea(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(U1(b,u+2,g).times(s+""))),l=js(l,new b(f),u),b.precision=g,e==null?(Dt=!0,ht(l,g)):l;l=c,a+=2}}function cL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=ju(r/Nt),t.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Nt;n<a;)t.d.push(+e.slice(n,n+=Nt));e=e.slice(n),n=Nt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dt&&(t.e>dv||t.e<-dv))throw Error(IO+r)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Nt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Nt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Nt,a=n-Nt+i}if(r!==void 0&&(s=yi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/yi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=tr(t),f.length=1,e=e-s-1,f[0]=yi(10,(Nt-e%Nt)%Nt),t.e=ju(-e/Nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=yi(10,Nt-n),f[d]=a>0?(u/yi(10,i-a)%yi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==dr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=dr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Dt&&(t.e>dv||t.e<-dv))throw Error(IO+tr(t));return t}function I7(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Dt?ht(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Nt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=dr-1;--c[s],c[a]+=dr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dt?ht(e,h):e):new m(0)}function nl(t,e,r){var n,a=tr(t),s=Ea(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Zs(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Zs(-a-1)+s,r&&(n=r-i)>0&&(s+=Zs(n))):a>=i?(s+=Zs(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Zs(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Zs(n))),t.s<0?"-"+s:s}function uL(t,e){if(t.length>e)return t.length=e,!0}function T7(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return cL(i,s.toString())}else if(typeof s!="string")throw Error(Bi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,AFe.test(s))cL(i,s);else throw Error(Bi+s)}if(a.prototype=je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T7,a.config=a.set=kFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function kFe(t){if(!t||typeof t!="object")throw Error(Yn+"Object expected");var e,r,n,a=["precision",1,vu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(ju(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Bi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bi+r+": "+n);return this}var TO=T7(SFe);mn=new TO(1);const ft=TO;function IFe(t){return PFe(t)||OFe(t)||EFe(t)||TFe()}function TFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EFe(t,e){if(t){if(typeof t=="string")return Tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(t,e)}}function OFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PFe(t){if(Array.isArray(t))return Tk(t)}function Tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DFe=function(e){return e},E7={},O7=function(e){return e===E7},dL=function(e){return function r(){return arguments.length===0||arguments.length===1&&O7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_Fe=function t(e,r){return e===1?r:dL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==E7}).length;return i>=e?r.apply(void 0,a):t(e-i,dL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return O7(f)?c.shift():f});return r.apply(void 0,IFe(d).concat(c))}))})},vw=function(e){return _Fe(e.length,e)},Ek=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},$Fe=vw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),RFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return DFe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ok=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},P7=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function MFe(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function LFe(t,e,r){for(var n=new ft(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var FFe=vw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),BFe=vw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qFe=vw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jw={rangeStep:LFe,getDigitCount:MFe,interpolateNumber:FFe,uninterpolateNumber:BFe,uninterpolateTruncation:qFe};function Pk(t){return zFe(t)||UFe(t)||D7(t)||VFe()}function VFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zFe(t){if(Array.isArray(t))return Dk(t)}function Qf(t,e){return GFe(t)||HFe(t,e)||D7(t,e)||WFe()}function WFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7(t,e){if(t){if(typeof t=="string")return Dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(t,e)}}function Dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function GFe(t){if(Array.isArray(t))return t}function _7(t){var e=Qf(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function $7(t,e,r){if(t.lte(0))return new ft(0);var n=jw.getDigitCount(t.toNumber()),a=new ft(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new ft(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new ft(Math.ceil(c))}function YFe(t,e,r){var n=1,a=new ft(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ft(10).pow(jw.getDigitCount(t)-1),a=new ft(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):r||(a=new ft(Math.floor(t)));var i=Math.floor((e-1)/2),l=RFe($Fe(function(c){return a.add(new ft(c-i).mul(n)).toNumber()}),Ek);return l(0,e)}function R7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=$7(new ft(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new ft(0):(i=new ft(t).add(e).div(2),i=i.sub(new ft(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new ft(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?R7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new ft(l).mul(s)),tickMax:i.add(new ft(c).mul(s))})}function KFe(t){var e=Qf(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=_7([r,n]),c=Qf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Pk(Ek(0,a-1).map(function(){return 1/0}))):[].concat(Pk(Ek(0,a-1).map(function(){return-1/0})),[d]);return r>n?Ok(f):f}if(u===d)return YFe(u,a,s);var m=R7(u,d,i,s),h=m.step,p=m.tickMin,b=m.tickMax,g=jw.rangeStep(p,b.add(new ft(.1).mul(h)),h);return r>n?Ok(g):g}function JFe(t,e){var r=Qf(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=_7([n,a]),l=Qf(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=$7(new ft(u).sub(c).div(d-1),s,0),m=[].concat(Pk(jw.rangeStep(new ft(c),new ft(u).sub(new ft(.99).mul(f)),f)),[u]);return n>a?Ok(m):m}var XFe=P7(KFe),ZFe=P7(JFe),QFe="Invariant failed";function Bc(t,e){throw new Error(QFe)}var e5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}function t5e(t,e){return s5e(t)||a5e(t,e)||n5e(t,e)||r5e()}function r5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5e(t,e){if(t){if(typeof t=="string")return fL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fL(t,e)}}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function s5e(t){if(Array.isArray(t))return t}function o5e(t,e){if(t==null)return{};var r=i5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F7(n.key),n)}}function u5e(t,e,r){return e&&c5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d5e(t,e,r){return e=mv(e),f5e(t,M7()?Reflect.construct(e,r||[],mv(t).constructor):e.apply(t,r))}function f5e(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m5e(t)}function m5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(t)}function h5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(t,e)}function L7(t,e,r){return e=F7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F7(t){var e=p5e(t,"string");return qc(e)=="symbol"?e:e+""}function p5e(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EO=function(t){function e(){return l5e(this,e),d5e(this,e,arguments)}return h5e(e,t),u5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=o5e(n,e5e),h=Ve(m,!1);this.props.direction==="x"&&d.type!=="number"&&Bc();var p=c.map(function(b){var g=u(b,l),x=g.x,y=g.y,w=g.value,S=g.errorVal;if(!S)return null;var C=[],j,N;if(Array.isArray(S)){var A=t5e(S,2);j=A[0],N=A[1]}else j=N=S;if(s==="vertical"){var T=d.scale,k=y+a,E=k+i,P=k-i,M=T(w-j),R=T(w+N);C.push({x1:R,y1:E,x2:R,y2:P}),C.push({x1:M,y1:k,x2:R,y2:k}),C.push({x1:M,y1:E,x2:M,y2:P})}else if(s==="horizontal"){var $=f.scale,B=x+a,U=B-i,D=B+i,_=$(w-j),F=$(w+N);C.push({x1:U,y1:F,x2:D,y2:F}),C.push({x1:B,y1:_,x2:B,y2:F}),C.push({x1:U,y1:_,x2:D,y2:_})}return V.createElement(Ut,fv({className:"recharts-errorBar",key:"bar-".concat(C.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},h),C.map(function(H){return V.createElement("line",fv({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return V.createElement(Ut,{className:"recharts-errorBars"},p)}}])}(V.Component);L7(EO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});L7(EO,"displayName","ErrorBar");function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){g5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g5e(t,e,r){return e=y5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y5e(t){var e=b5e(t,"string");return em(e)=="symbol"?e:e+""}function b5e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B7=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Ln(r,La);if(!i)return null;var l=La.defaultProps,c=l!==void 0?oi(oi({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(b){return{type:i.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?oi(oi({},m),f.props):{},p=h.dataKey,b=h.name,g=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:c.iconType||g||"square",color:OO(f),value:b||p,payload:h}}),oi(oi(oi({},c),La.getWithHeight(i,a)),{},{payload:u,item:i})};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function hL(t){return w5e(t)||j5e(t)||v5e(t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5e(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function j5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w5e(t){if(Array.isArray(t))return $k(t)}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){pc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pc(t,e,r){return e=C5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C5e(t){var e=N5e(t,"string");return tm(e)=="symbol"?e:e+""}function N5e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hn(t,e,r){return Ye(t)||Ye(e)?r:ir(e)?ha(t,e,r):Ue(e)?e(t):r}function Jd(t,e,r,n){var a=jFe(t,function(l){return hn(l,e)});if(r==="number"){var s=a.filter(function(l){return be(l)||parseFloat(l)});return s.length?[xw(s),bw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ye(l)}):a;return i.map(function(l){return ir(l)||l instanceof Date?l:""})}var S5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Un(f-d)!==Un(m-f)){var p=[];if(Un(m-f)===Un(c[1]-c[0])){h=m;var b=f+c[1]-c[0];p[0]=Math.min(b,(b+d)/2),p[1]=Math.max(b,(b+d)/2)}else{h=d;var g=m+c[1]-c[0];p[0]=Math.min(f,(g+f)/2),p[1]=Math.max(f,(g+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){i=a[u].index;break}}else{var y=Math.min(d,m),w=Math.max(d,m);if(e>(y+f)/2&&e<=(w+f)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},OO=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},A5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],b=p.items,g=p.cateAxisId,x=b.filter(function(N){return xs(N.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Vt(Vt({},y),x[0].props):x[0].props,S=w.barSize,C=w[g];i[C]||(i[C]=[]);var j=Ye(S)?r:S;i[C].push({item:x[0],stackList:x.slice(1),barSize:Ye(j)?void 0:Xr(j,n,0)})}}return i},k5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=Xr(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,p=i.reduce(function(S,C){return S+C.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&h>0&&(m=!0,h*=.9,p=c*h);var b=(a-p)/2>>0,g={offset:b-u,size:0};d=i.reduce(function(S,C){var j={item:C.item,position:{offset:g.offset+g.size+u,size:m?h:C.barSize}},N=[].concat(hL(S),[j]);return g=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:g})}),N},f)}else{var x=Xr(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=i.reduce(function(S,C,j){var N=[].concat(hL(S),[{item:C.item,position:{offset:x+(y+u)*j+(y-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:N[N.length-1].position})}),N},f)}return d},I5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=B7({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&p==="middle")&&h!=="center"&&be(e[h]))return Vt(Vt({},e),{},pc({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&p!=="middle"&&be(e[p]))return Vt(Vt({},e),{},pc({},p,e[p]+(m||0)))}return e},T5e=function(e,r,n){return Ye(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q7=function(e,r,n,a,s){var i=r.props.children,l=Ma(i,EO).filter(function(u){return T5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=hn(d,n);if(Ye(f))return u;var m=Array.isArray(f)?[xw(f),bw(f)]:[f,f],h=c.reduce(function(p,b){var g=hn(d,b,0),x=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},E5e=function(e,r,n,a,s){var i=r.map(function(l){return q7(e,l,n,s,a)}).filter(function(l){return!Ye(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},V7=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&q7(e,c,u,a)||Jd(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},U7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},hd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Un(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Ym(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},z1=new WeakMap,ep=function(e,r){if(typeof r!="function")return e;z1.has(e)||z1.set(e,new WeakMap);var n=z1.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},O5e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Gf(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:iv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Kd(),realScaleType:"point"}:s==="category"?{scale:Gf(),realScaleType:"band"}:{scale:iv(),realScaleType:"linear"};if(Gm(a)){var c="scale".concat(rw(a));return{scale:(lL[c]||Kd)(),realScaleType:lL[c]?c:"point"}}return Ue(a)?{scale:a}:{scale:Kd(),realScaleType:"point"}},gL=1e-4,P5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-gL,i=Math.max(a[0],a[1])+gL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},D5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Ym(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},_5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Ym(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},$5e={sign:D5e,expand:Qke,none:Oc,silhouette:eIe,wiggle:tIe,positive:_5e},R5e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=$5e[n],i=Zke().keys(a).value(function(l,c){return+hn(l,c,0)}).order(ok).offset(s);return i(e)},M5e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Vt(Vt({},m.type.defaultProps),m.props):m.props,b=p.stackId,g=p.hide;if(g)return f;var x=p[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(ir(b)){var w=y.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[b]=w}else y.stackGroups[ew("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Vt(Vt({},f),{},pc({},x,y))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,g){var x=h.stackGroups[g];return Vt(Vt({},b),{},pc({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:R5e(e,x.items,s)}))},p)}return Vt(Vt({},f),{},pc({},m,h))},d)},L5e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=XFe(u,s,l);return e.domain([xw(d),bw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=ZFe(f,s,l);return{niceTicks:m}}return null},F5e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(ir(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},B5e=function(e){return e.reduce(function(r,n){return[xw(n.concat([r[0]]).filter(be)),bw(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},z7=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=B5e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rk=function(e,r,n){if(Ue(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(be(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(yL.test(e[0])){var s=+yL.exec(e[0])[1];a[0]=r[0]-s}else Ue(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(be(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(bL.test(e[1])){var i=+bL.exec(e[1])[1];a[1]=r[1]+i}else Ue(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Mk=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=nO(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},xL=function(e,r,n){return!e||!e.length||kO(e,ha(n,"type.defaultProps.domain"))?r:e},q5e=function(e,r){var n=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Vt(Vt({},Ve(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:OO(e),value:hn(r,a),type:c,payload:r,chartType:u,hide:d})};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){W7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W7(t,e,r){return e=V5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t){var e=U5e(t,"string");return rm(e)=="symbol"?e:e+""}function U5e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z5e(t,e){return Y5e(t)||G5e(t,e)||H5e(t,e)||W5e()}function W5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5e(t,e){if(t){if(typeof t=="string")return jL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Y5e(t){if(Array.isArray(t))return t}var hv=Math.PI/180,K5e=function(e){return e*180/Math.PI},vt=function(e,r,n,a){return{x:e+Math.cos(-hv*a)*n,y:r+Math.sin(-hv*a)*n}},H7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},J5e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Xr(e.cx,i,i/2),f=Xr(e.cy,l,l/2),m=H7(i,l,n),h=Xr(e.innerRadius,m,0),p=Xr(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(g,x){var y=r[x],w=y.domain,S=y.reversed,C;if(Ye(y.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[h,p]),S&&(C=[C[1],C[0]]);else{C=y.range;var j=C,N=z5e(j,2);c=N[0],u=N[1]}var A=O5e(y,s),T=A.realScaleType,k=A.scale;k.domain(w).range(C),P5e(k);var E=L5e(k,Qa(Qa({},y),{},{realScaleType:T})),P=Qa(Qa(Qa({},y),E),{},{range:C,radius:p,realScaleType:T,scale:k,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return Qa(Qa({},g),{},W7({},x,P))},{})},X5e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},Z5e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=X5e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:K5e(u),angleInRadian:u}},Q5e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},e4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},wL=function(e,r){var n=e.x,a=e.y,s=Z5e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=Q5e(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?Qa(Qa({},r),{},{radius:i,angle:e4e(h,r)}):null},G7=function(e){return!v.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}var t4e=["offset"];function r4e(t){return o4e(t)||s4e(t)||a4e(t)||n4e()}function n4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(t,e){if(t){if(typeof t=="string")return Lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lk(t,e)}}function s4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o4e(t){if(Array.isArray(t))return Lk(t)}function Lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i4e(t,e){if(t==null)return{};var r=l4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){c4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c4e(t,e,r){return e=u4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u4e(t){var e=d4e(t,"string");return nm(e)=="symbol"?e:e+""}function d4e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}var f4e=function(e){var r=e.value,n=e.formatter,a=Ye(e.children)?r:e.children;return Ue(n)?n(a):a},m4e=function(e,r){var n=Un(r-e),a=Math.min(Math.abs(r-e),360);return n*a},h4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,b=c.clockWise,g=(f+m)/2,x=m4e(h,p),y=x>=0?1:-1,w,S;a==="insideStart"?(w=h+y*i,S=b):a==="insideEnd"?(w=p-y*i,S=!b):a==="end"&&(w=p+y*i,S=b),S=x<=0?S:!S;var C=vt(u,d,g,w),j=vt(u,d,g,w+(S?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Ye(e.id)?ew("recharts-radial-line-"):e.id;return V.createElement("text",am({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:A,d:N})),V.createElement("textPath",{xlinkHref:"#".concat(A)},r))},p4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=vt(i,l,u+n,m),p=h.x,b=h.y;return{x:p,y:b,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=vt(i,l,g,m),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},g4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",p=f>0?"start":"end",b=u>=0?1:-1,g=b*a,x=b>0?"end":"start",y=b>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return nr(nr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return nr(nr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return nr(nr({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return nr(nr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?nr({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideRight"?nr({x:l+u-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?nr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},N):s==="insideBottom"?nr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},N):s==="insideTopLeft"?nr({x:l+g,y:c+m,textAnchor:y,verticalAnchor:p},N):s==="insideTopRight"?nr({x:l+u-g,y:c+m,textAnchor:x,verticalAnchor:p},N):s==="insideBottomLeft"?nr({x:l+g,y:c+d-m,textAnchor:y,verticalAnchor:h},N):s==="insideBottomRight"?nr({x:l+u-g,y:c+d-m,textAnchor:x,verticalAnchor:h},N):du(s)&&(be(s.x)||ki(s.x))&&(be(s.y)||ki(s.y))?nr({x:l+Xr(s.x,u),y:c+Xr(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):nr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},y4e=function(e){return"cx"in e&&be(e.cx)};function Cr(t){var e=t.offset,r=e===void 0?5:e,n=i4e(t,t4e),a=nr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ye(l)&&Ye(c)&&!v.isValidElement(u)&&!Ue(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var h;if(Ue(u)){if(h=v.createElement(u,a),v.isValidElement(h))return h}else h=f4e(a);var p=y4e(s),b=Ve(a,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return h4e(a,h,b);var g=p?p4e(a):g4e(a);return V.createElement(Rc,am({className:Re("recharts-label",f)},b,g,{breakAll:m}),h)}Cr.displayName="Label";var Y7=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,p=e.left,b=e.width,g=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(be(b)&&be(g)){if(be(f)&&be(m))return{x:f,y:m,width:b,height:g};if(be(h)&&be(p))return{x:h,y:p,width:b,height:g}}return be(f)&&be(m)?{x:f,y:m,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},b4e=function(e,r){return e?e===!0?V.createElement(Cr,{key:"label-implicit",viewBox:r}):ir(e)?V.createElement(Cr,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===Cr?v.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):Ue(e)?V.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):du(e)?V.createElement(Cr,am({viewBox:r},e,{key:"label-implicit"})):null:null},x4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=Y7(e),i=Ma(a,Cr).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=b4e(e.label,r||s);return[l].concat(r4e(i))};Cr.parseViewBox=Y7;Cr.renderCallByParent=x4e;function v4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var j4e=v4e;const w4e=rt(j4e);function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}var C4e=["valueAccessor"],N4e=["data","dataKey","clockWise","id","textBreakAll"];function S4e(t){return T4e(t)||I4e(t)||k4e(t)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k4e(t,e){if(t){if(typeof t=="string")return Fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(t,e)}}function I4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T4e(t){if(Array.isArray(t))return Fk(t)}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){E4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E4e(t,e,r){return e=O4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O4e(t){var e=P4e(t,"string");return sm(e)=="symbol"?e:e+""}function P4e(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AL(t,e){if(t==null)return{};var r=D4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _4e=function(e){return Array.isArray(e.value)?w4e(e.value):e.value};function qi(t){var e=t.valueAccessor,r=e===void 0?_4e:e,n=AL(t,C4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=AL(n,N4e);return!a||!a.length?null:V.createElement(Ut,{className:"recharts-label-list"},a.map(function(d,f){var m=Ye(s)?r(d,f):hn(d&&d.payload,s),h=Ye(l)?{}:{id:"".concat(l,"-").concat(f)};return V.createElement(Cr,pv({},Ve(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Cr.parseViewBox(Ye(i)?d:SL(SL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}qi.displayName="LabelList";function $4e(t,e){return t?t===!0?V.createElement(qi,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Ue(t)?V.createElement(qi,{key:"labelList-implicit",data:e,content:t}):du(t)?V.createElement(qi,pv({data:e},t,{key:"labelList-implicit"})):null:null}function R4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ma(n,qi).map(function(i,l){return v.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=$4e(t.label,e);return[s].concat(S4e(a))}qi.renderCallByParent=R4e;function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Bk(){return Bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bk.apply(this,arguments)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){M4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M4e(t,e,r){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4e(t){var e=F4e(t,"string");return om(e)=="symbol"?e:e+""}function F4e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B4e=function(e,r){var n=Un(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},tp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/hv,m=u?s:s+i*f,h=vt(r,n,d,m),p=vt(r,n,a,m),b=u?s-i*f:s,g=vt(r,n,d*Math.cos(f*hv),b);return{center:h,circleTangency:p,lineTangency:g,theta:f}},K7=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=B4e(i,l),u=i+c,d=vt(r,n,s,i),f=vt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=vt(r,n,a,i),p=vt(r,n,a,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},q4e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Un(d-u),m=tp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,b=m.theta,g=tp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,y=g.lineTangency,w=g.theta,S=c?Math.abs(u-d):Math.abs(u-d)-b-w;if(S<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):K7({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=tp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),N=j.circleTangency,A=j.lineTangency,T=j.theta,k=tp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=k.circleTangency,P=k.lineTangency,M=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(R<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},V4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J7=function(e){var r=IL(IL({},V4e),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=Re("recharts-sector",m),p=i-s,b=Xr(l,p,0,!0),g;return b>0&&Math.abs(d-f)<360?g=q4e({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=K7({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),V.createElement("path",Bk({},Ve(r,!0),{className:h,d:g,role:"img"}))};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qk.apply(this,arguments)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){U4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U4e(t,e,r){return e=z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4e(t){var e=W4e(t,"string");return im(e)=="symbol"?e:e+""}function W4e(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OL={curveBasisClosed:qke,curveBasisOpen:Vke,curveBasis:Bke,curveBumpX:Ake,curveBumpY:kke,curveLinearClosed:Uke,curveLinear:aw,curveMonotoneX:zke,curveMonotoneY:Wke,curveNatural:Hke,curveStep:Gke,curveStepAfter:Kke,curveStepBefore:Yke},rp=function(e){return e.x===+e.x&&e.y===+e.y},Xu=function(e){return e.x},Zu=function(e){return e.y},H4e=function(e,r){if(Ue(e))return e;var n="curve".concat(rw(e));return(n==="curveMonotone"||n==="curveBump")&&r?OL["".concat(n).concat(r==="vertical"?"Y":"X")]:OL[n]||aw},G4e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=H4e(n,l),f=u?s.filter(function(b){return rp(b)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(b){return rp(b)}):i,p=f.map(function(b,g){return EL(EL({},b),{},{base:h[g]})});return l==="vertical"?m=Hh().y(Zu).x1(Xu).x0(function(b){return b.base.x}):m=Hh().x(Xu).y1(Zu).y0(function(b){return b.base.y}),m.defined(rp).curve(d),m(p)}return l==="vertical"&&be(i)?m=Hh().y(Zu).x1(Xu).x0(i):be(i)?m=Hh().x(Xu).y1(Zu).y0(i):m=JU().x(Xu).y(Zu),m.defined(rp).curve(d),m(f)},Vk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?G4e(e):a;return V.createElement("path",qk({},Ve(e,!1),qx(e),{className:Re("recharts-curve",r),d:i,ref:s}))},X7={exports:{}},Y4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K4e=Y4e,J4e=K4e;function Z7(){}function Q7(){}Q7.resetWarningCache=Z7;var X4e=function(){function t(n,a,s,i,l,c){if(c!==J4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Q7,resetWarningCache:Z7};return r.PropTypes=r,r};X7.exports=X4e();var Z4e=X7.exports;const nt=rt(Z4e);var Q4e=Object.getOwnPropertyNames,eBe=Object.getOwnPropertySymbols,tBe=Object.prototype.hasOwnProperty;function PL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function np(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function DL(t){return Q4e(t).concat(eBe(t))}var rBe=Object.hasOwn||function(t,e){return tBe.call(t,e)};function bl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var nBe="__v",aBe="__o",sBe="_owner",_L=Object.getOwnPropertyDescriptor,$L=Object.keys;function oBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function iBe(t,e){return bl(t.getTime(),e.getTime())}function lBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cBe(t,e){return t===e}function RL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var uBe=bl;function dBe(t,e,r){var n=$L(t),a=n.length;if($L(e).length!==a)return!1;for(;a-- >0;)if(!e8(t,e,r,n[a]))return!1;return!0}function Qu(t,e,r){var n=DL(t),a=n.length;if(DL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!e8(t,e,r,s)||(i=_L(t,s),l=_L(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function fBe(t,e){return bl(t.valueOf(),e.valueOf())}function mBe(t,e){return t.source===e.source&&t.flags===e.flags}function ML(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function hBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function pBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function e8(t,e,r,n){return(n===sBe||n===aBe||n===nBe)&&(t.$$typeof||e.$$typeof)?!0:rBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var gBe="[object Arguments]",yBe="[object Boolean]",bBe="[object Date]",xBe="[object Error]",vBe="[object Map]",jBe="[object Number]",wBe="[object Object]",CBe="[object RegExp]",NBe="[object Set]",SBe="[object String]",ABe="[object URL]",kBe=Array.isArray,LL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,FL=Object.assign,IBe=Object.prototype.toString.call.bind(Object.prototype.toString);function TBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(p,b,g){if(p===b)return!0;if(p==null||b==null)return!1;var x=typeof p;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?i(p,b,g):x==="function"?a(p,b,g):!1;var y=p.constructor;if(y!==b.constructor)return!1;if(y===Object)return l(p,b,g);if(kBe(p))return e(p,b,g);if(LL!=null&&LL(p))return f(p,b,g);if(y===Date)return r(p,b,g);if(y===RegExp)return u(p,b,g);if(y===Map)return s(p,b,g);if(y===Set)return d(p,b,g);var w=IBe(p);return w===bBe?r(p,b,g):w===CBe?u(p,b,g):w===vBe?s(p,b,g):w===NBe?d(p,b,g):w===wBe?typeof p.then!="function"&&typeof b.then!="function"&&l(p,b,g):w===ABe?m(p,b,g):w===xBe?n(p,b,g):w===gBe?l(p,b,g):w===yBe||w===jBe||w===SBe?c(p,b,g):!1}}function EBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Qu:oBe,areDatesEqual:iBe,areErrorsEqual:lBe,areFunctionsEqual:cBe,areMapsEqual:n?PL(RL,Qu):RL,areNumbersEqual:uBe,areObjectsEqual:n?Qu:dBe,arePrimitiveWrappersEqual:fBe,areRegExpsEqual:mBe,areSetsEqual:n?PL(ML,Qu):ML,areTypedArraysEqual:n?Qu:hBe,areUrlsEqual:pBe};if(r&&(a=FL({},a,r(a))),e){var s=np(a.areArraysEqual),i=np(a.areMapsEqual),l=np(a.areObjectsEqual),c=np(a.areSetsEqual);a=FL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function OBe(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function PBe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var DBe=Zo();Zo({strict:!0});Zo({circular:!0});Zo({circular:!0,strict:!0});Zo({createInternalComparator:function(){return bl}});Zo({strict:!0,createInternalComparator:function(){return bl}});Zo({circular:!0,createInternalComparator:function(){return bl}});Zo({circular:!0,createInternalComparator:function(){return bl},strict:!0});function Zo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=EBe(t),c=TBe(l),u=n?n(c):OBe(c);return PBe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function _Be(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):_Be(a)};requestAnimationFrame(n)}function Uk(t){"@babel/helpers - typeof";return Uk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uk(t)}function $Be(t){return FBe(t)||LBe(t)||MBe(t)||RBe()}function RBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MBe(t,e){if(t){if(typeof t=="string")return qL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(t,e)}}function qL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FBe(t){if(Array.isArray(t))return t}function BBe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=$Be(i),c=l[0],u=l.slice(1);if(typeof c=="number"){BL(a.bind(null,u),c);return}a(c),BL(a.bind(null,u));return}Uk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){t8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t8(t,e,r){return e=qBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qBe(t){var e=VBe(t,"string");return lm(e)==="symbol"?e:String(e)}function VBe(t,e){if(lm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},zBe=function(e){return e},WBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xd=function(e,r){return Object.keys(r).reduce(function(n,a){return UL(UL({},n),{},t8({},a,e(a,r[a])))},{})},zL=function(e,r,n){return e.map(function(a){return"".concat(WBe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function HBe(t,e){return KBe(t)||YBe(t,e)||r8(t,e)||GBe()}function GBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function KBe(t){if(Array.isArray(t))return t}function JBe(t){return QBe(t)||ZBe(t)||r8(t)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r8(t,e){if(t){if(typeof t=="string")return zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(t,e)}}function ZBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QBe(t){if(Array.isArray(t))return zk(t)}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gv=1e-4,n8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},a8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},WL=function(e,r){return function(n){var a=n8(e,r);return a8(a,n)}},e3e=function(e,r){return function(n){var a=n8(e,r),s=[].concat(JBe(a.map(function(i,l){return i*l}).slice(1)),[0]);return a8(s,n)}},HL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=HBe(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=WL(a,i),m=WL(s,l),h=e3e(a,i),p=function(x){return x>1?1:x<0?0:x},b=function(x){for(var y=x>1?1:x,w=y,S=0;S<8;++S){var C=f(w)-y,j=h(w);if(Math.abs(C-y)<gv||j<gv)return m(w);w=p(w-C/j)}return m(w)};return b.isStepper=!1,b},t3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,p=m*s,b=m+(h-p)*l/1e3,g=m*l/1e3+d;return Math.abs(g-f)<gv&&Math.abs(b)<gv?[f,0]:[g,b]};return c.isStepper=!0,c.dt=l,c},r3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HL(a);case"spring":return t3e();default:if(a.split("(")[0]==="cubic-bezier")return HL(a)}return typeof a=="function"?a:null};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function GL(t){return s3e(t)||a3e(t)||s8(t)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s3e(t){if(Array.isArray(t))return Hk(t)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){Wk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wk(t,e,r){return e=o3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3e(t){var e=i3e(t,"string");return cm(e)==="symbol"?e:String(e)}function i3e(t,e){if(cm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l3e(t,e){return d3e(t)||u3e(t,e)||s8(t,e)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8(t,e){if(t){if(typeof t=="string")return Hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function d3e(t){if(Array.isArray(t))return t}var yv=function(e,r,n){return e+(r-e)*n},Gk=function(e){var r=e.from,n=e.to;return r!==n},f3e=function t(e,r,n){var a=Xd(function(s,i){if(Gk(i)){var l=e(i.from,i.to,i.velocity),c=l3e(l,2),u=c[0],d=c[1];return vr(vr({},i),{},{from:u,velocity:d})}return i},r);return n<1?Xd(function(s,i){return Gk(i)?vr(vr({},i),{},{velocity:yv(i.velocity,a[s].velocity,n),from:yv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const m3e=function(t,e,r,n,a){var s=UBe(t,e),i=s.reduce(function(g,x){return vr(vr({},g),{},Wk({},x,[t[x],e[x]]))},{}),l=s.reduce(function(g,x){return vr(vr({},g),{},Wk({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Xd(function(x,y){return y.from},l)},h=function(){return!Object.values(l).filter(Gk).length},p=function(x){u||(u=x);var y=x-u,w=y/r.dt;l=f3e(r,l,w),a(vr(vr(vr({},t),e),m())),u=x,h()||(c=requestAnimationFrame(f))},b=function(x){d||(d=x);var y=(x-d)/n,w=Xd(function(C,j){return yv.apply(void 0,GL(j).concat([r(y)]))},i);if(a(vr(vr(vr({},t),e),w)),y<1)c=requestAnimationFrame(f);else{var S=Xd(function(C,j){return yv.apply(void 0,GL(j).concat([r(1)]))},i);a(vr(vr(vr({},t),e),S))}};return f=r.isStepper?p:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var h3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function p3e(t,e){if(t==null)return{};var r=g3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function W1(t){return v3e(t)||x3e(t)||b3e(t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function x3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v3e(t){if(Array.isArray(t))return Yk(t)}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){pd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pd(t,e,r){return e=o8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o8(n.key),n)}}function C3e(t,e,r){return e&&w3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o8(t){var e=N3e(t,"string");return Vc(e)==="symbol"?e:String(e)}function N3e(t,e){if(Vc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kk(t,e)}function Kk(t,e){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kk(t,e)}function A3e(t){var e=k3e();return function(){var n=bv(t),a;if(e){var s=bv(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Jk(this,a)}}function Jk(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xk(t)}function Xk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(t)}var Mo=function(t){S3e(r,t);var e=A3e(r);function r(n,a){var s;j3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Xk(s)),s.changeStyle=s.changeStyle.bind(Xk(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),Jk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},Jk(s);s.state={style:c?pd({},c,u):u}}else s.state={style:{}};return s}return C3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?pd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(DBe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=p||u?f:a.to;if(this.state&&m){var g={style:c?pd({},c,b):b};(c&&m[c]!==b||!c&&m!==b)&&this.setState(g)}this.runAnimation(ta(ta({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=m3e(i,l,r3e(u),c,this.changeStyle),p=function(){s.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(b,g,x){if(x===0)return b;var y=g.duration,w=g.easing,S=w===void 0?"ease":w,C=g.style,j=g.properties,N=g.onAnimationEnd,A=x>0?i[x-1]:g,T=j||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(W1(b),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:y,easing:S}),y]);var k=zL(T,y,S),E=ta(ta(ta({},A.style),C),{},{transition:k});return[].concat(W1(b),[E,y,N]).filter(zBe)};return this.manager.start([c].concat(W1(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BBe());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var b=l?pd({},l,c):c,g=zL(Object.keys(b),i,u);p.start([d,s,ta(ta({},b),{},{transition:g}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=p3e(a,h3e),u=v.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var p=h.props,b=p.style,g=b===void 0?{}:b,x=p.className,y=v.cloneElement(h,ta(ta({},c),{},{style:ta(ta({},g),d),className:x}));return y};return u===1?f(v.Children.only(s)):V.createElement("div",null,v.Children.map(s,function(m){return f(m)}))}}]),r}(v.PureComponent);Mo.displayName="Animate";Mo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mo.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xv.apply(this,arguments)}function I3e(t,e){return P3e(t)||O3e(t,e)||E3e(t,e)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3e(t,e){if(t){if(typeof t=="string")return JL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function P3e(t){if(Array.isArray(t))return t}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){D3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D3e(t,e,r){return e=_3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3e(t){var e=$3e(t,"string");return um(e)=="symbol"?e:e+""}function $3e(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);d="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},R3e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},M3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PO=function(e){var r=ZL(ZL({},M3e),e),n=v.useRef(),a=v.useState(-1),s=I3e(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Re("recharts-rectangle",h);return y?V.createElement(Mo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:p,isActive:y},function(S){var C=S.width,j=S.height,N=S.x,A=S.y;return V.createElement(Mo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,isActive:x,easing:p},V.createElement("path",xv({},Ve(r,!0),{className:w,d:QL(N,A,C,j,m),ref:n})))}):V.createElement("path",xv({},Ve(r,!0),{className:w,d:QL(c,u,d,f,m)}))},L3e=["points","className","baseLinePoints","connectNulls"];function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}function F3e(t,e){if(t==null)return{};var r=B3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eF(t){return z3e(t)||U3e(t)||V3e(t)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(t,e){if(t){if(typeof t=="string")return Zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(t,e)}}function U3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z3e(t){if(Array.isArray(t))return Zk(t)}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tF=function(e){return e&&e.x===+e.x&&e.y===+e.y},W3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){tF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Zd=function(e,r){var n=W3e(e);r&&(n=[n.reduce(function(s,i){return[].concat(eF(s),eF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},H3e=function(e,r,n){var a=Zd(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Zd(r.reverse(),n).slice(1))},G3e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=F3e(e,L3e);if(!r||!r.length)return null;var l=Re("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=H3e(r,a,s);return V.createElement("g",{className:l},V.createElement("path",Wl({},Ve(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?V.createElement("path",Wl({},Ve(i,!0),{fill:"none",d:Zd(r,s)})):null,c?V.createElement("path",Wl({},Ve(i,!0),{fill:"none",d:Zd(a,s)})):null)}var d=Zd(r,s);return V.createElement("path",Wl({},Ve(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qk.apply(this,arguments)}var DO=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=Re("recharts-dot",s);return r===+r&&n===+n&&a===+a?V.createElement("circle",Qk({},Ve(e,!1),qx(e),{className:i,cx:r,cy:n,r:a})):null};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var Y3e=["x","y","top","left","width","height","className"];function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eI.apply(this,arguments)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){J3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J3e(t,e,r){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t){var e=Z3e(t,"string");return dm(e)=="symbol"?e:e+""}function Z3e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3e(t,e){if(t==null)return{};var r=eqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},rqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,p=e.className,b=Q3e(e,Y3e),g=K3e({x:n,y:s,top:l,left:u,width:f,height:h},b);return!be(n)||!be(s)||!be(f)||!be(h)||!be(l)||!be(u)?null:V.createElement("path",eI({},Ve(g,!0),{className:Re("recharts-cross",p),d:tqe(n,s,f,h,l,u)}))},nqe=yw,aqe=C7,sqe=Ko;function oqe(t,e){return t&&t.length?nqe(t,sqe(e),aqe):void 0}var iqe=oqe;const lqe=rt(iqe);var cqe=yw,uqe=Ko,dqe=N7;function fqe(t,e){return t&&t.length?cqe(t,uqe(e),dqe):void 0}var mqe=fqe;const hqe=rt(mqe);var pqe=["cx","cy","angle","ticks","axisLine"],gqe=["ticks","tick","angle","tickFormatter","stroke"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aF(t,e){if(t==null)return{};var r=yqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l8(n.key),n)}}function xqe(t,e,r){return e&&sF(t.prototype,e),r&&sF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vqe(t,e,r){return e=vv(e),jqe(t,i8()?Reflect.construct(e,r||[],vv(t).constructor):e.apply(t,r))}function jqe(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wqe(t)}function wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(t)}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tI(t,e)}function tI(t,e){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tI(t,e)}function ww(t,e,r){return e=l8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l8(t){var e=Nqe(t,"string");return Uc(e)=="symbol"?e:e+""}function Nqe(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cw=function(t){function e(){return bqe(this,e),vqe(this,e,arguments)}return Cqe(e,t),xqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return vt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=lqe(l,function(d){return d.coordinate||0}),u=hqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=aF(n,pqe),d=l.reduce(function(p,b){return[Math.min(p[0],b.coordinate),Math.max(p[1],b.coordinate)]},[1/0,-1/0]),f=vt(a,s,d[0],i),m=vt(a,s,d[1],i),h=ii(ii(ii({},Ve(u,!1)),{},{fill:"none"},Ve(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return V.createElement("line",Qd({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=aF(a,gqe),f=this.getTickTextAnchor(),m=Ve(d,!1),h=Ve(i,!1),p=s.map(function(b,g){var x=n.getTickValueCoord(b),y=ii(ii(ii(ii({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:g},x),{},{payload:b});return V.createElement(Ut,Qd({className:Re("recharts-polar-radius-axis-tick",G7(i)),key:"tick-".concat(b.coordinate)},tw(n.props,b,g)),e.renderTickItem(i,y,c?c(b.value,g):b.value))});return V.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:V.createElement(Ut,{className:Re("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):Ue(n)?i=n(a):i=V.createElement(Rc,Qd({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(v.PureComponent);ww(Cw,"displayName","PolarRadiusAxis");ww(Cw,"axisType","radiusAxis");ww(Cw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function bi(){return bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bi.apply(this,arguments)}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){Nw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u8(n.key),n)}}function Aqe(t,e,r){return e&&iF(t.prototype,e),r&&iF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kqe(t,e,r){return e=jv(e),Iqe(t,c8()?Reflect.construct(e,r||[],jv(t).constructor):e.apply(t,r))}function Iqe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tqe(t)}function Tqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(t)}function Eqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rI(t,e)}function Nw(t,e,r){return e=u8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u8(t){var e=Oqe(t,"string");return zc(e)=="symbol"?e:e+""}function Oqe(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pqe=Math.PI/180,Dqe=1e-5,Sw=function(t){function e(){return Sqe(this,e),kqe(this,e,arguments)}return Eqe(e,t),Aqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=vt(s,i,l,n.coordinate),m=vt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Pqe),i;return s>Dqe?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=li(li({},Ve(this.props,!1)),{},{fill:"none"},Ve(l,!1));if(c==="circle")return V.createElement(DO,bi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return vt(a,s,i,m.coordinate)});return V.createElement(G3e,bi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ve(this.props,!1),f=Ve(i,!1),m=li(li({},d),{},{fill:"none"},Ve(l,!1)),h=s.map(function(p,b){var g=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),y=li(li(li({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:p,x:g.x2,y:g.y2});return V.createElement(Ut,bi({className:Re("recharts-polar-angle-axis-tick",G7(i)),key:"tick-".concat(p.coordinate)},tw(n.props,p,b)),l&&V.createElement("line",bi({className:"recharts-polar-angle-axis-tick-line"},m,g)),i&&e.renderTickItem(i,y,c?c(p.value,b):p.value))});return V.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:V.createElement(Ut,{className:Re("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):Ue(n)?i=n(a):i=V.createElement(Rc,bi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(v.PureComponent);Nw(Sw,"displayName","PolarAngleAxis");Nw(Sw,"axisType","angleAxis");Nw(Sw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _qe=vz,$qe=_qe(Object.getPrototypeOf,Object),Rqe=$qe,Mqe=Ls,Lqe=Rqe,Fqe=Fs,Bqe="[object Object]",qqe=Function.prototype,Vqe=Object.prototype,d8=qqe.toString,Uqe=Vqe.hasOwnProperty,zqe=d8.call(Object);function Wqe(t){if(!Fqe(t)||Mqe(t)!=Bqe)return!1;var e=Lqe(t);if(e===null)return!0;var r=Uqe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&d8.call(r)==zqe}var Hqe=Wqe;const Gqe=rt(Hqe);var Yqe=Ls,Kqe=Fs,Jqe="[object Boolean]";function Xqe(t){return t===!0||t===!1||Kqe(t)&&Yqe(t)==Jqe}var Zqe=Xqe;const Qqe=rt(Zqe);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wv.apply(this,arguments)}function e6e(t,e){return a6e(t)||n6e(t,e)||r6e(t,e)||t6e()}function t6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6e(t,e){if(t){if(typeof t=="string")return lF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lF(t,e)}}function lF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function a6e(t){if(Array.isArray(t))return t}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){s6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s6e(t,e,r){return e=o6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o6e(t){var e=i6e(t,"string");return fm(e)=="symbol"?e:e+""}function i6e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},l6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c6e=function(e){var r=uF(uF({},l6e),e),n=v.useRef(),a=v.useState(-1),s=e6e(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var y=Re("recharts-trapezoid",h);return x?V.createElement(Mo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:b,animationEasing:p,isActive:x},function(w){var S=w.upperWidth,C=w.lowerWidth,j=w.height,N=w.x,A=w.y;return V.createElement(Mo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,easing:p},V.createElement("path",wv({},Ve(r,!0),{className:y,d:dF(N,A,S,C,j),ref:n})))}):V.createElement("g",null,V.createElement("path",wv({},Ve(r,!0),{className:y,d:dF(c,u,d,f,m)})))},u6e=["option","shapeType","propTransformer","activeClassName","isActive"];function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function d6e(t,e){if(t==null)return{};var r=f6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){m6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m6e(t,e,r){return e=h6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h6e(t){var e=p6e(t,"string");return mm(e)=="symbol"?e:e+""}function p6e(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g6e(t,e){return Cv(Cv({},e),t)}function y6e(t,e){return t==="symbols"}function mF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(PO,r);case"trapezoid":return V.createElement(c6e,r);case"sector":return V.createElement(J7,r);case"symbols":if(y6e(e))return V.createElement(YE,r);break;default:return null}}function b6e(t){return v.isValidElement(t)?t.props:t}function x6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?g6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=d6e(t,u6e),u;if(v.isValidElement(e))u=v.cloneElement(e,Cv(Cv({},c),b6e(e)));else if(Ue(e))u=e(c);else if(Gqe(e)&&!Qqe(e)){var d=a(e,c);u=V.createElement(mF,{shapeType:r,elementProps:d})}else{var f=c;u=V.createElement(mF,{shapeType:r,elementProps:f})}return l?V.createElement(Ut,{className:i},u):u}function Aw(t,e){return e!=null&&"trapezoids"in t.props}function kw(t,e){return e!=null&&"sectors"in t.props}function hm(t,e){return e!=null&&"points"in t.props}function v6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function j6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function w6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function C6e(t,e){var r;return Aw(t,e)?r=v6e:kw(t,e)?r=j6e:hm(t,e)&&(r=w6e),r}function N6e(t,e){var r;return Aw(t,e)?r="trapezoids":kw(t,e)?r="sectors":hm(t,e)&&(r="points"),r}function S6e(t,e){if(Aw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(kw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hm(t,e)?e.payload:{}}function A6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=N6e(r,e),s=S6e(r,e),i=n.filter(function(c,u){var d=kO(s,c),f=r.props[a].filter(function(p){var b=C6e(r,e);return b(p,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Pb;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(this,arguments)}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){qn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m8(n.key),n)}}function I6e(t,e,r){return e&&pF(t.prototype,e),r&&pF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=Nv(e),E6e(t,f8()?Reflect.construct(e,r||[],Nv(t).constructor):e.apply(t,r))}function E6e(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6e(t)}function O6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f8=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(t)}function P6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nI(t,e)}function qn(t,e,r){return e=m8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m8(t){var e=D6e(t,"string");return Wc(e)=="symbol"?e:e+""}function D6e(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zn=function(t){function e(r){var n;return k6e(this,e),n=T6e(this,e,[r]),qn(n,"pieRef",null),qn(n,"sectorRefs",[]),qn(n,"id",ew("recharts-pie-")),qn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(a)&&a()}),qn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return P6e(e,t),I6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ve(this.props,!1),f=Ve(i,!1),m=Ve(l,!1),h=i&&i.offsetRadius||20,p=n.map(function(b,g){var x=(b.startAngle+b.endAngle)/2,y=vt(b.cx,b.cy,b.outerRadius+h,x),w=gt(gt(gt(gt({},d),b),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(y.x,b.cx)},y),S=gt(gt(gt(gt({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:g,points:[vt(b.cx,b.cy,b.outerRadius,x),y]}),C=c;return Ye(c)&&Ye(u)?C="value":Ye(c)&&(C=u),V.createElement(Ut,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(i,w,hn(b,C)))});return V.createElement(Ut,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,p=gt(gt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return V.createElement(Ut,Hl({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},tw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),V.createElement(x6e,Hl({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return V.createElement(Mo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var b=p.t,g=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(w,S){var C=m&&m[S],j=S>0?ha(w,"paddingAngle",0):0;if(C){var N=lR(C.endAngle-C.startAngle,w.endAngle-w.startAngle),A=gt(gt({},w),{},{startAngle:y+j,endAngle:y+N(b)+j});g.push(A),y=A.endAngle}else{var T=w.endAngle,k=w.startAngle,E=lR(0,T-k),P=E(b),M=gt(gt({},w),{},{startAngle:y+j,endAngle:y+P+j});g.push(M),y=M.endAngle}}),V.createElement(Ut,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!kO(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!i||!i.length||!be(u)||!be(d)||!be(f)||!be(m))return null;var b=Re("recharts-pie",l);return V.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Cr.renderCallByParent(this.props,null,!1),(!h||p)&&qi.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);if(Ue(n))return n(a);var i=Re("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(Vk,Hl({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);var i=s;if(Ue(n)&&(i=n(a),V.isValidElement(i)))return i;var l=Re("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return V.createElement(Rc,Hl({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(v.PureComponent);Pb=Zn;qn(Zn,"displayName","Pie");qn(Zn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qn(Zn,"parseDeltaAngle",function(t,e){var r=Un(e-t),n=Math.min(Math.abs(e-t),360);return r*n});qn(Zn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ve(t,!1),a=Ma(r,bu);return e&&e.length?e.map(function(s,i){return gt(gt(gt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return gt(gt({},n),s.props)}):[]});qn(Zn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=H7(a,s),l=n+Xr(t.cx,a,a/2),c=r+Xr(t.cy,s,s/2),u=Xr(t.innerRadius,i,0),d=Xr(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});qn(Zn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gt(gt({},e.type.defaultProps),e.props):e.props,a=Pb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=Pb.parseCoordinateOfPie(n,r),b=Pb.parseDeltaAngle(i,l),g=Math.abs(b),x=u;Ye(u)&&Ye(f)?(vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ye(u)&&(vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(A){return hn(A,x,0)!==0}).length,w=(g>=360?y:y-1)*c,S=g-y*h-w,C=a.reduce(function(A,T){var k=hn(T,x,0);return A+(be(k)?k:0)},0),j;if(C>0){var N;j=a.map(function(A,T){var k=hn(A,x,0),E=hn(A,d,T),P=(be(k)?k:0)/C,M;T?M=N.endAngle+Un(b)*c*(k!==0?1:0):M=i;var R=M+Un(b)*((k!==0?h:0)+P*S),$=(M+R)/2,B=(p.innerRadius+p.outerRadius)/2,U=[{name:E,value:k,payload:A,dataKey:x,type:m}],D=vt(p.cx,p.cy,B,$);return N=gt(gt(gt({percent:P,cornerRadius:s,name:E,tooltipPayload:U,midAngle:$,middleRadius:B,tooltipPosition:D},A),p),{},{value:hn(A,x),startAngle:M,endAngle:R,payload:A,paddingAngle:Un(b)*c}),N})}return gt(gt({},p),{},{sectors:j,data:a})});var _6e=Math.ceil,$6e=Math.max;function R6e(t,e,r,n){for(var a=-1,s=$6e(_6e((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var M6e=R6e,L6e=Lz,F6e=1/0,B6e=17976931348623157e292;function q6e(t){if(!t)return t===0?t:0;if(t=L6e(t),t===F6e||t===-1/0){var e=t<0?-1:1;return e*B6e}return t===t?t:0}var V6e=q6e,U6e=M6e,z6e=lw,H1=V6e;function W6e(t){return function(e,r,n){return n&&typeof n!="number"&&z6e(e,r,n)&&(r=n=void 0),e=H1(e),r===void 0?(r=e,e=0):r=H1(r),n=n===void 0?e<r?1:-1:H1(n),U6e(e,r,n,t)}}var H6e=W6e,G6e=H6e,Y6e=G6e(),K6e=Y6e;const Sv=rt(K6e);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){h8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h8(t,e,r){return e=J6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6e(t){var e=X6e(t,"string");return pm(e)=="symbol"?e:e+""}function X6e(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z6e=["Webkit","Moz","O","ms"],Q6e=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Z6e.reduce(function(s,i){return yF(yF({},s),{},h8({},i+n,r))},{});return a[e]=r,a};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function bF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(r),!0).forEach(function(n){un(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g8(n.key),n)}}function tVe(t,e,r){return e&&xF(t.prototype,e),r&&xF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rVe(t,e,r){return e=kv(e),nVe(t,p8()?Reflect.construct(e,r||[],kv(t).constructor):e.apply(t,r))}function nVe(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aVe(t)}function aVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(t)}function sVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aI(t,e)}function un(t,e,r){return e=g8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g8(t){var e=oVe(t,"string");return Hc(e)=="symbol"?e:e+""}function oVe(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Kd().domain(Sv(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},vF=function(e){return e.changedTouches&&!!e.changedTouches.length},Gc=function(t){function e(r){var n;return eVe(this,e),n=rVe(this,e,[r]),un(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),un(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),un(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),un(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),un(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),un(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),un(n,"handleSlideDragStart",function(a){var s=vF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sVe(e,t),tVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),p=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=hn(s[n],l,n);return Ue(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,b=n.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-i):b<0&&(b=Math.max(b,u-i,u-l));var g=this.getIndex({startX:i+b,endX:l+b});(g.startIndex!==m||g.endIndex!==h)&&p&&p(g),this.setState({startX:i+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=vF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,b=d.gap,g=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+m-h-u):y<0&&(y=Math.max(y,f-u)),x[i]=u+y;var w=this.getIndex(x),S=w.startIndex,C=w.endIndex,j=function(){var A=g.length-1;return i==="startX"&&(l>c?S%b===0:C%b===0)||l<c&&C===A||i==="endX"&&(l>c?C%b===0:S%b===0)||l>c&&C===A};this.setState(un(un({},i,u+y),"brushMoveStartX",n.pageX),function(){p&&j()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(un({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?V.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,b=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),y=G1(G1({},Ve(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((s=p[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=p[g])===null||i===void 0?void 0:i.name);return V.createElement(Ut,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return V.createElement(Ut,{className:"recharts-brush-texts"},V.createElement(Rc,Av({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},p),this.getTextOfTick(a)),V.createElement(Rc,Av({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,b=m.isTextActive,g=m.isSlideMoving,x=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var w=Re("recharts-brush",s),S=V.Children.count(i)===1,C=Q6e("userSelect","none");return V.createElement(Ut,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(b||g||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return V.isValidElement(n)?s=V.cloneElement(n,a):Ue(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return G1({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?iVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);un(Gc,"displayName","Brush");un(Gc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lVe=rO;function cVe(t,e){var r;return lVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var uVe=cVe,dVe=fz,fVe=Ko,mVe=uVe,hVe=ln,pVe=lw;function gVe(t,e,r){var n=hVe(t)?dVe:mVe;return r&&pVe(t,e,r)&&(e=void 0),n(t,fVe(e))}var yVe=gVe;const bVe=rt(yVe);var Ba=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},jF=Dz;function xVe(t,e,r){e=="__proto__"&&jF?jF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var vVe=xVe,jVe=vVe,wVe=Oz,CVe=Ko;function NVe(t,e){var r={};return e=CVe(e),wVe(t,function(n,a,s){jVe(r,a,e(n,a,s))}),r}var SVe=NVe;const AVe=rt(SVe);function kVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var IVe=kVe,TVe=rO;function EVe(t,e){var r=!0;return TVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var OVe=EVe,PVe=IVe,DVe=OVe,_Ve=Ko,$Ve=ln,RVe=lw;function MVe(t,e,r){var n=$Ve(t)?PVe:DVe;return r&&RVe(t,e,r)&&(e=void 0),n(t,_Ve(e))}var LVe=MVe;const FVe=rt(LVe);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function BVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y8(n.key),n)}}function qVe(t,e,r){return e&&wF(t.prototype,e),r&&wF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){_O(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _O(t,e,r){return e=y8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y8(t){var e=VVe(t,"string");return gm(e)=="symbol"?e:e+""}function VVe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},UVe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return b8({x:r,y:n},{x:a,y:s})},x8=function(){function t(e){BVe(this,t),this.scale=e}return qVe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();_O(x8,"EPS",1e-4);var $O=function(e){var r=Object.keys(e).reduce(function(n,a){return ap(ap({},n),{},_O({},a,x8.create(e[a])))},{});return ap(ap({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return AVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return FVe(a,function(s,i){return r[i].isInRange(s)})}})},zVe=vSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),v8=v.createContext(void 0),j8=v.createContext(void 0),w8=v.createContext(void 0),WVe=v.createContext({}),C8=v.createContext(void 0),HVe=v.createContext(0),GVe=v.createContext(0),NF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=zVe(s);return V.createElement(v8.Provider,{value:n},V.createElement(j8.Provider,{value:a},V.createElement(WVe.Provider,{value:s},V.createElement(w8.Provider,{value:d},V.createElement(C8.Provider,{value:i},V.createElement(HVe.Provider,{value:u},V.createElement(GVe.Provider,{value:c},l)))))))},YVe=function(){return v.useContext(C8)},KVe=function(e){var r=v.useContext(v8);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},JVe=function(e){var r=v.useContext(j8);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},XVe=function(){var e=v.useContext(w8);return e};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function ZVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S8(n.key),n)}}function eUe(t,e,r){return e&&QVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tUe(t,e,r){return e=Iv(e),rUe(t,N8()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function rUe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nUe(t)}function nUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function aUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sI(t,e)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){RO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RO(t,e,r){return e=S8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S8(t){var e=sUe(t,"string");return Yc(e)=="symbol"?e:e+""}function sUe(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oUe(t,e){return uUe(t)||cUe(t,e)||lUe(t,e)||iUe()}function iUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lUe(t,e){if(t){if(typeof t=="string")return kF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kF(t,e)}}function kF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function uUe(t){if(Array.isArray(t))return t}function oI(){return oI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oI.apply(this,arguments)}var dUe=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):Ue(e)?n=e(r):n=V.createElement("line",oI({},r,{className:"recharts-reference-line-line"})),n},fUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var p=u.y,b=e.y.apply(p,{position:i});if(Ba(u,"discard")&&!e.y.isInRange(b))return null;var g=[{x:d+m,y:b},{x:d,y:b}];return c==="left"?g.reverse():g}if(r){var x=u.x,y=e.x.apply(x,{position:i});if(Ba(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var S=u.segment,C=S.map(function(j){return e.apply(j,{position:i})});return Ba(u,"discard")&&bVe(C,function(j){return!e.isInRange(j)})?null:C}return null};function mUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=YVe(),d=KVe(a),f=JVe(s),m=XVe();if(!u||!m)return null;vs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=$O({x:d.scale,y:f.scale}),p=ir(e),b=ir(r),g=n&&n.length===2,x=fUe(h,p,b,g,m,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=oUe(x,2),w=y[0],S=w.x,C=w.y,j=y[1],N=j.x,A=j.y,T=Ba(t,"hidden")?"url(#".concat(u,")"):void 0,k=AF(AF({clipPath:T},Ve(t,!0)),{},{x1:S,y1:C,x2:N,y2:A});return V.createElement(Ut,{className:Re("recharts-reference-line",l)},dUe(i,k),Cr.renderCallByParent(t,UVe({x1:S,y1:C,x2:N,y2:A})))}var MO=function(t){function e(){return ZVe(this,e),tUe(this,e,arguments)}return aUe(e,t),eUe(e,[{key:"render",value:function(){return V.createElement(mUe,this.props)}}])}(V.Component);RO(MO,"displayName","ReferenceLine");RO(MO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iI.apply(this,arguments)}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){Iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k8(n.key),n)}}function gUe(t,e,r){return e&&pUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yUe(t,e,r){return e=Tv(e),bUe(t,A8()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function bUe(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xUe(t)}function xUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A8=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function vUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lI(t,e)}function lI(t,e){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lI(t,e)}function Iw(t,e,r){return e=k8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k8(t){var e=jUe(t,"string");return Kc(e)=="symbol"?e:e+""}function jUe(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=$O({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Ba(e,"discard")&&!i.isInRange(l)?null:l},Tw=function(t){function e(){return hUe(this,e),yUe(this,e,arguments)}return vUe(e,t),gUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=ir(a),d=ir(s);if(vs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=wUe(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,b=p.shape,g=p.className,x=Ba(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=TF(TF({clipPath:x},Ve(this.props,!0)),{},{cx:m,cy:h});return V.createElement(Ut,{className:Re("recharts-reference-dot",g)},e.renderDot(b,y),Cr.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(V.Component);Iw(Tw,"displayName","ReferenceDot");Iw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Iw(Tw,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Ue(t)?r=t(e):r=V.createElement(DO,iI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cI.apply(this,arguments)}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){Ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T8(n.key),n)}}function SUe(t,e,r){return e&&NUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AUe(t,e,r){return e=Ev(e),kUe(t,I8()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function kUe(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IUe(t)}function IUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function TUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uI(t,e)}function uI(t,e){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uI(t,e)}function Ew(t,e,r){return e=T8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T8(t){var e=EUe(t,"string");return Jc(e)=="symbol"?e:e+""}function EUe(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OUe=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=$O({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ba(s,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:b8(h,p)},Ow=function(t){function e(){return CUe(this,e),AUe(this,e,arguments)}return TUe(e,t),SUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;vs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ir(a),m=ir(s),h=ir(i),p=ir(l),b=this.props.shape;if(!f&&!m&&!h&&!p&&!b)return null;var g=OUe(f,m,h,p,this.props);if(!g&&!b)return null;var x=Ba(this.props,"hidden")?"url(#".concat(d,")"):void 0;return V.createElement(Ut,{className:Re("recharts-reference-area",c)},e.renderRect(b,OF(OF({clipPath:x},Ve(this.props,!0)),g)),Cr.renderCallByParent(this.props,g))}}])}(V.Component);Ew(Ow,"displayName","ReferenceArea");Ew(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ew(Ow,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Ue(t)?r=t(e):r=V.createElement(PO,cI({},e,{className:"recharts-reference-area-rect"})),r});function PF(t){return $Ue(t)||_Ue(t)||DUe(t)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(t,e){if(t){if(typeof t=="string")return dI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(t,e)}}function _Ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ue(t){if(Array.isArray(t))return dI(t)}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fI=function(e,r,n,a,s){var i=Ma(e,MO),l=Ma(e,Tw),c=[].concat(PF(i),PF(l)),u=Ma(e,Ow),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(b,g){if(g.props[d]===n&&Ba(g.props,"extendDomain")&&be(g.props[f])){var x=g.props[f];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(b,g){if(g.props[d]===n&&Ba(g.props,"extendDomain")&&be(g.props[h])&&be(g.props[p])){var x=g.props[h],y=g.props[p];return[Math.min(b[0],x,y),Math.max(b[1],x,y)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,g){return be(g)?[Math.min(b[0],g),Math.max(b[1],g)]:b},m)),m},E8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var b=r?r+u:u;if(!this._events[b])return!1;var g=this._events[b],x=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,m),!0;case 5:return g.fn.call(g.context,d,f,m,h),!0;case 6:return g.fn.call(g.context,d,f,m,h,p),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var S=g.length,C;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,m);break;default:if(!y)for(C=1,y=new Array(x-1);C<x;C++)y[C-1]=arguments[C];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var b=0,g=[],x=p.length;b<x;b++)(p[b].fn!==d||m&&!p[b].once||f&&p[b].context!==f)&&g.push(p[b]);g.length?this._events[h]=g.length===1?g[0]:g:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(E8);var RUe=E8.exports;const MUe=rt(RUe);var Y1=new MUe,K1="recharts.syncMouseEvents";function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function LUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O8(n.key),n)}}function BUe(t,e,r){return e&&FUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J1(t,e,r){return e=O8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O8(t){var e=qUe(t,"string");return ym(e)=="symbol"?e:e+""}function qUe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VUe=function(){function t(){LUe(this,t),J1(this,"activeIndex",0),J1(this,"coordinateList",[]),J1(this,"layout","horizontal")}return BUe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function UUe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function zUe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function P8(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=vt(e,r,n,a),l=vt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function WUe(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=vt(l,c,u,f),h=vt(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return P8(e);return[{x:n,y:a},{x:s,y:i}]}function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function DF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(r),!0).forEach(function(n){HUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HUe(t,e,r){return e=GUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GUe(t){var e=YUe(t,"string");return bm(e)=="symbol"?e:e+""}function YUe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KUe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var p,b=Vk;if(m==="ScatterChart")p=i,b=rqe;else if(m==="BarChart")p=zUe(f,i,c,d),b=PO;else if(f==="radial"){var g=P8(i),x=g.cx,y=g.cy,w=g.radius,S=g.startAngle,C=g.endAngle;p={cx:x,cy:y,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},b=J7}else p={points:WUe(f,i,c)},b=Vk;var j=sp(sp(sp(sp({stroke:"#ccc",pointerEvents:"none"},c),p),Ve(h,!1)),{},{payload:l,payloadIndex:u,className:Re("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,j):v.createElement(b,j)}var JUe=["item"],XUe=["children","className","width","height","style","compact","title","desc"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gl.apply(this,arguments)}function _F(t,e){return eze(t)||QUe(t,e)||_8(t,e)||ZUe()}function ZUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function eze(t){if(Array.isArray(t))return t}function $F(t,e){if(t==null)return{};var r=tze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$8(n.key),n)}}function aze(t,e,r){return e&&nze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sze(t,e,r){return e=Ov(e),oze(t,D8()?Reflect.construct(e,r||[],Ov(t).constructor):e.apply(t,r))}function oze(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ize(t)}function ize(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D8=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}function lze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mI(t,e)}function mI(t,e){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mI(t,e)}function Zc(t){return dze(t)||uze(t)||_8(t)||cze()}function cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8(t,e){if(t){if(typeof t=="string")return hI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(t,e)}}function uze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dze(t){if(Array.isArray(t))return hI(t)}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=$8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $8(t){var e=fze(t,"string");return Xc(e)=="symbol"?e:e+""}function fze(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mze={xAxis:["bottom","top"],yAxis:["left","right"]},hze={width:"100%",height:"100%"},R8={x:0,y:0};function op(t){return t}var pze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},gze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return re(re(re({},a),vt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return re(re(re({},a),vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return R8},Pw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Zc(l),Zc(u)):l},[]);return i.length>0?i:e&&e.length&&be(a)&&be(s)?e.slice(a,s+1):[]};function M8(t){return t==="number"?[0,"auto"]:void 0}var pI=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Pw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=YA(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(Zc(c),[q5e(u,m)]):c},[])},MF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=pze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=S5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=pI(e,r,d,f),h=gze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},yze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=U7(d,s);return n.reduce(function(p,b){var g,x=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,y=x.type,w=x.dataKey,S=x.allowDataOverflow,C=x.allowDuplicatedCategory,j=x.scale,N=x.ticks,A=x.includeHidden,T=x[i];if(p[T])return p;var k=Pw(e.data,{graphicalItems:a.filter(function(W){var ee,fe=i in W.props?W.props[i]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[i];return fe===T}),dataStartIndex:c,dataEndIndex:u}),E=k.length,P,M,R;UUe(x.domain,S,y)&&(P=Rk(x.domain,null,S),h&&(y==="number"||j!=="auto")&&(R=Jd(k,w,"category")));var $=M8(y);if(!P||P.length===0){var B,U=(B=x.domain)!==null&&B!==void 0?B:$;if(w){if(P=Jd(k,w,y),y==="category"&&h){var D=pAe(P);C&&D?(M=P,P=Sv(0,E)):C||(P=xL(U,P,b).reduce(function(W,ee){return W.indexOf(ee)>=0?W:[].concat(Zc(W),[ee])},[]))}else if(y==="category")C?P=P.filter(function(W){return W!==""&&!Ye(W)}):P=xL(U,P,b).reduce(function(W,ee){return W.indexOf(ee)>=0||ee===""||Ye(ee)?W:[].concat(Zc(W),[ee])},[]);else if(y==="number"){var _=E5e(k,a.filter(function(W){var ee,fe,ke=i in W.props?W.props[i]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[i],ne="hide"in W.props?W.props.hide:(fe=W.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ke===T&&(A||!ne)}),w,s,d);_&&(P=_)}h&&(y==="number"||j!=="auto")&&(R=Jd(k,w,"category"))}else h?P=Sv(0,E):l&&l[T]&&l[T].hasStack&&y==="number"?P=m==="expand"?[0,1]:z7(l[T].stackGroups,c,u):P=V7(k,a.filter(function(W){var ee=i in W.props?W.props[i]:W.type.defaultProps[i],fe="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return ee===T&&(A||!fe)}),y,d,!0);if(y==="number")P=fI(f,P,T,s,N),U&&(P=Rk(U,P,S));else if(y==="category"&&U){var F=U,H=P.every(function(W){return F.indexOf(W)>=0});H&&(P=F)}}return re(re({},p),{},Pe({},T,re(re({},x),{},{axisType:s,domain:P,categoricalDomain:R,duplicateDomain:M,originalDomain:(g=x.domain)!==null&&g!==void 0?g:$,isCategorical:h,layout:d})))},{})},bze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Pw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=U7(d,s),b=-1;return n.reduce(function(g,x){var y=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,w=y[i],S=M8("number");if(!g[w]){b++;var C;return p?C=Sv(0,h):l&&l[w]&&l[w].hasStack?(C=z7(l[w].stackGroups,c,u),C=fI(f,C,w,s)):(C=Rk(S,V7(m,n.filter(function(j){var N,A,T=i in j.props?j.props[i]:(N=j.type.defaultProps)===null||N===void 0?void 0:N[i],k="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===w&&!k}),"number",d),a.defaultProps.allowDataOverflow),C=fI(f,C,w,s)),re(re({},g),{},Pe({},w,re(re({axisType:s},a.defaultProps),{},{hide:!0,orientation:ha(mze,"".concat(s,".").concat(b%2),null),domain:C,originalDomain:S,isCategorical:p,layout:d})))}return g},{})},xze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Ma(d,s),h={};return m&&m.length?h=yze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=bze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},vze=function(e){var r=El(e),n=hd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Mk(r,n)}},LF=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ln(r,Gc),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},jze=function(e){return!e||!e.length?!1:e.some(function(r){var n=xs(r&&r.type);return n&&n.indexOf("Bar")>=0})},FF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Ln(f,Gc),p=Ln(f,La),b=Object.keys(c).reduce(function(C,j){var N=c[j],A=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Pe({},A,C[A]+N.width)):C},{left:m.left||0,right:m.right||0}),g=Object.keys(i).reduce(function(C,j){var N=i[j],A=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Pe({},A,ha(C,"".concat(A))+N.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=re(re({},g),b),y=x.bottom;h&&(x.bottom+=h.props.height||Gc.defaultProps.height),p&&r&&(x=I5e(x,a,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return re(re({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},Cze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Nze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(x,y){var w=y.graphicalItems,S=y.stackGroups,C=y.offset,j=y.updateId,N=y.dataStartIndex,A=y.dataEndIndex,T=x.barSize,k=x.layout,E=x.barGap,P=x.barCategoryGap,M=x.maxBarSize,R=FF(k),$=R.numericAxisName,B=R.cateAxisName,U=jze(w),D=[];return w.forEach(function(_,F){var H=Pw(x.data,{graphicalItems:[_],dataStartIndex:N,dataEndIndex:A}),W=_.type.defaultProps!==void 0?re(re({},_.type.defaultProps),_.props):_.props,ee=W.dataKey,fe=W.maxBarSize,ke=W["".concat($,"Id")],ne=W["".concat(B,"Id")],J={},le=c.reduce(function(Dn,X){var Y=y["".concat(X.axisType,"Map")],de=W["".concat(X.axisType,"Id")];Y&&Y[de]||X.axisType==="zAxis"||Bc();var ue=Y[de];return re(re({},Dn),{},Pe(Pe({},X.axisType,ue),"".concat(X.axisType,"Ticks"),hd(ue)))},J),Z=le[B],te=le["".concat(B,"Ticks")],G=S&&S[ke]&&S[ke].hasStack&&F5e(_,S[ke].stackGroups),z=xs(_.type).indexOf("Bar")>=0,me=Mk(Z,te),xe=[],Te=U&&A5e({barSize:T,stackGroups:S,totalSize:Cze(le,B)});if(z){var Ne,cr,On=Ye(fe)?M:fe,Pn=(Ne=(cr=Mk(Z,te,!0))!==null&&cr!==void 0?cr:On)!==null&&Ne!==void 0?Ne:0;xe=k5e({barGap:E,barCategoryGap:P,bandSize:Pn!==me?Pn:me,sizeList:Te[ne],maxBarSize:On}),Pn!==me&&(xe=xe.map(function(Dn){return re(re({},Dn),{},{position:re(re({},Dn.position),{},{offset:Dn.position.offset-Pn/2})})}))}var qs=_&&_.type&&_.type.getComposedData;qs&&D.push({props:re(re({},qs(re(re({},le),{},{displayedData:H,props:x,dataKey:ee,item:_,bandSize:me,barPosition:xe,offset:C,stackedData:G,layout:k,dataStartIndex:N,dataEndIndex:A}))),{},Pe(Pe(Pe({key:_.key||"item-".concat(F)},$,le[$]),B,le[B]),"animationId",j)),childIndex:AAe(_,x.children),item:_})}),D},h=function(x,y){var w=x.props,S=x.dataStartIndex,C=x.dataEndIndex,j=x.updateId;if(!mR({props:w}))return null;var N=w.children,A=w.layout,T=w.stackOffset,k=w.data,E=w.reverseStackOrder,P=FF(A),M=P.numericAxisName,R=P.cateAxisName,$=Ma(N,n),B=M5e(k,$,"".concat(M,"Id"),"".concat(R,"Id"),T,E),U=c.reduce(function(W,ee){var fe="".concat(ee.axisType,"Map");return re(re({},W),{},Pe({},fe,xze(w,re(re({},ee),{},{graphicalItems:$,stackGroups:ee.axisType===M&&B,dataStartIndex:S,dataEndIndex:C}))))},{}),D=wze(re(re({},U),{},{props:w,graphicalItems:$}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(w,U[W],D,W.replace("Map",""),r)});var _=U["".concat(R,"Map")],F=vze(_),H=m(w,re(re({},U),{},{dataStartIndex:S,dataEndIndex:C,updateId:j,graphicalItems:$,stackGroups:B,offset:D}));return re(re({formattedGraphicalItems:H,graphicalItems:$,offset:D,stackGroups:B},F),U)},p=function(g){function x(y){var w,S,C;return rze(this,x),C=sze(this,x,[y]),Pe(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(C,"accessibilityManager",new VUe),Pe(C,"handleLegendBBoxUpdate",function(j){if(j){var N=C.state,A=N.dataStartIndex,T=N.dataEndIndex,k=N.updateId;C.setState(re({legendBBox:j},h({props:C.props,dataStartIndex:A,dataEndIndex:T,updateId:k},re(re({},C.state),{},{legendBBox:j}))))}}),Pe(C,"handleReceiveSyncEvent",function(j,N,A){if(C.props.syncId===j){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),Pe(C,"handleBrushChange",function(j){var N=j.startIndex,A=j.endIndex;if(N!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return re({dataStartIndex:N,dataEndIndex:A},h({props:C.props,dataStartIndex:N,dataEndIndex:A,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:A})}}),Pe(C,"handleMouseEnter",function(j){var N=C.getMouseInfo(j);if(N){var A=re(re({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var T=C.props.onMouseEnter;Ue(T)&&T(A,j)}}),Pe(C,"triggeredAfterMouseMove",function(j){var N=C.getMouseInfo(j),A=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var T=C.props.onMouseMove;Ue(T)&&T(A,j)}),Pe(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Pe(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Pe(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),Pe(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var A=C.props.onMouseLeave;Ue(A)&&A(N,j)}),Pe(C,"handleOuterEvent",function(j){var N=SAe(j),A=ha(C.props,"".concat(N));if(N&&Ue(A)){var T,k;/.*touch.*/i.test(N)?k=C.getMouseInfo(j.changedTouches[0]):k=C.getMouseInfo(j),A((T=k)!==null&&T!==void 0?T:{},j)}}),Pe(C,"handleClick",function(j){var N=C.getMouseInfo(j);if(N){var A=re(re({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var T=C.props.onClick;Ue(T)&&T(A,j)}}),Pe(C,"handleMouseDown",function(j){var N=C.props.onMouseDown;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Pe(C,"handleMouseUp",function(j){var N=C.props.onMouseUp;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Pe(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Pe(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),Pe(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),Pe(C,"handleDoubleClick",function(j){var N=C.props.onDoubleClick;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Pe(C,"handleContextMenu",function(j){var N=C.props.onContextMenu;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Pe(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&Y1.emit(K1,C.props.syncId,j,C.eventEmitterSymbol)}),Pe(C,"applySyncEvent",function(j){var N=C.props,A=N.layout,T=N.syncMethod,k=C.state.updateId,E=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(re({dataStartIndex:E,dataEndIndex:P},h({props:C.props,dataStartIndex:E,dataEndIndex:P,updateId:k},C.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,R=j.chartY,$=j.activeTooltipIndex,B=C.state,U=B.offset,D=B.tooltipTicks;if(!U)return;if(typeof T=="function")$=T(D,j);else if(T==="value"){$=-1;for(var _=0;_<D.length;_++)if(D[_].value===j.activeLabel){$=_;break}}var F=re(re({},U),{},{x:U.left,y:U.top}),H=Math.min(M,F.x+F.width),W=Math.min(R,F.y+F.height),ee=D[$]&&D[$].value,fe=pI(C.state,C.props.data,$),ke=D[$]?{x:A==="horizontal"?D[$].coordinate:H,y:A==="horizontal"?W:D[$].coordinate}:R8;C.setState(re(re({},j),{},{activeLabel:ee,activeCoordinate:ke,activePayload:fe,activeTooltipIndex:$}))}else C.setState(j)}),Pe(C,"renderCursor",function(j){var N,A=C.state,T=A.isTooltipActive,k=A.activeCoordinate,E=A.activePayload,P=A.offset,M=A.activeTooltipIndex,R=A.tooltipAxisBandSize,$=C.getTooltipEventType(),B=(N=j.props.active)!==null&&N!==void 0?N:T,U=C.props.layout,D=j.key||"_recharts-cursor";return V.createElement(KUe,{key:D,activeCoordinate:k,activePayload:E,activeTooltipIndex:M,chartName:r,element:j,isActive:B,layout:U,offset:P,tooltipAxisBandSize:R,tooltipEventType:$})}),Pe(C,"renderPolarAxis",function(j,N,A){var T=ha(j,"type.axisType"),k=ha(C.state,"".concat(T,"Map")),E=j.type.defaultProps,P=E!==void 0?re(re({},E),j.props):j.props,M=k&&k[P["".concat(T,"Id")]];return v.cloneElement(j,re(re({},M),{},{className:Re(T,M.className),key:j.key||"".concat(N,"-").concat(A),ticks:hd(M,!0)}))}),Pe(C,"renderPolarGrid",function(j){var N=j.props,A=N.radialLines,T=N.polarAngles,k=N.polarRadius,E=C.state,P=E.radiusAxisMap,M=E.angleAxisMap,R=El(P),$=El(M),B=$.cx,U=$.cy,D=$.innerRadius,_=$.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(T)?T:hd($,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(k)?k:hd(R,!0).map(function(F){return F.coordinate}),cx:B,cy:U,innerRadius:D,outerRadius:_,key:j.key||"polar-grid",radialLines:A})}),Pe(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,N=C.props,A=N.children,T=N.width,k=N.height,E=C.props.margin||{},P=T-(E.left||0)-(E.right||0),M=B7({children:A,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!M)return null;var R=M.item,$=$F(M,JUe);return v.cloneElement(R,re(re({},$),{},{chartWidth:T,chartHeight:k,margin:E,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Pe(C,"renderTooltip",function(){var j,N=C.props,A=N.children,T=N.accessibilityLayer,k=Ln(A,Za);if(!k)return null;var E=C.state,P=E.isTooltipActive,M=E.activeCoordinate,R=E.activePayload,$=E.activeLabel,B=E.offset,U=(j=k.props.active)!==null&&j!==void 0?j:P;return v.cloneElement(k,{viewBox:re(re({},B),{},{x:B.left,y:B.top}),active:U,label:$,payload:U?R:[],coordinate:M,accessibilityLayer:T})}),Pe(C,"renderBrush",function(j){var N=C.props,A=N.margin,T=N.data,k=C.state,E=k.offset,P=k.dataStartIndex,M=k.dataEndIndex,R=k.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:ep(C.handleBrushChange,j.props.onChange),data:T,x:be(j.props.x)?j.props.x:E.left,y:be(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(A.bottom||0),width:be(j.props.width)?j.props.width:E.width,startIndex:P,endIndex:M,updateId:"brush-".concat(R)})}),Pe(C,"renderReferenceElement",function(j,N,A){if(!j)return null;var T=C,k=T.clipPathId,E=C.state,P=E.xAxisMap,M=E.yAxisMap,R=E.offset,$=j.type.defaultProps||{},B=j.props,U=B.xAxisId,D=U===void 0?$.xAxisId:U,_=B.yAxisId,F=_===void 0?$.yAxisId:_;return v.cloneElement(j,{key:j.key||"".concat(N,"-").concat(A),xAxis:P[D],yAxis:M[F],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),Pe(C,"renderActivePoints",function(j){var N=j.item,A=j.activePoint,T=j.basePoint,k=j.childIndex,E=j.isRange,P=[],M=N.props.key,R=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,$=R.activeDot,B=R.dataKey,U=re(re({index:k,dataKey:B,cx:A.x,cy:A.y,r:4,fill:OO(N.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ve($,!1)),qx($));return P.push(x.renderActiveDot($,U,"".concat(M,"-activePoint-").concat(k))),T?P.push(x.renderActiveDot($,re(re({},U),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(k))):E&&P.push(null),P}),Pe(C,"renderGraphicChild",function(j,N,A){var T=C.filterFormatItem(j,N,A);if(!T)return null;var k=C.getTooltipEventType(),E=C.state,P=E.isTooltipActive,M=E.tooltipAxis,R=E.activeTooltipIndex,$=E.activeLabel,B=C.props.children,U=Ln(B,Za),D=T.props,_=D.points,F=D.isRange,H=D.baseLine,W=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,ee=W.activeDot,fe=W.hide,ke=W.activeBar,ne=W.activeShape,J=!!(!fe&&P&&U&&(ee||ke||ne)),le={};k!=="axis"&&U&&U.props.trigger==="click"?le={onClick:ep(C.handleItemMouseEnter,j.props.onClick)}:k!=="axis"&&(le={onMouseLeave:ep(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:ep(C.handleItemMouseEnter,j.props.onMouseEnter)});var Z=v.cloneElement(j,re(re({},T.props),le));function te(X){return typeof M.dataKey=="function"?M.dataKey(X.payload):null}if(J)if(R>=0){var G,z;if(M.dataKey&&!M.allowDuplicatedCategory){var me=typeof M.dataKey=="function"?te:"payload.".concat(M.dataKey.toString());G=YA(_,me,$),z=F&&H&&YA(H,me,$)}else G=_==null?void 0:_[R],z=F&&H&&H[R];if(ne||ke){var xe=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[v.cloneElement(j,re(re(re({},T.props),le),{},{activeIndex:xe})),null,null]}if(!Ye(G))return[Z].concat(Zc(C.renderActivePoints({item:T,activePoint:G,basePoint:z,childIndex:R,isRange:F})))}else{var Te,Ne=(Te=C.getItemByXY(C.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:Z},cr=Ne.graphicalItem,On=cr.item,Pn=On===void 0?j:On,qs=cr.childIndex,Dn=re(re(re({},T.props),le),{},{activeIndex:qs});return[v.cloneElement(Pn,Dn),null,null]}return F?[Z,null,null]:[Z,null]}),Pe(C,"renderCustomized",function(j,N,A){return v.cloneElement(j,re(re({key:"recharts-customized-".concat(A)},C.props),C.state))}),Pe(C,"renderMap",{CartesianGrid:{handler:op,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:op},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:op},YAxis:{handler:op},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:ew("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Fz(C.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return lze(x,g),aze(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,C=w.data,j=w.height,N=w.layout,A=Ln(S,Za);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,E=pI(this.state,C,T,k),P=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+j)/2,R=N==="horizontal",$=R?{x:P,y:M}:{y:P,x:M},B=this.state.formattedGraphicalItems.find(function(D){var _=D.item;return _.type.name==="Scatter"});B&&($=re(re({},$),B.props.points[T].tooltipPosition),E=B.props.points[T].tooltipPayload);var U={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:k,activePayload:E,activeCoordinate:$};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){XA([Ln(w.children,Za)],[Ln(this.props.children,Za)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ln(this.props.children,Za);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),j=Q$e(C),N={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},A=C.width/S.offsetWidth||1,T=this.inRange(N.chartX,N.chartY,A);if(!T)return null;var k=this.state,E=k.xAxisMap,P=k.yAxisMap,M=this.getTooltipEventType(),R=MF(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&E&&P){var $=El(E).scale,B=El(P).scale,U=$&&$.invert?$.invert(N.chartX):null,D=B&&B.invert?B.invert(N.chartY):null;return re(re({},N),{},{xValue:U,yValue:D},R)}return R?re(re({},N),R):null}},{key:"inRange",value:function(w,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=w/C,A=S/C;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,k=N>=T.left&&N<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return k?{x:N,y:A}:null}var E=this.state,P=E.angleAxisMap,M=E.radiusAxisMap;if(P&&M){var R=El(P);return wL({x:N,y:A},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),C=Ln(w,Za),j={};C&&S==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=qx(this.props,this.handleOuterEvent);return re(re({},N),j)}},{key:"addListener",value:function(){Y1.on(K1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y1.removeListener(K1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,C){for(var j=this.state.formattedGraphicalItems,N=0,A=j.length;N<A;N++){var T=j[N];if(T.item===w||T.props.key===w.key||S===xs(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,C=S.left,j=S.top,N=S.height,A=S.width;return V.createElement("defs",null,V.createElement("clipPath",{id:w},V.createElement("rect",{x:C,y:j,height:N,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=_F(C,2),N=j[0],A=j[1];return re(re({},S),{},Pe({},N,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=_F(C,2),N=j[0],A=j[1];return re(re({},S),{},Pe({},N,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,C=S.formattedGraphicalItems,j=S.activeItem;if(C&&C.length)for(var N=0,A=C.length;N<A;N++){var T=C[N],k=T.props,E=T.item,P=E.type.defaultProps!==void 0?re(re({},E.type.defaultProps),E.props):E.props,M=xs(E.type);if(M==="Bar"){var R=(k.data||[]).find(function(D){return R3e(w,D)});if(R)return{graphicalItem:T,payload:R}}else if(M==="RadialBar"){var $=(k.data||[]).find(function(D){return wL(w,D)});if($)return{graphicalItem:T,payload:$}}else if(Aw(T,j)||kw(T,j)||hm(T,j)){var B=A6e({graphicalItem:T,activeTooltipItem:j,itemData:P.data}),U=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:re(re({},T),{},{childIndex:U}),payload:hm(T,j)?P.data[B]:T.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!mR(this))return null;var S=this.props,C=S.children,j=S.className,N=S.width,A=S.height,T=S.style,k=S.compact,E=S.title,P=S.desc,M=$F(S,XUe),R=Ve(M,!1);if(k)return V.createElement(NF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(QA,Gl({},R,{width:N,height:A,title:E,desc:P}),this.renderClipPath(),pR(C,this.renderMap)));if(this.props.accessibilityLayer){var $,B;R.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,R.role=(B=this.props.role)!==null&&B!==void 0?B:"application",R.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},R.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(NF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Gl({className:Re("recharts-wrapper",j),style:re({position:"relative",cursor:"default",width:N,height:A},T)},U,{ref:function(_){w.container=_}}),V.createElement(QA,Gl({},R,{width:N,height:A,title:E,desc:P,style:hze}),this.renderClipPath(),pR(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Pe(p,"displayName",r),Pe(p,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pe(p,"getDerivedStateFromProps",function(g,x){var y=g.dataKey,w=g.data,S=g.children,C=g.width,j=g.height,N=g.layout,A=g.stackOffset,T=g.margin,k=x.dataStartIndex,E=x.dataEndIndex;if(x.updateId===void 0){var P=LF(g);return re(re(re({},P),{},{updateId:0},h(re(re({props:g},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:A,prevMargin:T,prevChildren:S})}if(y!==x.prevDataKey||w!==x.prevData||C!==x.prevWidth||j!==x.prevHeight||N!==x.prevLayout||A!==x.prevStackOffset||!KA(T,x.prevMargin)){var M=LF(g),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},$=re(re({},MF(x,w,N)),{},{updateId:x.updateId+1}),B=re(re(re({},M),R),$);return re(re(re({},B),h(re({props:g},B),x)),{},{prevDataKey:y,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:A,prevMargin:T,prevChildren:S})}if(!XA(S,x.prevChildren)){var U,D,_,F,H=Ln(S,Gc),W=H&&(U=(D=H.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:k,ee=H&&(_=(F=H.props)===null||F===void 0?void 0:F.endIndex)!==null&&_!==void 0?_:E,fe=W!==k||ee!==E,ke=!Ye(w),ne=ke&&!fe?x.updateId:x.updateId+1;return re(re({updateId:ne},h(re(re({props:g},x),{},{updateId:ne,dataStartIndex:W,dataEndIndex:ee}),x)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:ee})}return null}),Pe(p,"renderActiveDot",function(g,x,y){var w;return v.isValidElement(g)?w=v.cloneElement(g,x):Ue(g)?w=g(x):w=V.createElement(DO,x),V.createElement(Ut,{className:"recharts-active-dot",key:y},w)});var b=v.forwardRef(function(x,y){return V.createElement(p,Gl({},x,{ref:y}))});return b.displayName=p.displayName,b},Dw=Nze({chartName:"PieChart",GraphicalChild:Zn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sw},{axisType:"radiusAxis",AxisComp:Cw}],formatAxisMap:J5e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const BF=["#0088FE","#FF8042"];function Sze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(uw,{width:"100%",height:"100%",children:o.jsxs(Dw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Zn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(bu,{fill:BF[r%BF.length]},`cell-${r}`))}),o.jsx(La,{})]})})]})]})}const qF=["#0088FE","#FF8042","#00C49F"];function Aze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(uw,{width:"100%",height:"100%",children:o.jsxs(Dw,{children:[o.jsx(Zn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(bu,{fill:qF[r%qF.length]},`cell-${r}`))}),o.jsx(La,{})]})})]})]})}function kze(){const t=se(),[e,r]=v.useState(""),[n,a]=v.useState([]),[s,i]=v.useState(""),[l,c]=v.useState({chart1:[],chart2:[],table:[]}),[u,d]=v.useState(!1),{departments:f,isLoading:m}=q(b=>b.departments);v.useEffect(()=>{t(er())},[]),v.useEffect(()=>{e?(d(!0),SCe(e==="All"?"":e).then(b=>{const g=(b==null?void 0:b.data)||[];a(g.map(x=>({value:x.ID,label:x.Name,...x})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const h=b=>{const g=n.find(k=>k.value===Number(b));if(!g)return;const x=parseFloat(g.Appropriation||0),y=parseFloat(g.Supplemental||0),w=parseFloat(g.Transfer||0),S=parseFloat(g.Charges||0),C=parseFloat(g.PreEncumbrance||0),j=parseFloat(g.Encumbrance||0),A=[{name:"Budget Amount",value:x+y+w-S},{name:"Charges",value:S}],T=[{name:"PreEncumbrance",value:C},{name:"Encumbrance",value:j},{name:"Charges",value:S}];c(k=>({...k,chart1:A,chart2:T})),d(!0),ACe(b).then(k=>{const E=(k==null?void 0:k.data)||[];c(P=>({...P,table:E}))}).finally(()=>d(!1))},p=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Department",name:"Department",type:"select",value:e,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;r(g),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:b=>{console.log("e.target.value",b.target.value),i(b.target.value),h(b.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Sze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(Aze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:p,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const VF=["#0088FE","#00C49F","#FF8042"],UF=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function Ize(){const[t,e]=v.useState("year"),[r,n]=v.useState(""),[a,s]=v.useState("year"),[i,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[m,h]=v.useState({disbursement:[],obligation:[],travel:[]}),p=se(),{departments:b}=q(g=>g.departments);return v.useEffect(()=>{p(er())},[]),v.useEffect(()=>{(async()=>{var x,y;try{const[w,S]=await Promise.all([Z$(t,"Obligation Request",r==="All"?"":r),Z$(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((x=w==null?void 0:w.data)==null?void 0:x.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((y=S==null?void 0:S.data)==null?void 0:y.total)||0).toLocaleString()}`)}catch(w){console.error("Error loading disbursement amounts:",w),Ie.error("Failed to load disbursement amounts")}})()},[t,r]),v.useEffect(()=>{(async()=>{try{const x=i==="All"?"":i,[y,w,S]=await Promise.all([kCe(a,x),ICe(a,x),TCe(a,x)]);h({obligation:(y==null?void 0:y.data)||[],travel:(w==null?void 0:w.data)||[],disbursement:(S==null?void 0:S.data)||[]})}catch(x){console.error("Error loading chart data:",x),Ie.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:t,onChange:g=>e(g.target.value),options:UF}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;n(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:a,onChange:g=>s(g.target.value),options:UF}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;l(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[X1("Disbursement",[m==null?void 0:m.disbursement]),X1("Obligation",[m==null?void 0:m.obligation]),X1("Travel",[m==null?void 0:m.travel])]})]})}const X1=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(uw,{width:"100%",height:"100%",children:o.jsxs(Dw,{children:[o.jsx(Zn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(bu,{fill:VF[n%VF.length]},n))}),o.jsx(La,{})]})})})]}),zF=["#0088FE","#FF8042","#00C49F"];function ip({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(uw,{width:"100%",height:"100%",children:o.jsxs(Dw,{children:[o.jsx(Zn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(bu,{fill:zF[n%zF.length]},n))}),o.jsx(La,{})]})})})]})}function Tze(){const[t,e]=v.useState("day"),[r,n]=v.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState([]);v.useEffect(()=>{(async()=>{try{const[p,b,g,x,y]=await Promise.all([ECe(t),OCe(),PCe(),DCe(),_Ce()]),w=(p==null?void 0:p.data)||{};n({general:parseFloat(w.General||0),marriage:parseFloat(w.Marriage||0),burial:parseFloat(w.Burial||0),cedula:parseFloat(w.Cedula||0)}),s(m(b.data)),l(m(g.data)),u(m(x.data)),f(m(y.data))}catch(p){console.error(p),Ie.error("Failed to load collection data")}})()},[t]);const m=(h=[])=>h.map(p=>({name:p.date||"Unknown",value:parseFloat(p.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(ip,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(I,{label:"Select View",type:"select",value:t,onChange:h=>e(h.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(ip,{title:"General Service Invoice",data:a}),o.jsx(ip,{title:"Marriage Service Invoice",data:i}),o.jsx(ip,{title:"Burial Service Invoice",data:c})]})]})}const Qm="https://staging-engine.testthelink.online",Eze=[],gc=L("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${Qm}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Z1=L("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${Qm}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Db=L("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.post(`${Qm}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Q1=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Xe.put(`${Qm}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),_b=L("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Xe.delete(`${Qm}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),L8=ye({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Eze}).addCase(Z1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Z1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(Z1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(Q1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Q1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(Q1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:z8e,clearCurrentReceipt:W8e}=L8.actions,Oze=L8.reducer,Pze="https://staging-engine.testthelink.online",Dze=ie().shape({Status:O().required("Status is required"),InvoiceNumber:O().required("Invoice number is required"),InvoiceDate:Me().required("Date is required"),FundsID:K().required("Fund is required"),Agency:O().required("Agency is required"),PaymentMethodID:K().required("Payment method is required"),Total:K().required("Total amount is required"),CustomerID:K().required("Customer is required"),CustomerName:O().required("Customer name is required"),Remarks:O(),TransactionItemsAll:Sr().of(ie().shape({ItemID:K().required("Item ID is required"),ChargeAccountID:K().required("Charges account is required"),Quantity:K().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:K().required("Price is required").min(0,"Price cannot be negative"),Vatable:Qi()})).min(1,"At least one item is required")});function _ze({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=v.useState("Individual"),[i,l]=v.useState(!1),{customers:c}=q(N=>N.customers),{vendorDetails:u}=q(N=>N.vendorDetails),{funds:d}=q(N=>N.funds),{items:f}=q(N=>N.items),{budgets:m}=q(N=>N.budget),h=se();v.useEffect(()=>{h(vn()),h(ps()),h(Ht()),h(gs()),h(ko())},[h]);const p=u==null?void 0:u.map(N=>({value:N.ID,label:N.Name})),b=c==null?void 0:c.map(N=>({value:N.ID,label:N.Name})),g=d==null?void 0:d.map(N=>({value:N.ID,label:N.Name})),x=f==null?void 0:f.map(N=>({value:N.ID,label:N.Name})),y=m==null?void 0:m.map(N=>({value:N.ID,label:N.Name})),w={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[]};console.log("initialValues",w);const S=(N,A,T)=>{const E=Array.from(N.target.files).map(P=>P);A("Attachments",[...T.Attachments,...E])},C=(N,A,T)=>{const k=[...T.Attachments];k.splice(N,1),A("Attachments",k)},j=async(N,{setSubmitting:A})=>{const T=new FormData;for(const k in N)if(k!=="Attachments"){const E=typeof N[k]=="object"?JSON.stringify(N[k]):N[k];k==="TransactionItemsAll"?T.append("Items",E):T.append(k,E)}N==null||N.Attachments.forEach((k,E)=>{k.ID?T.append(`Attachments[${E}].ID`,k.ID):T.append(`Attachments[${E}].File`,k)}),r?(T.append("IsNew","false"),T.append("LinkID",r.LinkID),T.append("ID",r.ID)):T.append("IsNew","true"),console.log("Form Data:",N);try{await n(T),console.log("Form submitted with values:",T)}catch(k){console.error("Error submitting form:",k)}finally{e(),A(!1)}};return o.jsxs(ae,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:w,validationSchema:Dze,onSubmit:j,enableReinitialize:!0,children:({values:N,setFieldValue:A,handleChange:T,handleBlur:k,isSubmitting:E,errors:P,touched:M,submitCount:R,isValid:$})=>o.jsxs(Fe,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),N.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:N.Attachments.map((B,U)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:B.ID?o.jsx("a",{href:`${Pze}/uploads/${B.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:B.name||B.DataName}):B.name||B.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(U,A,N),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},U))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N==null?void 0:N.Status.toUpperCase()})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:T,value:N.InvoiceNumber,error:P.InvoiceNumber,touched:M.InvoiceNumber})]}),o.jsx(I,{label:"Date",name:"InvoiceDate",type:"date",onChange:T,value:N.InvoiceDate,required:!0,error:P.InvoiceDate&&M.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:T,value:N.Agency,error:P.Agency,touched:M.Agency}),o.jsx(I,{label:"Fund",name:"FundsID",type:"select",options:g,required:!0,onChange:T,value:N.FundsID,error:P.FundsID,touched:M.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),A("PayorType","Individual"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),A("PayorType","Corporation"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(Pt,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?b:p,required:!0,placeholder:"Select Payor",onSelect:B=>{const U=a==="Individual"?b.find(D=>D.value===B):p.find(D=>D.value===B);A("CustomerName",(U==null?void 0:U.label)||""),A("CustomerID",(U==null?void 0:U.value)||"")},selectedValue:N.CustomerID,error:P.CustomerName,touched:M.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Jr,{name:"TransactionItemsAll",children:({push:B,remove:U})=>o.jsxs("div",{className:"space-y-4",children:[N.TransactionItemsAll.map((D,_)=>{var F,H,W,ee,fe,ke,ne,J,le,Z,te,G,z,me,xe,Te;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[(()=>{console.log(D)})(),o.jsx(I,{label:"Item ID",name:`TransactionItemsAll.${_}.ItemID`,type:"select",options:x,required:!0,value:D.ItemID,onChange:T,onBlur:k,error:(H=(F=P.TransactionItemsAll)==null?void 0:F[_])==null?void 0:H.ItemID,touched:(ee=(W=M.TransactionItemsAll)==null?void 0:W[_])==null?void 0:ee.ItemID}),o.jsx(I,{label:"Account",name:`TransactionItemsAll.${_}.ChargeAccountID`,type:"select",options:y,required:!0,value:D.ChargeAccountID,onChange:T,onBlur:k,error:(ke=(fe=P.TransactionItemsAll)==null?void 0:fe[_])==null?void 0:ke.ChargeAccountID,touched:(J=(ne=M.TransactionItemsAll)==null?void 0:ne[_])==null?void 0:J.ChargeAccountID}),o.jsx(I,{label:"Qty",name:`TransactionItemsAll.${_}.Quantity`,type:"number",required:!0,min:"1",value:D.Quantity,onChange:T,onBlur:k,error:(Z=(le=P.TransactionItemsAll)==null?void 0:le[_])==null?void 0:Z.Quantity,touched:(G=(te=M.TransactionItemsAll)==null?void 0:te[_])==null?void 0:G.Quantity}),o.jsx(I,{label:"Price",name:`TransactionItemsAll.${_}.Price`,type:"number",required:!0,min:"0",value:D.Price,onChange:T,onBlur:k,error:(me=(z=P.TransactionItemsAll)==null?void 0:z[_])==null?void 0:me.Price,touched:(Te=(xe=M.TransactionItemsAll)==null?void 0:xe[_])==null?void 0:Te.Price}),o.jsx("div",{className:"flex items-center",children:o.jsx(I,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${_}.Vatable`,name:`TransactionItemsAll.${_}.Vatable`,checked:D.Vatable,onChange:()=>A(`TransactionItemsAll.${_}.Vatable`,!D.Vatable),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(D.Quantity*D.Price).toFixed(2)]}),_>0&&o.jsx("button",{type:"button",onClick:()=>U(_),className:"text-red-500 hover:text-red-700",children:o.jsx(Wde,{})})]})]},_)}),o.jsx("button",{type:"button",onClick:()=>B({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N.TransactionItemsAll.reduce((B,U)=>B+U.Quantity*U.Price,0).toFixed(2)})]}),o.jsx(I,{label:"Amount in Words",name:"amountInWords",type:"text",value:Li(N.TransactionItemsAll.reduce((B,U)=>B+U.Quantity*U.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((B,U)=>o.jsx("button",{type:"button",onClick:()=>A("PaymentMethodID",B.value),className:`px-4 py-2 text-sm font-medium border ${N.PaymentMethodID===B.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${U===0?"rounded-l-md":U===3?"rounded-r-md":"border-l-0"}`,children:B.label},B.value))})]}),N.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Check Number",name:"CheckNumber",type:"text",value:N.CheckNumber,onChange:T,error:P.CheckNumber&&M.CheckNumber}),o.jsx(I,{label:"Bank",name:"PayeeBank",type:"text",value:N.PayeeBank,onChange:T}),o.jsx(I,{label:"Check Date",name:"CheckDate",type:"date",value:N.CheckDate,onChange:T,error:P.CheckDate&&M.CheckDate})]}),N.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:N.MoneyOrder,onChange:T,error:P.MoneyOrder&&M.MoneyOrder}),o.jsx(I,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:N.MoneyOrderDate,onChange:T,error:P.MoneyOrderDate&&M.MoneyOrderDate})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:N.Remarks,onChange:T,rows:2,error:P.Remarks&&M.Remarks})]}),i&&o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(el,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:B=>{S(B,A,N),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E||!$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:E?"Saving...":"Save"})]}),R>0&&Object.keys(P).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(P).map(([B,U])=>o.jsx("li",{children:U},B))})]})]})})]})}function $ze(){const t=se(),{receipts:e,isLoading:r}=q(C=>C.generalReceipts),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(gc())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=C=>{d(C),i(!0)},h=C=>{d(C),c(!0)},p=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},g=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),x=async C=>{try{await t(_b(C.ID)).unwrap(),t(gc()),Ie.success("Receipt deleted successfully.")}catch(j){console.error("Error deleting receipt:",j),Ie.error("Failed to delete receipt.")}},y=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:C=>o.jsx("div",{className:"flex items-center gap-1",children:C})},{key:"Status",header:"Status",sortable:!0,render:C=>o.jsx("span",{className:`px-2 py-1 rounded ${C==="Posted"?"bg-green-100 text-green-800":C==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:C=>g(C),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:C=>C||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:C=>({1:"General Fund",2:"Special Education Fund"})[C]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:C=>C||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:C=>C||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:C=>C||""}],w=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=async C=>{if(C)try{const j=await t(Db(C)).unwrap();console.log("Operation successful:",j,C),t(gc()),Ie.success("Receipt saved successfully.")}catch(j){console.error("Submission failed:",j),Ie.error(j.message||"Failed to save receipt")}finally{b()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:w,loading:r,onRowClick:m})}),o.jsx(_ze,{isOpen:l,onClose:b,selectedReceipt:u,onSubmit:S}),o.jsx(ae,{isOpen:s,onClose:p,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:g(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:p,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}const WF=()=>{const[t,e]=v.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(p=>p.id!==f))},u=(f,m,h,p,b)=>{b(p.map(g=>g.id===f?{...g,[m]:h}:g))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(dt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(V0,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((p,b)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.ownerAddress,onChange:g=>u(p.id,"ownerAddress",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.lotNumber,onChange:g=>u(p.id,"lotNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.blockNumber,onChange:g=>u(p.id,"blockNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.tdNo,onChange:g=>u(p.id,"tdNo",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.land,onChange:g=>u(p.id,"land",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.improvement,onChange:g=>u(p.id,"improvement",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.totalAssessed,onChange:g=>u(p.id,"totalAssessed",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.taxDue,onChange:g=>u(p.id,"taxDue",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.payment,onChange:g=>u(p.id,"payment",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(p.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(hr,{className:"h-3 w-3"})})})]},p.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Ode,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(pE,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(I,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(I,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(I,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},Rze=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function Mze(){se();const{realPropertyTaxes:t,isLoading:e}=q(y=>y.realPropertyTax),[r,n]=v.useState("list"),[a,s]=v.useState(null),[i,l]=v.useState(""),c=t&&t.length>0?t:Rze,u=()=>{s(null),n("form")},d=y=>{s(y),n("details")},f=y=>{s(y),n("form")},m=y=>{console.log("Print property:",y)},h=()=>{n("list"),s(null)},p=c==null?void 0:c.filter(y=>{const w=i.toLowerCase();return y.tdNo.toLowerCase().includes(w)||y.owner.toLowerCase().includes(w)||y.address.toLowerCase().includes(w)||y.propertyIdentificationNo.toLowerCase().includes(w)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:y=>new Date(y).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:y=>g(y)}],g=y=>{let w="bg-neutral-100 text-neutral-800";switch(y){case"Active":w="bg-success-100 text-success-800";break;case"Inactive":w="bg-warning-100 text-warning-800";break;case"Cancelled":w="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w}`,children:y})},x=[{icon:r0,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs(o.Fragment,{children:[r==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:b,data:p,actions:x,loading:e,onRowClick:d})})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(WF,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ga,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(au,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(WF,{initialData:a,readOnly:!0,onBack:h})})]})]})}function Lze({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({endDate:O().required("Date End is required"),fundID:O().required("Fund is required"),approverID:O().required("Approver is required"),ledger:O().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(I,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:p,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"fundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.fundID,onChange:h,onBlur:p,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(I,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:p,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(I,{label:"Approver",name:"approverID",type:"select",options:e.map(x=>{var y;return{value:x.ID,label:x.FirstName+" "+x.MiddleName+" "+x.LastName+" - "+((y=x==null?void 0:x.Department)==null?void 0:y.Name)}}),value:d.approverID,onChange:h,onBlur:p,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const Fze="https://staging-engine.testthelink.online",Bze={trialBalances:[],isLoading:!1,error:null},$b=L("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fze}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),eN=L("trialBalance/exportTrialBalances",async t=>!0),F8=ye({name:"trialBalance",initialState:Bze,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(eN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eN.fulfilled,e=>{e.isLoading=!1}).addCase(eN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:qze}=F8.actions,Vze=F8.reducer;function Uze(){const t="https://staging-engine.testthelink.online",e=se(),{trialBalances:r,isLoading:n,error:a}=q(f=>f.trialBalance),{funds:s}=q(f=>f.funds),{employees:i}=q(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(qze()),e(Ht()),e(rn())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let b="Trial_Balance.xlsx";p&&p.includes("filename=")&&(b=p.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export trial balance")}},d=f=>{e($b(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(Lze,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}const zze=ie().shape({BudgetID:O().required("Budget is required"),budgetName:O(),fiscalYearID:O(),departmentID:O(),subDepartmentID:O(),chartOfAccountsID:O(),fundID:O(),projectID:O(),allotment:K().integer().required("Allotment is required"),remarks:O(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Sr()}),HF={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function Wze({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=v.useState({...HF});v.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(HF)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((S,C)=>{S.ID?y.append(`Attachments[${C}].ID`,S.ID):y.append(`Attachments[${C}].File`,S)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]");const w={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(w).forEach(([S,C])=>{y.append(S,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},p=(g,x,y)=>{const S=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...S])},b=(g,x,y)=>{const w=[...y.Attachments];w.splice(g,1),x("Attachments",w)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:zze,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:w,handleBlur:S,isSubmitting:C,setFieldValue:j})=>{var N;return o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(Pt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>p(A,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((N=g==null?void 0:g.Attachments)==null?void 0:N.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:w,onBlur:S,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:w,onBlur:S,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:w,onBlur:S,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:w,onBlur:S,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:w,onBlur:S,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:w,onBlur:S,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:w,onBlur:S,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:w,onBlur:S,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:w,onBlur:S,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:w,onBlur:S,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:w,onBlur:S,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Allotment",name:"allotment",type:"number",value:g.allotment,onChange:w,onBlur:S,error:x.allotment,touched:y.allotment,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:w,onBlur:S,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const Hze=()=>{const t=se(),{user:e}=q(k=>k.auth),{departments:r}=q(k=>k.departments),{subdepartments:n}=q(k=>k.subdepartments),a=q(k=>{var E;return((E=k.chartOfAccounts)==null?void 0:E.accounts)||[]}),{fiscalYears:s}=q(k=>k.fiscalYears),{funds:i}=q(k=>k.funds),{projectDetails:l}=q(k=>k.projectDetails),[c,u]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!1),[p,b]=v.useState(null),[g,x]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(er()),t(wo()),t(Ar()),y(),w()},[]);const y=async()=>{try{const k=await _t("/budgetAllotment/list");u(k.data)}catch(k){pe.error("Failed to load data"),pe.error(k.message)}},w=async()=>{try{const k=await _t("/budgetSupplemental/budgetList");f(k==null?void 0:k.data)}catch(k){pe.error("Failed to load data"),pe.error(k.message)}},S=k=>{const{name:E,value:P}=k.target;x(M=>({...M,[E]:P}))},C=async k=>{try{(await _t.post("budgetAllotment",k,{headers:{"Content-Type":"multipart/form-data"}})).data?(pe.success(p?"Allotment updated successfully":"New Allotment added"),y()):pe.error("Failed to save supplemental")}catch(E){console.error("Error submitting supplemental:",E),pe.error(E.message||"Failed to save supplemental")}finally{h(!1)}},j=k=>{b(k),h(!0)},N=[{key:"Status",header:"Status",render:k=>o.jsx("span",{children:k})},{key:"InvoiceNumber",header:"Invoice Number",render:(k,E)=>o.jsx("span",{children:E.InvoiceNumber})},{key:"Budget",header:"Budget",render:(k,E)=>{var P;return o.jsx("span",{children:(P=E.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(k,E)=>{const P=new Date(E.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(k,E)=>o.jsx("span",{children:parseFloat(E.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:ya,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],T=c==null?void 0:c.filter(k=>{const{Budget:E}=k;return(!g.department||(E==null?void 0:E.DepartmentID)==g.department)&&(!g.subDepartment||(E==null?void 0:E.SubDepartmentID)==g.subDepartment)&&(!g.chartOfAccounts||(E==null?void 0:E.ChartofAccountsID)==g.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>j(null),className:"btn btn-primary flex items-center",children:[o.jsx(pue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Tx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:g.department,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:g.subDepartment,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:g.chartOfAccounts,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),a==null?void 0:a.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ge,{columns:N,data:T,actions:A,loading:!1,pagination:!0}),o.jsx(ae,{size:"md",isOpen:m,onClose:()=>h(!1),title:p?"Edit Allotment":"Add Allotment",children:o.jsx(Wze,{allotmentList:d,departmentOptions:r.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:n.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:a.map(k=>({value:k.ID,label:k.Name})),fundOptions:i.map(k=>({value:k.ID,label:k.Name})),projectOptions:l.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:s.map(k=>({value:k.ID,label:k.Name})),onSubmit:C,initialData:p,onClose:()=>h(!1)})})]})},lp="https://staging-engine.testthelink.online",GF=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),Gze=()=>{const t=se(),{departments:e}=q(A=>A.departments),{subdepartments:r}=q(A=>A.subdepartments),n=q(A=>{var T;return((T=A.chartOfAccounts)==null?void 0:T.accounts)||[]}),{fiscalYears:a}=q(A=>A.fiscalYears),{funds:s}=q(A=>A.funds),{projectDetails:i}=q(A=>A.projectDetails),[l,c]=v.useState([]),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,p]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(er()),t(wo()),t(Ar()),t(xn()),t(Ht()),t(ys()),b()},[]);const b=async()=>{try{const T=await(await fetch(`${lp}/budget`)).json();T!=null&&T.status?c((T==null?void 0:T.items)||[]):pe.error("Failed to fetch budget details")}catch(A){pe.error(A.message)}},g=A=>{const{name:T,value:k}=A.target;p(E=>({...E,[T]:k}))},x=A=>{f?w(A):y(A)},y=async A=>{try{await(await fetch(`${lp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(GF(A))})).json()&&(b(),d(!1),pe.success("Budget added successfully"))}catch(T){pe.error(T.message)}},w=async A=>{try{await(await fetch(`${lp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(GF(A))})).json()&&(b(),d(!1),pe.success("Budget updated successfully"))}catch(T){pe.error(T.message)}},S=async A=>{try{await(await fetch(`${lp}/budget/${A}`,{method:"DELETE"})).json()&&(b(),pe.success("Budget deleted"))}catch(T){pe.error(T.message)}},C=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.FiscalYear)==null?void 0:k.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Department)==null?void 0:k.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.SubDepartment)==null?void 0:k.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.ChartofAccounts)==null?void 0:k.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Funds)==null?void 0:k.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Project)==null?void 0:k.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],j=[{icon:ya,title:"Edit",onClick:A=>{m(A),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},{icon:Kn,title:"Delete",onClick:A=>S(A==null?void 0:A.ID),className:"text-red-600 hover:text-red-800 p-1"}],N=l.filter(A=>{var T,k,E;return(!h.department||((T=A.Department)==null?void 0:T.ID)==h.department)&&(!h.subDepartment||((k=A.SubDepartment)==null?void 0:k.ID)==h.subDepartment)&&(!h.chartOfAccounts||((E=A.ChartofAccounts)==null?void 0:E.ID)==h.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(V0,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:h.department,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"subDepartment",value:h.subDepartment,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:h.chartOfAccounts,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsx(ge,{columns:C,data:N,actions:j,pagination:!0}),o.jsx(ae,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(jU,{departmentOptions:e.map(A=>({value:A.ID,label:A.Name})),subDepartmentOptions:r.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:n.map(A=>({value:A.ID,label:A.Name})),fundOptions:s.map(A=>({value:A.ID,label:A.Name})),projectOptions:i.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:a.map(A=>({value:A.ID,label:A.Name})),onSubmit:x,initialData:f,onClose:()=>d(!1)})})]})},Yze="https://staging-engine.testthelink.online",Kze=()=>{const t=se(),{departments:e,isLoading:r}=q(C=>C.departments),{subdepartments:n,isLoading:a}=q(C=>C.subdepartments),s=q(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),[i,l]=v.useState([]),[c,u]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=v.useState(!1),[m,h]=v.useState(null),[p,b]=v.useState(!0);v.useEffect(()=>{t(er()),t(wo()),t(Ar()),g()},[]);const g=async()=>{try{b(!0);const j=await(await fetch(`${Yze}/budgetSummary/`)).json();l(j||[])}catch(C){console.error("Error fetching budget summaries:",C)}finally{b(!1)}},x=C=>{const{name:j,value:N}=C.target;u(A=>({...A,[j]:N}))},y=i.filter(C=>{var j,N;return(!c.department||((j=C.Department)==null?void 0:j.Name)===c.department)&&(!c.subDepartment||((N=C.SubDepartment)==null?void 0:N.Name)===c.subDepartment)&&(!c.chartOfAccounts||C.ChartOfAccounts===c.chartOfAccounts)}),w=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(C,j)=>j==null?void 0:j.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(C,j)=>{var N;return(N=j==null?void 0:j.Department)==null?void 0:N.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(C,j)=>{var N;return(N=j==null?void 0:j.SubDepartment)==null?void 0:N.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(C,j)=>{var N;return(N=j==null?void 0:j.ChartofAccounts)==null?void 0:N.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(C,j)=>{var N;return(N=j==null?void 0:j.Funds)==null?void 0:N.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(C,j)=>{var N;return(N=j==null?void 0:j.Project)==null?void 0:N.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],S=C=>{h(C),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]})]}),o.jsx(ge,{columns:w,data:y,loading:p||r||a,pagination:!0,onRowClick:S}),o.jsx(ae,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(Jze,{data:m})})]})},Jze=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},Xze=ie().shape({BudgetID:O().required("Budget is required"),budgetName:O(),fiscalYearID:O(),departmentID:O(),subDepartmentID:O(),chartOfAccountsID:O(),fundID:O(),projectID:O(),supplemental:K().integer().required("Supplemental is required"),remarks:O(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Sr()}),YF={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function Zze({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=v.useState({...YF});v.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",supplemental:(g==null?void 0:g.Supplemental)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(YF)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((S,C)=>{S.ID?y.append(`Attachments[${C}].ID`,S.ID):y.append(`Attachments[${C}].File`,S)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]"),console.log({values:g});const w={BudgetID:g.BudgetID,Remarks:g.remarks,Supplemental:g.supplemental};Object.entries(w).forEach(([S,C])=>{y.append(S,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},p=(g,x,y)=>{const S=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...S])},b=(g,x,y)=>{const w=[...y.Attachments];w.splice(g,1),x("Attachments",w)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:Xze,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:w,handleBlur:S,isSubmitting:C,setFieldValue:j})=>{var N;return o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(Pt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>p(A,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((N=g==null?void 0:g.Attachments)==null?void 0:N.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(hr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:w,onBlur:S,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:w,onBlur:S,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:w,onBlur:S,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:w,onBlur:S,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:w,onBlur:S,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:w,onBlur:S,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:w,onBlur:S,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:w,onBlur:S,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:w,onBlur:S,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:w,onBlur:S,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:w,onBlur:S,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Supplemental",name:"supplemental",type:"number",value:g.supplemental,onChange:w,onBlur:S,error:x.supplemental,touched:y.supplemental,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:w,onBlur:S,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const Qze=()=>{const t=se(),{departments:e}=q(k=>k.departments),{subdepartments:r}=q(k=>k.subdepartments),n=q(k=>{var E;return((E=k.chartOfAccounts)==null?void 0:E.accounts)||[]}),{fiscalYears:a}=q(k=>k.fiscalYears),{funds:s}=q(k=>k.funds),{projectDetails:i}=q(k=>k.projectDetails),[l,c]=v.useState([]),[u,d]=v.useState([]);v.useEffect(()=>{t(xn()),t(Ht()),t(ys()),t(er()),t(wo()),t(Ar()),f(),m()},[]);const f=async()=>{try{const k=await _t("/budgetSupplemental/list");c(k==null?void 0:k.data)}catch(k){pe.error("Failed to load data"),pe.error(k.message)}},m=async()=>{try{const k=await _t("/budgetSupplemental/budgetList");d(k==null?void 0:k.data)}catch(k){pe.error("Failed to load data"),pe.error(k.message)}},[h,p]=v.useState(!1),[b,g]=v.useState(null),[x,y]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),w=k=>{g(k),p(!0)},S=async k=>{},C=async k=>{try{(await _t.post("budgetSupplemental/save",k,{headers:{"Content-Type":"multipart/form-data"}})).data?(pe.success(b?"Supplemental updated successfully":"New supplemental added"),f()):pe.error("Failed to save supplemental")}catch(E){console.error("Error submitting supplemental:",E),pe.error(E.message||"Failed to save supplemental")}finally{p(!1)}},j=k=>{const{name:E,value:P}=k.target;y(M=>({...M,[E]:P}))},N=[{key:"Status",header:"Status",render:(k,E)=>o.jsx("span",{children:E.Status})},{key:"InvoiceNumber",header:"Invoice Number",render:(k,E)=>o.jsx("span",{children:E.InvoiceNumber})},{key:"Budget",header:"Budget",render:(k,E)=>{var P;return o.jsx("span",{children:(P=E.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(k,E)=>{const P=new Date(E.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(k,E)=>o.jsx("span",{children:parseFloat(E.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:ya,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],T=l.filter(k=>{console.log(x,k);const{Budget:E}=k;return(!x.department||(E==null?void 0:E.DepartmentID)==x.department)&&(!x.subDepartment||(E==null?void 0:E.SubDepartmentID)==x.subDepartment)&&(!x.chartOfAccounts||(E==null?void 0:E.ChartofAccountsID)==x.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>w(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Tx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:x.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:x.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:x.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ge,{columns:N,data:T,actions:A,pagination:!0}),o.jsx(ae,{size:"md",isOpen:h,onClose:()=>p(!1),title:b?"Edit Supplemental":"Add New Supplemental",children:o.jsx(Zze,{budgetList:u,departmentOptions:e.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:r.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:n.map(k=>({value:k.ID,label:k.Name})),fundOptions:s.map(k=>({value:k.ID,label:k.Name})),projectOptions:i.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:a.map(k=>({value:k.ID,label:k.Name})),onSubmit:C,initialData:b,onClose:()=>p(!1)})})]})},e7e=ie({sourceBudgetName:O().required("Code is required"),sourceFiscalYear:O().required("Code is required"),sourceDepartment:O().required("Code is required"),sourceSubDepartment:O().required("Code is required"),sourceAccounts:O().required("Code is required"),sourceFund:O().required("Code is required"),sourceProject:O().required("Code is required"),sourceTransfer:K().required("Amount is required").min(0,"Amount must be positive"),sourceRemarks:O().required("Year is required"),sourceAppropriation:K().required("Amount is required").min(0,"Amount must be positive"),sourceAppropriationBalance:K().required("Amount is required").min(0,"Amount must be positive"),sourceReleasedAllotments:K().required("Amount is required").min(0,"Amount must be positive"),sourceAllotmentBalance:K().required("Amount is required").min(0,"Amount must be positive"),targetBudgetName:O().required("Code is required"),targetFiscalYear:O().required("Code is required"),targetDepartment:O().required("Code is required"),targetSubDepartment:O().required("Code is required"),targetAccounts:O().required("Code is required"),targetFund:O().required("Code is required"),targetProject:O().required("Code is required"),targetTransfer:K().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetAppropriation:K().required("Amount is required").min(0,"Amount must be positive"),targetAppropriationBalance:K().required("Amount is required").min(0,"Amount must be positive"),targetReleasedAllotments:K().required("Amount is required").min(0,"Amount must be positive"),targetAllotmentBalance:K().required("Amount is required").min(0,"Amount must be positive")}),KF={sourceBudgetName:"",sourceFiscalYear:"",sourceDepartment:"",sourceSubDepartment:"",sourceAccounts:"",sourceFund:"",sourceProject:"",sourceTransfer:0,sourceRemarks:"",sourceAppropriation:0,sourceAppropriationBalance:0,sourceReleasedAllotments:0,sourceAllotmentBalance:0,targetBudgetName:"",targetFiscalYear:"",targetDepartment:"",targetSubDepartment:"",targetAccounts:"",targetFund:"",targetProject:"",targetTransfer:0,targetRemarks:"",targetAppropriation:0,targetAppropriationBalance:0,targetReleasedAllotments:0,targetAllotmentBalance:0};function t7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...KF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(KF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:e7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Budget Name",name:"sourceBudgetName",type:"text",onChange:u,onBlur:d,value:i.sourceBudgetName,error:l.sourceBudgetName,touched:c.sourceBudgetName,required:!0}),o.jsx(I,{label:"Fiscal Year",name:"sourceFiscalYear",type:"text",onChange:u,onBlur:d,value:i.sourceFiscalYear,error:l.sourceFiscalYear,touched:c.sourceFiscalYear,required:!0}),o.jsx(I,{label:"Department",name:"sourceDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceDepartment,error:l.sourceDepartment,touched:c.sourceDepartment,required:!0}),o.jsx(I,{label:"Sub Department",name:"sourceSubDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceSubDepartment,error:l.sourceSubDepartment,touched:c.sourceSubDepartment,required:!0}),o.jsx(I,{name:"sourceAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.sourceAccounts,error:l.sourceAccounts,touched:c.sourceAccounts,required:!0}),o.jsx(I,{name:"sourceFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.sourceFund,error:l.sourceFund,touched:c.sourceFund,required:!0}),o.jsx(I,{name:"sourceProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.sourceProject,error:l.sourceProject,touched:c.sourceProject,required:!0}),o.jsx(I,{name:"sourceTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(I,{name:"sourceAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.sourceAppropriation,error:l.sourceAppropriation,touched:c.sourceAppropriation,required:!0})," ",o.jsx(I,{name:"sourceAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.sourceAppropriationBalance,error:l.sourceAppropriationBalance,touched:c.sourceAppropriationBalance,required:!0}),o.jsx(I,{name:"Remarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Budget Name",name:"targetBudgetName",type:"text",onChange:u,onBlur:d,value:i.targetBudgetName,error:l.targetBudgetName,touched:c.targetBudgetName,required:!0}),o.jsx(I,{label:"Fiscal Year",name:"targetFiscalYear",type:"text",onChange:u,onBlur:d,value:i.targetFiscalYear,error:l.targetFiscalYear,touched:c.targetFiscalYear,required:!0}),o.jsx(I,{label:"Department",name:"targetDepartment",type:"text",onChange:u,onBlur:d,value:i.targetDepartment,error:l.targetDepartment,touched:c.targetDepartment,required:!0}),o.jsx(I,{label:"Sub Department",name:"targetSubDepartment",type:"text",onChange:u,onBlur:d,value:i.targetSubDepartment,error:l.targetSubDepartment,touched:c.targetSubDepartment,required:!0}),o.jsx(I,{name:"targetAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.targetAccounts,error:l.targetAccounts,touched:c.targetAccounts,required:!0}),o.jsx(I,{name:"targetFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.targetFund,error:l.targetFund,touched:c.targetFund,required:!0}),o.jsx(I,{name:"targetProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.targetProject,error:l.targetProject,touched:c.targetProject,required:!0}),o.jsx(I,{name:"targetTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(I,{name:"targetAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.targetAppropriation,error:l.targetAppropriation,touched:c.targetAppropriation,required:!0})," ",o.jsx(I,{name:"targetAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.targetAppropriationBalance,error:l.targetAppropriationBalance,touched:c.targetAppropriationBalance,required:!0}),o.jsx(I,{name:"targetRemarks ",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const r7e=()=>{se();const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=d=>{n(d),e(!0)},s=d=>{pe.success(`Deleted ${d.InvoiceNumber}`)},i=d=>{r?pe.success("Transfer updated successfully"):pe.success("New transfer added"),e(!1)},l=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"Budget",header:"Budget",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],c=[{icon:ya,title:"Edit",onClick:a,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:s,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],u=[{InvoiceNumber:"BT-18-2025",Budget:"Traveling Expenses",Status:"Posted",InvoiceDate:"03-03-2025",Total:"5,000.00",Remarks:""},{InvoiceNumber:"BT-17-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"25-02-2025",Total:"99,00,000.00",Remarks:"testing"}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),o.jsxs("button",{onClick:()=>a(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ge,{columns:l,data:u,actions:c,pagination:!0}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(t7e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},n7e=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),Description:O().required("Description is required"),Amount:K().required("Amount is required").min(0,"Amount must be positive")}),JF={Code:"",Name:"",Description:"",Amount:0};function a7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...JF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(JF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:n7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(I,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(I,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const s7e=()=>{const t=se(),{funds:e,loading:r}=q(p=>p.funds),[n,a]=v.useState(!1),[s,i]=v.useState(null),l=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:p=>p||""},{key:"Name",header:"Name",sortable:!0,render:p=>o.jsx("span",{className:"font-medium",children:p||""})},{key:"Description",header:"Description",sortable:!0,render:p=>o.jsx("span",{className:"text-gray-600",children:p||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:p=>o.jsx("span",{className:"font-medium",children:p?c(p):""})}],c=p=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(p),f=[{icon:ya,title:"Edit",onClick:p=>{i(p),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:async p=>{await t(Gy(p.ID)).unwrap(),t(Ht())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],m=async p=>{s?await t(Hy(p)).unwrap():await t(Wy(p)).unwrap(),t(Ht()),a(!1),i(null)},h=p=>{console.log("View row:",p)};return v.useEffect(()=>{t(Ht())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:l,data:e,actions:f,loading:r,onRowClick:h})}),o.jsx(ae,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(a7e,{onSubmit:m,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},o7e="https://staging-engine.testthelink.online",i7e=()=>{const t=se(),{fiscalYears:e}=q(k=>k.fiscalYears),{funds:r}=q(k=>k.funds),{departments:n}=q(k=>k.departments),[a,s]=v.useState("appropriations"),[i,l]=v.useState([]),[c,u]=v.useState(!1),[d,f]=v.useState(""),[m,h]=v.useState(""),[p,b]=v.useState(""),[g,x]=v.useState(""),[y,w]=v.useState("");v.useEffect(()=>{t(xn()),t(Ht()),t(er())},[t]);const S=()=>({startDate:d,endDate:m,fiscalYearID:p,fundsID:g,departmentID:y}),C=()=>d&&m&&p&&g&&y,j=async k=>{if(!C()){pe.error("Please select all filters");return}u(!0);try{s(k);const E=k==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",P=await _t.post(E,S());l(P.data)}catch{pe.error("Failed to fetch data")}finally{u(!1)}},N=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],T=async()=>{if(!C()){pe.error("Please select all filters");return}try{const k=await fetch(`${o7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S())});if(!k.ok)throw new Error("Server response was not ok");const E=await k.blob(),P=k.headers.get("Content-Disposition");let M="StatementOfAppropriations.xlsx";P&&P.includes("filename=")&&(M=P.split("filename=")[1].replace(/['"]/g,""));const R=window.URL.createObjectURL(E),$=document.createElement("a");$.href=R,$.download=M,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(R)}catch(k){console.error("Export failed:",k),pe.error(k.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:k=>f(k.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:k=>h(k.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:p,onChange:k=>b(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:g,onChange:k=>x(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:y,onChange:k=>w(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 w-max mb-4",children:[o.jsx("button",{onClick:()=>j("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>j("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:T,children:"Export to Excel"})]}),o.jsx(ge,{columns:a==="appropriations"?N:A,data:i,loading:c})]})},l7e=ie({fund:O().required("Fund is required"),code:O().required("Code is required"),name:O().required("Name is required"),desc:O().required("Description is required"),amount:K().required("Amount is required").min(0,"Amount must be positive")}),XF={code:"",name:"",fund:"",desc:"",amount:0};function c7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=v.useState({...XF}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return v.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(XF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:l7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(I,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(I,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(I,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const u7e=()=>{const t=se(),{subFunds:e,isLoading:r}=q(x=>x.subFunds),{funds:n,loading:a}=q(x=>x.funds),[s,i]=v.useState(!1),[l,c]=v.useState(null),u=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:x=>x||""},{key:"Code",header:"Code",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Name",header:"Name",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Description",header:"Description",sortable:!0,render:x=>o.jsx("span",{className:"text-gray-600",children:x||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:x=>o.jsx("span",{className:"font-medium",children:x?f(x):""})}],d=[{icon:ya,title:"Edit",onClick:x=>p(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:x=>m(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],f=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(x),m=async x=>{try{await t(kb(x.ID)).unwrap(),pe.success("Sub fund deleted successfully")}catch(y){pe.error(y.payload||"Failed to delete sub fund"),console.error(y)}},h=async x=>{try{if(l){const y={IsNew:!1,ID:l.ID,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(GA(y)).unwrap(),pe.success("Sub fund updated successfully")}else{const y={IsNew:!0,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(Ab(y)).unwrap(),pe.success("Sub fund added successfully")}t(Yd()),i(!1),c(null)}catch(y){pe.error(y.payload||"Failed to save sub fund"),console.error(y)}},p=x=>{c(x),i(!0)},b=x=>{console.log("View row:",x)};v.useEffect(()=>{t(Yd()),t(Ht())},[t]);const g=n==null?void 0:n.map(x=>({value:x.ID,label:x.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>p(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:e,actions:d,loading:r||a,onRowClick:b})}),o.jsx(ae,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(c7e,{onSubmit:h,initialData:l,funds:g,onClose:()=>i(!1)})})]})},d7e=ie({sourceCode:O().required("Code is required"),sourceFundName:O().required("Name is required"),sourceBalance:K().required("Balance is required").min(0,"Balance must be positive"),sourceTransfer:K().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetCode:O().required("Code is required"),targetFundName:O().required("Name is required"),targetBalance:K().required("Balance is required").min(0,"Balance must be positive"),targetTransfer:K().required("Amount is required").min(0,"Amount must be positive")}),ZF={sourceCode:"",sourceFundName:"",sourceBalance:0,sourceTransfer:0,sourceRemarks:"",targetCode:"",targetFundName:"",targetBalance:0,targetTransfer:0,targetRemarks:""};function f7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...ZF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(ZF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:d7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Code",name:"targeteCode",type:"text",onChange:u,onBlur:d,value:i.targeteCode,error:l.targetCode,touched:c.targetCode,required:!0}),o.jsx(I,{label:"Name",name:"targetFundName",type:"text",onChange:u,onBlur:d,value:i.targetFundName,error:l.targetFundName,touched:c.targetFundName,required:!0}),o.jsx(I,{label:"Balance",name:"targetBalance",type:"text",onChange:u,onBlur:d,value:i.targetBalance,error:l.targetBalance,touched:c.targetBalance,required:!0}),o.jsx(I,{label:"Transfer",name:"targetTransfer",type:"text",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(I,{name:"targetRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.sourceCode,error:l.sourceCode,touched:c.sourceCode,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.sourceFundName,error:l.sourceFundName,touched:c.sourceFundName,required:!0}),o.jsx(I,{label:"Balance",name:"sourceBalance",type:"text",onChange:u,onBlur:d,value:i.sourceBalance,error:l.sourceBalance,touched:c.sourceBalance,required:!0}),o.jsx(I,{label:"Transfer",name:"sourceTransfer",type:"text",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(I,{name:"sourceRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const m7e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a]=v.useState([{id:1,Code:"100",Name:"General Fund",Description:"The general fund.",OriginalAmount:"50,10,00,00,050.00",Balance:"50,10,00,00,050.00",Total:"50,10,00,00,050.00"},{id:2,Code:"300",Name:"Trust Fund",Description:"The trust fund.",OriginalAmount:"1,99,950.00",Balance:"3,00,000.00",Total:"3,00,000.00"},{id:3,Code:"200",Name:"Special Education Fund",Description:"The special education fund.",OriginalAmount:"2,00,000.00",Balance:"2,00,000.00",Total:"2,00,000.00"},{id:4,Code:"000",Name:"Test Fund",Description:"This is just a test fund. This will also be deleted.",OriginalAmount:"1,00,000.00",Balance:"1,00,000.00",Total:"1,00,000.00"}]),s=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:f=>f||""},{key:"Name",header:"Name",sortable:!0,render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Description",header:"Description",sortable:!0,render:f=>o.jsx("span",{className:"text-gray-600",children:f||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Balance",header:"Balance",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Total",header:"Total",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})}],i=[{icon:ya,title:"Edit",onClick:f=>c(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kn,title:"Delete",onClick:f=>u(f.id),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],l=f=>{r?(console.log("Updated:",f),toast.success("Transfer updated successfully")):(console.log("Created:",f),toast.success("Transfer created successfully")),e(!1)},c=f=>{n(f),e(!0)},u=f=>{window.confirm("Are you sure you want to delete this transfer?")&&(console.log("Deleted transfer with id:",f),toast.success("Transfer deleted successfully"))},d=f=>{console.log("View transfer:",f)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>c(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:s,data:a,actions:i,loading:!1,onRowClick:d})}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(f7e,{onSubmit:l,initialData:r,onClose:()=>e(!1)})})]})},h7e=ie().shape({reportType:O().required("Report type is required"),date:Me().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:O().required("Action is required"),month:K().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:K().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:K().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Me().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Me().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(Tc("fromDate"),"To date must be after from date")}),notedBy:O().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function p7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(I,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(I,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let p={};switch(d.reportType){case"daily":p={date:d.date};break;case"monthly":p={month:d.month,year:d.year};break;case"quarterly":p={quarter:d.quarter,year:d.year};break;case"flexible":p={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const b={...h,...p};t({...d,action:d.action,params:b})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx($e,{initialValues:n,validationSchema:h7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:p,handleChange:b,setErrors:g,isSubmitting:x})=>o.jsxs(Fe,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(y=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===y.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(y.value),h("reportType",y.value)},children:y.label},y.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,b)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${y.name}`,name:`documentTypes.${y.name}`,checked:d.documentTypes[y.name],onChange:w=>{h(`documentTypes.${y.name}`,w.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${y.name}`,className:"ml-2 block text-sm text-gray-700",children:y.label})]},y.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),p(),g({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),p()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),p()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const B8="https://staging-engine.testthelink.online",g7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${B8}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},y7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${B8}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function b7e(){const[t,e]=v.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=v.useState("daily"),[a,s]=v.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await g7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await y7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),Ie.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(p7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const x7e=ie().shape({StartDate:Me().required("From Date is required").max(Tc("EndDate"),"From Date must be before or equal to To Date"),EndDate:Me().required("To Date is required").min(Tc("StartDate"),"To Date must be after or equal to From Date"),fund:O().required("Fund is required")});function v7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=q(i=>i.funds),n=se();v.useEffect(()=>{n(Ht())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx($e,{initialValues:e,validationSchema:x7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(I,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate})]}),o.jsx(I,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const q8="https://staging-engine.testthelink.online",j7e=async t=>{try{const e=localStorage.getItem("token"),r=`${q8}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},w7e=async t=>{try{const e=localStorage.getItem("token"),r=`${q8}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function C7e(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await j7e(c);e(u);break;case"generate":break;case"export":await w7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(v7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function N7e(){const{isAuthenticated:t,isLoading:e}=q(a=>a.auth),r=se(),n=Vo();return v.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Cp(a))},[r]),v.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(_K,{position:"top-right"}),o.jsxs(RG,{children:[o.jsxs(oe,{element:o.jsx(jQ,{}),children:[o.jsx(oe,{path:"/login",element:t?o.jsx(Eu,{to:"/",replace:!0}):o.jsx(wQ,{})}),o.jsx(oe,{path:"/register",element:t?o.jsx(Eu,{to:"/",replace:!0}):o.jsx(CQ,{})}),o.jsx(oe,{path:"/forgot-password",element:t?o.jsx(Eu,{to:"/",replace:!0}):o.jsx(NQ,{})}),o.jsx(oe,{path:"/reset-password",element:t?o.jsx(Eu,{to:"/",replace:!0}):o.jsx(SQ,{})})]}),o.jsxs(oe,{element:o.jsx(vQ,{}),children:[o.jsx(oe,{path:"/dashboard",element:o.jsx(_ae,{})}),o.jsx(oe,{path:"/profile",element:o.jsx(MCe,{})}),o.jsx(oe,{path:"/budget-dashboard",element:o.jsx(kze,{})}),o.jsx(oe,{path:"/disbursement-dashboard",element:o.jsx(Ize,{})}),o.jsx(oe,{path:"/collection-dashboard",element:o.jsx(Tze,{})}),o.jsx(oe,{path:"/settings/departments",element:o.jsx(Sue,{})}),o.jsx(oe,{path:"/settings/customer",element:o.jsx(Qhe,{})}),o.jsx(oe,{path:"/settings/lgu-maintenance",element:o.jsx(Xwe,{})}),o.jsx(oe,{path:"/settings/subdepartments",element:o.jsx(zue,{})}),o.jsx(oe,{path:"/settings/modules",element:o.jsx(Vfe,{})}),o.jsx(oe,{path:"/settings/users",element:o.jsx(tde,{})}),o.jsx(oe,{path:"/settings/user-roles",element:o.jsx(ome,{})}),o.jsx(oe,{path:"/settings/user-access",element:o.jsx(wCe,{})}),o.jsx(oe,{path:"/settings/chart-of-accounts",element:o.jsx(Hde,{})}),o.jsx(oe,{path:"/settings/account-group",element:o.jsx(Yde,{})}),o.jsx(oe,{path:"/settings/major-account-group",element:o.jsx(Jde,{})}),o.jsx(oe,{path:"/settings/sub-major-account-group",element:o.jsx(Zde,{})}),o.jsx(oe,{path:"/settings/vendors",element:o.jsx(Efe,{})}),o.jsx(oe,{path:"/settings/vendor-customer-type",element:o.jsx($fe,{})}),o.jsx(oe,{path:"/settings/vendor-type",element:o.jsx(Mfe,{})}),o.jsx(oe,{path:"/settings/employees",element:o.jsx(eme,{})}),o.jsx(oe,{path:"/settings/employmentStatus",element:o.jsx(rme,{})}),o.jsx(oe,{path:"/settings/positions",element:o.jsx(ame,{})}),o.jsx(oe,{path:"/settings/nationalities",element:o.jsx(lme,{})}),o.jsx(oe,{path:"/settings/locations",element:o.jsx(fme,{})}),o.jsx(oe,{path:"/settings/ppe",element:o.jsx(kme,{})}),o.jsx(oe,{path:"/settings/ppe-categories",element:o.jsx(Tme,{})}),o.jsx(oe,{path:"/settings/ppe-suppliers",element:o.jsx(Ome,{})}),o.jsx(oe,{path:"/settings/approval-matrix",element:o.jsx(qme,{})}),o.jsx(oe,{path:"/settings/bank",element:o.jsx(Gme,{})}),o.jsx(oe,{path:"/settings/currency",element:o.jsx(Eue,{})}),o.jsx(oe,{path:"/settings/document-details",element:o.jsx(Qme,{})}),o.jsx(oe,{path:"/settings/document-type-categories",element:o.jsx(the,{})}),o.jsx(oe,{path:"/settings/items",element:o.jsx(che,{})}),o.jsx(oe,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(yhe,{})}),o.jsx(oe,{path:"/settings/items/units",element:o.jsx(xhe,{})}),o.jsx(oe,{path:"/settings/project-type",element:o.jsx(Nhe,{})}),o.jsx(oe,{path:"/settings/financial-statement",element:o.jsx(_he,{})}),o.jsx(oe,{path:"/settings/fiscal-year",element:o.jsx(Fhe,{})}),o.jsx(oe,{path:"/settings/tax-code",element:o.jsx(Vhe,{})}),o.jsx(oe,{path:"/settings/mode-of-payment",element:o.jsx(zhe,{})}),o.jsx(oe,{path:"/settings/payment-terms",element:o.jsx(Hhe,{})}),o.jsx(oe,{path:"/settings/industry",element:o.jsx(Yhe,{})}),o.jsx(oe,{path:"/settings/project-details",element:o.jsx(The,{})}),o.jsx(oe,{path:"/settings/tax-declaration",element:o.jsx(ope,{})}),o.jsx(oe,{path:"/settings/base-unit-value",element:o.jsx(gpe,{})}),o.jsx(oe,{path:"/settings/general-revision",element:o.jsx(dpe,{})}),o.jsx(oe,{path:"/disbursement/obligation-requests",element:o.jsx(zve,{})}),o.jsx(oe,{path:"/disbursement/vouchers",element:o.jsx(Kve,{})}),o.jsx(oe,{path:"/disbursement/travel-orders",element:o.jsx(t0e,{})}),o.jsx(oe,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(i0e,{})}),o.jsx(oe,{path:"/disbursement/disbursement-journals",element:o.jsx(m0e,{})}),o.jsx(oe,{path:"/disbursement/general-journals",element:o.jsx(x0e,{})}),o.jsx(oe,{path:"/disbursement/beginning-balance",element:o.jsx(A0e,{})}),o.jsx(oe,{path:"/disbursement/purchase-requests",element:o.jsx(D0e,{})}),o.jsx(oe,{path:"/disbursement/fund-utilization-requests",element:o.jsx(F0e,{})}),o.jsx(oe,{path:"/collections/community-tax",element:o.jsx(U0e,{})}),o.jsx(oe,{path:"/collections/community-tax-corporation",element:o.jsx(G0e,{})}),o.jsx(oe,{path:"/collections/real-property-tax",element:o.jsx(Mze,{})}),o.jsx(oe,{path:"/collections/market",element:o.jsx(Y0e,{})}),o.jsx(oe,{path:"/collections/general-service-receipts",element:o.jsx($ze,{})}),o.jsx(oe,{path:"/collections/burial-service-receipts",element:o.jsx(eje,{})}),o.jsx(oe,{path:"/collections/marriage-service-receipts",element:o.jsx(sje,{})}),o.jsx(oe,{path:"/collections/cashbook",element:o.jsx(C7e,{})}),o.jsx(oe,{path:"/collections/reports",element:o.jsx(b7e,{})}),o.jsx(oe,{path:"/collections/public-market-tickets",element:o.jsx(Pwe,{})}),o.jsx(oe,{path:"/budget",element:o.jsx(zwe,{})}),o.jsx(oe,{path:"/budget/allotment",element:o.jsx(Hze,{})}),o.jsx(oe,{path:"/budget/details",element:o.jsx(Gze,{})}),o.jsx(oe,{path:"/budget/new",element:o.jsx(Bwe,{})}),o.jsx(oe,{path:"/budget/summary",element:o.jsx(Kze,{})}),o.jsx(oe,{path:"/budget/supplemental",element:o.jsx(Qze,{})}),o.jsx(oe,{path:"/budget/transfer",element:o.jsx(r7e,{})}),o.jsx(oe,{path:"/budget/report",element:o.jsx(J$,{})}),o.jsx(oe,{path:"/budget/funds",element:o.jsx(s7e,{})}),o.jsx(oe,{path:"/budget/sub-funds",element:o.jsx(u7e,{})}),o.jsx(oe,{path:"/budget/fund-transfer",element:o.jsx(m7e,{})}),o.jsx(oe,{path:"/budget/statement-comparison",element:o.jsx(Jwe,{})}),o.jsx(oe,{path:"/budget/statement-appropriation",element:o.jsx(i7e,{})}),o.jsx(oe,{path:"/applications/business-permits",element:o.jsx(Qwe,{})}),o.jsx(oe,{path:"/applications/cheque-generator",element:o.jsx(tCe,{})}),o.jsx(oe,{path:"/reports/general-ledger",element:o.jsx(lCe,{})}),o.jsx(oe,{path:"/reports/subsidiary-ledger",element:o.jsx(hCe,{})}),o.jsx(oe,{path:"/reports/financial-statements",element:o.jsx(vCe,{})}),o.jsx(oe,{path:"/reports/budget",element:o.jsx(J$,{})}),o.jsx(oe,{path:"/reports/bir",element:o.jsx(jCe,{})}),o.jsx(oe,{path:"/reports/trial-balance",element:o.jsx(Uze,{})}),o.jsx(oe,{path:"/change-password",element:o.jsx(CCe,{})})]}),o.jsx(oe,{path:"/",element:o.jsx(Eu,{to:"/dashboard\\",replace:!0})}),o.jsx(oe,{path:"*",element:o.jsx($ae,{})})]})]})}const V8=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],S7e={vendors:V8,vendor:null,isLoading:!1,error:null},tN=L("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(V8)},500)})}catch(r){return e.rejectWithValue(r.message)}}),rN=L("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),nN=L("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),U8=ye({name:"vendors",initialState:S7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(tN.pending,e=>{e.isLoading=!0}).addCase(tN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(tN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rN.pending,e=>{e.isLoading=!0}).addCase(rN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(rN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nN.pending,e=>{e.isLoading=!0}).addCase(nN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(nN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:H8e,resetVendorState:G8e}=U8.actions,A7e=U8.reducer,k7e="https://staging-engine.testthelink.online",I7e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},aN=L("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${k7e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),T7e=ye({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(aN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aN.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(aN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=I7e})}}),E7e=T7e.reducer,sN=L("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Xe.get("/api/general-service-receipts")).data),oN=L("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Xe.post("/api/general-service-receipts",t)).data),iN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Xe.put(`/api/general-service-receipts/${t}`,e)).data),lN=L("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Xe.delete(`/api/general-service-receipts/${t}`),t)),O7e={receipts:[],loading:!1,error:null},z8=ye({name:"generalServiceReceipts",initialState:O7e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(sN.pending,e=>{e.loading=!0,e.error=null}).addCase(sN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(sN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(oN.pending,e=>{e.loading=!0,e.error=null}).addCase(oN.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(oN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(iN.pending,e=>{e.loading=!0,e.error=null}).addCase(iN.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(iN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(lN.pending,e=>{e.loading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(lN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:Y8e}=z8.actions,P7e=z8.reducer,cN=L("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),uN=L("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),dN=L("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),fN=L("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),D7e={realPropertyTaxes:[],isLoading:!1,error:null},_7e=ye({name:"realPropertyTax",initialState:D7e,reducers:{},extraReducers:t=>{t.addCase(cN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(cN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(uN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(uN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(dN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(dN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(fN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),$7e=_7e.reducer,R7e=bY({reducer:{auth:zY,departments:Nue,currencies:Iue,subdepartments:Due,users:Gue,chartOfAccounts:ade,accountGroups:ide,majorAccountGroups:ude,subMajorAccountGroups:mde,vendors:A7e,employees:Jue,obligationRequests:axe,fundUtilizations:R0e,disbursementVouchers:Hve,travelOrders:e0e,ppes:Cme,ppeCategories:pme,ppeSuppliers:bme,approvalMatrix:Bme,banks:zme,documentDetails:_me,documentTypeCategories:Zme,items:ahe,invoiceChargeAccounts:ghe,itemUnits:ihe,projectDetails:Ihe,projectTypes:Che,financialStatements:Dhe,fiscalYears:Lhe,taxCodes:Cfe,modeOfPayments:Tfe,paymentTerms:Afe,industries:vfe,employmentStatuses:Yfe,positions:Wfe,userroles:Que,nationalities:Xfe,vendorCustomerTypes:_fe,vendorTypes:yfe,journalEntries:o0e,purchaseRequests:P0e,taxDeclarations:spe,baseUnits:ppe,regions:sfe,provinces:lfe,municipalities:dfe,barangays:hfe,generalRevisions:cpe,modules:qfe,generalServiceReceipts:P7e,disbursementJournal:f0e,beginningBalance:w0e,generalJournal:b0e,generalLedger:oCe,trialBalance:Vze,statementComparison:Kwe,subsidiaryLedger:mCe,financialStatementsReports:xCe,budget:Uve,subFunds:Uwe,funds:Fve,budgetDashboard:E7e,vendorDetails:rfe,burialRecords:Q0e,marriageRecords:aje,publicMarketTicketing:Iwe,communityTax:V0e,corporateCommunityTax:H0e,generalReceipts:Oze,realPropertyTax:$7e,customers:Zhe},middleware:t=>t({serializableCheck:!1})});hN.createRoot(document.getElementById("root")).render(o.jsx(V.StrictMode,{children:o.jsx(FH,{store:R7e,children:o.jsx(UG,{children:o.jsx(N7e,{})})})}))});export default M7e();
