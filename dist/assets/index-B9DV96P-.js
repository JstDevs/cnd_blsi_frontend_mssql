var G8=Object.defineProperty;var Y8=(t,e,r)=>e in t?G8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var K8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>Y8(t,typeof e!="symbol"?e+"":e,r);var B7e=K8((jn,wn)=>{function J8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t5={exports:{}},_v={},r5={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.element"),X8=Symbol.for("react.portal"),Z8=Symbol.for("react.fragment"),Q8=Symbol.for("react.strict_mode"),e9=Symbol.for("react.profiler"),t9=Symbol.for("react.provider"),r9=Symbol.for("react.context"),n9=Symbol.for("react.forward_ref"),a9=Symbol.for("react.suspense"),s9=Symbol.for("react.memo"),o9=Symbol.for("react.lazy"),UP=Symbol.iterator;function i9(t){return t===null||typeof t!="object"?null:(t=UP&&t[UP]||t["@@iterator"],typeof t=="function"?t:null)}var n5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a5=Object.assign,s5={};function lu(t,e,r){this.props=t,this.context=e,this.refs=s5,this.updater=r||n5}lu.prototype.isReactComponent={};lu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o5(){}o5.prototype=lu.prototype;function yI(t,e,r){this.props=t,this.context=e,this.refs=s5,this.updater=r||n5}var bI=yI.prototype=new o5;bI.constructor=yI;a5(bI,lu.prototype);bI.isPureReactComponent=!0;var zP=Array.isArray,i5=Object.prototype.hasOwnProperty,xI={current:null},l5={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)i5.call(e,n)&&!l5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Em,type:t,key:s,ref:i,props:a,_owner:xI.current}}function l9(t,e){return{$$typeof:Em,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em}function c9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var WP=/\/+/g;function $w(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c9(""+t.key):e.toString(36)}function wp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Em:case X8:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+$w(i,0):n,zP(a)?(r="",t!=null&&(r=t.replace(WP,"$&/")+"/"),wp(a,e,r,"",function(u){return u})):a!=null&&(vI(a)&&(a=l9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(WP,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",zP(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+$w(s,l);i+=wp(s,e,r,c,a)}else if(c=i9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+$w(s,l++),i+=wp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function mh(t,e,r){if(t==null)return t;var n=[],a=0;return wp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function u9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zr={current:null},Cp={transition:null},d9={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Cp,ReactCurrentOwner:xI};function u5(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:mh,forEach:function(t,e,r){mh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!vI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=lu;He.Fragment=Z8;He.Profiler=e9;He.PureComponent=yI;He.StrictMode=Q8;He.Suspense=a9;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d9;He.act=u5;He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=a5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=xI.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)i5.call(e,c)&&!l5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Em,type:t.type,key:a,ref:s,props:n,_owner:i}};He.createContext=function(t){return t={$$typeof:r9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t9,_context:t},t.Consumer=t};He.createElement=c5;He.createFactory=function(t){var e=c5.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:n9,render:t}};He.isValidElement=vI;He.lazy=function(t){return{$$typeof:o9,_payload:{_status:-1,_result:t},_init:u9}};He.memo=function(t,e){return{$$typeof:s9,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Cp.transition;Cp.transition={};try{t()}finally{Cp.transition=e}};He.unstable_act=u5;He.useCallback=function(t,e){return zr.current.useCallback(t,e)};He.useContext=function(t){return zr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return zr.current.useDeferredValue(t)};He.useEffect=function(t,e){return zr.current.useEffect(t,e)};He.useId=function(){return zr.current.useId()};He.useImperativeHandle=function(t,e,r){return zr.current.useImperativeHandle(t,e,r)};He.useInsertionEffect=function(t,e){return zr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return zr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return zr.current.useMemo(t,e)};He.useReducer=function(t,e,r){return zr.current.useReducer(t,e,r)};He.useRef=function(t){return zr.current.useRef(t)};He.useState=function(t){return zr.current.useState(t)};He.useSyncExternalStore=function(t,e,r){return zr.current.useSyncExternalStore(t,e,r)};He.useTransition=function(){return zr.current.useTransition()};He.version="18.3.1";r5.exports=He;var w=r5.exports;const V=at(w),To=J8({__proto__:null,default:V},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f9=w,m9=Symbol.for("react.element"),h9=Symbol.for("react.fragment"),p9=Object.prototype.hasOwnProperty,g9=f9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y9={key:!0,ref:!0,__self:!0,__source:!0};function d5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)p9.call(e,n)&&!y9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:m9,type:t,key:s,ref:i,props:a,_owner:g9.current}}_v.Fragment=h9;_v.jsx=d5;_v.jsxs=d5;t5.exports=_v;var o=t5.exports,pN={},f5={exports:{}},On={},m5={exports:{}},h5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,_){var F=D.length;D.push(_);e:for(;0<F;){var Y=F-1>>>1,G=D[Y];if(0<a(G,_))D[Y]=_,D[F]=G,F=Y;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var _=D[0],F=D.pop();if(F!==_){D[0]=F;e:for(var Y=0,G=D.length,te=G>>>1;Y<te;){var fe=2*(Y+1)-1,ke=D[fe],ae=fe+1,X=D[ae];if(0>a(ke,F))ae<G&&0>a(X,ke)?(D[Y]=X,D[ae]=F,Y=ae):(D[Y]=ke,D[fe]=F,Y=fe);else if(ae<G&&0>a(X,F))D[Y]=X,D[ae]=F,Y=ae;else break e}}return _}function a(D,_){var F=D.sortIndex-_.sortIndex;return F!==0?F:D.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=D)n(u),_.sortIndex=_.expirationTime,e(c,_);else break;_=r(u)}}function N(D){if(b=!1,v(D),!p)if(r(c)!==null)p=!0,B(C);else{var _=r(u);_!==null&&z(N,_.startTime-D)}}function C(D,_){p=!1,b&&(b=!1,x(A),A=-1),h=!0;var F=m;try{for(v(_),f=r(c);f!==null&&(!(f.expirationTime>_)||D&&!E());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var G=Y(f.expirationTime<=_);_=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),v(_)}else n(c);f=r(c)}if(f!==null)var te=!0;else{var fe=r(u);fe!==null&&z(N,fe.startTime-_),te=!1}return te}finally{f=null,m=F,h=!1}}var j=!1,S=null,A=-1,T=5,k=-1;function E(){return!(t.unstable_now()-k<T)}function O(){if(S!==null){var D=t.unstable_now();k=D;var _=!0;try{_=S(!0,D)}finally{_?M():(j=!1,S=null)}}else j=!1}var M;if(typeof y=="function")M=function(){y(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=O,M=function(){$.postMessage(null)}}else M=function(){g(O,0)};function B(D){S=D,j||(j=!0,M())}function z(D,_){A=g(function(){D(t.unstable_now())},_)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,B(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var F=m;m=_;try{return D()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,_){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=m;m=D;try{return _()}finally{m=F}},t.unstable_scheduleCallback=function(D,_,F){var Y=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Y+F:Y):F=Y,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,D={id:d++,callback:_,priorityLevel:D,startTime:F,expirationTime:G,sortIndex:-1},F>Y?(D.sortIndex=F,e(u,D),r(c)===null&&D===r(u)&&(b?(x(A),A=-1):b=!0,z(N,F-Y))):(D.sortIndex=G,e(c,D),p||h||(p=!0,B(C))),D},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(D){var _=m;return function(){var F=m;m=_;try{return D.apply(this,arguments)}finally{m=F}}}})(h5);m5.exports=h5;var b9=m5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x9=w,An=b9;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p5=new Set,ff={};function dl(t,e){kc(t,e),kc(t+"Capture",e)}function kc(t,e){for(ff[t]=e,t=0;t<e.length;t++)p5.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gN=Object.prototype.hasOwnProperty,v9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HP={},GP={};function j9(t){return gN.call(GP,t)?!0:gN.call(HP,t)?!1:v9.test(t)?GP[t]=!0:(HP[t]=!0,!1)}function w9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C9(t,e,r,n){if(e===null||typeof e>"u"||w9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jI=/[\-:]([a-z])/g;function wI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jI,wI);kr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jI,wI);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jI,wI);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function CI(t,e,r,n){var a=kr.hasOwnProperty(e)?kr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(C9(e,r,a,n)&&(r=null),n||a===null?j9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _s=x9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hh=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),NI=Symbol.for("react.strict_mode"),yN=Symbol.for("react.profiler"),g5=Symbol.for("react.provider"),y5=Symbol.for("react.context"),SI=Symbol.for("react.forward_ref"),bN=Symbol.for("react.suspense"),xN=Symbol.for("react.suspense_list"),AI=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),b5=Symbol.for("react.offscreen"),YP=Symbol.iterator;function Ou(t){return t===null||typeof t!="object"?null:(t=YP&&t[YP]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Rw;function ud(t){if(Rw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rw=e&&e[1]||""}return`
`+Rw+t}var Mw=!1;function Lw(t,e){if(!t||Mw)return"";Mw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Mw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ud(t):""}function N9(t){switch(t.tag){case 5:return ud(t.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return t=Lw(t.type,!1),t;case 11:return t=Lw(t.type.render,!1),t;case 1:return t=Lw(t.type,!0),t;default:return""}}function vN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case Ll:return"Portal";case yN:return"Profiler";case NI:return"StrictMode";case bN:return"Suspense";case xN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y5:return(t.displayName||"Context")+".Consumer";case g5:return(t._context.displayName||"Context")+".Provider";case SI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AI:return e=t.displayName||null,e!==null?e:vN(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return vN(t(e))}catch{}}return null}function S9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vN(e);case 8:return e===NI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A9(t){var e=x5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ph(t){t._valueTracker||(t._valueTracker=A9(t))}function v5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=x5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Lb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jN(t,e){var r=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function KP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j5(t,e){e=e.checked,e!=null&&CI(t,"checked",e,!1)}function wN(t,e){j5(t,e);var r=Eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?CN(t,e.type,r):e.hasOwnProperty("defaultValue")&&CN(t,e.type,Eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function CN(t,e,r){(e!=="number"||Lb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var dd=Array.isArray;function tc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Eo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function NN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ue(92));if(dd(r)){if(1<r.length)throw Error(ue(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Eo(r)}}function w5(t,e){var r=Eo(e.value),n=Eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ZP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gh,N5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k9=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(t){k9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ad[e]=Ad[t]})});function S5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ad.hasOwnProperty(t)&&Ad[t]?(""+e).trim():e+"px"}function A5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=S5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var I9=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AN(t,e){if(e){if(I9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function kN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IN=null;function kI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var TN=null,rc=null,nc=null;function QP(t){if(t=Dm(t)){if(typeof TN!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Fv(e),TN(t.stateNode,t.type,e))}}function k5(t){rc?nc?nc.push(t):nc=[t]:rc=t}function I5(){if(rc){var t=rc,e=nc;if(nc=rc=null,QP(t),e)for(t=0;t<e.length;t++)QP(e[t])}}function T5(t,e){return t(e)}function E5(){}var Fw=!1;function P5(t,e,r){if(Fw)return t(e,r);Fw=!0;try{return T5(t,e,r)}finally{Fw=!1,(rc!==null||nc!==null)&&(E5(),I5())}}function hf(t,e){var r=t.stateNode;if(r===null)return null;var n=Fv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ue(231,e,typeof r));return r}var EN=!1;if(Cs)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){EN=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{EN=!1}function T9(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var kd=!1,Fb=null,Bb=!1,PN=null,E9={onError:function(t){kd=!0,Fb=t}};function P9(t,e,r,n,a,s,i,l,c){kd=!1,Fb=null,T9.apply(E9,arguments)}function O9(t,e,r,n,a,s,i,l,c){if(P9.apply(this,arguments),kd){if(kd){var u=Fb;kd=!1,Fb=null}else throw Error(ue(198));Bb||(Bb=!0,PN=u)}}function fl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function O5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eO(t){if(fl(t)!==t)throw Error(ue(188))}function D9(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return eO(a),t;if(s===n)return eO(a),e;s=s.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?t:e}function D5(t){return t=D9(t),t!==null?_5(t):null}function _5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_5(t);if(e!==null)return e;t=t.sibling}return null}var $5=An.unstable_scheduleCallback,tO=An.unstable_cancelCallback,_9=An.unstable_shouldYield,$9=An.unstable_requestPaint,Kt=An.unstable_now,R9=An.unstable_getCurrentPriorityLevel,II=An.unstable_ImmediatePriority,R5=An.unstable_UserBlockingPriority,qb=An.unstable_NormalPriority,M9=An.unstable_LowPriority,M5=An.unstable_IdlePriority,$v=null,_a=null;function L9(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot($v,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:q9,F9=Math.log,B9=Math.LN2;function q9(t){return t>>>=0,t===0?32:31-(F9(t)/B9|0)|0}var yh=64,bh=4194304;function fd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=fd(l):(s&=i,s!==0&&(n=fd(s)))}else i=r&~a,i!==0?n=fd(i):s!==0&&(n=fd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fa(e),a=1<<r,n|=t[r],e&=~a;return n}function V9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U9(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-fa(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=V9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function ON(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L5(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function Bw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Pm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=r}function z9(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-fa(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function TI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ut=0;function F5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B5,EI,q5,V5,U5,DN=!1,xh=[],uo=null,fo=null,mo=null,pf=new Map,gf=new Map,Qs=[],W9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rO(t,e){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":pf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function _u(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Dm(e),e!==null&&EI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function H9(t,e,r,n,a){switch(e){case"focusin":return uo=_u(uo,t,e,r,n,a),!0;case"dragenter":return fo=_u(fo,t,e,r,n,a),!0;case"mouseover":return mo=_u(mo,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return pf.set(s,_u(pf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,gf.set(s,_u(gf.get(s)||null,t,e,r,n,a)),!0}return!1}function z5(t){var e=vi(t.target);if(e!==null){var r=fl(e);if(r!==null){if(e=r.tag,e===13){if(e=O5(r),e!==null){t.blockedOn=e,U5(t.priority,function(){q5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Np(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_N(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);IN=n,r.target.dispatchEvent(n),IN=null}else return e=Dm(r),e!==null&&EI(e),t.blockedOn=r,!1;e.shift()}return!0}function nO(t,e,r){Np(t)&&r.delete(e)}function G9(){DN=!1,uo!==null&&Np(uo)&&(uo=null),fo!==null&&Np(fo)&&(fo=null),mo!==null&&Np(mo)&&(mo=null),pf.forEach(nO),gf.forEach(nO)}function $u(t,e){t.blockedOn===e&&(t.blockedOn=null,DN||(DN=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,G9)))}function yf(t){function e(a){return $u(a,t)}if(0<xh.length){$u(xh[0],t);for(var r=1;r<xh.length;r++){var n=xh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(uo!==null&&$u(uo,t),fo!==null&&$u(fo,t),mo!==null&&$u(mo,t),pf.forEach(e),gf.forEach(e),r=0;r<Qs.length;r++)n=Qs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)z5(r),r.blockedOn===null&&Qs.shift()}var ac=_s.ReactCurrentBatchConfig,Ub=!0;function Y9(t,e,r,n){var a=ut,s=ac.transition;ac.transition=null;try{ut=1,PI(t,e,r,n)}finally{ut=a,ac.transition=s}}function K9(t,e,r,n){var a=ut,s=ac.transition;ac.transition=null;try{ut=4,PI(t,e,r,n)}finally{ut=a,ac.transition=s}}function PI(t,e,r,n){if(Ub){var a=_N(t,e,r,n);if(a===null)Jw(t,e,n,zb,r),rO(t,n);else if(H9(a,t,e,r,n))n.stopPropagation();else if(rO(t,n),e&4&&-1<W9.indexOf(t)){for(;a!==null;){var s=Dm(a);if(s!==null&&B5(s),s=_N(t,e,r,n),s===null&&Jw(t,e,n,zb,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Jw(t,e,n,null,r)}}var zb=null;function _N(t,e,r,n){if(zb=null,t=kI(n),t=vi(t),t!==null)if(e=fl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=O5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zb=t,null}function W5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R9()){case II:return 1;case R5:return 4;case qb:case M9:return 16;case M5:return 536870912;default:return 16}default:return 16}}var ro=null,OI=null,Sp=null;function H5(){if(Sp)return Sp;var t,e=OI,r=e.length,n,a="value"in ro?ro.value:ro.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Sp=a.slice(t,1<n?1-n:void 0)}function Ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function aO(){return!1}function Dn(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:aO,this.isPropagationStopped=aO,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DI=Dn(cu),Om=Ft({},cu,{view:0,detail:0}),J9=Dn(Om),qw,Vw,Ru,Rv=Ft({},Om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_I,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(qw=t.screenX-Ru.screenX,Vw=t.screenY-Ru.screenY):Vw=qw=0,Ru=t),qw)},movementY:function(t){return"movementY"in t?t.movementY:Vw}}),sO=Dn(Rv),X9=Ft({},Rv,{dataTransfer:0}),Z9=Dn(X9),Q9=Ft({},Om,{relatedTarget:0}),Uw=Dn(Q9),eW=Ft({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),tW=Dn(eW),rW=Ft({},cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nW=Dn(rW),aW=Ft({},cu,{data:0}),oO=Dn(aW),sW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iW[t])?!!e[t]:!1}function _I(){return lW}var cW=Ft({},Om,{key:function(t){if(t.key){var e=sW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_I,charCode:function(t){return t.type==="keypress"?Ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uW=Dn(cW),dW=Ft({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iO=Dn(dW),fW=Ft({},Om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_I}),mW=Dn(fW),hW=Ft({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),pW=Dn(hW),gW=Ft({},Rv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yW=Dn(gW),bW=[9,13,27,32],$I=Cs&&"CompositionEvent"in window,Id=null;Cs&&"documentMode"in document&&(Id=document.documentMode);var xW=Cs&&"TextEvent"in window&&!Id,G5=Cs&&(!$I||Id&&8<Id&&11>=Id),lO=" ",cO=!1;function Y5(t,e){switch(t){case"keyup":return bW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function vW(t,e){switch(t){case"compositionend":return K5(e);case"keypress":return e.which!==32?null:(cO=!0,lO);case"textInput":return t=e.data,t===lO&&cO?null:t;default:return null}}function jW(t,e){if(Bl)return t==="compositionend"||!$I&&Y5(t,e)?(t=H5(),Sp=OI=ro=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G5&&e.locale!=="ko"?null:e.data;default:return null}}var wW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wW[t.type]:e==="textarea"}function J5(t,e,r,n){k5(n),e=Wb(e,"onChange"),0<e.length&&(r=new DI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Td=null,bf=null;function CW(t){i4(t,0)}function Mv(t){var e=Ul(t);if(v5(e))return t}function NW(t,e){if(t==="change")return e}var X5=!1;if(Cs){var zw;if(Cs){var Ww="oninput"in document;if(!Ww){var dO=document.createElement("div");dO.setAttribute("oninput","return;"),Ww=typeof dO.oninput=="function"}zw=Ww}else zw=!1;X5=zw&&(!document.documentMode||9<document.documentMode)}function fO(){Td&&(Td.detachEvent("onpropertychange",Z5),bf=Td=null)}function Z5(t){if(t.propertyName==="value"&&Mv(bf)){var e=[];J5(e,bf,t,kI(t)),P5(CW,e)}}function SW(t,e,r){t==="focusin"?(fO(),Td=e,bf=r,Td.attachEvent("onpropertychange",Z5)):t==="focusout"&&fO()}function AW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mv(bf)}function kW(t,e){if(t==="click")return Mv(e)}function IW(t,e){if(t==="input"||t==="change")return Mv(e)}function TW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ba=typeof Object.is=="function"?Object.is:TW;function xf(t,e){if(ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!gN.call(e,a)||!ba(t[a],e[a]))return!1}return!0}function mO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hO(t,e){var r=mO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mO(r)}}function Q5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e4(){for(var t=window,e=Lb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Lb(t.document)}return e}function RI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EW(t){var e=e4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Q5(r.ownerDocument.documentElement,r)){if(n!==null&&RI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=hO(r,s);var i=hO(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PW=Cs&&"documentMode"in document&&11>=document.documentMode,ql=null,$N=null,Ed=null,RN=!1;function pO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RN||ql==null||ql!==Lb(n)||(n=ql,"selectionStart"in n&&RI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ed&&xf(Ed,n)||(Ed=n,n=Wb($N,"onSelect"),0<n.length&&(e=new DI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ql)))}function jh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vl={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionend:jh("Transition","TransitionEnd")},Hw={},t4={};Cs&&(t4=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Lv(t){if(Hw[t])return Hw[t];if(!Vl[t])return t;var e=Vl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in t4)return Hw[t]=e[r];return t}var r4=Lv("animationend"),n4=Lv("animationiteration"),a4=Lv("animationstart"),s4=Lv("transitionend"),o4=new Map,gO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){o4.set(t,e),dl(e,[t])}for(var Gw=0;Gw<gO.length;Gw++){var Yw=gO[Gw],OW=Yw.toLowerCase(),DW=Yw[0].toUpperCase()+Yw.slice(1);Fo(OW,"on"+DW)}Fo(r4,"onAnimationEnd");Fo(n4,"onAnimationIteration");Fo(a4,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(s4,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_W=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function yO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,O9(n,e,void 0,t),t.currentTarget=null}function i4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;yO(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;yO(a,l,u),s=c}}}if(Bb)throw t=PN,Bb=!1,PN=null,t}function Nt(t,e){var r=e[qN];r===void 0&&(r=e[qN]=new Set);var n=t+"__bubble";r.has(n)||(l4(e,t,2,!1),r.add(n))}function Kw(t,e,r){var n=0;e&&(n|=4),l4(r,t,n,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function vf(t){if(!t[wh]){t[wh]=!0,p5.forEach(function(r){r!=="selectionchange"&&(_W.has(r)||Kw(r,!1,t),Kw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,Kw("selectionchange",!1,e))}}function l4(t,e,r,n){switch(W5(e)){case 1:var a=Y9;break;case 4:a=K9;break;default:a=PI}r=a.bind(null,e,r,t),a=void 0,!EN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Jw(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=vi(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}P5(function(){var u=s,d=kI(r),f=[];e:{var m=o4.get(t);if(m!==void 0){var h=DI,p=t;switch(t){case"keypress":if(Ap(r)===0)break e;case"keydown":case"keyup":h=uW;break;case"focusin":p="focus",h=Uw;break;case"focusout":p="blur",h=Uw;break;case"beforeblur":case"afterblur":h=Uw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=sO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mW;break;case r4:case n4:case a4:h=tW;break;case s4:h=pW;break;case"scroll":h=J9;break;case"wheel":h=yW;break;case"copy":case"cut":case"paste":h=nW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=iO}var b=(e&4)!==0,g=!b&&t==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var y=u,v;y!==null;){v=y;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,x!==null&&(N=hf(y,x),N!=null&&b.push(jf(y,N,v)))),g)break;y=y.return}0<b.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==IN&&(p=r.relatedTarget||r.fromElement)&&(vi(p)||p[Ns]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?vi(p):null,p!==null&&(g=fl(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(b=sO,N="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=iO,N="onPointerLeave",x="onPointerEnter",y="pointer"),g=h==null?m:Ul(h),v=p==null?m:Ul(p),m=new b(N,y+"leave",h,r,d),m.target=g,m.relatedTarget=v,N=null,vi(d)===u&&(b=new b(x,y+"enter",p,r,d),b.target=v,b.relatedTarget=g,N=b),g=N,h&&p)t:{for(b=h,x=p,y=0,v=b;v;v=Al(v))y++;for(v=0,N=x;N;N=Al(N))v++;for(;0<y-v;)b=Al(b),y--;for(;0<v-y;)x=Al(x),v--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=Al(b),x=Al(x)}b=null}else b=null;h!==null&&bO(f,m,h,b,!1),p!==null&&g!==null&&bO(f,g,p,b,!0)}}e:{if(m=u?Ul(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=NW;else if(uO(m))if(X5)C=IW;else{C=AW;var j=SW}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=kW);if(C&&(C=C(t,u))){J5(f,C,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&CN(m,"number",m.value)}switch(j=u?Ul(u):window,t){case"focusin":(uO(j)||j.contentEditable==="true")&&(ql=j,$N=u,Ed=null);break;case"focusout":Ed=$N=ql=null;break;case"mousedown":RN=!0;break;case"contextmenu":case"mouseup":case"dragend":RN=!1,pO(f,r,d);break;case"selectionchange":if(PW)break;case"keydown":case"keyup":pO(f,r,d)}var S;if($I)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Bl?Y5(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(G5&&r.locale!=="ko"&&(Bl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Bl&&(S=H5()):(ro=d,OI="value"in ro?ro.value:ro.textContent,Bl=!0)),j=Wb(u,A),0<j.length&&(A=new oO(A,t,null,r,d),f.push({event:A,listeners:j}),S?A.data=S:(S=K5(r),S!==null&&(A.data=S)))),(S=xW?vW(t,r):jW(t,r))&&(u=Wb(u,"onBeforeInput"),0<u.length&&(d=new oO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}i4(f,e)})}function jf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wb(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=hf(t,r),s!=null&&n.unshift(jf(t,s,a)),s=hf(t,e),s!=null&&n.push(jf(t,s,a))),t=t.return}return n}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bO(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=hf(r,s),c!=null&&i.unshift(jf(r,c,l))):a||(c=hf(r,s),c!=null&&i.push(jf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var $W=/\r\n?/g,RW=/\u0000|\uFFFD/g;function xO(t){return(typeof t=="string"?t:""+t).replace($W,`
`).replace(RW,"")}function Ch(t,e,r){if(e=xO(e),xO(t)!==e&&r)throw Error(ue(425))}function Hb(){}var MN=null,LN=null;function FN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BN=typeof setTimeout=="function"?setTimeout:void 0,MW=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,LW=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(t){return vO.resolve(null).then(t).catch(FW)}:BN;function FW(t){setTimeout(function(){throw t})}function Xw(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),yf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);yf(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Pa="__reactFiber$"+uu,wf="__reactProps$"+uu,Ns="__reactContainer$"+uu,qN="__reactEvents$"+uu,BW="__reactListeners$"+uu,qW="__reactHandles$"+uu;function vi(t){var e=t[Pa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ns]||r[Pa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jO(t);t!==null;){if(r=t[Pa])return r;t=jO(t)}return e}t=r,r=t.parentNode}return null}function Dm(t){return t=t[Pa]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Fv(t){return t[wf]||null}var VN=[],zl=-1;function Bo(t){return{current:t}}function It(t){0>zl||(t.current=VN[zl],VN[zl]=null,zl--)}function wt(t,e){zl++,VN[zl]=t.current,t.current=e}var Po={},Rr=Bo(Po),nn=Bo(!1),Ki=Po;function Ic(t,e){var r=t.type.contextTypes;if(!r)return Po;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function an(t){return t=t.childContextTypes,t!=null}function Gb(){It(nn),It(Rr)}function wO(t,e,r){if(Rr.current!==Po)throw Error(ue(168));wt(Rr,e),wt(nn,r)}function c4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ue(108,S9(t)||"Unknown",a));return Ft({},r,n)}function Yb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Po,Ki=Rr.current,wt(Rr,t),wt(nn,nn.current),!0}function CO(t,e,r){var n=t.stateNode;if(!n)throw Error(ue(169));r?(t=c4(t,e,Ki),n.__reactInternalMemoizedMergedChildContext=t,It(nn),It(Rr),wt(Rr,t)):It(nn),wt(nn,r)}var as=null,Bv=!1,Zw=!1;function u4(t){as===null?as=[t]:as.push(t)}function VW(t){Bv=!0,u4(t)}function qo(){if(!Zw&&as!==null){Zw=!0;var t=0,e=ut;try{var r=as;for(ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}as=null,Bv=!1}catch(a){throw as!==null&&(as=as.slice(t+1)),$5(II,qo),a}finally{ut=e,Zw=!1}}return null}var Wl=[],Hl=0,Kb=null,Jb=0,Bn=[],qn=0,Ji=null,ls=1,cs="";function ui(t,e){Wl[Hl++]=Jb,Wl[Hl++]=Kb,Kb=t,Jb=e}function d4(t,e,r){Bn[qn++]=ls,Bn[qn++]=cs,Bn[qn++]=Ji,Ji=t;var n=ls;t=cs;var a=32-fa(n)-1;n&=~(1<<a),r+=1;var s=32-fa(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ls=1<<32-fa(e)+a|r<<a|n,cs=s+t}else ls=1<<s|r<<a|n,cs=t}function MI(t){t.return!==null&&(ui(t,1),d4(t,1,0))}function LI(t){for(;t===Kb;)Kb=Wl[--Hl],Wl[Hl]=null,Jb=Wl[--Hl],Wl[Hl]=null;for(;t===Ji;)Ji=Bn[--qn],Bn[qn]=null,cs=Bn[--qn],Bn[qn]=null,ls=Bn[--qn],Bn[qn]=null}var Cn=null,vn=null,Pt=!1,ia=null;function f4(t,e){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function NO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,vn=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ji!==null?{id:ls,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cn=t,vn=null,!0):!1;default:return!1}}function UN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zN(t){if(Pt){var e=vn;if(e){var r=e;if(!NO(t,e)){if(UN(t))throw Error(ue(418));e=ho(r.nextSibling);var n=Cn;e&&NO(t,e)?f4(n,r):(t.flags=t.flags&-4097|2,Pt=!1,Cn=t)}}else{if(UN(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Pt=!1,Cn=t}}}function SO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function Nh(t){if(t!==Cn)return!1;if(!Pt)return SO(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!FN(t.type,t.memoizedProps)),e&&(e=vn)){if(UN(t))throw m4(),Error(ue(418));for(;e;)f4(t,e),e=ho(e.nextSibling)}if(SO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vn=ho(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=Cn?ho(t.stateNode.nextSibling):null;return!0}function m4(){for(var t=vn;t;)t=ho(t.nextSibling)}function Tc(){vn=Cn=null,Pt=!1}function FI(t){ia===null?ia=[t]:ia.push(t)}var UW=_s.ReactCurrentBatchConfig;function Mu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,t))}return t}function Sh(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AO(t){var e=t._init;return e(t._payload)}function h4(t){function e(x,y){if(t){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=bo(x,y),x.index=0,x.sibling=null,x}function s(x,y,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,v,N){return y===null||y.tag!==6?(y=sC(v,x.mode,N),y.return=x,y):(y=a(y,v),y.return=x,y)}function c(x,y,v,N){var C=v.type;return C===Fl?d(x,y,v.props.children,N,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&AO(C)===y.type)?(N=a(y,v.props),N.ref=Mu(x,y,v),N.return=x,N):(N=Dp(v.type,v.key,v.props,null,x.mode,N),N.ref=Mu(x,y,v),N.return=x,N)}function u(x,y,v,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=oC(v,x.mode,N),y.return=x,y):(y=a(y,v.children||[]),y.return=x,y)}function d(x,y,v,N,C){return y===null||y.tag!==7?(y=Oi(v,x.mode,N,C),y.return=x,y):(y=a(y,v),y.return=x,y)}function f(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sC(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hh:return v=Dp(y.type,y.key,y.props,null,x.mode,v),v.ref=Mu(x,null,y),v.return=x,v;case Ll:return y=oC(y,x.mode,v),y.return=x,y;case Ys:var N=y._init;return f(x,N(y._payload),v)}if(dd(y)||Ou(y))return y=Oi(y,x.mode,v,null),y.return=x,y;Sh(x,y)}return null}function m(x,y,v,N){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(x,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hh:return v.key===C?c(x,y,v,N):null;case Ll:return v.key===C?u(x,y,v,N):null;case Ys:return C=v._init,m(x,y,C(v._payload),N)}if(dd(v)||Ou(v))return C!==null?null:d(x,y,v,N,null);Sh(x,v)}return null}function h(x,y,v,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(v)||null,l(y,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hh:return x=x.get(N.key===null?v:N.key)||null,c(y,x,N,C);case Ll:return x=x.get(N.key===null?v:N.key)||null,u(y,x,N,C);case Ys:var j=N._init;return h(x,y,v,j(N._payload),C)}if(dd(N)||Ou(N))return x=x.get(v)||null,d(y,x,N,C,null);Sh(y,N)}return null}function p(x,y,v,N){for(var C=null,j=null,S=y,A=y=0,T=null;S!==null&&A<v.length;A++){S.index>A?(T=S,S=null):T=S.sibling;var k=m(x,S,v[A],N);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(x,S),y=s(k,y,A),j===null?C=k:j.sibling=k,j=k,S=T}if(A===v.length)return r(x,S),Pt&&ui(x,A),C;if(S===null){for(;A<v.length;A++)S=f(x,v[A],N),S!==null&&(y=s(S,y,A),j===null?C=S:j.sibling=S,j=S);return Pt&&ui(x,A),C}for(S=n(x,S);A<v.length;A++)T=h(S,x,A,v[A],N),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?A:T.key),y=s(T,y,A),j===null?C=T:j.sibling=T,j=T);return t&&S.forEach(function(E){return e(x,E)}),Pt&&ui(x,A),C}function b(x,y,v,N){var C=Ou(v);if(typeof C!="function")throw Error(ue(150));if(v=C.call(v),v==null)throw Error(ue(151));for(var j=C=null,S=y,A=y=0,T=null,k=v.next();S!==null&&!k.done;A++,k=v.next()){S.index>A?(T=S,S=null):T=S.sibling;var E=m(x,S,k.value,N);if(E===null){S===null&&(S=T);break}t&&S&&E.alternate===null&&e(x,S),y=s(E,y,A),j===null?C=E:j.sibling=E,j=E,S=T}if(k.done)return r(x,S),Pt&&ui(x,A),C;if(S===null){for(;!k.done;A++,k=v.next())k=f(x,k.value,N),k!==null&&(y=s(k,y,A),j===null?C=k:j.sibling=k,j=k);return Pt&&ui(x,A),C}for(S=n(x,S);!k.done;A++,k=v.next())k=h(S,x,A,k.value,N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),y=s(k,y,A),j===null?C=k:j.sibling=k,j=k);return t&&S.forEach(function(O){return e(x,O)}),Pt&&ui(x,A),C}function g(x,y,v,N){if(typeof v=="object"&&v!==null&&v.type===Fl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hh:e:{for(var C=v.key,j=y;j!==null;){if(j.key===C){if(C=v.type,C===Fl){if(j.tag===7){r(x,j.sibling),y=a(j,v.props.children),y.return=x,x=y;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&AO(C)===j.type){r(x,j.sibling),y=a(j,v.props),y.ref=Mu(x,j,v),y.return=x,x=y;break e}r(x,j);break}else e(x,j);j=j.sibling}v.type===Fl?(y=Oi(v.props.children,x.mode,N,v.key),y.return=x,x=y):(N=Dp(v.type,v.key,v.props,null,x.mode,N),N.ref=Mu(x,y,v),N.return=x,x=N)}return i(x);case Ll:e:{for(j=v.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(x,y.sibling),y=a(y,v.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=oC(v,x.mode,N),y.return=x,x=y}return i(x);case Ys:return j=v._init,g(x,y,j(v._payload),N)}if(dd(v))return p(x,y,v,N);if(Ou(v))return b(x,y,v,N);Sh(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,v),y.return=x,x=y):(r(x,y),y=sC(v,x.mode,N),y.return=x,x=y),i(x)):r(x,y)}return g}var Ec=h4(!0),p4=h4(!1),Xb=Bo(null),Zb=null,Gl=null,BI=null;function qI(){BI=Gl=Zb=null}function VI(t){var e=Xb.current;It(Xb),t._currentValue=e}function WN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sc(t,e){Zb=t,BI=Gl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(BI!==t)if(t={context:t,memoizedValue:e,next:null},Gl===null){if(Zb===null)throw Error(ue(308));Gl=t,Zb.dependencies={lanes:0,firstContext:t}}else Gl=Gl.next=t;return e}var ji=null;function UI(t){ji===null?ji=[t]:ji.push(t)}function g4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,UI(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ss(t,n)}function Ss(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ks=!1;function zI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ss(t,r)}return a=n.interleaved,a===null?(e.next=e,UI(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ss(t,r)}function kp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,TI(t,r)}}function kO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qb(t,e,r,n){var a=t.updateQueue;Ks=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,b=l;switch(m=e,h=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=Ft({},f,m);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Zi|=i,t.lanes=i,t.memoizedState=f}}function IO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var _m={},$a=Bo(_m),Cf=Bo(_m),Nf=Bo(_m);function wi(t){if(t===_m)throw Error(ue(174));return t}function WI(t,e){switch(wt(Nf,e),wt(Cf,t),wt($a,_m),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SN(e,t)}It($a),wt($a,e)}function Pc(){It($a),It(Cf),It(Nf)}function b4(t){wi(Nf.current);var e=wi($a.current),r=SN(e,t.type);e!==r&&(wt(Cf,t),wt($a,r))}function HI(t){Cf.current===t&&(It($a),It(Cf))}var Mt=Bo(0);function ex(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qw=[];function GI(){for(var t=0;t<Qw.length;t++)Qw[t]._workInProgressVersionPrimary=null;Qw.length=0}var Ip=_s.ReactCurrentDispatcher,eC=_s.ReactCurrentBatchConfig,Xi=0,Lt=null,or=null,hr=null,tx=!1,Pd=!1,Sf=0,zW=0;function Tr(){throw Error(ue(321))}function YI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ba(t[r],e[r]))return!1;return!0}function KI(t,e,r,n,a,s){if(Xi=s,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?YW:KW,t=r(n,a),Pd){s=0;do{if(Pd=!1,Sf=0,25<=s)throw Error(ue(301));s+=1,hr=or=null,e.updateQueue=null,Ip.current=JW,t=r(n,a)}while(Pd)}if(Ip.current=rx,e=or!==null&&or.next!==null,Xi=0,hr=or=Lt=null,tx=!1,e)throw Error(ue(300));return t}function JI(){var t=Sf!==0;return Sf=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Lt.memoizedState=hr=t:hr=hr.next=t,hr}function Kn(){if(or===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=hr===null?Lt.memoizedState:hr.next;if(e!==null)hr=e,or=t;else{if(t===null)throw Error(ue(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},hr===null?Lt.memoizedState=hr=t:hr=hr.next=t}return hr}function Af(t,e){return typeof e=="function"?e(t):e}function tC(t){var e=Kn(),r=e.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=t;var n=or,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Xi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Lt.lanes|=d,Zi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ba(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Lt.lanes|=s,Zi|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function rC(t){var e=Kn(),r=e.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ba(s,e.memoizedState)||(Qr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function x4(){}function v4(t,e){var r=Lt,n=Kn(),a=e(),s=!ba(n.memoizedState,a);if(s&&(n.memoizedState=a,Qr=!0),n=n.queue,XI(C4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,kf(9,w4.bind(null,r,n,a,e),void 0,null),yr===null)throw Error(ue(349));Xi&30||j4(r,e,a)}return a}function j4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function w4(t,e,r,n){e.value=r,e.getSnapshot=n,N4(e)&&S4(t)}function C4(t,e,r){return r(function(){N4(e)&&S4(t)})}function N4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ba(t,r)}catch{return!0}}function S4(t){var e=Ss(t,1);e!==null&&ma(e,t,1,-1)}function TO(t){var e=Aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},e.queue=t,t=t.dispatch=GW.bind(null,Lt,t),[e.memoizedState,t]}function kf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function A4(){return Kn().memoizedState}function Tp(t,e,r,n){var a=Aa();Lt.flags|=t,a.memoizedState=kf(1|e,r,void 0,n===void 0?null:n)}function qv(t,e,r,n){var a=Kn();n=n===void 0?null:n;var s=void 0;if(or!==null){var i=or.memoizedState;if(s=i.destroy,n!==null&&YI(n,i.deps)){a.memoizedState=kf(e,r,s,n);return}}Lt.flags|=t,a.memoizedState=kf(1|e,r,s,n)}function EO(t,e){return Tp(8390656,8,t,e)}function XI(t,e){return qv(2048,8,t,e)}function k4(t,e){return qv(4,2,t,e)}function I4(t,e){return qv(4,4,t,e)}function T4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E4(t,e,r){return r=r!=null?r.concat([t]):null,qv(4,4,T4.bind(null,e,t),r)}function ZI(){}function P4(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&YI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function O4(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&YI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function D4(t,e,r){return Xi&21?(ba(r,e)||(r=L5(),Lt.lanes|=r,Zi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=r)}function WW(t,e){var r=ut;ut=r!==0&&4>r?r:4,t(!0);var n=eC.transition;eC.transition={};try{t(!1),e()}finally{ut=r,eC.transition=n}}function _4(){return Kn().memoizedState}function HW(t,e,r){var n=yo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$4(t))R4(e,r);else if(r=g4(t,e,r,n),r!==null){var a=Ur();ma(r,t,n,a),M4(r,e,n)}}function GW(t,e,r){var n=yo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($4(t))R4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ba(l,i)){var c=e.interleaved;c===null?(a.next=a,UI(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=g4(t,e,a,n),r!==null&&(a=Ur(),ma(r,t,n,a),M4(r,e,n))}}function $4(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function R4(t,e){Pd=tx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function M4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,TI(t,r)}}var rx={readContext:Yn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},YW={readContext:Yn,useCallback:function(t,e){return Aa().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:EO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Tp(4194308,4,T4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Tp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tp(4,2,t,e)},useMemo:function(t,e){var r=Aa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Aa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HW.bind(null,Lt,t),[n.memoizedState,t]},useRef:function(t){var e=Aa();return t={current:t},e.memoizedState=t},useState:TO,useDebugValue:ZI,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=TO(!1),e=t[0];return t=WW.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Lt,a=Aa();if(Pt){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=e(),yr===null)throw Error(ue(349));Xi&30||j4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,EO(C4.bind(null,n,s,t),[t]),n.flags|=2048,kf(9,w4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Aa(),e=yr.identifierPrefix;if(Pt){var r=cs,n=ls;r=(n&~(1<<32-fa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Sf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zW++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KW={readContext:Yn,useCallback:P4,useContext:Yn,useEffect:XI,useImperativeHandle:E4,useInsertionEffect:k4,useLayoutEffect:I4,useMemo:O4,useReducer:tC,useRef:A4,useState:function(){return tC(Af)},useDebugValue:ZI,useDeferredValue:function(t){var e=Kn();return D4(e,or.memoizedState,t)},useTransition:function(){var t=tC(Af)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:x4,useSyncExternalStore:v4,useId:_4,unstable_isNewReconciler:!1},JW={readContext:Yn,useCallback:P4,useContext:Yn,useEffect:XI,useImperativeHandle:E4,useInsertionEffect:k4,useLayoutEffect:I4,useMemo:O4,useReducer:rC,useRef:A4,useState:function(){return rC(Af)},useDebugValue:ZI,useDeferredValue:function(t){var e=Kn();return or===null?e.memoizedState=t:D4(e,or.memoizedState,t)},useTransition:function(){var t=rC(Af)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:x4,useSyncExternalStore:v4,useId:_4,unstable_isNewReconciler:!1};function sa(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function HN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vv={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),a=yo(t),s=ps(n,a);s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ma(e,t,a,n),kp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),a=yo(t),s=ps(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ma(e,t,a,n),kp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=yo(t),a=ps(r,n);a.tag=2,e!=null&&(a.callback=e),e=po(t,a,n),e!==null&&(ma(e,t,n,r),kp(e,t,n))}};function PO(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!xf(r,n)||!xf(a,s):!0}function L4(t,e,r){var n=!1,a=Po,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(a=an(e)?Ki:Rr.current,n=e.contextTypes,s=(n=n!=null)?Ic(t,a):Po),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function OO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vv.enqueueReplaceState(e,e.state,null)}function GN(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},zI(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Yn(s):(s=an(e)?Ki:Rr.current,a.context=Ic(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(HN(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Vv.enqueueReplaceState(a,a.state,null),Qb(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Oc(t,e){try{var r="",n=e;do r+=N9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function nC(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function YN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XW=typeof WeakMap=="function"?WeakMap:Map;function F4(t,e,r){r=ps(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ax||(ax=!0,aS=n),YN(t,e)},r}function B4(t,e,r){r=ps(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){YN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){YN(t,e),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function DO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XW;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=dH.bind(null,t,e,r),e.then(t,t))}function _O(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $O(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ps(-1,1),e.tag=2,po(r,e,1))),r.lanes|=1),t)}var ZW=_s.ReactCurrentOwner,Qr=!1;function Br(t,e,r,n){e.child=t===null?p4(e,null,r,n):Ec(e,t.child,r,n)}function RO(t,e,r,n,a){r=r.render;var s=e.ref;return sc(e,a),n=KI(t,e,r,n,s,a),r=JI(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,As(t,e,a)):(Pt&&r&&MI(e),e.flags|=1,Br(t,e,n,a),e.child)}function MO(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!oT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,q4(t,e,s,n,a)):(t=Dp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:xf,r(i,n)&&t.ref===e.ref)return As(t,e,a)}return e.flags|=1,t=bo(s,n),t.ref=e.ref,t.return=e,e.child=t}function q4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(xf(s,n)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,As(t,e,a)}return KN(t,e,r,n,a)}function V4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Kl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(Kl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,wt(Kl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,wt(Kl,gn),gn|=n;return Br(t,e,a,r),e.child}function U4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function KN(t,e,r,n,a){var s=an(r)?Ki:Rr.current;return s=Ic(e,s),sc(e,a),r=KI(t,e,r,n,s,a),n=JI(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,As(t,e,a)):(Pt&&n&&MI(e),e.flags|=1,Br(t,e,r,a),e.child)}function LO(t,e,r,n,a){if(an(r)){var s=!0;Yb(e)}else s=!1;if(sc(e,a),e.stateNode===null)Ep(t,e),L4(e,r,n),GN(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=an(r)?Ki:Rr.current,u=Ic(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&OO(e,i,n,u),Ks=!1;var m=e.memoizedState;i.state=m,Qb(e,n,i,a),c=e.memoizedState,l!==n||m!==c||nn.current||Ks?(typeof d=="function"&&(HN(e,r,d,n),c=e.memoizedState),(l=Ks||PO(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,y4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sa(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=an(r)?Ki:Rr.current,c=Ic(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&OO(e,i,n,c),Ks=!1,m=e.memoizedState,i.state=m,Qb(e,n,i,a);var p=e.memoizedState;l!==f||m!==p||nn.current||Ks?(typeof h=="function"&&(HN(e,r,h,n),p=e.memoizedState),(u=Ks||PO(e,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return JN(t,e,r,n,s,a)}function JN(t,e,r,n,a,s){U4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&CO(e,r,!1),As(t,e,s);n=e.stateNode,ZW.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Ec(e,t.child,null,s),e.child=Ec(e,null,l,s)):Br(t,e,l,s),e.memoizedState=n.state,a&&CO(e,r,!0),e.child}function z4(t){var e=t.stateNode;e.pendingContext?wO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wO(t,e.context,!1),WI(t,e.containerInfo)}function FO(t,e,r,n,a){return Tc(),FI(a),e.flags|=256,Br(t,e,r,n),e.child}var XN={dehydrated:null,treeContext:null,retryLane:0};function ZN(t){return{baseLanes:t,cachePool:null,transitions:null}}function W4(t,e,r){var n=e.pendingProps,a=Mt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),wt(Mt,a&1),t===null)return zN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Wv(i,n,0,null),t=Oi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ZN(r),e.memoizedState=XN,t):QI(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QW(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=bo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bo(l,s):(s=Oi(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?ZN(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=XN,n}return s=t.child,t=s.sibling,n=bo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function QI(t,e){return e=Wv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,r,n){return n!==null&&FI(n),Ec(e,t.child,null,r),t=QI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QW(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=nC(Error(ue(422))),Ah(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Wv({mode:"visible",children:n.children},a,0,null),s=Oi(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ec(e,t.child,null,i),e.child.memoizedState=ZN(i),e.memoizedState=XN,s);if(!(e.mode&1))return Ah(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ue(419)),n=nC(s,n,void 0),Ah(t,e,i,n)}if(l=(i&t.childLanes)!==0,Qr||l){if(n=yr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ss(t,a),ma(n,t,a,-1))}return sT(),n=nC(Error(ue(421))),Ah(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=fH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,vn=ho(a.nextSibling),Cn=e,Pt=!0,ia=null,t!==null&&(Bn[qn++]=ls,Bn[qn++]=cs,Bn[qn++]=Ji,ls=t.id,cs=t.overflow,Ji=e),e=QI(e,n.children),e.flags|=4096,e)}function BO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),WN(t.return,e,r)}function aC(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function H4(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Br(t,e,n.children,r),n=Mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BO(t,r,e);else if(t.tag===19)BO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wt(Mt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&ex(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),aC(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&ex(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}aC(e,!0,r,null,s);break;case"together":aC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ep(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,r=bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function eH(t,e,r){switch(e.tag){case 3:z4(e),Tc();break;case 5:b4(e);break;case 1:an(e.type)&&Yb(e);break;case 4:WI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;wt(Xb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wt(Mt,Mt.current&1),e.flags|=128,null):r&e.child.childLanes?W4(t,e,r):(wt(Mt,Mt.current&1),t=As(t,e,r),t!==null?t.sibling:null);wt(Mt,Mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return H4(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),wt(Mt,Mt.current),n)break;return null;case 22:case 23:return e.lanes=0,V4(t,e,r)}return As(t,e,r)}var G4,QN,Y4,K4;G4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};QN=function(){};Y4=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,wi($a.current);var s=null;switch(r){case"input":a=jN(t,a),n=jN(t,n),s=[];break;case"select":a=Ft({},a,{value:void 0}),n=Ft({},n,{value:void 0}),s=[];break;case"textarea":a=NN(t,a),n=NN(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hb)}AN(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ff.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};K4=function(t,e,r,n){r!==n&&(e.flags|=4)};function Lu(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Er(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function tH(t,e,r){var n=e.pendingProps;switch(LI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(e),null;case 1:return an(e.type)&&Gb(),Er(e),null;case 3:return n=e.stateNode,Pc(),It(nn),It(Rr),GI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ia!==null&&(iS(ia),ia=null))),QN(t,e),Er(e),null;case 5:HI(e);var a=wi(Nf.current);if(r=e.type,t!==null&&e.stateNode!=null)Y4(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ue(166));return Er(e),null}if(t=wi($a.current),Nh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Pa]=e,n[wf]=s,t=(e.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<md.length;a++)Nt(md[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":KP(n,s),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",n);break;case"textarea":XP(n,s),Nt("invalid",n)}AN(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ch(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ch(n.textContent,l,t),a=["children",""+l]):ff.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Nt("scroll",n)}switch(r){case"input":ph(n),JP(n,s,!0);break;case"textarea":ph(n),ZP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Hb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Pa]=e,t[wf]=n,G4(t,e,!1,!1),e.stateNode=t;e:{switch(i=kN(r,n),r){case"dialog":Nt("cancel",t),Nt("close",t),a=n;break;case"iframe":case"object":case"embed":Nt("load",t),a=n;break;case"video":case"audio":for(a=0;a<md.length;a++)Nt(md[a],t);a=n;break;case"source":Nt("error",t),a=n;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),a=n;break;case"details":Nt("toggle",t),a=n;break;case"input":KP(t,n),a=jN(t,n),Nt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ft({},n,{value:void 0}),Nt("invalid",t);break;case"textarea":XP(t,n),a=NN(t,n),Nt("invalid",t);break;default:a=n}AN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?A5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mf(t,c):typeof c=="number"&&mf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Nt("scroll",t):c!=null&&CI(t,s,c,i))}switch(r){case"input":ph(t),JP(t,n,!1);break;case"textarea":ph(t),ZP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Eo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?tc(t,!!n.multiple,s,!1):n.defaultValue!=null&&tc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Hb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Er(e),null;case 6:if(t&&e.stateNode!=null)K4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ue(166));if(r=wi(Nf.current),wi($a.current),Nh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pa]=e,(s=n.nodeValue!==r)&&(t=Cn,t!==null))switch(t.tag){case 3:Ch(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ch(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pa]=e,e.stateNode=n}return Er(e),null;case 13:if(It(Mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&vn!==null&&e.mode&1&&!(e.flags&128))m4(),Tc(),e.flags|=98560,s=!1;else if(s=Nh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Pa]=e}else Tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Er(e),s=!1}else ia!==null&&(iS(ia),ia=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?ir===0&&(ir=3):sT())),e.updateQueue!==null&&(e.flags|=4),Er(e),null);case 4:return Pc(),QN(t,e),t===null&&vf(e.stateNode.containerInfo),Er(e),null;case 10:return VI(e.type._context),Er(e),null;case 17:return an(e.type)&&Gb(),Er(e),null;case 19:if(It(Mt),s=e.memoizedState,s===null)return Er(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Lu(s,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ex(t),i!==null){for(e.flags|=128,Lu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wt(Mt,Mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kt()>Dc&&(e.flags|=128,n=!0,Lu(s,!1),e.lanes=4194304)}else{if(!n)if(t=ex(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Lu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Pt)return Er(e),null}else 2*Kt()-s.renderingStartTime>Dc&&r!==1073741824&&(e.flags|=128,n=!0,Lu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kt(),e.sibling=null,r=Mt.current,wt(Mt,n?r&1|2:r&1),e):(Er(e),null);case 22:case 23:return aT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Er(e),e.subtreeFlags&6&&(e.flags|=8192)):Er(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function rH(t,e){switch(LI(e),e.tag){case 1:return an(e.type)&&Gb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pc(),It(nn),It(Rr),GI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HI(e),null;case 13:if(It(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return It(Mt),null;case 4:return Pc(),null;case 10:return VI(e.type._context),null;case 22:case 23:return aT(),null;case 24:return null;default:return null}}var kh=!1,Dr=!1,nH=typeof WeakSet=="function"?WeakSet:Set,we=null;function Yl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(t,e,n)}else r.current=null}function eS(t,e,r){try{r()}catch(n){Vt(t,e,n)}}var qO=!1;function aH(t,e){if(MN=Ub,t=e4(),RI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(LN={focusedElem:t,selectionRange:r},Ub=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,g=p.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:sa(e.type,b),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){Vt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return p=qO,qO=!1,p}function Od(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&eS(e,r,s)}a=a.next}while(a!==n)}}function Uv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function J4(t){var e=t.alternate;e!==null&&(t.alternate=null,J4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pa],delete e[wf],delete e[qN],delete e[BW],delete e[qW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X4(t){return t.tag===5||t.tag===3||t.tag===4}function VO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hb));else if(n!==4&&(t=t.child,t!==null))for(rS(t,e,r),t=t.sibling;t!==null;)rS(t,e,r),t=t.sibling}function nS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nS(t,e,r),t=t.sibling;t!==null;)nS(t,e,r),t=t.sibling}var Cr=null,oa=!1;function zs(t,e,r){for(r=r.child;r!==null;)Z4(t,e,r),r=r.sibling}function Z4(t,e,r){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount($v,r)}catch{}switch(r.tag){case 5:Dr||Yl(r,e);case 6:var n=Cr,a=oa;Cr=null,zs(t,e,r),Cr=n,oa=a,Cr!==null&&(oa?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(oa?(t=Cr,r=r.stateNode,t.nodeType===8?Xw(t.parentNode,r):t.nodeType===1&&Xw(t,r),yf(t)):Xw(Cr,r.stateNode));break;case 4:n=Cr,a=oa,Cr=r.stateNode.containerInfo,oa=!0,zs(t,e,r),Cr=n,oa=a;break;case 0:case 11:case 14:case 15:if(!Dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&eS(r,e,i),a=a.next}while(a!==n)}zs(t,e,r);break;case 1:if(!Dr&&(Yl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vt(r,e,l)}zs(t,e,r);break;case 21:zs(t,e,r);break;case 22:r.mode&1?(Dr=(n=Dr)||r.memoizedState!==null,zs(t,e,r),Dr=n):zs(t,e,r);break;default:zs(t,e,r)}}function UO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nH),e.forEach(function(n){var a=mH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ra(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Cr=l.stateNode,oa=!1;break e;case 3:Cr=l.stateNode.containerInfo,oa=!0;break e;case 4:Cr=l.stateNode.containerInfo,oa=!0;break e}l=l.return}if(Cr===null)throw Error(ue(160));Z4(s,i,a),Cr=null,oa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Vt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q4(e,t),e=e.sibling}function Q4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ra(e,t),Ca(t),n&4){try{Od(3,t,t.return),Uv(3,t)}catch(b){Vt(t,t.return,b)}try{Od(5,t,t.return)}catch(b){Vt(t,t.return,b)}}break;case 1:ra(e,t),Ca(t),n&512&&r!==null&&Yl(r,r.return);break;case 5:if(ra(e,t),Ca(t),n&512&&r!==null&&Yl(r,r.return),t.flags&32){var a=t.stateNode;try{mf(a,"")}catch(b){Vt(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&j5(a,s),kN(l,i);var u=kN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?A5(a,f):d==="dangerouslySetInnerHTML"?N5(a,f):d==="children"?mf(a,f):CI(a,d,f,u)}switch(l){case"input":wN(a,s);break;case"textarea":w5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?tc(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?tc(a,!!s.multiple,s.defaultValue,!0):tc(a,!!s.multiple,s.multiple?[]:"",!1))}a[wf]=s}catch(b){Vt(t,t.return,b)}}break;case 6:if(ra(e,t),Ca(t),n&4){if(t.stateNode===null)throw Error(ue(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(b){Vt(t,t.return,b)}}break;case 3:if(ra(e,t),Ca(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(b){Vt(t,t.return,b)}break;case 4:ra(e,t),Ca(t);break;case 13:ra(e,t),Ca(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(rT=Kt())),n&4&&UO(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Dr=(u=Dr)||d,ra(e,t),Dr=u):ra(e,t),Ca(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(f=we=d;we!==null;){switch(m=we,h=m.child,m.tag){case 0:case 11:case 14:case 15:Od(4,m,m.return);break;case 1:Yl(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(b){Vt(n,r,b)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){WO(f);continue}}h!==null?(h.return=m,we=h):WO(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S5("display",i))}catch(b){Vt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Vt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ra(e,t),Ca(t),n&4&&UO(t);break;case 21:break;default:ra(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(X4(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mf(a,""),n.flags&=-33);var s=VO(t);nS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=VO(t);rS(t,l,i);break;default:throw Error(ue(161))}}catch(c){Vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sH(t,e,r){we=t,eB(t)}function eB(t,e,r){for(var n=(t.mode&1)!==0;we!==null;){var a=we,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||kh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dr;l=kh;var u=Dr;if(kh=i,(Dr=c)&&!u)for(we=a;we!==null;)i=we,c=i.child,i.tag===22&&i.memoizedState!==null?HO(a):c!==null?(c.return=i,we=c):HO(a);for(;s!==null;)we=s,eB(s),s=s.sibling;we=a,kh=l,Dr=u}zO(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,we=s):zO(t)}}function zO(t){for(;we!==null;){var e=we;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dr||Uv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Dr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:sa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IO(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}IO(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Dr||e.flags&512&&tS(e)}catch(m){Vt(e,e.return,m)}}if(e===t){we=null;break}if(r=e.sibling,r!==null){r.return=e.return,we=r;break}we=e.return}}function WO(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var r=e.sibling;if(r!==null){r.return=e.return,we=r;break}we=e.return}}function HO(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Uv(4,e)}catch(c){Vt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Vt(e,a,c)}}var s=e.return;try{tS(e)}catch(c){Vt(e,s,c)}break;case 5:var i=e.return;try{tS(e)}catch(c){Vt(e,i,c)}}}catch(c){Vt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var oH=Math.ceil,nx=_s.ReactCurrentDispatcher,eT=_s.ReactCurrentOwner,Hn=_s.ReactCurrentBatchConfig,Je=0,yr=null,er=null,Ar=0,gn=0,Kl=Bo(0),ir=0,If=null,Zi=0,zv=0,tT=0,Dd=null,Jr=null,rT=0,Dc=1/0,ts=null,ax=!1,aS=null,go=null,Ih=!1,no=null,sx=0,_d=0,sS=null,Pp=-1,Op=0;function Ur(){return Je&6?Kt():Pp!==-1?Pp:Pp=Kt()}function yo(t){return t.mode&1?Je&2&&Ar!==0?Ar&-Ar:UW.transition!==null?(Op===0&&(Op=L5()),Op):(t=ut,t!==0||(t=window.event,t=t===void 0?16:W5(t.type)),t):1}function ma(t,e,r,n){if(50<_d)throw _d=0,sS=null,Error(ue(185));Pm(t,r,n),(!(Je&2)||t!==yr)&&(t===yr&&(!(Je&2)&&(zv|=r),ir===4&&eo(t,Ar)),sn(t,n),r===1&&Je===0&&!(e.mode&1)&&(Dc=Kt()+500,Bv&&qo()))}function sn(t,e){var r=t.callbackNode;U9(t,e);var n=Vb(t,t===yr?Ar:0);if(n===0)r!==null&&tO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&tO(r),e===1)t.tag===0?VW(GO.bind(null,t)):u4(GO.bind(null,t)),LW(function(){!(Je&6)&&qo()}),r=null;else{switch(F5(n)){case 1:r=II;break;case 4:r=R5;break;case 16:r=qb;break;case 536870912:r=M5;break;default:r=qb}r=lB(r,tB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function tB(t,e){if(Pp=-1,Op=0,Je&6)throw Error(ue(327));var r=t.callbackNode;if(oc()&&t.callbackNode!==r)return null;var n=Vb(t,t===yr?Ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ox(t,n);else{e=n;var a=Je;Je|=2;var s=nB();(yr!==t||Ar!==e)&&(ts=null,Dc=Kt()+500,Pi(t,e));do try{cH();break}catch(l){rB(t,l)}while(!0);qI(),nx.current=s,Je=a,er!==null?e=0:(yr=null,Ar=0,e=ir)}if(e!==0){if(e===2&&(a=ON(t),a!==0&&(n=a,e=oS(t,a))),e===1)throw r=If,Pi(t,0),eo(t,n),sn(t,Kt()),r;if(e===6)eo(t,n);else{if(a=t.current.alternate,!(n&30)&&!iH(a)&&(e=ox(t,n),e===2&&(s=ON(t),s!==0&&(n=s,e=oS(t,s))),e===1))throw r=If,Pi(t,0),eo(t,n),sn(t,Kt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ue(345));case 2:di(t,Jr,ts);break;case 3:if(eo(t,n),(n&130023424)===n&&(e=rT+500-Kt(),10<e)){if(Vb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ur(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=BN(di.bind(null,t,Jr,ts),e);break}di(t,Jr,ts);break;case 4:if(eo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-fa(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oH(n/1960))-n,10<n){t.timeoutHandle=BN(di.bind(null,t,Jr,ts),n);break}di(t,Jr,ts);break;case 5:di(t,Jr,ts);break;default:throw Error(ue(329))}}}return sn(t,Kt()),t.callbackNode===r?tB.bind(null,t):null}function oS(t,e){var r=Dd;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=ox(t,e),t!==2&&(e=Jr,Jr=r,e!==null&&iS(e)),t}function iS(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function iH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ba(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~tT,e&=~zv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fa(e),n=1<<r;t[r]=-1,e&=~n}}function GO(t){if(Je&6)throw Error(ue(327));oc();var e=Vb(t,0);if(!(e&1))return sn(t,Kt()),null;var r=ox(t,e);if(t.tag!==0&&r===2){var n=ON(t);n!==0&&(e=n,r=oS(t,n))}if(r===1)throw r=If,Pi(t,0),eo(t,e),sn(t,Kt()),r;if(r===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Jr,ts),sn(t,Kt()),null}function nT(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(Dc=Kt()+500,Bv&&qo())}}function Qi(t){no!==null&&no.tag===0&&!(Je&6)&&oc();var e=Je;Je|=1;var r=Hn.transition,n=ut;try{if(Hn.transition=null,ut=1,t)return t()}finally{ut=n,Hn.transition=r,Je=e,!(Je&6)&&qo()}}function aT(){gn=Kl.current,It(Kl)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MW(r)),er!==null)for(r=er.return;r!==null;){var n=r;switch(LI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gb();break;case 3:Pc(),It(nn),It(Rr),GI();break;case 5:HI(n);break;case 4:Pc();break;case 13:It(Mt);break;case 19:It(Mt);break;case 10:VI(n.type._context);break;case 22:case 23:aT()}r=r.return}if(yr=t,er=t=bo(t.current,null),Ar=gn=e,ir=0,If=null,tT=zv=Zi=0,Jr=Dd=null,ji!==null){for(e=0;e<ji.length;e++)if(r=ji[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}ji=null}return t}function rB(t,e){do{var r=er;try{if(qI(),Ip.current=rx,tx){for(var n=Lt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}tx=!1}if(Xi=0,hr=or=Lt=null,Pd=!1,Sf=0,eT.current=null,r===null||r.return===null){ir=1,If=e,er=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=_O(i);if(h!==null){h.flags&=-257,$O(h,i,l,s,e),h.mode&1&&DO(s,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var b=new Set;b.add(c),e.updateQueue=b}else p.add(c);break e}else{if(!(e&1)){DO(s,u,e),sT();break e}c=Error(ue(426))}}else if(Pt&&l.mode&1){var g=_O(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),$O(g,i,l,s,e),FI(Oc(c,l));break e}}s=c=Oc(c,l),ir!==4&&(ir=2),Dd===null?Dd=[s]:Dd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=F4(s,c,e);kO(s,x);break e;case 1:l=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(go===null||!go.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=B4(s,l,e);kO(s,N);break e}}s=s.return}while(s!==null)}sB(r)}catch(C){e=C,er===r&&r!==null&&(er=r=r.return);continue}break}while(!0)}function nB(){var t=nx.current;return nx.current=rx,t===null?rx:t}function sT(){(ir===0||ir===3||ir===2)&&(ir=4),yr===null||!(Zi&268435455)&&!(zv&268435455)||eo(yr,Ar)}function ox(t,e){var r=Je;Je|=2;var n=nB();(yr!==t||Ar!==e)&&(ts=null,Pi(t,e));do try{lH();break}catch(a){rB(t,a)}while(!0);if(qI(),Je=r,nx.current=n,er!==null)throw Error(ue(261));return yr=null,Ar=0,ir}function lH(){for(;er!==null;)aB(er)}function cH(){for(;er!==null&&!_9();)aB(er)}function aB(t){var e=iB(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?sB(t):er=e,eT.current=null}function sB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rH(r,e),r!==null){r.flags&=32767,er=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,er=null;return}}else if(r=tH(r,e,gn),r!==null){er=r;return}if(e=e.sibling,e!==null){er=e;return}er=e=t}while(e!==null);ir===0&&(ir=5)}function di(t,e,r){var n=ut,a=Hn.transition;try{Hn.transition=null,ut=1,uH(t,e,r,n)}finally{Hn.transition=a,ut=n}return null}function uH(t,e,r,n){do oc();while(no!==null);if(Je&6)throw Error(ue(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(z9(t,s),t===yr&&(er=yr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ih||(Ih=!0,lB(qb,function(){return oc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var i=ut;ut=1;var l=Je;Je|=4,eT.current=null,aH(t,r),Q4(r,t),EW(LN),Ub=!!MN,LN=MN=null,t.current=r,sH(r),$9(),Je=l,ut=i,Hn.transition=s}else t.current=r;if(Ih&&(Ih=!1,no=t,sx=a),s=t.pendingLanes,s===0&&(go=null),L9(r.stateNode),sn(t,Kt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ax)throw ax=!1,t=aS,aS=null,t;return sx&1&&t.tag!==0&&oc(),s=t.pendingLanes,s&1?t===sS?_d++:(_d=0,sS=t):_d=0,qo(),null}function oc(){if(no!==null){var t=F5(sx),e=Hn.transition,r=ut;try{if(Hn.transition=null,ut=16>t?16:t,no===null)var n=!1;else{if(t=no,no=null,sx=0,Je&6)throw Error(ue(331));var a=Je;for(Je|=4,we=t.current;we!==null;){var s=we,i=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Od(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var m=d.sibling,h=d.return;if(J4(d),d===u){we=null;break}if(m!==null){m.return=h,we=m;break}we=h}}}var p=s.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}we=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,we=i;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Od(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,we=x;break e}we=s.return}}var y=t.current;for(we=y;we!==null;){i=we;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,we=v;else e:for(i=y;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uv(9,l)}}catch(C){Vt(l,l.return,C)}if(l===i){we=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,we=N;break e}we=l.return}}if(Je=a,qo(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot($v,t)}catch{}n=!0}return n}finally{ut=r,Hn.transition=e}}return!1}function YO(t,e,r){e=Oc(r,e),e=F4(t,e,1),t=po(t,e,1),e=Ur(),t!==null&&(Pm(t,1,e),sn(t,e))}function Vt(t,e,r){if(t.tag===3)YO(t,t,r);else for(;e!==null;){if(e.tag===3){YO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){t=Oc(r,t),t=B4(e,t,1),e=po(e,t,1),t=Ur(),e!==null&&(Pm(e,1,t),sn(e,t));break}}e=e.return}}function dH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,yr===t&&(Ar&r)===r&&(ir===4||ir===3&&(Ar&130023424)===Ar&&500>Kt()-rT?Pi(t,0):tT|=r),sn(t,e)}function oB(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var r=Ur();t=Ss(t,e),t!==null&&(Pm(t,e,r),sn(t,r))}function fH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),oB(t,r)}function mH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(e),oB(t,r)}var iB;iB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Qr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qr=!1,eH(t,e,r);Qr=!!(t.flags&131072)}else Qr=!1,Pt&&e.flags&1048576&&d4(e,Jb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ep(t,e),t=e.pendingProps;var a=Ic(e,Rr.current);sc(e,r),a=KI(null,e,n,t,a,r);var s=JI();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,Yb(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zI(e),a.updater=Vv,e.stateNode=a,a._reactInternals=e,GN(e,n,t,r),e=JN(null,e,n,!0,s,r)):(e.tag=0,Pt&&s&&MI(e),Br(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ep(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=pH(n),t=sa(n,t),a){case 0:e=KN(null,e,n,t,r);break e;case 1:e=LO(null,e,n,t,r);break e;case 11:e=RO(null,e,n,t,r);break e;case 14:e=MO(null,e,n,sa(n.type,t),r);break e}throw Error(ue(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),KN(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),LO(t,e,n,a,r);case 3:e:{if(z4(e),t===null)throw Error(ue(387));n=e.pendingProps,s=e.memoizedState,a=s.element,y4(t,e),Qb(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Oc(Error(ue(423)),e),e=FO(t,e,n,r,a);break e}else if(n!==a){a=Oc(Error(ue(424)),e),e=FO(t,e,n,r,a);break e}else for(vn=ho(e.stateNode.containerInfo.firstChild),Cn=e,Pt=!0,ia=null,r=p4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tc(),n===a){e=As(t,e,r);break e}Br(t,e,n,r)}e=e.child}return e;case 5:return b4(e),t===null&&zN(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,FN(n,a)?i=null:s!==null&&FN(n,s)&&(e.flags|=32),U4(t,e),Br(t,e,i,r),e.child;case 6:return t===null&&zN(e),null;case 13:return W4(t,e,r);case 4:return WI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ec(e,null,n,r):Br(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),RO(t,e,n,a,r);case 7:return Br(t,e,e.pendingProps,r),e.child;case 8:return Br(t,e,e.pendingProps.children,r),e.child;case 12:return Br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,wt(Xb,n._currentValue),n._currentValue=i,s!==null)if(ba(s.value,i)){if(s.children===a.children&&!nn.current){e=As(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ps(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),WN(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),WN(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Br(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,sc(e,r),a=Yn(a),n=n(a),e.flags|=1,Br(t,e,n,r),e.child;case 14:return n=e.type,a=sa(n,e.pendingProps),a=sa(n.type,a),MO(t,e,n,a,r);case 15:return q4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),Ep(t,e),e.tag=1,an(n)?(t=!0,Yb(e)):t=!1,sc(e,r),L4(e,n,a),GN(e,n,a,r),JN(null,e,n,!0,t,r);case 19:return H4(t,e,r);case 22:return V4(t,e,r)}throw Error(ue(156,e.tag))};function lB(t,e){return $5(t,e)}function hH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,r,n){return new hH(t,e,r,n)}function oT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pH(t){if(typeof t=="function")return oT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SI)return 11;if(t===AI)return 14}return 2}function bo(t,e){var r=t.alternate;return r===null?(r=Un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")oT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Fl:return Oi(r.children,a,s,e);case NI:i=8,a|=8;break;case yN:return t=Un(12,r,e,a|2),t.elementType=yN,t.lanes=s,t;case bN:return t=Un(13,r,e,a),t.elementType=bN,t.lanes=s,t;case xN:return t=Un(19,r,e,a),t.elementType=xN,t.lanes=s,t;case b5:return Wv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g5:i=10;break e;case y5:i=9;break e;case SI:i=11;break e;case AI:i=14;break e;case Ys:i=16,n=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Un(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Oi(t,e,r,n){return t=Un(7,t,n,e),t.lanes=r,t}function Wv(t,e,r,n){return t=Un(22,t,n,e),t.elementType=b5,t.lanes=r,t.stateNode={isHidden:!1},t}function sC(t,e,r){return t=Un(6,t,null,e),t.lanes=r,t}function oC(t,e,r){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iT(t,e,r,n,a,s,i,l,c){return t=new gH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zI(s),t}function yH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cB(t){if(!t)return Po;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var r=t.type;if(an(r))return c4(t,r,e)}return e}function uB(t,e,r,n,a,s,i,l,c){return t=iT(r,n,!0,t,a,s,i,l,c),t.context=cB(null),r=t.current,n=Ur(),a=yo(r),s=ps(n,a),s.callback=e??null,po(r,s,a),t.current.lanes=a,Pm(t,a,n),sn(t,n),t}function Hv(t,e,r,n){var a=e.current,s=Ur(),i=yo(a);return r=cB(r),e.context===null?e.context=r:e.pendingContext=r,e=ps(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=po(a,e,i),t!==null&&(ma(t,a,i,s),kp(t,a,i)),i}function ix(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lT(t,e){KO(t,e),(t=t.alternate)&&KO(t,e)}function bH(){return null}var dB=typeof reportError=="function"?reportError:function(t){console.error(t)};function cT(t){this._internalRoot=t}Gv.prototype.render=cT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Hv(t,e,null,null)};Gv.prototype.unmount=cT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){Hv(null,t,null,null)}),e[Ns]=null}};function Gv(t){this._internalRoot=t}Gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=V5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qs.length&&e!==0&&e<Qs[r].priority;r++);Qs.splice(r,0,t),r===0&&z5(t)}};function uT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JO(){}function xH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=ix(i);s.call(u)}}var i=uB(e,n,t,0,null,!1,!1,"",JO);return t._reactRootContainer=i,t[Ns]=i.current,vf(t.nodeType===8?t.parentNode:t),Qi(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ix(c);l.call(u)}}var c=iT(t,0,!1,null,null,!1,!1,"",JO);return t._reactRootContainer=c,t[Ns]=c.current,vf(t.nodeType===8?t.parentNode:t),Qi(function(){Hv(e,c,r,n)}),c}function Kv(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=ix(i);l.call(c)}}Hv(e,i,t,a)}else i=xH(r,e,t,a,n);return ix(i)}B5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fd(e.pendingLanes);r!==0&&(TI(e,r|1),sn(e,Kt()),!(Je&6)&&(Dc=Kt()+500,qo()))}break;case 13:Qi(function(){var n=Ss(t,1);if(n!==null){var a=Ur();ma(n,t,1,a)}}),lT(t,1)}};EI=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var r=Ur();ma(e,t,134217728,r)}lT(t,134217728)}};q5=function(t){if(t.tag===13){var e=yo(t),r=Ss(t,e);if(r!==null){var n=Ur();ma(r,t,e,n)}lT(t,e)}};V5=function(){return ut};U5=function(t,e){var r=ut;try{return ut=t,e()}finally{ut=r}};TN=function(t,e,r){switch(e){case"input":if(wN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Fv(n);if(!a)throw Error(ue(90));v5(n),wN(n,a)}}}break;case"textarea":w5(t,r);break;case"select":e=r.value,e!=null&&tc(t,!!r.multiple,e,!1)}};T5=nT;E5=Qi;var vH={usingClientEntryPoint:!1,Events:[Dm,Ul,Fv,k5,I5,nT]},Fu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jH={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D5(t),t===null?null:t.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||bH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{$v=Th.inject(jH),_a=Th}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vH;On.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uT(e))throw Error(ue(200));return yH(t,e,null,r)};On.createRoot=function(t,e){if(!uT(t))throw Error(ue(299));var r=!1,n="",a=dB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=iT(t,1,!1,null,null,r,!1,n,a),t[Ns]=e.current,vf(t.nodeType===8?t.parentNode:t),new cT(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=D5(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Qi(t)};On.hydrate=function(t,e,r){if(!Yv(e))throw Error(ue(200));return Kv(null,t,e,!0,r)};On.hydrateRoot=function(t,e,r){if(!uT(t))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=dB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=uB(e,null,t,1,r??null,a,!1,s,i),t[Ns]=e.current,vf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Gv(e)};On.render=function(t,e,r){if(!Yv(e))throw Error(ue(200));return Kv(null,t,e,!1,r)};On.unmountComponentAtNode=function(t){if(!Yv(t))throw Error(ue(40));return t._reactRootContainer?(Qi(function(){Kv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};On.unstable_batchedUpdates=nT;On.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Yv(r))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Kv(t,e,r,!1,n)};On.version="18.3.1-next-f1338f8080-20240426";function fB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fB)}catch(t){console.error(t)}}fB(),f5.exports=On;var Jv=f5.exports,XO=Jv;pN.createRoot=XO.createRoot,pN.hydrateRoot=XO.hydrateRoot;var mB={exports:{}},hB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=w;function wH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CH=typeof Object.is=="function"?Object.is:wH,NH=$m.useSyncExternalStore,SH=$m.useRef,AH=$m.useEffect,kH=$m.useMemo,IH=$m.useDebugValue;hB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=SH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=kH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,CH(d,h))return p;var b=n(h);return a!==void 0&&a(p,b)?(d=h,p):(d=h,f=b)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=NH(t,s[0],s[1]);return AH(function(){i.hasValue=!0,i.value=l},[l]),IH(l),l};mB.exports=hB;var TH=mB.exports;function EH(t){t()}function PH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){EH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var ZO={notify(){},get:()=>[]};function OH(t,e){let r,n=ZO,a=0,s=!1;function i(b){d();const g=n.subscribe(b);let x=!1;return()=>{x||(x=!0,g(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=PH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=ZO)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var DH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_H=DH(),$H=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RH=$H(),MH=()=>_H||RH?w.useLayoutEffect:w.useEffect,LH=MH(),iC=Symbol.for("react-redux-context"),lC=typeof globalThis<"u"?globalThis:{};function FH(){if(!w.createContext)return{};const t=lC[iC]??(lC[iC]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Oo=FH();function BH(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=OH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);LH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||Oo;return w.createElement(l.Provider,{value:s},e)}var qH=BH;function dT(t=Oo){return function(){return w.useContext(t)}}var pB=dT();function gB(t=Oo){const e=t===Oo?pB:dT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var VH=gB();function UH(t=Oo){const e=t===Oo?VH:gB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ie=UH(),zH=(t,e)=>t===e;function WH(t=Oo){const e=t===Oo?pB:dT(t),r=(n,a={})=>{const{equalityFn:s=zH}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=TH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var q=WH();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tf.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const QO="popstate";function HH(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return lS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:lx(a)}return YH(e,r,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GH(){return Math.random().toString(36).substr(2,8)}function e2(t,e){return{usr:t.state,key:t.key,idx:e}}function lS(t,e,r,n){return r===void 0&&(r=null),Tf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?du(e):e,{state:r,key:e&&e.key||n||GH()})}function lx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function du(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function YH(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=ao.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Tf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=ao.Pop;let g=d(),x=g==null?null:g-u;u=g,c&&c({action:l,location:b.location,delta:x})}function m(g,x){l=ao.Push;let y=lS(b.location,g,x);u=d()+1;let v=e2(y,u),N=b.createHref(y);try{i.pushState(v,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(N)}s&&c&&c({action:l,location:b.location,delta:1})}function h(g,x){l=ao.Replace;let y=lS(b.location,g,x);u=d();let v=e2(y,u),N=b.createHref(y);i.replaceState(v,"",N),s&&c&&c({action:l,location:b.location,delta:0})}function p(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:lx(g);return y=y.replace(/ $/,"%20"),Zt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return l},get location(){return t(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(QO,f),c=g,()=>{a.removeEventListener(QO,f),c=null}},createHref(g){return e(a,g)},createURL:p,encodeLocation(g){let x=p(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(g){return i.go(g)}};return b}var t2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t2||(t2={}));function KH(t,e,r){return r===void 0&&(r="/"),JH(t,e,r)}function JH(t,e,r,n){let a=typeof e=="string"?du(e):e,s=fT(a.pathname||"/",r);if(s==null)return null;let i=bB(t);XH(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=cG(s);l=oG(i[c],u)}return l}function bB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=xo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:aG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of xB(s.path))a(s,i,c)}),e}function xB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=xB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function XH(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:sG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZH=/^:[\w-]+$/,QH=3,eG=2,tG=1,rG=10,nG=-2,r2=t=>t==="*";function aG(t,e){let r=t.split("/"),n=r.length;return r.some(r2)&&(n+=nG),e&&(n+=eG),r.filter(a=>!r2(a)).reduce((a,s)=>a+(ZH.test(s)?QH:s===""?tG:rG),n)}function sG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function oG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=iG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:xo([s,f.pathname]),pathnameBase:mG(xo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=xo([s,f.pathnameBase]))}return i}function iG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let b=l[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function lG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),yB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function cG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function uG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?du(t):t;return{pathname:r?r.startsWith("/")?r:dG(r,e):e,search:hG(n),hash:pG(a)}}function dG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function mT(t,e){let r=fG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=du(t):(a=Tf({},t),Zt(!a.pathname||!a.pathname.includes("?"),cC("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),cC("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),cC("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=uG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),mG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vB=["post","put","patch","delete"];new Set(vB);const yG=["get",...vB];new Set(yG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}const pT=w.createContext(null),bG=w.createContext(null),Vo=w.createContext(null),Xv=w.createContext(null),$s=w.createContext({outlet:null,matches:[],isDataRoute:!1}),jB=w.createContext(null);function xG(t,e){let{relative:r}=e===void 0?{}:e;fu()||Zt(!1);let{basename:n,navigator:a}=w.useContext(Vo),{hash:s,pathname:i,search:l}=CB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:xo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function fu(){return w.useContext(Xv)!=null}function Uo(){return fu()||Zt(!1),w.useContext(Xv).location}function wB(t){w.useContext(Vo).static||w.useLayoutEffect(t)}function Rm(){let{isDataRoute:t}=w.useContext($s);return t?_G():vG()}function vG(){fu()||Zt(!1);let t=w.useContext(pT),{basename:e,future:r,navigator:n}=w.useContext(Vo),{matches:a}=w.useContext($s),{pathname:s}=Uo(),i=JSON.stringify(mT(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return wB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=hT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const jG=w.createContext(null);function wG(t){let e=w.useContext($s).outlet;return e&&w.createElement(jG.Provider,{value:t},e)}function CB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Vo),{matches:a}=w.useContext($s),{pathname:s}=Uo(),i=JSON.stringify(mT(a,n.v7_relativeSplatPath));return w.useMemo(()=>hT(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function CG(t,e){return NG(t,e)}function NG(t,e,r,n){fu()||Zt(!1);let{navigator:a}=w.useContext(Vo),{matches:s}=w.useContext($s),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Uo(),d;if(e){var f;let g=typeof e=="string"?du(e):e;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Zt(!1),d=g}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=KH(t,{pathname:h}),b=TG(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:xo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:xo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&b?w.createElement(Xv.Provider,{value:{location:Ef({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ao.Pop}},b):b}function SG(){let t=DG(),e=gG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const AG=w.createElement(SG,null);class kG extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement($s.Provider,{value:this.props.routeContext},w.createElement(jB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IG(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(pT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement($s.Provider,{value:e},n)}function TG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Zt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,p=!1,b=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||AG,c&&(u<0&&m===0?($G("route-fallback"),p=!0,g=null):u===m&&(p=!0,g=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),y=()=>{let v;return h?v=b:p?v=g:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(IG,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(kG,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var NB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NB||{}),SB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(SB||{});function EG(t){let e=w.useContext(pT);return e||Zt(!1),e}function PG(t){let e=w.useContext(bG);return e||Zt(!1),e}function OG(t){let e=w.useContext($s);return e||Zt(!1),e}function AB(t){let e=OG(),r=e.matches[e.matches.length-1];return r.route.id||Zt(!1),r.route.id}function DG(){var t;let e=w.useContext(jB),r=PG(),n=AB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function _G(){let{router:t}=EG(NB.UseNavigateStable),e=AB(SB.UseNavigateStable),r=w.useRef(!1);return wB(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ef({fromRouteId:e},s)))},[t,e])}const n2={};function $G(t,e,r){n2[t]||(n2[t]=!0)}function RG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bu(t){let{to:e,replace:r,state:n,relative:a}=t;fu()||Zt(!1);let{future:s,static:i}=w.useContext(Vo),{matches:l}=w.useContext($s),{pathname:c}=Uo(),u=Rm(),d=hT(e,mT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function kB(t){return wG(t.context)}function le(t){Zt(!1)}function MG(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ao.Pop,navigator:s,static:i=!1,future:l}=t;fu()&&Zt(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:Ef({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=du(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,b=w.useMemo(()=>{let g=fT(d,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:p},navigationType:a}},[c,d,f,m,h,p,a]);return b==null?null:w.createElement(Vo.Provider,{value:u},w.createElement(Xv.Provider,{children:r,value:b}))}function LG(t){let{children:e,location:r}=t;return CG(cS(e),r)}new Promise(()=>{});function cS(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,cS(n.props.children,s));return}n.type!==le&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=cS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uS.apply(this,arguments)}function FG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function BG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qG(t,e){return t.button===0&&(!e||e==="_self")&&!BG(t)}const VG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UG="6";try{window.__reactRouterVersion=UG}catch{}const zG="startTransition",a2=To[zG];function WG(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=HH({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&a2?a2(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>RG(n),[n]),w.createElement(MG,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const HG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=FG(e,VG),{basename:h}=w.useContext(Vo),p,b=!1;if(typeof u=="string"&&GG.test(u)&&(p=u,HG))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=fT(N.pathname,h);N.origin===v.origin&&C!=null?u=C+N.search+N.hash:b=!0}catch{}let g=xG(u,{relative:a}),x=YG(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||x(v)}return w.createElement("a",uS({},m,{href:p||g,onClick:b||s?n:y,ref:r,target:c}))});var s2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s2||(s2={}));var o2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o2||(o2={}));function YG(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Rm(),u=Uo(),d=CB(t,{relative:i});return w.useCallback(f=>{if(qG(f,r)){f.preventDefault();let m=n!==void 0?n:lx(u)===lx(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function jr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KG=typeof Symbol=="function"&&Symbol.observable||"@@observable",i2=KG,uC=()=>Math.random().toString(36).substring(7).split("").join("."),JG={INIT:`@@redux/INIT${uC()}`,REPLACE:`@@redux/REPLACE${uC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uC()}`},cx=JG;function gT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IB(t,e,r){if(typeof t!="function")throw new Error(jr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jr(1));return r(IB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function d(){if(c)throw new Error(jr(3));return a}function f(g){if(typeof g!="function")throw new Error(jr(4));if(c)throw new Error(jr(5));let x=!0;u();const y=l++;return i.set(y,g),function(){if(x){if(c)throw new Error(jr(6));x=!1,u(),i.delete(y),s=null}}}function m(g){if(!gT(g))throw new Error(jr(7));if(typeof g.type>"u")throw new Error(jr(8));if(typeof g.type!="string")throw new Error(jr(17));if(c)throw new Error(jr(9));try{c=!0,a=n(a,g)}finally{c=!1}return(s=i).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(jr(10));n=g,m({type:cx.REPLACE})}function p(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(jr(11));function y(){const N=x;N.next&&N.next(d())}return y(),{unsubscribe:g(y)}},[i2](){return this}}}return m({type:cx.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[i2]:p}}function XG(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:cx.INIT})>"u")throw new Error(jr(12));if(typeof r(void 0,{type:cx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jr(13))})}function ZG(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{XG(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(jr(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function ux(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function QG(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(jr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=ux(...l)(a.dispatch),{...a,dispatch:s}}}function eY(t){return gT(t)&&"type"in t&&typeof t.type=="string"}var TB=Symbol.for("immer-nothing"),l2=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function la(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _c=Object.getPrototypeOf;function el(t){return!!t&&!!t[kn]}function ks(t){var e;return t?EB(t)||Array.isArray(t)||!!t[l2]||!!((e=t.constructor)!=null&&e[l2])||Qv(t)||e0(t):!1}var tY=Object.prototype.constructor.toString();function EB(t){if(!t||typeof t!="object")return!1;const e=_c(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===tY}function dx(t,e){Zv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Zv(t){const e=t[kn];return e?e.type_:Array.isArray(t)?1:Qv(t)?2:e0(t)?3:0}function dS(t,e){return Zv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PB(t,e,r){const n=Zv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function rY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qv(t){return t instanceof Map}function e0(t){return t instanceof Set}function fi(t){return t.copy_||t.base_}function fS(t,e){if(Qv(t))return new Map(t);if(e0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=EB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[kn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(_c(t),n)}else{const n=_c(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function yT(t,e=!1){return t0(t)||el(t)||!ks(t)||(Zv(t)>1&&(t.set=t.add=t.clear=t.delete=nY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>yT(n,!0))),t}function nY(){la(2)}function t0(t){return Object.isFrozen(t)}var aY={};function tl(t){const e=aY[t];return e||la(0,t),e}var Pf;function OB(){return Pf}function sY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c2(t,e){e&&(tl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mS(t){hS(t),t.drafts_.forEach(oY),t.drafts_=null}function hS(t){t===Pf&&(Pf=t.parent_)}function u2(t){return Pf=sY(Pf,t)}function oY(t){const e=t[kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function d2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[kn].modified_&&(mS(e),la(4)),ks(t)&&(t=fx(e,t),e.parent_||mx(e,t)),e.patches_&&tl("Patches").generateReplacementPatches_(r[kn].base_,t,e.patches_,e.inversePatches_)):t=fx(e,r,[]),mS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==TB?t:void 0}function fx(t,e,r){if(t0(e))return e;const n=e[kn];if(!n)return dx(e,(a,s)=>f2(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return mx(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),dx(s,(l,c)=>f2(t,n,a,l,c,r,i)),mx(t,a,!1),r&&t.patches_&&tl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function f2(t,e,r,n,a,s,i){if(el(a)){const l=s&&e&&e.type_!==3&&!dS(e.assigned_,n)?s.concat(n):void 0,c=fx(t,a,l);if(PB(r,n,c),el(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(ks(a)&&!t0(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fx(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&mx(t,a)}}function mx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yT(e,r)}function iY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:OB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=bT;r&&(a=[n],s=Of);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var bT={get(t,e){if(e===kn)return t;const r=fi(t);if(!dS(r,e))return lY(t,r,e);const n=r[e];return t.finalized_||!ks(n)?n:n===dC(t.base_,e)?(fC(t),t.copy_[e]=gS(n,t)):n},has(t,e){return e in fi(t)},ownKeys(t){return Reflect.ownKeys(fi(t))},set(t,e,r){const n=DB(fi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=dC(fi(t),e),s=a==null?void 0:a[kn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(rY(r,a)&&(r!==void 0||dS(t.base_,e)))return!0;fC(t),pS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return dC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fC(t),pS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=fi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){la(11)},getPrototypeOf(t){return _c(t.base_)},setPrototypeOf(){la(12)}},Of={};dx(bT,(t,e)=>{Of[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Of.deleteProperty=function(t,e){return Of.set.call(this,t,e,void 0)};Of.set=function(t,e,r){return bT.set.call(this,t[0],e,r,t[0])};function dC(t,e){const r=t[kn];return(r?fi(r):t)[e]}function lY(t,e,r){var a;const n=DB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function DB(t,e){if(!(e in t))return;let r=_c(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=_c(r)}}function pS(t){t.modified_||(t.modified_=!0,t.parent_&&pS(t.parent_))}function fC(t){t.copy_||(t.copy_=fS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&la(6),n!==void 0&&typeof n!="function"&&la(7);let a;if(ks(e)){const s=u2(this),i=gS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?mS(s):hS(s)}return c2(s,n),d2(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===TB&&(a=void 0),this.autoFreeze_&&yT(a,!0),n){const s=[],i=[];tl("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else la(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ks(t)||la(8),el(t)&&(t=uY(t));const e=u2(this),r=gS(t,void 0);return r[kn].isManual_=!0,hS(e),r}finishDraft(t,e){const r=t&&t[kn];(!r||!r.isManual_)&&la(9);const{scope_:n}=r;return c2(n,e),d2(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=tl("Patches").applyPatches_;return el(t)?n(t,e):this.produce(t,a=>n(a,e))}};function gS(t,e){const r=Qv(t)?tl("MapSet").proxyMap_(t,e):e0(t)?tl("MapSet").proxySet_(t,e):iY(t,e);return(e?e.scope_:OB()).drafts_.push(r),r}function uY(t){return el(t)||la(10,t),_B(t)}function _B(t){if(!ks(t)||t0(t))return t;const e=t[kn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=fS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=fS(t,!0);return dx(r,(n,a)=>{PB(r,n,_B(a))}),e&&(e.finalized_=!1),r}var In=new cY,$B=In.produce;In.produceWithPatches.bind(In);In.setAutoFreeze.bind(In);In.setUseStrictShallowCopy.bind(In);In.applyPatches.bind(In);In.createDraft.bind(In);In.finishDraft.bind(In);function RB(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var dY=RB(),fY=RB,mY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ux:ux.apply(null,arguments)},hY=t=>t&&typeof t.match=="function";function $d(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(gs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>eY(n)&&n.type===t,r}var MB=class hd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,hd.prototype)}static get[Symbol.species](){return hd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new hd(...e[0].concat(this)):new hd(...e.concat(this))}};function m2(t){return ks(t)?$B(t,()=>{}):t}function Eh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function pY(t){return typeof t=="boolean"}var gY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new MB;return r&&(pY(r)?i.push(dY):i.push(fY(r.extraArgument))),i},yY="RTK_autoBatch",h2=t=>e=>{setTimeout(e,t)},bY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h2(10):t.type==="callback"?t.queueNotification:h2(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[yY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},xY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new MB(t);return n&&a.push(bY(typeof n=="object"?n:void 0)),a};function vY(t){const e=gY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(gT(r))l=ZG(r);else throw new Error(gs(1));let c;typeof n=="function"?c=n(e):c=e();let u=ux;a&&(u=mY({trace:!1,...typeof a=="object"&&a}));const d=QG(...c),f=xY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return IB(l,s,h)}function LB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(gs(28));if(l in e)throw new Error(gs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function jY(t){return typeof t=="function"}function wY(t,e){let[r,n,a]=LB(e),s;if(jY(t))s=()=>m2(t());else{const l=m2(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(el(d)){const h=f(d,c);return h===void 0?d:h}else{if(ks(d))return $B(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var CY=(t,e)=>hY(t)?t.match(e):t(e);function NY(...t){return e=>t.some(r=>CY(r,e))}var SY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AY=(t=21)=>{let e="",r=t;for(;r--;)e+=SY[Math.random()*64|0];return e},kY=["name","message","stack","code"],mC=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},p2=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},IY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of kY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},g2="External signal was aborted",L=(()=>{function t(e,r,n){const a=$d(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=$d(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=$d(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||IY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):AY(),p=new AbortController;let b,g;function x(v){g=v,p.abort()}u&&(u.aborted?x(g2):u.addEventListener("abort",()=>x(g2),{once:!0}));const y=async function(){var C,j;let v;try{let S=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:f,extra:m});if(EY(S)&&(S=await S),S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((T,k)=>{b=()=>{k({name:"AbortError",message:g||"Aborted"})},p.signal.addEventListener("abort",b)});d(s(h,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),v=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:p.signal,abort:x,rejectWithValue:(T,k)=>new mC(T,k),fulfillWithValue:(T,k)=>new p2(T,k)})).then(T=>{if(T instanceof mC)throw T;return T instanceof p2?a(T.payload,h,c,T.meta):a(T,h,c)})])}catch(S){v=S instanceof mC?i(null,h,c,S.payload,S.meta):i(S,h,c)}finally{b&&p.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||d(v),v}();return Object.assign(y,{abort:x,requestId:h,arg:c,unwrap(){return y.then(TY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:NY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function TY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function EY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var PY=Symbol.for("rtk-slice-createasyncthunk");function OY(t,e){return`${t}/${e}`}function DY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[PY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(gs(11));const l=(typeof a.reducers=="function"?a.reducers($Y()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const j=typeof N=="string"?N:N.type;if(!j)throw new Error(gs(12));if(j in u.sliceCaseReducersByType)throw new Error(gs(13));return u.sliceCaseReducersByType[j]=C,d},addMatcher(N,C){return u.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return u.actionCreators[N]=C,d},exposeCaseReducer(N,C){return u.sliceCaseReducersByName[N]=C,d}};c.forEach(N=>{const C=l[N],j={reducerName:N,type:OY(s,N),createNotation:typeof a.reducers=="function"};MY(C)?FY(j,C,d,e):RY(j,C,d)});function f(){const[N={},C=[],j=void 0]=typeof a.extraReducers=="function"?LB(a.extraReducers):[a.extraReducers],S={...N,...u.sliceCaseReducersByType};return wY(a.initialState,A=>{for(let T in S)A.addCase(T,S[T]);for(let T of u.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of C)A.addMatcher(T.matcher,T.reducer);j&&A.addDefaultCase(j)})}const m=N=>N,h=new Map,p=new WeakMap;let b;function g(N,C){return b||(b=f()),b(N,C)}function x(){return b||(b=f()),b.getInitialState()}function y(N,C=!1){function j(A){let T=A[N];return typeof T>"u"&&C&&(T=Eh(p,j,x)),T}function S(A=m){const T=Eh(h,C,()=>new WeakMap);return Eh(T,A,()=>{const k={};for(const[E,O]of Object.entries(a.selectors??{}))k[E]=_Y(O,A,()=>Eh(p,A,x),C);return k})}return{reducerPath:N,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const v={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(N,{reducerPath:C,...j}={}){const S=C??i;return N.inject({reducerPath:S,reducer:g},j),{...v,...y(S,!0)}}};return v}}function _Y(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var xe=DY();function $Y(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function RY({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!LY(n))throw new Error(gs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?$d(t,i):$d(t))}function MY(t){return t._reducerDefinitionType==="asyncThunk"}function LY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(gs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Ph,pending:l||Ph,rejected:c||Ph,settled:u||Ph})}function Ph(){}function gs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const BY="https://staging-engine.testthelink.online",qY=async(t,e)=>{var r;try{const n=await fetch(`${BY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},VY=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),UY=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),zY=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),r0={login:qY,logout:VY,fetchUserProfile:UY,changePassword:zY},WY={user:null,isAuthenticated:!1,isLoading:!1,error:null},_p=L("auth/login",async({username:t,password:e},r)=>{try{return await r0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),FB=L("auth/logout",async(t,e)=>{try{return await r0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),hC=L("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await r0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),$p=L("auth/fetchUserProfile",async(t,e)=>{try{return await r0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),BB=xe({name:"auth",initialState:WY,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(_p.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_p.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(_p.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(FB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase($p.pending,e=>{e.isLoading=!0}).addCase($p.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase($p.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(hC.pending,e=>{e.isLoading=!0}).addCase(hC.fulfilled,e=>{e.isLoading=!1}).addCase(hC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:V7e}=BB.actions,HY=BB.reducer;let GY={data:""},YY=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||GY,KY=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JY=/\/\*[^]*?\*\/|  +/g,y2=/\n+/g,to=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?to(i,s):s+"{"+to(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=to(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=to.p?to.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Ka={},qB=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+qB(t[r]);return e}return t},XY=(t,e,r,n,a)=>{let s=qB(t),i=Ka[s]||(Ka[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Ka[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=KY.exec(u.replace(JY,""));)d[4]?m.shift():d[3]?(f=d[3].replace(y2," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(y2," ").trim();return m[0]})(t);Ka[i]=to(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Ka.g?Ka.g:null;return r&&(Ka.g=Ka[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ka[i],e,n,l),i},ZY=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":to(l,""):l===!1?"":l}return n+a+(i??"")},"");function n0(t){let e=this||{},r=t.call?t(e.p):t;return XY(r.unshift?r.raw?ZY(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,YY(e.target),e.g,e.o,e.k)}let VB,yS,bS;n0.bind({g:1});let Is=n0.bind({k:1});function QY(t,e,r,n){to.p=e,VB=t,yS=r,bS=n}function zo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:yS&&yS()},l),r.o=/ *go\d+/.test(c),l.className=n0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),bS&&u[0]&&bS(l),VB(u,l)}return a}}var eK=t=>typeof t=="function",hx=(t,e)=>eK(t)?t(e):t,tK=(()=>{let t=0;return()=>(++t).toString()})(),UB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rK=20,zB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return zB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Rp=[],Ci={toasts:[],pausedAt:void 0},ml=t=>{Ci=zB(Ci,t),Rp.forEach(e=>{e(Ci)})},nK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aK=(t={})=>{let[e,r]=w.useState(Ci),n=w.useRef(Ci);w.useEffect(()=>(n.current!==Ci&&r(Ci),Rp.push(r),()=>{let s=Rp.indexOf(r);s>-1&&Rp.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||nK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},sK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tK()}),Mm=t=>(e,r)=>{let n=sK(e,t,r);return ml({type:2,toast:n}),n.id},de=(t,e)=>Mm("blank")(t,e);de.error=Mm("error");de.success=Mm("success");de.loading=Mm("loading");de.custom=Mm("custom");de.dismiss=t=>{ml({type:3,toastId:t})};de.remove=t=>ml({type:4,toastId:t});de.promise=(t,e,r)=>{let n=de.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?hx(e.success,a):void 0;return s?de.success(s,{id:n,...r,...r==null?void 0:r.success}):de.dismiss(n),a}).catch(a=>{let s=e.error?hx(e.error,a):void 0;s?de.error(s,{id:n,...r,...r==null?void 0:r.error}):de.dismiss(n)}),t};var oK=(t,e)=>{ml({type:1,toast:{id:t,height:e}})},iK=()=>{ml({type:5,time:Date.now()})},Rd=new Map,lK=1e3,cK=(t,e=lK)=>{if(Rd.has(t))return;let r=setTimeout(()=>{Rd.delete(t),ml({type:4,toastId:t})},e);Rd.set(t,r)},uK=t=>{let{toasts:e,pausedAt:r}=aK(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&de.dismiss(l.id);return}return setTimeout(()=>de.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&ml({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,p)=>p<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,p)=>h+(p.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)cK(s.id,s.removeDelay);else{let i=Rd.get(s.id);i&&(clearTimeout(i),Rd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:oK,startPause:iK,endPause:n,calculateOffset:a}}},dK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fK=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mK=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hK=zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pK=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gK=zo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${pK} 1s linear infinite;
`,yK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bK=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xK=zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vK=zo("div")`
  position: absolute;
`,jK=zo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wK=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CK=zo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(CK,null,e):e:r==="blank"?null:w.createElement(jK,null,w.createElement(gK,{...n}),r!=="loading"&&w.createElement(vK,null,r==="error"?w.createElement(hK,{...n}):w.createElement(xK,{...n})))},SK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kK="0%{opacity:0;} 100%{opacity:1;}",IK="0%{opacity:1;} 100%{opacity:0;}",TK=zo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EK=zo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=UB()?[kK,IK]:[SK(r),AK(r)];return{animation:e?`${Is(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OK=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?PK(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(NK,{toast:t}),i=w.createElement(EK,{...t.ariaProps},hx(t.message,t));return w.createElement(TK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});QY(w.createElement);var DK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},_K=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},$K=n0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,RK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=uK(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=_K(d,f);return w.createElement(DK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?$K:"",style:m},u.type==="custom"?hx(u.message,u):a?a(u):w.createElement(OK,{toast:u,position:d}))}))},U=de;function WB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=WB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=WB(t))&&(n&&(n+=" "),n+=e);return n}function MK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const HB=w.forwardRef(MK);function LK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const xa=w.forwardRef(LK);function FK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const GB=w.forwardRef(FK);function BK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const qK=w.forwardRef(BK);function VK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const UK=w.forwardRef(VK);function zK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const WK=w.forwardRef(zK);function HK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const xT=w.forwardRef(HK);function GK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const xS=w.forwardRef(GK);function YK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const YB=w.forwardRef(YK);function KK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const b2=w.forwardRef(KK);function JK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const KB=w.forwardRef(JK);function XK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ZK=w.forwardRef(XK);function QK({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const eJ=w.forwardRef(QK);function tJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const JB=w.forwardRef(tJ);function rJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const nJ=w.forwardRef(rJ);function aJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const sJ=w.forwardRef(aJ);function oJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Lm=w.forwardRef(oJ);function iJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const lJ=w.forwardRef(iJ);function cJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const uJ=w.forwardRef(cJ);function dJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const fJ=w.forwardRef(dJ);function mJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Se=w.forwardRef(mJ);function hJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ae=w.forwardRef(hJ);function pJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const mu=w.forwardRef(pJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const yJ=w.forwardRef(gJ);function bJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Me=w.forwardRef(bJ);function xJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vJ=w.forwardRef(xJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const XB=w.forwardRef(jJ);function wJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ZB=w.forwardRef(wJ),CJ=[{name:"Dashboard",href:"/dashboard",icon:uJ},{name:"Settings",icon:KB,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:ZK,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:yJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:JB,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:eJ,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:xS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:xS}];function QB({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:_e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:_e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:_e("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(QB,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(ic,{to:l.href,className:_e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function NJ(){var l,c;const t=Uo(),{user:e}=q(u=>u.auth),[r,n]=w.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u||t.pathname===u+"/",i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(QB,{items:CJ,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function kl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((p,b)=>n[b]!==p)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const p=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-h)*100)/100,g=b/16,x=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${x(b,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function x2(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const SJ=(t,e)=>Math.abs(t-e)<=1,AJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},v2=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},kJ=t=>t,IJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},TJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(v2(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(v2(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},j2={passive:!0},w2=typeof window>"u"?!0:"onscrollend"in window,EJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&w2?()=>{}:AJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,j2);const u=t.options.useScrollendEvent&&w2;return u&&r.addEventListener("scrollend",c,j2),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},PJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},OJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class DJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:kJ,rangeExtractor:IJ,onChange:()=>{},measureElement:PJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=kl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=kl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=kl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,p=l.get(f),b=typeof p=="number"?p:this.options.estimateSize(d),g=h+b,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:g,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=kl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?_J({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=kl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=kl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return x2(n[e3(0,n.length-1,a=>x2(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();SJ(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const e3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function _J({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=e3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const C2=typeof document<"u"?w.useLayoutEffect:w.useEffect;function $J(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?Jv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new DJ(r));return n.setOptions(r),C2(()=>n._didMount(),[]),C2(()=>n._willUpdate()),n}function RJ(t){return $J({observeElementRect:TJ,observeElementOffset:EJ,scrollToFn:OJ,...t})}var MJ=Object.defineProperty,LJ=(t,e,r)=>e in t?MJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pC=(t,e,r)=>(LJ(t,typeof e!="symbol"?e+"":e,r),r);let FJ=class{constructor(){pC(this,"current",this.detect()),pC(this,"handoffState","pending"),pC(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ys=new FJ,ht=(t,e)=>{ys.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function ha(t){let e=w.useRef(t);return ht(()=>{e.current=t},[t]),e}function vT(t,e){let[r,n]=w.useState(t),a=ha(t);return ht(()=>n(a.current),[a,n,...e]),r}let Ne=function(t){let e=ha(t);return V.useCallback((...r)=>e.current(...r),[e])};function BJ(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ne(u=>(s||a(u),e==null?void 0:e(u)))]}function a0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Tn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return a0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Tn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Wo(){let[t]=w.useState(Tn);return w.useEffect(()=>()=>t.dispose(),[t]),t}function qJ(){let t=typeof document>"u";return"useSyncExternalStore"in To?(e=>e.useSyncExternalStore)(To)(()=>()=>{},()=>!1,()=>!t):!1}function hu(){let t=qJ(),[e,r]=w.useState(ys.isHandoffComplete);return e&&ys.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>ys.handoff(),[]),t?!1:e}var N2;let fn=(N2=V.useId)!=null?N2:function(){let t=hu(),[e,r]=V.useState(t?()=>ys.nextId():null);return ht(()=>{e===null&&r(ys.nextId())},[e]),e!=null?""+e:void 0};function Dt(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dt),n}function s0(t){return ys.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let vS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var is=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(is||{}),t3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(t3||{}),VJ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(VJ||{});function r3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(vS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var jT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jT||{});function wT(t,e=0){var r;return t===((r=s0(t))==null?void 0:r.body)?!1:Dt(e,{0(){return t.matches(vS)},1(){let n=t;for(;n!==null;){if(n.matches(vS))return!0;n=n.parentElement}return!1}})}function n3(t){let e=s0(t);Tn().nextFrame(()=>{e&&!wT(e.activeElement,0)&&vo(t)})}var UJ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(UJ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function vo(t){t==null||t.focus({preventScroll:!0})}let zJ=["textarea","input"].join(",");function WJ(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,zJ))!=null?r:!1}function CT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function HJ(t,e){return Md(r3(),e,{relativeTo:t})}function Md(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?CT(t):t:r3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&WJ(m)&&m.select(),2}function a3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function GJ(){return/Android/gi.test(window.navigator.userAgent)}function s3(){return a3()||GJ()}function Dh(t,e,r){let n=ha(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function o3(t,e,r){let n=ha(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function NT(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!wT(c,jT.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Dh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Dh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Dh("click",i=>{s3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Dh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),o3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function hl(...t){return w.useMemo(()=>s0(...t),[...t])}function S2(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function i3(t,e){let[r,n]=w.useState(()=>S2(t));return ht(()=>{n(S2(t))},[t.type,t.as]),ht(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let l3=Symbol();function YJ(t,e=!0){return Object.assign(t,{[l3]:e})}function ar(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ne(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[l3]))?void 0:r}function A2(t){return[t.screenX,t.screenY]}function c3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=A2(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=A2(e)}}}function u3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),ht(()=>{if(!t||!n)return;let i=s0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Df(t,e){let r=w.useRef([]),n=Ne(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function px(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Do=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Do||{}),so=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(so||{});function Yt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??KJ;let c=d3(e,t);if(s)return _h(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return _h(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Dt(d?0:1,{0(){return null},1(){return _h({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return _h(c,r,n,i,l)}function _h(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=gC(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[p,b]of Object.entries(e))typeof b=="boolean"&&(m=!0),b===!0&&h.push(p);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===w.Fragment&&Object.keys(jS(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...b)=>px(m==null?void 0:m.className(...b),c.className):px(m==null?void 0:m.className,c.className),p=h?{className:h}:{};return w.cloneElement(d,Object.assign({},d3(d.props,jS(gC(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},p))}return w.createElement(s,Object.assign({},gC(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function KJ(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function d3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Bt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function jS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function gC(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let JJ="div";var _f=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(_f||{});function XJ(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Yt({ourProps:s,theirProps:a,slot:{},defaultTag:JJ,name:"Hidden"})}let gx=Bt(XJ),ST=w.createContext(null);ST.displayName="OpenClosedContext";var Jt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Jt||{});function Fm(){return w.useContext(ST)}function AT({value:t,children:e}){return V.createElement(ST.Provider,{value:t},e)}function ZJ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Oa=[];ZJ(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Oa[0]!==e.target&&(Oa.unshift(e.target),Oa=Oa.filter(r=>r!=null&&r.isConnected),Oa.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function kT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&QJ(r)?!1:n}function QJ(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function eX(t){throw new Error("Unexpected object: "+t)}var ct=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ct||{});function wS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:eX(t)}}function f3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))h3(r,m3(e,n),a);return r}function m3(t,e){return t?t+"["+e+"]":e}function h3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())h3(t,m3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):f3(r,e,t)}var ot=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ot||{}),tX={},rX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rX||{}),nX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(nX||{}),aX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(aX||{}),sX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(sX||{});function yC(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):CT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let oX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ct.Specific?e.idx:wS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(p=>!t.virtual.disabled(p)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=yC(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ct.Specific?e.idx:wS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=yC(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=yC(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},IT=w.createContext(null);IT.displayName="ComboboxActionsContext";function Bm(t){let e=w.useContext(IT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Bm),r}return e}let p3=w.createContext(null);function iX(t){var e;let r=pl("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=RJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return ht(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),V.createElement(p3.Provider,{value:s},V.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&tX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return V.createElement(w.Fragment,{key:c.key},V.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let TT=w.createContext(null);TT.displayName="ComboboxDataContext";function pl(t){let e=w.useContext(TT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,pl),r}return e}function lX(t,e){return Dt(e.type,oX,t,e)}let cX=w.Fragment;function uX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...p}=t,b=!1,g=null,[x=f?[]:void 0,y]=BJ(r,a,n),[v,N]=w.useReducer(lX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=w.useRef(!1),j=w.useRef({static:!1,hold:!1}),S=w.useRef(null),A=w.useRef(null),T=w.useRef(null),k=w.useRef(null),E=Ne(typeof l=="string"?(Q,re)=>{let K=l;return(Q==null?void 0:Q[K])===(re==null?void 0:re[K])}:l??((Q,re)=>Q===re)),O=Ne(Q=>v.options.findIndex(re=>E(re.dataRef.current.value,Q))),M=w.useCallback(Q=>Dt($.mode,{1:()=>x.some(re=>E(re,Q)),0:()=>E(x,Q)}),[x]),R=Ne(Q=>v.activeOptionIndex===O(Q)),$=w.useMemo(()=>({...v,immediate:b,optionsPropsRef:j,labelRef:S,inputRef:A,buttonRef:T,optionsRef:k,value:x,defaultValue:n,disabled:c,mode:f?1:0,virtual:v.virtual,get activeOptionIndex(){if(C.current&&v.activeOptionIndex===null&&v.options.length>0){let Q=v.options.findIndex(re=>!re.dataRef.current.disabled);if(Q!==-1)return Q}return v.activeOptionIndex},calculateIndex:O,compare:E,isSelected:M,isActive:R,nullable:d,__demoMode:u}),[x,n,c,f,d,u,v,g]);ht(()=>{},[g,void 0]),ht(()=>{v.dataRef.current=$},[$]),NT([$.buttonRef,$.inputRef,$.optionsRef],()=>ke.closeCombobox(),$.comboboxState===0);let B=w.useMemo(()=>{var Q,re,K;return{open:$.comboboxState===0,disabled:c,activeIndex:$.activeOptionIndex,activeOption:$.activeOptionIndex===null?null:$.virtual?$.virtual.options[(Q=$.activeOptionIndex)!=null?Q:0]:(K=(re=$.options[$.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?K:null,value:x}},[$,c,x]),z=Ne(()=>{if($.activeOptionIndex!==null){if($.virtual)te($.virtual.options[$.activeOptionIndex]);else{let{dataRef:Q}=$.options[$.activeOptionIndex];te(Q.current.value)}ke.goToOption(ct.Specific,$.activeOptionIndex)}}),D=Ne(()=>{N({type:0}),C.current=!0}),_=Ne(()=>{N({type:1}),C.current=!1}),F=Ne((Q,re,K)=>(C.current=!1,Q===ct.Specific?N({type:2,focus:ct.Specific,idx:re,trigger:K}):N({type:2,focus:Q,trigger:K}))),Y=Ne((Q,re)=>(N({type:3,payload:{id:Q,dataRef:re}}),()=>{$.isActive(re.current.value)&&(C.current=!0),N({type:4,id:Q})})),G=Ne(Q=>(N({type:5,id:Q}),()=>N({type:5,id:null}))),te=Ne(Q=>Dt($.mode,{0(){return y==null?void 0:y(Q)},1(){let re=$.value.slice(),K=re.findIndex(H=>E(H,Q));return K===-1?re.push(Q):re.splice(K,1),y==null?void 0:y(re)}})),fe=Ne(Q=>{N({type:6,trigger:Q})}),ke=w.useMemo(()=>({onChange:te,registerOption:Y,registerLabel:G,goToOption:F,closeCombobox:_,openCombobox:D,setActivationTrigger:fe,selectActiveOption:z}),[]),ae=e===null?{}:{ref:e},X=w.useRef(null),ce=Wo();return w.useEffect(()=>{X.current&&n!==void 0&&ce.addEventListener(X.current,"reset",()=>{y==null||y(n)})},[X,y]),V.createElement(IT.Provider,{value:ke},V.createElement(TT.Provider,{value:$},V.createElement(AT,{value:Dt($.comboboxState,{0:Jt.Open,1:Jt.Closed})},i!=null&&x!=null&&f3({[i]:x}).map(([Q,re],K)=>V.createElement(gx,{features:_f.Hidden,ref:K===0?H=>{var me;X.current=(me=H==null?void 0:H.closest("form"))!=null?me:null}:void 0,...jS({key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:Q,value:re})})),Yt({ourProps:ae,theirProps:p,slot:B,defaultTag:cX,name:"Combobox"}))))}let dX="input";function fX(t,e){var r,n,a,s,i;let l=fn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=pl("Combobox.Input"),p=Bm("Combobox.Input"),b=ar(h.inputRef,e),g=hl(h.inputRef),x=w.useRef(!1),y=Wo(),v=Ne(()=>{p.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),p.goToOption(ct.Nothing)}),N=function(){var $;return typeof d=="function"&&h.value!==void 0?($=d(h.value))!=null?$:"":typeof h.value=="string"?h.value:""}();Df(([$,B],[z,D])=>{if(x.current)return;let _=h.inputRef.current;_&&((D===0&&B===1||$!==z)&&(_.value=$),requestAnimationFrame(()=>{if(x.current||!_||(g==null?void 0:g.activeElement)!==_)return;let{selectionStart:F,selectionEnd:Y}=_;Math.abs((Y??0)-(F??0))===0&&F===0&&_.setSelectionRange(_.value.length,_.value.length)}))},[N,h.comboboxState,g]),Df(([$],[B])=>{if($===0&&B===1){if(x.current)return;let z=h.inputRef.current;if(!z)return;let D=z.value,{selectionStart:_,selectionEnd:F,selectionDirection:Y}=z;z.value="",z.value=D,Y!==null?z.setSelectionRange(_,F,Y):z.setSelectionRange(_,F)}},[h.comboboxState]);let C=w.useRef(!1),j=Ne(()=>{C.current=!0}),S=Ne(()=>{y.nextFrame(()=>{C.current=!1})}),A=Ne($=>{switch(x.current=!0,$.key){case ot.Enter:if(x.current=!1,h.comboboxState!==0||C.current)return;if($.preventDefault(),$.stopPropagation(),h.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),h.mode===0&&p.closeCombobox();break;case ot.ArrowDown:return x.current=!1,$.preventDefault(),$.stopPropagation(),Dt(h.comboboxState,{0:()=>p.goToOption(ct.Next),1:()=>p.openCombobox()});case ot.ArrowUp:return x.current=!1,$.preventDefault(),$.stopPropagation(),Dt(h.comboboxState,{0:()=>p.goToOption(ct.Previous),1:()=>{p.openCombobox(),y.nextFrame(()=>{h.value||p.goToOption(ct.Last)})}});case ot.Home:if($.shiftKey)break;return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(ct.First);case ot.PageUp:return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(ct.First);case ot.End:if($.shiftKey)break;return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(ct.Last);case ot.PageDown:return x.current=!1,$.preventDefault(),$.stopPropagation(),p.goToOption(ct.Last);case ot.Escape:return x.current=!1,h.comboboxState!==0?void 0:($.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&$.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&v(),p.closeCombobox());case ot.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&p.selectActiveOption(),p.closeCombobox();break}}),T=Ne($=>{u==null||u($),h.nullable&&h.mode===0&&$.target.value===""&&v(),p.openCombobox()}),k=Ne($=>{var B,z,D;let _=(B=$.relatedTarget)!=null?B:Oa.find(F=>F!==$.currentTarget);if(x.current=!1,!((z=h.optionsRef.current)!=null&&z.contains(_))&&!((D=h.buttonRef.current)!=null&&D.contains(_))&&h.comboboxState===0)return $.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?v():h.activationTrigger!==1&&p.selectActiveOption()),p.closeCombobox()}),E=Ne($=>{var B,z,D;let _=(B=$.relatedTarget)!=null?B:Oa.find(F=>F!==$.currentTarget);(z=h.buttonRef.current)!=null&&z.contains(_)||(D=h.optionsRef.current)!=null&&D.contains(_)||h.disabled||h.immediate&&h.comboboxState!==0&&(p.openCombobox(),y.nextFrame(()=>{p.setActivationTrigger(1)}))}),O=vT(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),M=w.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),R={ref:b,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find($=>{var B;return!((B=h.virtual)!=null&&B.disabled($.dataRef.current.value))&&h.compare($.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":O,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:j,onCompositionEnd:S,onKeyDown:A,onChange:T,onFocus:E,onBlur:k};return Yt({ourProps:R,theirProps:m,slot:M,defaultTag:dX,name:"Combobox.Input"})}let mX="button";function hX(t,e){var r;let n=pl("Combobox.Button"),a=Bm("Combobox.Button"),s=ar(n.buttonRef,e),i=fn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Wo(),d=Ne(b=>{switch(b.key){case ot.ArrowDown:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case ot.ArrowUp:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ct.Last)})),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case ot.Escape:return n.comboboxState!==0?void 0:(b.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&b.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}));default:return}}),f=Ne(b=>{if(kT(b.currentTarget))return b.preventDefault();n.comboboxState===0?a.closeCombobox():(b.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})})}),m=vT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),p={ref:s,id:l,type:i3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Yt({ourProps:p,theirProps:c,slot:h,defaultTag:mX,name:"Combobox.Button"})}let pX="label";function gX(t,e){let r=fn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=pl("Combobox.Label"),i=Bm("Combobox.Label"),l=ar(s.labelRef,e);ht(()=>i.registerLabel(n),[n]);let c=Ne(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Yt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:pX,name:"Combobox.Label"})}let yX="ul",bX=Do.RenderStrategy|Do.Static;function xX(t,e){let r=fn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=pl("Combobox.Options"),l=ar(i.optionsRef,e),c=Fm(),u=c!==null?(c&Jt.Open)===Jt.Open:i.comboboxState===0;ht(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),ht(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),u3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=vT(()=>{var h,p;return(p=i.labelId)!=null?p:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:V.createElement(iX,null,s.children)}),Yt({ourProps:m,theirProps:s,slot:f,defaultTag:yX,features:bX,visible:u,name:"Combobox.Options"})}let vX="li";function jX(t,e){var r;let n=fn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=pl("Combobox.Option"),d=Bm("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=w.useRef(null),p=ha({disabled:s,value:i,domRef:h,order:l}),b=w.useContext(p3),g=ar(e,h,b?b.measureElement:null),x=Ne(()=>d.onChange(i));ht(()=>d.registerOption(a,p),[p,a]);let y=w.useRef(!(u.virtual||u.__demoMode));ht(()=>{if(!u.virtual||!u.__demoMode)return;let k=Tn();return k.requestAnimationFrame(()=>{y.current=!0}),k.dispose},[u.virtual,u.__demoMode]),ht(()=>{if(!y.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let k=Tn();return k.requestAnimationFrame(()=>{var E,O;(O=(E=h.current)==null?void 0:E.scrollIntoView)==null||O.call(E,{block:"nearest"})}),k.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Ne(k=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return k.preventDefault();x(),s3()||requestAnimationFrame(()=>{var O;return(O=u.inputRef.current)==null?void 0:O.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),N=Ne(()=>{var k;if(s||(k=u.virtual)!=null&&k.disabled(i))return d.goToOption(ct.Nothing);let E=u.calculateIndex(i);d.goToOption(ct.Specific,E)}),C=c3(),j=Ne(k=>C.update(k)),S=Ne(k=>{var E;if(!C.wasMoved(k)||s||(E=u.virtual)!=null&&E.disabled(i)||f)return;let O=u.calculateIndex(i);d.goToOption(ct.Specific,O,0)}),A=Ne(k=>{var E;C.wasMoved(k)&&(s||(E=u.virtual)!=null&&E.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ct.Nothing)))}),T=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Yt({ourProps:{id:a,ref:g,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:v,onFocus:N,onPointerEnter:j,onMouseEnter:j,onPointerMove:S,onMouseMove:S,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:T,defaultTag:vX,name:"Combobox.Option"})}let wX=Bt(uX),CX=Bt(hX),NX=Bt(fX),SX=Bt(gX),AX=Bt(xX),kX=Bt(jX),Il=Object.assign(wX,{Input:NX,Button:CX,Label:SX,Options:AX,Option:kX});function g3(t,e,r,n){let a=ha(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function qm(){let t=w.useRef(!1);return ht(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function y3(t){let e=Ne(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,a0(()=>{r.current&&e()})}),[e])}var pd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(pd||{});function IX(){let t=w.useRef(0);return o3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function b3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let TX="div";var x3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(x3||{});function EX(t,e){let r=w.useRef(null),n=ar(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;hu()||(i=1);let c=hl(r);DX({ownerDocument:c},!!(i&16));let u=_X({ownerDocument:c,container:r,initialFocus:a},!!(i&2));$X({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=IX(),f=Ne(b=>{let g=r.current;g&&(x=>x())(()=>{Dt(d.current,{[pd.Forwards]:()=>{Md(g,is.First,{skipElements:[b.relatedTarget]})},[pd.Backwards]:()=>{Md(g,is.Last,{skipElements:[b.relatedTarget]})}})})}),m=Wo(),h=w.useRef(!1),p={ref:n,onKeyDown(b){b.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let g=b3(s);r.current instanceof HTMLElement&&g.add(r.current);let x=b.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(v3(g,x)||(h.current?Md(r.current,Dt(d.current,{[pd.Forwards]:()=>is.Next,[pd.Backwards]:()=>is.Previous})|is.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&vo(b.target)))}};return V.createElement(V.Fragment,null,!!(i&4)&&V.createElement(gx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_f.Focusable}),Yt({ourProps:p,theirProps:l,defaultTag:TX,name:"FocusTrap"}),!!(i&4)&&V.createElement(gx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_f.Focusable}))}let PX=Bt(EX),qu=Object.assign(PX,{features:x3});function OX(t=!0){let e=w.useRef(Oa.slice());return Df(([r],[n])=>{n===!0&&r===!1&&a0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Oa.slice())},[t,Oa,e]),Ne(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function DX({ownerDocument:t},e){let r=OX(e);Df(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&vo(r())},[e]),y3(()=>{e&&vo(r())})}function _X({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=qm();return Df(()=>{if(!n)return;let i=e.current;i&&a0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?vo(r.current):Md(i,is.First)===t3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function $X({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=qm();g3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=b3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?v3(l,u)?(n.current=u,vo(u)):(i.preventDefault(),i.stopPropagation(),vo(c)):vo(n.current)},!0)}function v3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let j3=w.createContext(!1);function RX(){return w.useContext(j3)}function CS(t){return V.createElement(j3.Provider,{value:t.force},t.children)}function MX(t){let e=RX(),r=w.useContext(w3),n=hl(t),[a,s]=w.useState(()=>{if(!e&&r!==null||ys.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let LX=w.Fragment;function FX(t,e){let r=t,n=w.useRef(null),a=ar(YJ(d=>{n.current=d}),e),s=hl(n),i=MX(n),[l]=w.useState(()=>{var d;return ys.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(NS),u=hu();return ht(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),ht(()=>{if(l&&c)return c.register(l)},[c,l]),y3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:Jv.createPortal(Yt({ourProps:{ref:a},theirProps:r,defaultTag:LX,name:"Portal"}),l):null}let BX=w.Fragment,w3=w.createContext(null);function qX(t,e){let{target:r,...n}=t,a={ref:ar(e)};return V.createElement(w3.Provider,{value:r},Yt({ourProps:a,theirProps:n,defaultTag:BX,name:"Popover.Group"}))}let NS=w.createContext(null);function VX(){let t=w.useContext(NS),e=w.useRef([]),r=Ne(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ne(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return V.createElement(NS.Provider,{value:a},s)},[a])]}let UX=Bt(FX),zX=Bt(qX),SS=Object.assign(UX,{Group:zX});function WX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const HX=typeof Object.is=="function"?Object.is:WX,{useState:GX,useEffect:YX,useLayoutEffect:KX,useDebugValue:JX}=To;function XX(t,e,r){const n=e(),[{inst:a},s]=GX({inst:{value:n,getSnapshot:e}});return KX(()=>{a.value=n,a.getSnapshot=e,bC(a)&&s({inst:a})},[t,n,e]),YX(()=>(bC(a)&&s({inst:a}),t(()=>{bC(a)&&s({inst:a})})),[t]),JX(n),n}function bC(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!HX(r,n)}catch{return!0}}function ZX(t,e,r){return e()}const QX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eZ=!QX,tZ=eZ?ZX:XX,rZ="useSyncExternalStore"in To?(t=>t.useSyncExternalStore)(To):tZ;function nZ(t){return rZ(t.subscribe,t.getSnapshot,t.getSnapshot)}function aZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function sZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function oZ(){return a3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Tn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function iZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function lZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ni=aZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Tn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:lZ(r)},a=[oZ(),sZ(),iZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ni.subscribe(()=>{let t=Ni.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ni.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ni.dispatch("TEARDOWN",r)}});function cZ(t,e,r){let n=nZ(Ni),a=t?n.get(t):void 0,s=a?a.count>0:!1;return ht(()=>{if(!(!t||!e))return Ni.dispatch("PUSH",t,r),()=>Ni.dispatch("POP",t,r)},[e,t]),s}let xC=new Map,Vu=new Map;function k2(t,e=!0){ht(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Vu.get(n))!=null?i:1;if(l===1?Vu.delete(n):Vu.set(n,l-1),l!==1)return;let c=xC.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,xC.delete(n))}let s=(r=Vu.get(n))!=null?r:0;return Vu.set(n,s+1),s!==0||(xC.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function uZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=hl(a),i=Ne(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ne(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:V.createElement(gx,{features:_f.Hidden,ref:a})},[a,r])}}let ET=w.createContext(()=>{});ET.displayName="StackContext";var AS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(AS||{});function dZ(){return w.useContext(ET)}function fZ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=dZ(),i=Ne((...l)=>{e==null||e(...l),s(...l)});return ht(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),V.createElement(ET.Provider,{value:i},t)}let C3=w.createContext(null);function N3(){let t=w.useContext(C3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,N3),e}return t}function mZ(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ne(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return V.createElement(C3.Provider,{value:a},r.children)},[e])]}let hZ="p";function pZ(t,e){let r=fn(),{id:n=`headlessui-description-${r}`,...a}=t,s=N3(),i=ar(e);ht(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Yt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:hZ,name:s.name||"Description"})}let gZ=Bt(pZ),yZ=Object.assign(gZ,{});var bZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(bZ||{}),xZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(xZ||{});let vZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},yx=w.createContext(null);yx.displayName="DialogContext";function Vm(t){let e=w.useContext(yx);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Vm),r}return e}function jZ(t,e,r=()=>[document.body]){cZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function wZ(t,e){return Dt(e.type,vZ,t,e)}let CZ="div",NZ=Do.RenderStrategy|Do.Static;function SZ(t,e){let r=fn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Fm();a===void 0&&h!==null&&(a=(h&Jt.Open)===Jt.Open);let p=w.useRef(null),b=ar(p,e),g=hl(p),x=t.hasOwnProperty("open")||h!==null,y=t.hasOwnProperty("onClose");if(!x&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let v=a?0:1,[N,C]=w.useReducer(wZ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),j=Ne(()=>s(!1)),S=Ne(K=>C({type:0,id:K})),A=hu()?c?!1:v===0:!1,T=d>1,k=w.useContext(yx)!==null,[E,O]=VX(),M={get current(){var K;return(K=N.panelRef.current)!=null?K:p.current}},{resolveContainers:R,mainTreeNodeRef:$,MainTreeNode:B}=uZ({portals:E,defaultContainers:[M]}),z=T?"parent":"leaf",D=h!==null?(h&Jt.Closing)===Jt.Closing:!1,_=k||D?!1:A,F=w.useCallback(()=>{var K,H;return(H=Array.from((K=g==null?void 0:g.querySelectorAll("body > *"))!=null?K:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains($.current)&&me instanceof HTMLElement))!=null?H:null},[$]);k2(F,_);let Y=T?!0:A,G=w.useCallback(()=>{var K,H;return(H=Array.from((K=g==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?K:[]).find(me=>me.contains($.current)&&me instanceof HTMLElement))!=null?H:null},[$]);k2(G,Y),NT(R,K=>{K.preventDefault(),j()},!(!A||T));let fe=!(T||v!==0);g3(g==null?void 0:g.defaultView,"keydown",K=>{fe&&(K.defaultPrevented||K.key===ot.Escape&&(K.preventDefault(),K.stopPropagation(),j()))}),jZ(g,!(D||v!==0||k),R),w.useEffect(()=>{if(v!==0||!p.current)return;let K=new ResizeObserver(H=>{for(let me of H){let je=me.target.getBoundingClientRect();je.x===0&&je.y===0&&je.width===0&&je.height===0&&j()}});return K.observe(p.current),()=>K.disconnect()},[v,p,j]);let[ae,X]=mZ(),ce=w.useMemo(()=>[{dialogState:v,close:j,setTitleId:S},N],[v,N,j,S]),Q=w.useMemo(()=>({open:v===0}),[v]),re={ref:b,id:n,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ae};return V.createElement(fZ,{type:"Dialog",enabled:v===0,element:p,onUpdate:Ne((K,H)=>{H==="Dialog"&&Dt(K,{[AS.Add]:()=>f(me=>me+1),[AS.Remove]:()=>f(me=>me-1)})})},V.createElement(CS,{force:!0},V.createElement(SS,null,V.createElement(yx.Provider,{value:ce},V.createElement(SS.Group,{target:p},V.createElement(CS,{force:!1},V.createElement(X,{slot:Q,name:"Dialog.Description"},V.createElement(qu,{initialFocus:i,containers:R,features:A?Dt(z,{parent:qu.features.RestoreFocus,leaf:qu.features.All&~qu.features.FocusLock}):qu.features.None},V.createElement(O,null,Yt({ourProps:re,theirProps:u,slot:Q,defaultTag:CZ,features:NZ,visible:v===0,name:"Dialog"}))))))))),V.createElement(B,null))}let AZ="div";function kZ(t,e){let r=fn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Vm("Dialog.Overlay"),l=ar(e),c=Ne(d=>{if(d.target===d.currentTarget){if(kT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return Yt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:AZ,name:"Dialog.Overlay"})}let IZ="div";function TZ(t,e){let r=fn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Vm("Dialog.Backdrop"),l=ar(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return V.createElement(CS,{force:!0},V.createElement(SS,null,Yt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:IZ,name:"Dialog.Backdrop"})))}let EZ="div";function PZ(t,e){let r=fn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Vm("Dialog.Panel"),l=ar(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ne(d=>{d.stopPropagation()});return Yt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:EZ,name:"Dialog.Panel"})}let OZ="h2";function DZ(t,e){let r=fn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Vm("Dialog.Title"),l=ar(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return Yt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:OZ,name:"Dialog.Title"})}let _Z=Bt(SZ),$Z=Bt(TZ),RZ=Bt(PZ),MZ=Bt(kZ),LZ=Bt(DZ),vC=Object.assign(_Z,{Backdrop:$Z,Panel:RZ,Overlay:MZ,Title:LZ,Description:yZ}),I2=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function T2(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return I2.test(i)&&(i=i.replace(I2,"")),i}function FZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():T2(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return T2(t).trim()}function BZ(t){let e=w.useRef(""),r=w.useRef("");return Ne(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=FZ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var qZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(qZ||{}),VZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(VZ||{}),UZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(UZ||{});function jC(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=CT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let zZ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=jC(t),a=wS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=jC(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=jC(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},PT=w.createContext(null);PT.displayName="MenuContext";function o0(t){let e=w.useContext(PT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,o0),r}return e}function WZ(t,e){return Dt(e.type,zZ,t,e)}let HZ=w.Fragment;function GZ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(WZ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=ar(e);NT([l,i],(h,p)=>{var b;c({type:1}),wT(p,jT.Loose)||(h.preventDefault(),(b=l.current)==null||b.focus())},s===0);let d=Ne(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return V.createElement(PT.Provider,{value:a},V.createElement(AT,{value:Dt(s,{0:Jt.Open,1:Jt.Closed})},Yt({ourProps:m,theirProps:n,slot:f,defaultTag:HZ,name:"Menu"})))}let YZ="button";function KZ(t,e){var r;let n=fn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=o0("Menu.Button"),c=ar(i.buttonRef,e),u=Wo(),d=Ne(b=>{switch(b.key){case ot.Space:case ot.Enter:case ot.ArrowDown:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ct.First}));break;case ot.ArrowUp:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ct.Last}));break}}),f=Ne(b=>{switch(b.key){case ot.Space:b.preventDefault();break}}),m=Ne(b=>{if(kT(b.currentTarget))return b.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(b.preventDefault(),l({type:0})))}),h=w.useMemo(()=>({open:i.menuState===0}),[i]),p={ref:c,id:a,type:i3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Yt({ourProps:p,theirProps:s,slot:h,defaultTag:YZ,name:"Menu.Button"})}let JZ="div",XZ=Do.RenderStrategy|Do.Static;function ZZ(t,e){var r,n;let a=fn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=o0("Menu.Items"),u=ar(l.itemsRef,e),d=hl(l.itemsRef),f=Wo(),m=Fm(),h=m!==null?(m&Jt.Open)===Jt.Open:l.menuState===0;w.useEffect(()=>{let y=l.itemsRef.current;y&&l.menuState===0&&y!==(d==null?void 0:d.activeElement)&&y.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),u3({container:l.itemsRef.current,enabled:l.menuState===0,accept(y){return y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let p=Ne(y=>{var v,N;switch(f.dispose(),y.key){case ot.Space:if(l.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),c({type:3,value:y.key});case ot.Enter:if(y.preventDefault(),y.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:C}=l.items[l.activeItemIndex];(N=(v=C.current)==null?void 0:v.domRef.current)==null||N.click()}n3(l.buttonRef.current);break;case ot.ArrowDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ct.Next});case ot.ArrowUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ct.Previous});case ot.Home:case ot.PageUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ct.First});case ot.End:case ot.PageDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:ct.Last});case ot.Escape:y.preventDefault(),y.stopPropagation(),c({type:1}),Tn().nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case ot.Tab:y.preventDefault(),y.stopPropagation(),c({type:1}),Tn().nextFrame(()=>{HJ(l.buttonRef.current,y.shiftKey?is.Previous:is.Next)});break;default:y.key.length===1&&(c({type:3,value:y.key}),f.setTimeout(()=>c({type:4}),350));break}}),b=Ne(y=>{switch(y.key){case ot.Space:y.preventDefault();break}}),g=w.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:p,onKeyUp:b,role:"menu",tabIndex:0,ref:u};return Yt({ourProps:x,theirProps:i,slot:g,defaultTag:JZ,features:XZ,visible:h,name:"Menu.Items"})}let QZ=w.Fragment;function eQ(t,e){let r=fn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=o0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=ar(e,u);ht(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let C=Tn();return C.requestAnimationFrame(()=>{var j,S;(S=(j=u.current)==null?void 0:j.scrollIntoView)==null||S.call(j,{block:"nearest"})}),C.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=BZ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});ht(()=>{m.current.disabled=a},[m,a]),ht(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=Ne(()=>{l({type:1})}),p=Ne(C=>{if(a)return C.preventDefault();l({type:1}),n3(i.buttonRef.current)}),b=Ne(()=>{if(a)return l({type:2,focus:ct.Nothing});l({type:2,focus:ct.Specific,id:n})}),g=c3(),x=Ne(C=>g.update(C)),y=Ne(C=>{g.wasMoved(C)&&(a||c||l({type:2,focus:ct.Specific,id:n,trigger:0}))}),v=Ne(C=>{g.wasMoved(C)&&(a||c&&l({type:2,focus:ct.Nothing}))}),N=w.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Yt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:y,onMouseMove:y,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:N,defaultTag:QZ,name:"Menu.Item"})}let tQ=Bt(GZ),rQ=Bt(KZ),nQ=Bt(ZZ),aQ=Bt(eQ),Tl=Object.assign(tQ,{Button:rQ,Items:nQ,Item:aQ});function sQ(t=0){let[e,r]=w.useState(t),n=qm(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function oQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function wC(t,...e){t&&e.length>0&&t.classList.add(...e)}function CC(t,...e){t&&e.length>0&&t.classList.remove(...e)}function iQ(t,e){let r=Tn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function lQ(t,e,r,n){let a=r?"enter":"leave",s=Tn(),i=n!==void 0?oQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Dt(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Dt(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Dt(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return CC(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),wC(t,...e.base,...l,...u),s.nextFrame(()=>{CC(t,...e.base,...l,...u),wC(t,...e.base,...l,...c),iQ(t,()=>(CC(t,...e.base,...l),wC(t,...e.base,...e.entered),i()))}),s.dispose}function cQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=qm(),l=Wo(),c=ha(r);ht(()=>{t&&(c.current="enter")},[t]),ht(()=>{let u=Tn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(lQ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Ws(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let i0=w.createContext(null);i0.displayName="TransitionContext";var uQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(uQ||{});function dQ(){let t=w.useContext(i0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function fQ(){let t=w.useContext(l0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let l0=w.createContext(null);l0.displayName="NestingContext";function c0(t){return"children"in t?c0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function S3(t,e){let r=ha(t),n=w.useRef([]),a=qm(),s=Wo(),i=Ne((h,p=so.Hidden)=>{let b=n.current.findIndex(({el:g})=>g===h);b!==-1&&(Dt(p,{[so.Unmount](){n.current.splice(b,1)},[so.Hidden](){n.current[b].state="hidden"}}),s.microTask(()=>{var g;!c0(n)&&a.current&&((g=r.current)==null||g.call(r))}))}),l=Ne(h=>{let p=n.current.find(({el:b})=>b===h);return p?p.state!=="visible"&&(p.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,so.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ne((h,p,b)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([g])=>g!==h)),e==null||e.chains.current[p].push([h,new Promise(g=>{c.current.push(g)})]),e==null||e.chains.current[p].push([h,new Promise(g=>{Promise.all(d.current[p].map(([x,y])=>y)).then(()=>g())})]),p==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(p)):b(p)}),m=Ne((h,p,b)=>{Promise.all(d.current[p].splice(0).map(([g,x])=>x)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>b(p))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function mQ(){}let hQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function E2(t){var e;let r={};for(let n of hQ)r[n]=(e=t[n])!=null?e:mQ;return r}function pQ(t){let e=w.useRef(E2(t));return w.useEffect(()=>{e.current=E2(t)},[t]),e}let gQ="div",A3=Do.RenderStrategy;function yQ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:p,...b}=t,g=w.useRef(null),x=ar(g,e),y=(r=b.unmount)==null||r?so.Unmount:so.Hidden,{show:v,appear:N,initial:C}=dQ(),[j,S]=w.useState(v?"visible":"hidden"),A=fQ(),{register:T,unregister:k}=A;w.useEffect(()=>T(g),[T,g]),w.useEffect(()=>{if(y===so.Hidden&&g.current){if(v&&j!=="visible"){S("visible");return}return Dt(j,{hidden:()=>k(g),visible:()=>T(g)})}},[j,g,T,k,v,y]);let E=ha({base:Ws(b.className),enter:Ws(c),enterFrom:Ws(u),enterTo:Ws(d),entered:Ws(f),leave:Ws(m),leaveFrom:Ws(h),leaveTo:Ws(p)}),O=pQ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=hu();w.useEffect(()=>{if(M&&j==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,j,M]);let R=C&&!N,$=N&&v&&C,B=!M||R?"idle":v?"enter":"leave",z=sQ(0),D=Ne(fe=>Dt(fe,{enter:()=>{z.addFlag(Jt.Opening),O.current.beforeEnter()},leave:()=>{z.addFlag(Jt.Closing),O.current.beforeLeave()},idle:()=>{}})),_=Ne(fe=>Dt(fe,{enter:()=>{z.removeFlag(Jt.Opening),O.current.afterEnter()},leave:()=>{z.removeFlag(Jt.Closing),O.current.afterLeave()},idle:()=>{}})),F=S3(()=>{S("hidden"),k(g)},A),Y=w.useRef(!1);cQ({immediate:$,container:g,classes:E,direction:B,onStart:ha(fe=>{Y.current=!0,F.onStart(g,fe,D)}),onStop:ha(fe=>{Y.current=!1,F.onStop(g,fe,_),fe==="leave"&&!c0(F)&&(S("hidden"),k(g))})});let G=b,te={ref:x};return $?G={...G,className:px(b.className,...E.current.enter,...E.current.enterFrom)}:Y.current&&(G.className=px(b.className,(n=g.current)==null?void 0:n.className),G.className===""&&delete G.className),V.createElement(l0.Provider,{value:F},V.createElement(AT,{value:Dt(j,{visible:Jt.Open,hidden:Jt.Closed})|z.flags},Yt({ourProps:te,theirProps:G,defaultTag:gQ,features:A3,visible:j==="visible",name:"Transition.Child"})))}function bQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=ar(i,e);hu();let c=Fm();if(r===void 0&&c!==null&&(r=(c&Jt.Open)===Jt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=S3(()=>{d("hidden")}),[m,h]=w.useState(!0),p=w.useRef([r]);ht(()=>{m!==!1&&p.current[p.current.length-1]!==r&&(p.current.push(r),h(!1))},[p,r]);let b=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!c0(f))d("hidden");else{let v=i.current;if(!v)return;let N=v.getBoundingClientRect();N.x===0&&N.y===0&&N.width===0&&N.height===0&&d("hidden")}},[r,f]);let g={unmount:a},x=Ne(()=>{var v;m&&h(!1),(v=t.beforeEnter)==null||v.call(t)}),y=Ne(()=>{var v;m&&h(!1),(v=t.beforeLeave)==null||v.call(t)});return V.createElement(l0.Provider,{value:f},V.createElement(i0.Provider,{value:b},Yt({ourProps:{...g,as:w.Fragment,children:V.createElement(k3,{ref:l,...g,...s,beforeEnter:x,beforeLeave:y})},theirProps:{},defaultTag:w.Fragment,features:A3,visible:u==="visible",name:"Transition"})))}function xQ(t,e){let r=w.useContext(i0)!==null,n=Fm()!==null;return V.createElement(V.Fragment,null,!r&&n?V.createElement(kS,{ref:e,...t}):V.createElement(k3,{ref:e,...t}))}let kS=Bt(bQ),k3=Bt(yQ),vQ=Bt(xQ),Mp=Object.assign(kS,{Child:vQ,Root:kS});function jQ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=ie(),{user:n}=q(d=>d.auth),[a,s]=w.useState(!1),i=w.useRef(null),l=Rm();w.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(FB())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(ZB,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(WK,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(Tl,{as:"div",className:"relative",children:[o.jsxs(Tl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(Mp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(Tl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(vJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(fJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Tl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(qK,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(wQ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(CQ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function wQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function CQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function NQ(){const t=Rm(),e=Uo(),r=localStorage.getItem("token"),[n,a]=w.useState(!0);w.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),w.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(NJ,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(jQ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(kB,{})})})]})]})}const SQ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(kB,{})})});var AQ=function(e){return kQ(e)&&!IQ(e)};function kQ(t){return!!t&&typeof t=="object"}function IQ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||PQ(t)}var TQ=typeof Symbol=="function"&&Symbol.for,EQ=TQ?Symbol.for("react.element"):60103;function PQ(t){return t.$$typeof===EQ}function OQ(t){return Array.isArray(t)?[]:{}}function bx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?$f(OQ(t),t,e):t}function DQ(t,e,r){return t.concat(e).map(function(n){return bx(n,r)})}function _Q(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=bx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=bx(e[a],r):n[a]=$f(t[a],e[a],r)}),n}function $f(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||DQ,r.isMergeableObject=r.isMergeableObject||AQ;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):_Q(t,e,r):bx(e,r)}$f.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return $f(n,a,r)},{})};var IS=$f,I3=typeof global=="object"&&global&&global.Object===Object&&global,$Q=typeof self=="object"&&self&&self.Object===Object&&self,Ga=I3||$Q||Function("return this")(),_o=Ga.Symbol,T3=Object.prototype,RQ=T3.hasOwnProperty,MQ=T3.toString,Uu=_o?_o.toStringTag:void 0;function LQ(t){var e=RQ.call(t,Uu),r=t[Uu];try{t[Uu]=void 0;var n=!0}catch{}var a=MQ.call(t);return n&&(e?t[Uu]=r:delete t[Uu]),a}var FQ=Object.prototype,BQ=FQ.toString;function qQ(t){return BQ.call(t)}var VQ="[object Null]",UQ="[object Undefined]",P2=_o?_o.toStringTag:void 0;function gl(t){return t==null?t===void 0?UQ:VQ:P2&&P2 in Object(t)?LQ(t):qQ(t)}function E3(t,e){return function(r){return t(e(r))}}var OT=E3(Object.getPrototypeOf,Object);function yl(t){return t!=null&&typeof t=="object"}var zQ="[object Object]",WQ=Function.prototype,HQ=Object.prototype,P3=WQ.toString,GQ=HQ.hasOwnProperty,YQ=P3.call(Object);function O2(t){if(!yl(t)||gl(t)!=zQ)return!1;var e=OT(t);if(e===null)return!0;var r=GQ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&P3.call(r)==YQ}function KQ(){this.__data__=[],this.size=0}function O3(t,e){return t===e||t!==t&&e!==e}function u0(t,e){for(var r=t.length;r--;)if(O3(t[r][0],e))return r;return-1}var JQ=Array.prototype,XQ=JQ.splice;function ZQ(t){var e=this.__data__,r=u0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():XQ.call(e,r,1),--this.size,!0}function QQ(t){var e=this.__data__,r=u0(e,t);return r<0?void 0:e[r][1]}function eee(t){return u0(this.__data__,t)>-1}function tee(t,e){var r=this.__data__,n=u0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Rs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rs.prototype.clear=KQ;Rs.prototype.delete=ZQ;Rs.prototype.get=QQ;Rs.prototype.has=eee;Rs.prototype.set=tee;function ree(){this.__data__=new Rs,this.size=0}function nee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function aee(t){return this.__data__.get(t)}function see(t){return this.__data__.has(t)}function Um(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var oee="[object AsyncFunction]",iee="[object Function]",lee="[object GeneratorFunction]",cee="[object Proxy]";function D3(t){if(!Um(t))return!1;var e=gl(t);return e==iee||e==lee||e==oee||e==cee}var NC=Ga["__core-js_shared__"],D2=function(){var t=/[^.]+$/.exec(NC&&NC.keys&&NC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function uee(t){return!!D2&&D2 in t}var dee=Function.prototype,fee=dee.toString;function bl(t){if(t!=null){try{return fee.call(t)}catch{}try{return t+""}catch{}}return""}var mee=/[\\^$.*+?()[\]{}|]/g,hee=/^\[object .+?Constructor\]$/,pee=Function.prototype,gee=Object.prototype,yee=pee.toString,bee=gee.hasOwnProperty,xee=RegExp("^"+yee.call(bee).replace(mee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vee(t){if(!Um(t)||uee(t))return!1;var e=D3(t)?xee:hee;return e.test(bl(t))}function jee(t,e){return t==null?void 0:t[e]}function xl(t,e){var r=jee(t,e);return vee(r)?r:void 0}var Rf=xl(Ga,"Map"),Mf=xl(Object,"create");function wee(){this.__data__=Mf?Mf(null):{},this.size=0}function Cee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nee="__lodash_hash_undefined__",See=Object.prototype,Aee=See.hasOwnProperty;function kee(t){var e=this.__data__;if(Mf){var r=e[t];return r===Nee?void 0:r}return Aee.call(e,t)?e[t]:void 0}var Iee=Object.prototype,Tee=Iee.hasOwnProperty;function Eee(t){var e=this.__data__;return Mf?e[t]!==void 0:Tee.call(e,t)}var Pee="__lodash_hash_undefined__";function Oee(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Mf&&e===void 0?Pee:e,this}function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=wee;rl.prototype.delete=Cee;rl.prototype.get=kee;rl.prototype.has=Eee;rl.prototype.set=Oee;function Dee(){this.size=0,this.__data__={hash:new rl,map:new(Rf||Rs),string:new rl}}function _ee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function d0(t,e){var r=t.__data__;return _ee(e)?r[typeof e=="string"?"string":"hash"]:r.map}function $ee(t){var e=d0(this,t).delete(t);return this.size-=e?1:0,e}function Ree(t){return d0(this,t).get(t)}function Mee(t){return d0(this,t).has(t)}function Lee(t,e){var r=d0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ho(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ho.prototype.clear=Dee;Ho.prototype.delete=$ee;Ho.prototype.get=Ree;Ho.prototype.has=Mee;Ho.prototype.set=Lee;var Fee=200;function Bee(t,e){var r=this.__data__;if(r instanceof Rs){var n=r.__data__;if(!Rf||n.length<Fee-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ho(n)}return r.set(t,e),this.size=r.size,this}function pu(t){var e=this.__data__=new Rs(t);this.size=e.size}pu.prototype.clear=ree;pu.prototype.delete=nee;pu.prototype.get=aee;pu.prototype.has=see;pu.prototype.set=Bee;function qee(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var _2=function(){try{var t=xl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function _3(t,e,r){e=="__proto__"&&_2?_2(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Vee=Object.prototype,Uee=Vee.hasOwnProperty;function $3(t,e,r){var n=t[e];(!(Uee.call(t,e)&&O3(n,r))||r===void 0&&!(e in t))&&_3(t,e,r)}function f0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?_3(r,l,c):$3(r,l,c)}return r}function zee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Wee="[object Arguments]";function $2(t){return yl(t)&&gl(t)==Wee}var R3=Object.prototype,Hee=R3.hasOwnProperty,Gee=R3.propertyIsEnumerable,Yee=$2(function(){return arguments}())?$2:function(t){return yl(t)&&Hee.call(t,"callee")&&!Gee.call(t,"callee")},zm=Array.isArray;function Kee(){return!1}var M3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,R2=M3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,Jee=R2&&R2.exports===M3,M2=Jee?Ga.Buffer:void 0,Xee=M2?M2.isBuffer:void 0,L3=Xee||Kee,Zee=9007199254740991,Qee=/^(?:0|[1-9]\d*)$/;function ete(t,e){var r=typeof t;return e=e??Zee,!!e&&(r=="number"||r!="symbol"&&Qee.test(t))&&t>-1&&t%1==0&&t<e}var tte=9007199254740991;function F3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tte}var rte="[object Arguments]",nte="[object Array]",ate="[object Boolean]",ste="[object Date]",ote="[object Error]",ite="[object Function]",lte="[object Map]",cte="[object Number]",ute="[object Object]",dte="[object RegExp]",fte="[object Set]",mte="[object String]",hte="[object WeakMap]",pte="[object ArrayBuffer]",gte="[object DataView]",yte="[object Float32Array]",bte="[object Float64Array]",xte="[object Int8Array]",vte="[object Int16Array]",jte="[object Int32Array]",wte="[object Uint8Array]",Cte="[object Uint8ClampedArray]",Nte="[object Uint16Array]",Ste="[object Uint32Array]",St={};St[yte]=St[bte]=St[xte]=St[vte]=St[jte]=St[wte]=St[Cte]=St[Nte]=St[Ste]=!0;St[rte]=St[nte]=St[pte]=St[ate]=St[gte]=St[ste]=St[ote]=St[ite]=St[lte]=St[cte]=St[ute]=St[dte]=St[fte]=St[mte]=St[hte]=!1;function Ate(t){return yl(t)&&F3(t.length)&&!!St[gl(t)]}function DT(t){return function(e){return t(e)}}var B3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,Ld=B3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,kte=Ld&&Ld.exports===B3,SC=kte&&I3.process,$c=function(){try{var t=Ld&&Ld.require&&Ld.require("util").types;return t||SC&&SC.binding&&SC.binding("util")}catch{}}(),L2=$c&&$c.isTypedArray,Ite=L2?DT(L2):Ate,Tte=Object.prototype,Ete=Tte.hasOwnProperty;function q3(t,e){var r=zm(t),n=!r&&Yee(t),a=!r&&!n&&L3(t),s=!r&&!n&&!a&&Ite(t),i=r||n||a||s,l=i?zee(t.length,String):[],c=l.length;for(var u in t)(e||Ete.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ete(u,c)))&&l.push(u);return l}var Pte=Object.prototype;function _T(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Pte;return t===r}var Ote=E3(Object.keys,Object),Dte=Object.prototype,_te=Dte.hasOwnProperty;function $te(t){if(!_T(t))return Ote(t);var e=[];for(var r in Object(t))_te.call(t,r)&&r!="constructor"&&e.push(r);return e}function V3(t){return t!=null&&F3(t.length)&&!D3(t)}function $T(t){return V3(t)?q3(t):$te(t)}function Rte(t,e){return t&&f0(e,$T(e),t)}function Mte(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Lte=Object.prototype,Fte=Lte.hasOwnProperty;function Bte(t){if(!Um(t))return Mte(t);var e=_T(t),r=[];for(var n in t)n=="constructor"&&(e||!Fte.call(t,n))||r.push(n);return r}function RT(t){return V3(t)?q3(t,!0):Bte(t)}function qte(t,e){return t&&f0(e,RT(e),t)}var U3=typeof jn=="object"&&jn&&!jn.nodeType&&jn,F2=U3&&typeof wn=="object"&&wn&&!wn.nodeType&&wn,Vte=F2&&F2.exports===U3,B2=Vte?Ga.Buffer:void 0,q2=B2?B2.allocUnsafe:void 0;function Ute(t,e){if(e)return t.slice();var r=t.length,n=q2?q2(r):new t.constructor(r);return t.copy(n),n}function z3(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function zte(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function W3(){return[]}var Wte=Object.prototype,Hte=Wte.propertyIsEnumerable,V2=Object.getOwnPropertySymbols,MT=V2?function(t){return t==null?[]:(t=Object(t),zte(V2(t),function(e){return Hte.call(t,e)}))}:W3;function Gte(t,e){return f0(t,MT(t),e)}function H3(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Yte=Object.getOwnPropertySymbols,G3=Yte?function(t){for(var e=[];t;)H3(e,MT(t)),t=OT(t);return e}:W3;function Kte(t,e){return f0(t,G3(t),e)}function Y3(t,e,r){var n=e(t);return zm(t)?n:H3(n,r(t))}function Jte(t){return Y3(t,$T,MT)}function Xte(t){return Y3(t,RT,G3)}var TS=xl(Ga,"DataView"),ES=xl(Ga,"Promise"),PS=xl(Ga,"Set"),OS=xl(Ga,"WeakMap"),U2="[object Map]",Zte="[object Object]",z2="[object Promise]",W2="[object Set]",H2="[object WeakMap]",G2="[object DataView]",Qte=bl(TS),ere=bl(Rf),tre=bl(ES),rre=bl(PS),nre=bl(OS),ss=gl;(TS&&ss(new TS(new ArrayBuffer(1)))!=G2||Rf&&ss(new Rf)!=U2||ES&&ss(ES.resolve())!=z2||PS&&ss(new PS)!=W2||OS&&ss(new OS)!=H2)&&(ss=function(t){var e=gl(t),r=e==Zte?t.constructor:void 0,n=r?bl(r):"";if(n)switch(n){case Qte:return G2;case ere:return U2;case tre:return z2;case rre:return W2;case nre:return H2}return e});var are=Object.prototype,sre=are.hasOwnProperty;function ore(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&sre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Y2=Ga.Uint8Array;function LT(t){var e=new t.constructor(t.byteLength);return new Y2(e).set(new Y2(t)),e}function ire(t,e){var r=e?LT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var lre=/\w*$/;function cre(t){var e=new t.constructor(t.source,lre.exec(t));return e.lastIndex=t.lastIndex,e}var K2=_o?_o.prototype:void 0,J2=K2?K2.valueOf:void 0;function ure(t){return J2?Object(J2.call(t)):{}}function dre(t,e){var r=e?LT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var fre="[object Boolean]",mre="[object Date]",hre="[object Map]",pre="[object Number]",gre="[object RegExp]",yre="[object Set]",bre="[object String]",xre="[object Symbol]",vre="[object ArrayBuffer]",jre="[object DataView]",wre="[object Float32Array]",Cre="[object Float64Array]",Nre="[object Int8Array]",Sre="[object Int16Array]",Are="[object Int32Array]",kre="[object Uint8Array]",Ire="[object Uint8ClampedArray]",Tre="[object Uint16Array]",Ere="[object Uint32Array]";function Pre(t,e,r){var n=t.constructor;switch(e){case vre:return LT(t);case fre:case mre:return new n(+t);case jre:return ire(t,r);case wre:case Cre:case Nre:case Sre:case Are:case kre:case Ire:case Tre:case Ere:return dre(t,r);case hre:return new n;case pre:case bre:return new n(t);case gre:return cre(t);case yre:return new n;case xre:return ure(t)}}var X2=Object.create,Ore=function(){function t(){}return function(e){if(!Um(e))return{};if(X2)return X2(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Dre(t){return typeof t.constructor=="function"&&!_T(t)?Ore(OT(t)):{}}var _re="[object Map]";function $re(t){return yl(t)&&ss(t)==_re}var Z2=$c&&$c.isMap,Rre=Z2?DT(Z2):$re,Mre="[object Set]";function Lre(t){return yl(t)&&ss(t)==Mre}var Q2=$c&&$c.isSet,Fre=Q2?DT(Q2):Lre,Bre=1,qre=2,Vre=4,K3="[object Arguments]",Ure="[object Array]",zre="[object Boolean]",Wre="[object Date]",Hre="[object Error]",J3="[object Function]",Gre="[object GeneratorFunction]",Yre="[object Map]",Kre="[object Number]",X3="[object Object]",Jre="[object RegExp]",Xre="[object Set]",Zre="[object String]",Qre="[object Symbol]",ene="[object WeakMap]",tne="[object ArrayBuffer]",rne="[object DataView]",nne="[object Float32Array]",ane="[object Float64Array]",sne="[object Int8Array]",one="[object Int16Array]",ine="[object Int32Array]",lne="[object Uint8Array]",cne="[object Uint8ClampedArray]",une="[object Uint16Array]",dne="[object Uint32Array]",yt={};yt[K3]=yt[Ure]=yt[tne]=yt[rne]=yt[zre]=yt[Wre]=yt[nne]=yt[ane]=yt[sne]=yt[one]=yt[ine]=yt[Yre]=yt[Kre]=yt[X3]=yt[Jre]=yt[Xre]=yt[Zre]=yt[Qre]=yt[lne]=yt[cne]=yt[une]=yt[dne]=!0;yt[Hre]=yt[J3]=yt[ene]=!1;function Fd(t,e,r,n,a,s){var i,l=e&Bre,c=e&qre,u=e&Vre;if(i!==void 0)return i;if(!Um(t))return t;var d=zm(t);if(d){if(i=ore(t),!l)return z3(t,i)}else{var f=ss(t),m=f==J3||f==Gre;if(L3(t))return Ute(t,l);if(f==X3||f==K3||m&&!a){if(i=c||m?{}:Dre(t),!l)return c?Kte(t,qte(i,t)):Gte(t,Rte(i,t))}else{if(!yt[f])return a?t:{};i=Pre(t,f,l)}}s||(s=new pu);var h=s.get(t);if(h)return h;s.set(t,i),Fre(t)?t.forEach(function(g){i.add(Fd(g,e,r,g,t,s))}):Rre(t)&&t.forEach(function(g,x){i.set(x,Fd(g,e,r,x,t,s))});var p=u?c?Xte:Jte:c?RT:$T,b=d?void 0:p(t);return qee(b||t,function(g,x){b&&(x=g,g=t[x]),$3(i,x,Fd(g,e,r,x,t,s))}),i}var fne=1,mne=4;function gd(t){return Fd(t,fne|mne)}var eD=Array.isArray,tD=Object.keys,hne=Object.prototype.hasOwnProperty,pne=typeof Element<"u";function DS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=eD(t),n=eD(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!DS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=tD(t);if(s=f.length,s!==tD(e).length)return!1;for(a=s;a--!==0;)if(!hne.call(e,f[a]))return!1;if(pne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!DS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var gne=function(e,r){try{return DS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Js=at(gne);var yne=4;function rD(t){return Fd(t,yne)}function Z3(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var bne="[object Symbol]";function FT(t){return typeof t=="symbol"||yl(t)&&gl(t)==bne}var xne="Expected a function";function BT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(BT.Cache||Ho),r}BT.Cache=Ho;var vne=500;function jne(t){var e=BT(t,function(n){return r.size===vne&&r.clear(),n}),r=e.cache;return e}var wne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cne=/\\(\\)?/g,Nne=jne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wne,function(r,n,a,s){e.push(a?s.replace(Cne,"$1"):n||r)}),e});function Sne(t){if(typeof t=="string"||FT(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var nD=_o?_o.prototype:void 0,aD=nD?nD.toString:void 0;function Q3(t){if(typeof t=="string")return t;if(zm(t))return Z3(t,Q3)+"";if(FT(t))return aD?aD.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ane(t){return t==null?"":Q3(t)}function eq(t){return zm(t)?Z3(t,Sne):FT(t)?[t]:z3(Nne(Ane(t)))}var tq={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,qT=xr?Symbol.for("react.element"):60103,VT=xr?Symbol.for("react.portal"):60106,m0=xr?Symbol.for("react.fragment"):60107,h0=xr?Symbol.for("react.strict_mode"):60108,p0=xr?Symbol.for("react.profiler"):60114,g0=xr?Symbol.for("react.provider"):60109,y0=xr?Symbol.for("react.context"):60110,UT=xr?Symbol.for("react.async_mode"):60111,b0=xr?Symbol.for("react.concurrent_mode"):60111,x0=xr?Symbol.for("react.forward_ref"):60112,v0=xr?Symbol.for("react.suspense"):60113,kne=xr?Symbol.for("react.suspense_list"):60120,j0=xr?Symbol.for("react.memo"):60115,w0=xr?Symbol.for("react.lazy"):60116,Ine=xr?Symbol.for("react.block"):60121,Tne=xr?Symbol.for("react.fundamental"):60117,Ene=xr?Symbol.for("react.responder"):60118,Pne=xr?Symbol.for("react.scope"):60119;function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qT:switch(t=t.type,t){case UT:case b0:case m0:case p0:case h0:case v0:return t;default:switch(t=t&&t.$$typeof,t){case y0:case x0:case w0:case j0:case g0:return t;default:return e}}case VT:return e}}}function rq(t){return _n(t)===b0}dt.AsyncMode=UT;dt.ConcurrentMode=b0;dt.ContextConsumer=y0;dt.ContextProvider=g0;dt.Element=qT;dt.ForwardRef=x0;dt.Fragment=m0;dt.Lazy=w0;dt.Memo=j0;dt.Portal=VT;dt.Profiler=p0;dt.StrictMode=h0;dt.Suspense=v0;dt.isAsyncMode=function(t){return rq(t)||_n(t)===UT};dt.isConcurrentMode=rq;dt.isContextConsumer=function(t){return _n(t)===y0};dt.isContextProvider=function(t){return _n(t)===g0};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qT};dt.isForwardRef=function(t){return _n(t)===x0};dt.isFragment=function(t){return _n(t)===m0};dt.isLazy=function(t){return _n(t)===w0};dt.isMemo=function(t){return _n(t)===j0};dt.isPortal=function(t){return _n(t)===VT};dt.isProfiler=function(t){return _n(t)===p0};dt.isStrictMode=function(t){return _n(t)===h0};dt.isSuspense=function(t){return _n(t)===v0};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===m0||t===b0||t===p0||t===h0||t===v0||t===kne||typeof t=="object"&&t!==null&&(t.$$typeof===w0||t.$$typeof===j0||t.$$typeof===g0||t.$$typeof===y0||t.$$typeof===x0||t.$$typeof===Tne||t.$$typeof===Ene||t.$$typeof===Pne||t.$$typeof===Ine)};dt.typeOf=_n;tq.exports=dt;var One=tq.exports,zT=One,Dne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_ne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$ne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WT={};WT[zT.ForwardRef]=$ne;WT[zT.Memo]=nq;function sD(t){return zT.isMemo(t)?nq:WT[t.$$typeof]||Dne}var Rne=Object.defineProperty,Mne=Object.getOwnPropertyNames,oD=Object.getOwnPropertySymbols,Lne=Object.getOwnPropertyDescriptor,Fne=Object.getPrototypeOf,iD=Object.prototype;function aq(t,e,r){if(typeof e!="string"){if(iD){var n=Fne(e);n&&n!==iD&&aq(t,n,r)}var a=Mne(e);oD&&(a=a.concat(oD(e)));for(var s=sD(t),i=sD(e),l=0;l<a.length;++l){var c=a[l];if(!_ne[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=Lne(e,c);try{Rne(t,c,u)}catch{}}}}return t}var Bne=aq;const qne=at(Bne);function qt(){return qt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qt.apply(this,arguments)}function Vne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function HT(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function lD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var C0=w.createContext(void 0);C0.displayName="FormikContext";var GT=C0.Provider,Une=C0.Consumer;function sq(){var t=w.useContext(C0);return t}var cD=function(e){return Array.isArray(e)&&e.length===0},Kr=function(e){return typeof e=="function"},Wm=function(e){return e!==null&&typeof e=="object"},zne=function(e){return String(Math.floor(Number(e)))===e},AC=function(e){return Object.prototype.toString.call(e)==="[object String]"},oq=function(e){return w.Children.count(e)===0},kC=function(e){return Wm(e)&&Kr(e.then)};function fr(t,e,r,n){n===void 0&&(n=0);for(var a=eq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ra(t,e,r){for(var n=rD(t),a=n,s=0,i=eq(e);s<i.length-1;s++){var l=i[s],c=fr(t,i.slice(0,s+1));if(c&&(Wm(c)||Array.isArray(c)))a=a[l]=rD(c);else{var u=i[s+1];a=a[l]=zne(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function iq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];Wm(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},iq(l,e,r,n[i])):n[i]=e}return n}function Wne(t,e){switch(e.type){case"SET_VALUES":return qt({},t,{values:e.payload});case"SET_TOUCHED":return qt({},t,{touched:e.payload});case"SET_ERRORS":return Js(t.errors,e.payload)?t:qt({},t,{errors:e.payload});case"SET_STATUS":return qt({},t,{status:e.payload});case"SET_ISSUBMITTING":return qt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return qt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return qt({},t,{values:Ra(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return qt({},t,{touched:Ra(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return qt({},t,{errors:Ra(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return qt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return qt({},t,{touched:iq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return qt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return qt({},t,{isSubmitting:!1});default:return t}}var ri={},$h={};function tt(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=HT(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=qt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=w.useRef(m.initialValues),p=w.useRef(m.initialErrors||ri),b=w.useRef(m.initialTouched||$h),g=w.useRef(m.initialStatus),x=w.useRef(!1),y=w.useRef({});w.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var v=w.useState(0),N=v[1],C=w.useRef({values:gd(m.initialValues),errors:gd(m.initialErrors)||ri,touched:gd(m.initialTouched)||$h,status:gd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,S=w.useCallback(function(J){var ye=C.current;C.current=Wne(ye,J),ye!==C.current&&N(function(Z){return Z+1})},[]),A=w.useCallback(function(J,ye){return new Promise(function(Z,pe){var be=m.validate(J,ye);be==null?Z(ri):kC(be)?be.then(function(Ee){Z(Ee||ri)},function(Ee){pe(Ee)}):Z(be)})},[m.validate]),T=w.useCallback(function(J,ye){var Z=m.validationSchema,pe=Kr(Z)?Z(ye):Z,be=ye&&pe.validateAt?pe.validateAt(ye,J):Gne(J,pe);return new Promise(function(Ee,Ke){be.then(function(){Ee(ri)},function(Xe){Xe.name==="ValidationError"?Ee(Hne(Xe)):Ke(Xe)})})},[m.validationSchema]),k=w.useCallback(function(J,ye){return new Promise(function(Z){return Z(y.current[J].validate(ye))})},[]),E=w.useCallback(function(J){var ye=Object.keys(y.current).filter(function(pe){return Kr(y.current[pe].validate)}),Z=ye.length>0?ye.map(function(pe){return k(pe,fr(J,pe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(pe){return pe.reduce(function(be,Ee,Ke){return Ee==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ee&&(be=Ra(be,ye[Ke],Ee)),be},{})})},[k]),O=w.useCallback(function(J){return Promise.all([E(J),m.validationSchema?T(J):{},m.validate?A(J):{}]).then(function(ye){var Z=ye[0],pe=ye[1],be=ye[2],Ee=IS.all([Z,pe,be],{arrayMerge:Yne});return Ee})},[m.validate,m.validationSchema,E,A,T]),M=$n(function(J){return J===void 0&&(J=j.values),S({type:"SET_ISVALIDATING",payload:!0}),O(J).then(function(ye){return x.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:ye})),ye})});w.useEffect(function(){i&&x.current===!0&&Js(h.current,m.initialValues)&&M(h.current)},[i,M]);var R=w.useCallback(function(J){var ye=J&&J.values?J.values:h.current,Z=J&&J.errors?J.errors:p.current?p.current:m.initialErrors||{},pe=J&&J.touched?J.touched:b.current?b.current:m.initialTouched||{},be=J&&J.status?J.status:g.current?g.current:m.initialStatus;h.current=ye,p.current=Z,b.current=pe,g.current=be;var Ee=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!J&&!!J.isSubmitting,errors:Z,touched:pe,status:be,values:ye,isValidating:!!J&&!!J.isValidating,submitCount:J&&J.submitCount&&typeof J.submitCount=="number"?J.submitCount:0}})};if(m.onReset){var Ke=m.onReset(j.values,me);kC(Ke)?Ke.then(Ee):Ee()}else Ee()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){x.current===!0&&!Js(h.current,m.initialValues)&&u&&(h.current=m.initialValues,R(),i&&M(h.current))},[u,m.initialValues,R,i,M]),w.useEffect(function(){u&&x.current===!0&&!Js(p.current,m.initialErrors)&&(p.current=m.initialErrors||ri,S({type:"SET_ERRORS",payload:m.initialErrors||ri}))},[u,m.initialErrors]),w.useEffect(function(){u&&x.current===!0&&!Js(b.current,m.initialTouched)&&(b.current=m.initialTouched||$h,S({type:"SET_TOUCHED",payload:m.initialTouched||$h}))},[u,m.initialTouched]),w.useEffect(function(){u&&x.current===!0&&!Js(g.current,m.initialStatus)&&(g.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var $=$n(function(J){if(y.current[J]&&Kr(y.current[J].validate)){var ye=fr(j.values,J),Z=y.current[J].validate(ye);return kC(Z)?(S({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:J,value:pe}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:J,value:Z}}),Promise.resolve(Z))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),T(j.values,J).then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:J,value:fr(pe,J)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=w.useCallback(function(J,ye){var Z=ye.validate;y.current[J]={validate:Z}},[]),z=w.useCallback(function(J){delete y.current[J]},[]),D=$n(function(J,ye){S({type:"SET_TOUCHED",payload:J});var Z=ye===void 0?a:ye;return Z?M(j.values):Promise.resolve()}),_=w.useCallback(function(J){S({type:"SET_ERRORS",payload:J})},[]),F=$n(function(J,ye){var Z=Kr(J)?J(j.values):J;S({type:"SET_VALUES",payload:Z});var pe=ye===void 0?r:ye;return pe?M(Z):Promise.resolve()}),Y=w.useCallback(function(J,ye){S({type:"SET_FIELD_ERROR",payload:{field:J,value:ye}})},[]),G=$n(function(J,ye,Z){S({type:"SET_FIELD_VALUE",payload:{field:J,value:ye}});var pe=Z===void 0?r:Z;return pe?M(Ra(j.values,J,ye)):Promise.resolve()}),te=w.useCallback(function(J,ye){var Z=ye,pe=J,be;if(!AC(J)){J.persist&&J.persist();var Ee=J.target?J.target:J.currentTarget,Ke=Ee.type,Xe=Ee.name,Ir=Ee.id,Vs=Ee.value,ei=Ee.checked;Ee.outerHTML;var Us=Ee.options,ti=Ee.multiple;Z=ye||Xe||Ir,pe=/number|range/.test(Ke)?(be=parseFloat(Vs),isNaN(be)?"":be):/checkbox/.test(Ke)?Jne(fr(j.values,Z),ei,Vs):Us&&ti?Kne(Us):Vs}Z&&G(Z,pe)},[G,j.values]),fe=$n(function(J){if(AC(J))return function(ye){return te(ye,J)};te(J)}),ke=$n(function(J,ye,Z){ye===void 0&&(ye=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:J,value:ye}});var pe=Z===void 0?a:Z;return pe?M(j.values):Promise.resolve()}),ae=w.useCallback(function(J,ye){J.persist&&J.persist();var Z=J.target,pe=Z.name,be=Z.id;Z.outerHTML;var Ee=ye||pe||be;ke(Ee,!0)},[ke]),X=$n(function(J){if(AC(J))return function(ye){return ae(ye,J)};ae(J)}),ce=w.useCallback(function(J){Kr(J)?S({type:"SET_FORMIK_STATE",payload:J}):S({type:"SET_FORMIK_STATE",payload:function(){return J}})},[]),Q=w.useCallback(function(J){S({type:"SET_STATUS",payload:J})},[]),re=w.useCallback(function(J){S({type:"SET_ISSUBMITTING",payload:J})},[]),K=$n(function(){return S({type:"SUBMIT_ATTEMPT"}),M().then(function(J){var ye=J instanceof Error,Z=!ye&&Object.keys(J).length===0;if(Z){var pe;try{if(pe=je(),pe===void 0)return}catch(be){throw be}return Promise.resolve(pe).then(function(be){return x.current&&S({type:"SUBMIT_SUCCESS"}),be}).catch(function(be){if(x.current)throw S({type:"SUBMIT_FAILURE"}),be})}else if(x.current&&(S({type:"SUBMIT_FAILURE"}),ye))throw J})}),H=$n(function(J){J&&J.preventDefault&&Kr(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Kr(J.stopPropagation)&&J.stopPropagation(),K().catch(function(ye){console.warn("Warning: An unhandled error was caught from submitForm()",ye)})}),me={resetForm:R,validateForm:M,validateField:$,setErrors:_,setFieldError:Y,setFieldTouched:ke,setFieldValue:G,setStatus:Q,setSubmitting:re,setTouched:D,setValues:F,setFormikState:ce,submitForm:K},je=$n(function(){return d(j.values,me)}),Te=$n(function(J){J&&J.preventDefault&&Kr(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Kr(J.stopPropagation)&&J.stopPropagation(),R()}),Ve=w.useCallback(function(J){return{value:fr(j.values,J),error:fr(j.errors,J),touched:!!fr(j.touched,J),initialValue:fr(h.current,J),initialTouched:!!fr(b.current,J),initialError:fr(p.current,J)}},[j.errors,j.touched,j.values]),qe=w.useCallback(function(J){return{setValue:function(Z,pe){return G(J,Z,pe)},setTouched:function(Z,pe){return ke(J,Z,pe)},setError:function(Z){return Y(J,Z)}}},[G,ke,Y]),Lr=w.useCallback(function(J){var ye=Wm(J),Z=ye?J.name:J,pe=fr(j.values,Z),be={name:Z,value:pe,onChange:fe,onBlur:X};if(ye){var Ee=J.type,Ke=J.value,Xe=J.as,Ir=J.multiple;Ee==="checkbox"?Ke===void 0?be.checked=!!pe:(be.checked=!!(Array.isArray(pe)&&~pe.indexOf(Ke)),be.value=Ke):Ee==="radio"?(be.checked=pe===Ke,be.value=Ke):Xe==="select"&&Ir&&(be.value=be.value||[],be.multiple=!0)}return be},[X,fe,j.values]),Fr=w.useMemo(function(){return!Js(h.current,j.values)},[h.current,j.values]),ta=w.useMemo(function(){return typeof l<"u"?Fr?j.errors&&Object.keys(j.errors).length===0:l!==!1&&Kr(l)?l(m):l:j.errors&&Object.keys(j.errors).length===0},[l,Fr,j.errors,m]),Hr=qt({},j,{initialValues:h.current,initialErrors:p.current,initialTouched:b.current,initialStatus:g.current,handleBlur:X,handleChange:fe,handleReset:Te,handleSubmit:H,resetForm:R,setErrors:_,setFormikState:ce,setFieldTouched:ke,setFieldValue:G,setFieldError:Y,setStatus:Q,setSubmitting:re,setTouched:D,setValues:F,submitForm:K,validateForm:M,validateField:$,isValid:ta,dirty:Fr,unregisterField:z,registerField:B,getFieldProps:Lr,getFieldMeta:Ve,getFieldHelpers:qe,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Hr}function $e(t){var e=tt(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(GT,{value:e},r?w.createElement(r,e):a?a(e):n?Kr(n)?n(e):oq(n)?null:w.Children.only(n):null)}function Hne(t){var e={};if(t.inner){if(t.inner.length===0)return Ra(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;fr(e,i.path)||(e=Ra(e,i.path,i.message))}}return e}function Gne(t,e,r,n){r===void 0&&(r=!1);var a=_S(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function _S(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||O2(a)?_S(a):a!==""?a:void 0}):O2(t[n])?e[n]=_S(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function Yne(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?IS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=IS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function Kne(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Jne(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var Xne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function $n(t){var e=w.useRef(t);return Xne(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Le=w.forwardRef(function(t,e){var r=t.action,n=HT(t,["action"]),a=r??"#",s=sq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",qt({onSubmit:l,ref:e,onReset:i,action:a},n))});Le.displayName="Form";function Zne(t){var e=function(a){return w.createElement(Une,null,function(s){return w.createElement(t,qt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",qne(e,t)}var Qne=function(e,r,n){var a=nl(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},eae=function(e,r,n){var a=nl(e),s=a[r];return a[r]=a[n],a[n]=s,a},IC=function(e,r,n){var a=nl(e);return a.splice(r,0,n),a},tae=function(e,r,n){var a=nl(e);return a[r]=n,a},nl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(qt({},e,{length:r+1}))}else return[]},uD=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||Wm(a)){var s=nl(a);return n(s)}return a}},lq=function(t){Vne(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=uD(l,s),h=uD(i,s),p=Ra(f.values,u,s(fr(f.values,u))),b=l?m(fr(f.errors,u)):void 0,g=i?h(fr(f.touched,u)):void 0;return cD(b)&&(b=void 0),cD(g)&&(g=void 0),qt({},f,{values:p,errors:l?Ra(f.errors,u,b):f.errors,touched:i?Ra(f.touched,u,g):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(nl(i),[gd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return eae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return Qne(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return IC(l,s,i)},function(l){return IC(l,s,null)},function(l){return IC(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return tae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(lD(a)),a.pop=a.pop.bind(lD(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Js(fr(a.formik.values,a.name),fr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?nl(i):[];return s||(s=l[a]),Kr(l.splice)&&l.splice(a,1),Kr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=HT(d,["validate","validationSchema"]),m=qt({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):oq(c)?null:w.Children.only(c):null},e}(w.Component);lq.defaultProps={validateOnChange:!0};var en=Zne(lq);function I({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:p,...b}){const g=m&&h,[x,y]=w.useState(!1),v=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:b.rows||3,className:_e("form-textarea border border-gray-300 px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:N=>{const C=Array.from(N.target.selectedOptions).map(j=>j.value);d({target:{name:e,value:C}})},onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 h-auto",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:c.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 pr-10",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:[o.jsx("option",{value:"",children:b.defaultOption||"Select"}),c.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:_e("form-checkbox",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(N=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${N.value}`,name:e,type:"radio",value:N.value,disabled:s,checked:u===N.value,onChange:d,onBlur:f,className:_e("form-radio ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:`${e}-${N.value}`,className:"ml-2 block text-sm text-neutral-700",children:N.label})]},N.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:x?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("button",{type:"button",onClick:()=>y(N=>!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:x?o.jsx(sJ,{className:"h-5 w-5"}):o.jsx(Lm,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),v(),g?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):p?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:p}):null]})}function rae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=ie(),{isLoading:s,error:i}=q(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){U.error("Please fill out all fields.");return}a(_p({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(nJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const nae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),aae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),sae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hm(t){return t+.5|0}const oo=(t,e,r)=>Math.max(Math.min(t,r),e);function yd(t){return oo(Hm(t*2.55),0,255)}function jo(t){return oo(Hm(t*255),0,255)}function os(t){return oo(Hm(t/2.55)/100,0,1)}function dD(t){return oo(Hm(t*100),0,100)}const Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$S=[..."0123456789ABCDEF"],oae=t=>$S[t&15],iae=t=>$S[(t&240)>>4]+$S[t&15],Rh=t=>(t&240)>>4===(t&15),lae=t=>Rh(t.r)&&Rh(t.g)&&Rh(t.b)&&Rh(t.a);function cae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Rn[t[1]]*17,g:255&Rn[t[2]]*17,b:255&Rn[t[3]]*17,a:e===5?Rn[t[4]]*17:255}:(e===7||e===9)&&(r={r:Rn[t[1]]<<4|Rn[t[2]],g:Rn[t[3]]<<4|Rn[t[4]],b:Rn[t[5]]<<4|Rn[t[6]],a:e===9?Rn[t[7]]<<4|Rn[t[8]]:255})),r}const uae=(t,e)=>t<255?e(t):"";function dae(t){var e=lae(t)?oae:iae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+uae(t.a,e):void 0}const fae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function mae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function hae(t,e,r){const n=cq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function pae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function YT(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=pae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function KT(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(jo)}function JT(t,e,r){return KT(cq,t,e,r)}function gae(t,e,r){return KT(hae,t,e,r)}function yae(t,e,r){return KT(mae,t,e,r)}function uq(t){return(t%360+360)%360}function bae(t){const e=fae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?yd(+e[5]):jo(+e[5]));const a=uq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=gae(a,s,i):e[1]==="hsv"?n=yae(a,s,i):n=JT(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function xae(t,e){var r=YT(t);r[0]=uq(r[0]+e),r=JT(r),t.r=r[0],t.g=r[1],t.b=r[2]}function vae(t){if(!t)return;const e=YT(t),r=e[0],n=dD(e[1]),a=dD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${os(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const fD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jae(){const t={},e=Object.keys(mD),r=Object.keys(fD);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,fD[s]);s=parseInt(mD[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Mh;function wae(t){Mh||(Mh=jae(),Mh.transparent=[0,0,0,0]);const e=Mh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Cae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nae(t){const e=Cae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?yd(i):oo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?yd(n):oo(n,0,255)),a=255&(e[4]?yd(a):oo(a,0,255)),s=255&(e[6]?yd(s):oo(s,0,255)),{r:n,g:a,b:s,a:r}}}function Sae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${os(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const TC=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,El=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Aae(t,e,r){const n=El(os(t.r)),a=El(os(t.g)),s=El(os(t.b));return{r:jo(TC(n+r*(El(os(e.r))-n))),g:jo(TC(a+r*(El(os(e.g))-a))),b:jo(TC(s+r*(El(os(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Lh(t,e,r){if(t){let n=YT(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=JT(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function dq(t,e){return t&&Object.assign(e||{},t)}function hD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jo(t[3]))):(e=dq(t,{r:0,g:0,b:0,a:1}),e.a=jo(e.a)),e}function kae(t){return t.charAt(0)==="r"?Nae(t):bae(t)}let fq=class RS{constructor(e){if(e instanceof RS)return e;const r=typeof e;let n;r==="object"?n=hD(e):r==="string"&&(n=cae(e)||wae(e)||kae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=dq(this._rgb);return e&&(e.a=os(e.a)),e}set rgb(e){this._rgb=hD(e)}rgbString(){return this._valid?Sae(this._rgb):void 0}hexString(){return this._valid?dae(this._rgb):void 0}hslString(){return this._valid?vae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=Aae(this._rgb,e._rgb,r)),this}clone(){return new RS(this.rgb)}alpha(e){return this._rgb.a=jo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Hm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lh(this._rgb,2,e),this}darken(e){return Lh(this._rgb,2,-e),this}saturate(e){return Lh(this._rgb,1,e),this}desaturate(e){return Lh(this._rgb,1,-e),this}rotate(e){return xae(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ja(){}const Iae=(()=>{let t=0;return()=>t++})();function We(t){return t==null}function Ot(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hn(t,e){return Wt(t)?t:e}function Be(t,e){return typeof t>"u"?e:t}const Tae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,mq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function lt(t,e,r,n){let a,s,i;if(Ot(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ge(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function xx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function vx(t){if(Ot(t))return t.map(vx);if(Ge(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=vx(t[r[a]]);return e}return t}function hq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Eae(t,e,r,n){if(!hq(t))return;const a=e[t],s=r[t];Ge(a)&&Ge(s)?Lf(a,s,n):e[t]=vx(s)}function Lf(t,e,r){const n=Ot(e)?e:[e],a=n.length;if(!Ge(t))return t;r=r||{};const s=r.merger||Eae;let i;for(let l=0;l<a;++l){if(i=n[l],!Ge(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Bd(t,e){return Lf(t,e,{merger:Pae})}function Pae(t,e,r){if(!hq(t))return;const n=e[t],a=r[t];Ge(n)&&Ge(a)?Bd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vx(a))}const pD={"":t=>t,x:t=>t.x,y:t=>t.y};function Oae(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Dae(t){const e=Oae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function $o(t,e){return(pD[e]||(pD[e]=Dae(e)))(t)}function XT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ff=t=>typeof t<"u",Ro=t=>typeof t=="function",gD=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function _ae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Et=Math.PI,Tt=2*Et,$ae=Tt+Et,jx=Number.POSITIVE_INFINITY,Rae=Et/180,Xt=Et/2,ni=Et/4,yD=Et*2/3,io=Math.log10,Ma=Math.sign;function qd(t,e,r){return Math.abs(t-e)<r}function bD(t){const e=Math.round(t);t=qd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(io(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Mae(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function Lae(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Rc(t){return!Lae(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Fae(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function pq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ua(t){return t*(Et/180)}function ZT(t){return t*(180/Et)}function xD(t){if(!Wt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function gq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Et&&(s+=Tt),{angle:s,distance:a}}function MS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Bae(t,e){return(t-e+$ae)%Tt-Et}function yn(t){return(t%Tt+Tt)%Tt}function Bf(t,e,r,n){const a=yn(t),s=yn(e),i=yn(r),l=yn(s-a),c=yn(i-a),u=yn(a-s),d=yn(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function pr(t,e,r){return Math.max(e,Math.min(r,t))}function qae(t){return pr(t,-32768,32767)}function us(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function QT(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const ds=(t,e,r,n)=>QT(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),Vae=(t,e,r)=>QT(t,r,n=>t[n][e]>=r);function Uae(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const yq=["push","pop","shift","splice","unshift"];function zae(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yq.forEach(r=>{const n="_onData"+XT(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function vD(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(yq.forEach(s=>{delete t[s]}),delete t._chartjs)}function bq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const xq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function vq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,xq.call(window,()=>{n=!1,t.apply(e,r)}))}}function Wae(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const eE=t=>t==="start"?"left":t==="end"?"right":"center",Or=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Hae=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function jq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:p}=i.getUserBounds();if(h){if(a=Math.min(ds(c,d,f).lo,r?n:ds(e,d,i.getPixelForValue(f)).lo),u){const b=c.slice(0,a+1).reverse().findIndex(g=>!We(g[l.axis]));a-=Math.max(0,b)}a=pr(a,0,n-1)}if(p){let b=Math.max(ds(c,i.axis,m,!0).hi+1,r?0:ds(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const g=c.slice(b-1).findIndex(x=>!We(x[l.axis]));b+=Math.max(0,g)}s=pr(b,a,n)-a}else s=n-a}return{start:a,count:s}}function wq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Fh=t=>t===0||t===1,jD=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tt/r)),wD=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tt/r)+1,Vd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xt)+1,easeOutSine:t=>Math.sin(t*Xt),easeInOutSine:t=>-.5*(Math.cos(Et*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fh(t)?t:jD(t,.075,.3),easeOutElastic:t=>Fh(t)?t:wD(t,.075,.3),easeInOutElastic(t){return Fh(t)?t:t<.5?.5*jD(t*2,.1125,.45):.5+.5*wD(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vd.easeInBounce(t*2)*.5:Vd.easeOutBounce(t*2-1)*.5+.5};function tE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function CD(t){return tE(t)?t:new fq(t)}function EC(t){return tE(t)?t:new fq(t).saturate(.5).darken(.1).hexString()}const Gae=["x","y","borderWidth","radius","tension"],Yae=["color","borderColor","backgroundColor"];function Kae(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Yae},numbers:{type:"number",properties:Gae}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Jae(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ND=new Map;function Xae(t,e){e=e||{};const r=t+JSON.stringify(e);let n=ND.get(r);return n||(n=new Intl.NumberFormat(t,e),ND.set(r,n)),n}function Gm(t,e,r){return Xae(e,r).format(t)}const Cq={values(t){return Ot(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=Zae(t,r)}const i=io(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Gm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(io(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Cq.numeric.call(this,t,e,r):""}};function Zae(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var N0={formatters:Cq};function Qae(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:N0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const al=Object.create(null),LS=Object.create(null);function Ud(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function PC(t,e,r){return typeof e=="string"?Lf(Ud(t,e),r):Lf(Ud(t,""),e)}class ese{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>EC(a.backgroundColor),this.hoverBorderColor=(n,a)=>EC(a.borderColor),this.hoverColor=(n,a)=>EC(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return PC(this,e,r)}get(e){return Ud(this,e)}describe(e,r){return PC(LS,e,r)}override(e,r){return PC(al,e,r)}route(e,r,n,a){const s=Ud(this,e),i=Ud(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ge(c)?Object.assign({},u,c):Be(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var _t=new ese({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Kae,Jae,Qae]);function tse(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function rse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Ot(f))i=wx(t,a,s,i,f);else if(Ot(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Ot(m)&&(i=wx(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function ai(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function SD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function FS(t,e,r,n){Nq(t,e,r,n,null)}function Nq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,p=e.rotation,b=e.radius;let g=(p||0)*Rae;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(g),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,b,0,0,Tt):t.arc(r,n,b,0,Tt),t.closePath();break;case"triangle":d=a?a/2:b,t.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=yD,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),g+=yD,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,i=Math.cos(g+ni)*c,f=Math.cos(g+ni)*(a?a/2-u:c),l=Math.sin(g+ni)*c,m=Math.sin(g+ni)*(a?a/2-u:c),t.arc(r-f,n-l,u,g-Et,g-Xt),t.arc(r+m,n-i,u,g-Xt,g),t.arc(r+f,n+l,u,g,g+Xt),t.arc(r-m,n+i,u,g+Xt,g+Et),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*b,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}g+=ni;case"rectRot":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":g+=ni;case"cross":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),g+=ni,f=Math.cos(g)*(a?a/2:b),i=Math.cos(g)*b,l=Math.sin(g)*b,m=Math.sin(g)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(g)*b,l=Math.sin(g)*b,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(a?a/2:b),n+Math.sin(g)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function fs(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function S0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function A0(t){t.restore()}function nse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function ase(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function sse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ose(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function ise(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function sl(t,e,r,n,a,s={}){const i=Ot(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,sse(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&ise(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),ose(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function qf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*Et,Et,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,Et,Xt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Xt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Xt,!0),t.lineTo(r+i.topLeft,n)}const lse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function use(t,e){const r=(""+t).match(lse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const dse=t=>+t||0;function rE(t,e){const r={},n=Ge(e),a=n?Object.keys(e):e,s=Ge(t)?n?i=>Be(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=dse(s(i));return r}function Sq(t){return rE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(t){return rE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(t){const e=Sq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lr(t,e){t=t||{},e=e||_t.font;let r=Be(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Be(t.style,e.style);n&&!(""+n).match(cse)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Be(t.family,e.family),lineHeight:use(Be(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Be(t.weight,e.weight),string:""};return a.string=tse(a),a}function bd(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function fse(t,e,r){const{min:n,max:a}=t,s=mq(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Go(t,e){return Object.assign(Object.create(t),e)}function nE(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Tq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>nE([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return kq(l,c,()=>vse(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return kD(l).includes(c)},ownKeys(l){return kD(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Mc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Aq(t,n),setContext:s=>Mc(t,s,r,n),override:s=>Mc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return kq(s,i,()=>hse(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function Aq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Ro(r)?r:()=>r,isIndexable:Ro(n)?n:()=>n}}const mse=(t,e)=>t?t+XT(e):e,aE=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function hse(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Ro(l)&&i.isScriptable(e)&&(l=pse(e,l,t,r)),Ot(l)&&l.length&&(l=gse(e,l,t,i.isIndexable)),aE(e,l)&&(l=Mc(l,a,s&&s[e],i)),l}function pse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),aE(t,c)&&(c=sE(a._scopes,a,t,c)),c}function gse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ge(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=sE(u,a,t,d);e.push(Mc(f,s,i&&i[t],l))}}return e}function Iq(t,e,r){return Ro(t)?t(e,r):t}const yse=(t,e)=>t===!0?e:typeof t=="string"?$o(e,t):void 0;function bse(t,e,r,n,a){for(const s of e){const i=yse(r,s);if(i){t.add(i);const l=Iq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function sE(t,e,r,n){const a=e._rootScopes,s=Iq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=AD(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=AD(l,i,s,c,n),c===null)?!1:nE(Array.from(l),[""],a,s,()=>xse(e,r,n))}function AD(t,e,r,n,a){for(;r;)r=bse(t,e,r,n,a);return r}function xse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Ot(a)&&Ge(r)?r:a||{}}function vse(t,e,r,n){let a;for(const s of e)if(a=Tq(mse(s,t),r),typeof a<"u")return aE(t,a)?sE(r,n,t,a):a}function Tq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function kD(t){let e=t._keys;return e||(e=t._keys=jse(t._scopes)),e}function jse(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Eq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse($o(d,s),u)};return i}const wse=Number.EPSILON||1e-14,Lc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Pq=t=>t==="x"?"y":"x";function Cse(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=MS(s,a),c=MS(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function Nse(t,e,r){const n=t.length;let a,s,i,l,c,u=Lc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Lc(t,d+1),!(!c||!u)){if(qd(e[d],0,wse)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function Sse(t,e,r="x"){const n=Pq(r),a=t.length;let s,i,l,c=Lc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Lc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Ase(t,e="x"){const r=Pq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Lc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Lc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Ma(a[i-1])!==Ma(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}Nse(t,a,s),Sse(t,s,e)}function Bh(t,e,r){return Math.max(Math.min(t,r),e)}function kse(t,e){let r,n,a,s,i,l=fs(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&fs(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Bh(a.cp1x,e.left,e.right),a.cp1y=Bh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Bh(a.cp2x,e.left,e.right),a.cp2y=Bh(a.cp2y,e.top,e.bottom)))}function Ise(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Ase(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Cse(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&kse(t,r)}function oE(){return typeof window<"u"&&typeof document<"u"}function iE(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const k0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Tse(t,e){return k0(t).getPropertyValue(e)}const Ese=["top","right","bottom","left"];function _i(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Ese[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Pse=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Ose(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(Pse(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function mi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=k0(r),s=a.boxSizing==="border-box",i=_i(a,"padding"),l=_i(a,"border","width"),{x:c,y:u,box:d}=Ose(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:p}=e;return s&&(h-=i.width+l.width,p-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/p*r.height/n)}}function Dse(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&iE(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=k0(s),c=_i(l,"border","width"),u=_i(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Cx(l.maxWidth,s,"clientWidth"),a=Cx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||jx,maxHeight:a||jx}}const qh=t=>Math.round(t*10)/10;function _se(t,e,r,n){const a=k0(t),s=_i(a,"margin"),i=Cx(a.maxWidth,t,"clientWidth")||jx,l=Cx(a.maxHeight,t,"clientHeight")||jx,c=Dse(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=_i(a,"border","width"),h=_i(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=qh(Math.min(u,i,c.maxWidth)),d=qh(Math.min(d,l,c.maxHeight)),u&&!d&&(d=qh(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=qh(Math.floor(d*n))),{width:u,height:d}}function ID(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const $se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};oE()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function TD(t,e){const r=Tse(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function hi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Rse(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Mse(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=hi(t,a,r),l=hi(a,s,r),c=hi(s,e,r),u=hi(i,l,r),d=hi(l,c,r);return hi(u,d,r)}const Lse=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Fse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function lc(t,e,r){return t?Lse(e,r):Fse()}function Oq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Dq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _q(t){return t==="angle"?{between:Bf,compare:Bae,normalize:yn}:{between:us,compare:(e,r)=>e-r,normalize:e=>e}}function ED({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Bse(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=_q(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function $q(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=_q(n),{start:d,end:f,loop:m,style:h}=Bse(t,e,r),p=[];let b=!1,g=null,x,y,v;const N=()=>c(a,v,x)&&l(a,v)!==0,C=()=>l(s,x)===0||c(s,v,x),j=()=>b||N(),S=()=>!b||C();for(let A=d,T=d;A<=f;++A)y=e[A%i],!y.skip&&(x=u(y[n]),x!==v&&(b=c(x,a,s),g===null&&j()&&(g=l(x,a)===0?A:T),g!==null&&S()&&(p.push(ED({start:g,end:A,loop:m,count:i,style:h})),g=null),T=A,v=x));return g!==null&&p.push(ED({start:g,end:f,loop:m,count:i,style:h})),p}function Rq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=$q(n[a],t.points,e);s.length&&r.push(...s)}return r}function qse(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function Vse(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function Use(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=qse(r,a,s,n);if(n===!0)return PD(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return PD(t,Vse(r,i,c,u),r,e)}function PD(t,e,r,n){return!n||!n.setContext||!r?e:zse(t,e,r,n)}function zse(t,e,r,n){const a=t._chart.getContext(),s=OD(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(p,b,g,x){const y=l?-1:1;if(p!==b){for(p+=c;r[p%c].skip;)p-=y;for(;r[b%c].skip;)b+=y;p%c!==b%c&&(u.push({start:p%c,end:b%c,loop:g,style:x}),d=x,f=b%c)}}for(const p of e){f=l?f:p.start;let b=r[f%c],g;for(m=f+1;m<=p.end;m++){const x=r[m%c];g=OD(n.setContext(Go(a,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),Wse(g,d)&&h(f,m-1,p.loop,d),b=x,d=g}f<m-1&&h(f,m-1,p.loop,d)}return u}function OD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Wse(t,e){if(!e)return!1;const r=[],n=function(a,s){return tE(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Vh(t,e,r){return t.options.clip?t[r]:e[r]}function Hse(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Vh(r,e,"left"),right:Vh(r,e,"right"),top:Vh(n,e,"top"),bottom:Vh(n,e,"bottom")}:e}function Mq(t,e){const r=e._clip;if(r.disabled)return!1;const n=Hse(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Gse{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=xq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qa=new Gse;const DD="transparent",Yse={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=CD(t||DD),a=n.valid&&CD(e||DD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Kse{constructor(e,r,n,a){const s=r[n];a=bd([e.to,a,s,e.from]);const i=bd([e.from,s,a]);this._active=!0,this._fn=e.fn||Yse[e.type||typeof i],this._easing=Vd[e.easing]||Vd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bd([e.to,r,a,e.from]),this._from=bd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class Lq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ge(e))return;const r=Object.keys(_t.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ge(s))return;const i={};for(const l of r)i[l]=s[l];(Ot(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=Xse(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&Jse(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new Kse(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Qa.add(this._chart,n),!0}}function Jse(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Xse(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function _D(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function Zse(t,e,r){if(r===!1)return!1;const n=_D(t,r),a=_D(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Qse(t){let e,r,n,a;return Ge(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function Fq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function $D(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Wt(u)&&(s||e===0||Ma(e)===Ma(u))&&(e+=u)}return!d&&!n.all?0:e}function eoe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function OC(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function toe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function roe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function noe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function RD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function MD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=toe(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const p=e[h],{[c]:b,[u]:g}=p,x=p._stacks||(p._stacks={});m=x[u]=noe(a,d,b),m[l]=g,m._top=RD(m,i,!0,n.type),m._bottom=RD(m,i,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=g}}function DC(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function aoe(t,e){return Go(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function soe(t,e,r){return Go(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function zu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const _C=t=>t==="reset"||t==="none",LD=(t,e)=>e?t:Object.assign({},t),ooe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Fq(r,!0),values:null};class pa{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=OC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,p)=>f==="x"?m:f==="r"?p:h,s=r.xAxisID=Be(n.xAxisID,DC(e,"x")),i=r.yAxisID=Be(n.yAxisID,DC(e,"y")),l=r.rAxisID=Be(n.rAxisID,DC(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vD(this._data,this),e._stacked&&zu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ge(r)){const a=this._cachedMeta;this._data=eoe(r,a)}else if(n!==r){if(n){vD(n,this);const a=this._cachedMeta;zu(a),a._parsed=[]}r&&Object.isExtensible(r)&&zae(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=OC(r.vScale,r),r.stack!==n.stack&&(a=!0,zu(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(MD(this,r._parsed),r._stacked=OC(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Ot(a[e])?m=this.parseArrayData(n,a,e,r):Ge(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&MD(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,p;for(m=0,h=a;m<h;++m)p=m+n,f[m]={[l]:d||s.parse(u[p],p),[c]:i.parse(r[p],p)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse($o(h,l),m),y:i.parse($o(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:Fq(a,!0),values:r._stacks[e.axis]._visualValues};return $D(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=$D(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=ooe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=roe(l);let m,h;function p(){h=a[m];const b=h[l.axis];return!Wt(h[e.axis])||d>b||f<b}for(m=0;m<i&&!(!p()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!p()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Wt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Qse(Be(this.options.clip,Zse(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=soe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=aoe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Ff(n);if(l)return LD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(_t.elements[e]),p=()=>this.getContext(n,a,r),b=u.resolveNamedOptions(m,h,p,f);return b.$shared&&(b.$shared=c,s[i]=Object.freeze(LD(b,c))),b}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new Lq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||_C(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){_C(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!_C(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&zu(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(pa,"defaults",{}),he(pa,"datasetElementType",null),he(pa,"dataElementType",null);function ioe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=bq(n.sort((a,s)=>a-s))}return t._cache.$bar}function loe(t){const e=t.iScale,r=ioe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Ff(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function coe(t,e,r,n){const a=r.barThickness;let s,i;return We(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function uoe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function doe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function Bq(t,e,r,n){return Ot(t)?doe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function FD(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(Bq(m,f,s,u));return c}function $C(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function foe(t,e,r){return t!==0?Ma(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function moe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function hoe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=moe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[BD(d,i,l,c)]=!0,a=u)),s[BD(a,i,l,c)]=!0,t.borderSkipped=s}function BD(t,e,r,n){return n?(t=poe(t,e,r),t=qD(t,r,e)):t=qD(t,e,r),t}function poe(t,e,r){return t===e?r:t===r?e:t}function qD(t,e,r){return t==="start"?e:t==="end"?r:t}function goe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Lp extends pa{parsePrimitiveData(e,r,n,a){return FD(e,r,n,a)}parseArrayData(e,r,n,a){return FD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,p,b;for(m=n,h=n+a;m<h;++m)b=r[m],p={},p[s.axis]=s.parse($o(b,u),m),f.push(Bq($o(b,d),p,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=$C(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const p=this.getParsed(h),b=s||We(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),g=this._calculateBarIndexPixels(h,d),x=(p._stacks||{})[l.axis],y={horizontal:u,base:b.base,enableBorderRadius:!x||$C(p._custom)||i===x._top||i===x._bottom,x:u?b.head:g.center,y:u?g.center:b.head,height:u?g.size:Math.abs(b.size),width:u?Math.abs(b.size):g.size};m&&(y.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const v=y.options||e[h].options;hoe(y,v,x,i),goe(y,v,d.ratio),this.updateElement(e[h],h,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(We(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||loe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=$C(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,p,b;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&Ma(f)!==Ma(u.barEnd)&&(m=0),m+=f);const g=!We(s)&&!d?s:m;let x=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(m+h):p=x,b=p-x,Math.abs(b)<i){b=foe(b,r,l)*i,f===l&&(x-=b/2);const y=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),N=Math.min(y,v),C=Math.max(y,v);x=Math.max(Math.min(x,C),N),p=x+b,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(p)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const y=Ma(b)*r.getLineWidthForValue(l)/2;x+=y,b-=y}return{size:b,base:x,head:p,center:p+b/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Be(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?uoe(e,r,a,u):coe(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(i,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Lp,"id","bar"),he(Lp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Lp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fp extends pa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],p=!s&&this.getParsed(m),b={},g=b[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(p[d]),x=b[f]=s?l.getBasePixel():l.getPixelForValue(p[f]);b.skip=isNaN(g)||isNaN(x),u&&(b.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(b.options.radius=0)),this.updateElement(h,m,b,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Be(n&&n._custom,s),a}}he(Fp,"id","bubble"),he(Fp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Fp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function yoe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Tt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(v,N,C)=>Bf(v,l,c,!0)?1:Math.max(N,N*r,C,C*r),p=(v,N,C)=>Bf(v,l,c,!0)?-1:Math.min(N,N*r,C,C*r),b=h(0,u,f),g=h(Xt,d,m),x=p(Et,u,f),y=p(Et+Xt,d,m);n=(b-x)/2,a=(g-y)/2,s=-(b+x)/2,i=-(g+y)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Si extends pa{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ge(n[e])){const{key:c="value"}=this._parsing;s=u=>+$o(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ua(this.options.rotation-90)}_getCircumference(){return ua(this.options.circumference)}_getRotationExtents(){let e=Tt,r=-Tt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(Tae(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:p,offsetY:b}=yoe(f,d,c),g=(n.width-i)/m,x=(n.height-i)/h,y=Math.max(Math.min(g,x)/2,0),v=mq(this.options.radius,y),N=Math.max(v*c,0),C=(v-N)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=b*v,a.total=this.calculateTotal(),this.outerRadius=v-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Tt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,p=m?0:this.outerRadius,{sharedOptions:b,includeOptions:g}=this._getSharedOptions(r,a);let x=this._getRotation(),y;for(y=0;y<r;++y)x+=this._circumference(y,s);for(y=r;y<r+n;++y){const v=this._circumference(y,s),N=e[y],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:p,innerRadius:h};g&&(C.options=b||this.resolveDataElementOptions(y,N.active?"active":a)),x+=v,this.updateElement(N,y,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Tt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Gm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Be(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Si,"id","doughnut"),he(Si,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Si,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Bp extends pa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=jq(r,a,i);this._drawStart=l,this._drawCount=c,wq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:p,segment:b}=this.options,g=Rc(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",y=r+n,v=e.length;let N=r>0&&this.getParsed(r-1);for(let C=0;C<v;++C){const j=e[C],S=x?j:{};if(C<r||C>=y){S.skip=!0;continue}const A=this.getParsed(C),T=We(A[h]),k=S[m]=i.getPixelForValue(A[m],C),E=S[h]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[h],C);S.skip=isNaN(k)||isNaN(E)||T,S.stop=C>0&&Math.abs(A[m]-N[m])>g,b&&(S.parsed=A,S.raw=u.data[C]),f&&(S.options=d||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,S,a),N=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(Bp,"id","line"),he(Bp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(Bp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zd extends pa{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Gm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Eq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*Et;let h=m,p;const b=360/this.countVisibleElements();for(p=0;p<r;++p)h+=this._computeAngle(p,a,b);for(p=r;p<r+n;p++){const g=e[p];let x=h,y=h+this._computeAngle(p,a,b),v=i.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=y,s&&(c.animateScale&&(v=0),c.animateRotate&&(x=y=m));const N={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:x,endAngle:y,options:this.resolveDataElementOptions(p,g.active?"active":a)};this.updateElement(g,p,N,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ua(this.resolveDataElementOptions(e,r).angle||n):0}}he(zd,"id","polarArea"),he(zd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(zd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class BS extends Si{}he(BS,"id","pie"),he(BS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qp extends pa{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Eq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}he(qp,"id","radar"),he(qp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(qp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Vp extends pa{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=jq(r,n,a);if(this._drawStart=s,this._drawCount=i,wq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,p=l.axis,{spanGaps:b,segment:g}=this.options,x=Rc(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||a==="none";let v=r>0&&this.getParsed(r-1);for(let N=r;N<r+n;++N){const C=e[N],j=this.getParsed(N),S=y?C:{},A=We(j[p]),T=S[h]=i.getPixelForValue(j[h],N),k=S[p]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[p],N);S.skip=isNaN(T)||isNaN(k)||A,S.stop=N>0&&Math.abs(j[h]-v[h])>x,g&&(S.parsed=j,S.raw=u.data[N]),m&&(S.options=f||this.resolveDataElementOptions(N,C.active?"active":a)),y||this.updateElement(C,N,S,a),v=j}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Vp,"id","scatter"),he(Vp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Vp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var boe=Object.freeze({__proto__:null,BarController:Lp,BubbleController:Fp,DoughnutController:Si,LineController:Bp,PieController:BS,PolarAreaController:zd,RadarController:qp,ScatterController:Vp});function si(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lE{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(lE.prototype,e)}init(){}formats(){return si()}parse(){return si()}format(){return si()}add(){return si()}diff(){return si()}startOf(){return si()}endOf(){return si()}}var xoe={_date:lE};function voe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?Vae:ds;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(b=>!We(b[f.axis]));d.lo-=Math.max(0,h);const p=m.slice(d.hi).findIndex(b=>!We(b[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:s.length-1}}function I0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=voe(s[l],e,i,a);for(let h=f;h<=m;++h){const p=d[h];p.skip||n(p,u,h)}}}function joe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function RC(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||I0(t,r,e,function(l,c,u){!a&&!fs(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function woe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=gq(i,{x:e.x,y:e.y});Bf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return I0(t,r,e,s),a}function Coe(t,e,r,n,a,s){let i=[];const l=joe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const p=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(p))&&!h)return;const g=l(e,p);g<c?(i=[{element:d,datasetIndex:f,index:m}],c=g):g===c&&i.push({element:d,datasetIndex:f,index:m})}return I0(t,r,e,u),i}function MC(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?woe(t,e,r,a):Coe(t,e,r,n,a,s)}function VD(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return I0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var Noe={modes:{index(t,e,r,n){const a=mi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?RC(t,a,s,n,i):MC(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=mi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?RC(t,a,s,n,i):MC(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=mi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return RC(t,a,s,n,i)},nearest(t,e,r,n){const a=mi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return MC(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=mi(e,t);return VD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=mi(e,t);return VD(t,a,"y",r.intersect,n)}}};const qq=["left","top","right","bottom"];function Wu(t,e){return t.filter(r=>r.pos===e)}function UD(t,e){return t.filter(r=>qq.indexOf(r.pos)===-1&&r.box.axis===e)}function Hu(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Soe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Aoe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!qq.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function koe(t,e){const r=Aoe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function Ioe(t){const e=Soe(t),r=Hu(e.filter(u=>u.box.fullSize),!0),n=Hu(Wu(e,"left"),!0),a=Hu(Wu(e,"right")),s=Hu(Wu(e,"top"),!0),i=Hu(Wu(e,"bottom")),l=UD(e,"x"),c=UD(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Wu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function zD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Vq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Toe(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ge(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&Vq(i,s.getPadding());const l=Math.max(0,e.outerWidth-zD(i,t,"left","right")),c=Math.max(0,e.outerHeight-zD(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Eoe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Poe(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function xd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Poe(l.horizontal,e));const{same:f,other:m}=Toe(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&xd(a,e,r,n)||d}function Uh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function WD(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Ff(u.start)&&(i=u.start),c.fullSize?Uh(c,a.left,i,r.outerWidth-a.right-a.left,m):Uh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Ff(u.start)&&(s=u.start),c.fullSize?Uh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Uh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var $r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Mr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=Ioe(t.boxes),c=l.vertical,u=l.horizontal;lt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,g)=>g.box.options&&g.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);Vq(m,Mr(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),p=koe(c.concat(u),f);xd(l.fullSize,h,f,p),xd(c,h,f,p),xd(u,h,f,p)&&xd(c,h,f,p),Eoe(h),WD(l.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,WD(l.rightAndBottom,h,f,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},lt(l.chartArea,b=>{const g=b.box;Object.assign(g,t.chartArea),g.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Uq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Ooe extends Uq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Up="$chartjs",Doe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},HD=t=>t===null||t==="";function _oe(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Up]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",HD(a)){const s=TD(t,"width");s!==void 0&&(t.width=s)}if(HD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=TD(t,"height");s!==void 0&&(t.height=s)}return t}const zq=$se?{passive:!0}:!1;function $oe(t,e,r){t&&t.addEventListener(e,r,zq)}function Roe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,zq)}function Moe(t,e){const r=Doe[t.type]||t.type,{x:n,y:a}=mi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Nx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Loe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Nx(l.addedNodes,n),i=i&&!Nx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Foe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Nx(l.removedNodes,n),i=i&&!Nx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Vf=new Map;let GD=0;function Wq(){const t=window.devicePixelRatio;t!==GD&&(GD=t,Vf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Boe(t,e){Vf.size||window.addEventListener("resize",Wq),Vf.set(t,e)}function qoe(t){Vf.delete(t),Vf.size||window.removeEventListener("resize",Wq)}function Voe(t,e,r){const n=t.canvas,a=n&&iE(n);if(!a)return;const s=vq((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),Boe(t,s),i}function LC(t,e,r){r&&r.disconnect(),e==="resize"&&qoe(t)}function Uoe(t,e,r){const n=t.canvas,a=vq(s=>{t.ctx!==null&&r(Moe(s,t))},t);return $oe(n,e,a),a}class zoe extends Uq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(_oe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Up])return!1;const n=r[Up].initial;["height","width"].forEach(s=>{const i=n[s];We(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Up],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:Loe,detach:Foe,resize:Voe}[r]||Uoe;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:LC,detach:LC,resize:LC}[r]||Roe)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return _se(e,r,n,a)}isAttached(e){const r=e&&iE(e);return!!(r&&r.isConnected)}}function Woe(t){return!oE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ooe:zoe}var jp;let Ms=(jp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Rc(this.x)&&Rc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(jp,"defaults",{}),he(jp,"defaultRoutes"),jp);function Hoe(t,e){const r=t.options.ticks,n=Goe(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?Koe(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return Joe(e,u,s,i/a),u;const d=Yoe(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(zh(e,u,d,We(h)?0:l-h,l),f=0,m=i-1;f<m;f++)zh(e,u,d,s[f],s[f+1]);return zh(e,u,d,c,We(h)?e.length:c+h),u}return zh(e,u,d),u}function Goe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Yoe(t,e,r){const n=Xoe(t),a=e.length/r;if(!n)return Math.max(a,1);const s=Mae(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function Koe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Joe(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function zh(t,e,r,n,a){const s=Be(n,0),i=Math.min(Be(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function Xoe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Zoe=t=>t==="left"?"right":t==="right"?"left":t,YD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,KD=(t,e)=>Math.min(e||t,t);function JD(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function Qoe(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function eie(t,e){lt(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Gu(t){return t.drawTicks?t.tickLength:0}function XD(t,e){if(!t.display)return 0;const r=lr(t.font,e),n=Mr(t.padding);return(Ot(t.text)?t.text.length:1)*r.lineHeight+n.height}function tie(t,e){return Go(t,{scale:e,type:"scale"})}function rie(t,e,r){return Go(t,{tick:r,index:e,type:"tick"})}function nie(t,e,r){let n=eE(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Zoe(n)),n}function aie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,p;const b=i-a,g=l-s;if(t.isHorizontal()){if(h=Or(n,s,l),Ge(r)){const x=Object.keys(r)[0],y=r[x];p=d[x].getPixelForValue(y)+b-e}else r==="center"?p=(u.bottom+u.top)/2+b-e:p=YD(t,r,e);m=l-s}else{if(Ge(r)){const x=Object.keys(r)[0],y=r[x];h=d[x].getPixelForValue(y)-g+e}else r==="center"?h=(u.left+u.right)/2-g+e:h=YD(t,r,e);p=Or(n,i,a),f=r==="left"?-Xt:Xt}return{titleX:h,titleY:p,maxWidth:m,rotation:f}}class vl extends Ms{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=hn(e,Number.POSITIVE_INFINITY),r=hn(r,Number.NEGATIVE_INFINITY),n=hn(n,Number.POSITIVE_INFINITY),a=hn(a,Number.NEGATIVE_INFINITY),{min:hn(e,n),max:hn(r,a),minDefined:Wt(e),maxDefined:Wt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:hn(r,hn(n,r)),max:hn(n,hn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fse(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?JD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=Hoe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xt(this.options.afterUpdate,[this])}beforeSetDimensions(){xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=xt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=KD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=pr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Gu(e.grid)-r.padding-XD(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=ZT(Math.min(Math.asin(pr((d.highest.height+6)/l,-1,1)),Math.asin(pr(c/u,-1,1))-Math.asin(pr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=XD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Gu(s)+c):(e.height=this.maxHeight,e.width=Gu(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,p=ua(this.labelRotation),b=Math.cos(p),g=Math.sin(p);if(l){const x=n.mirror?0:g*f.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=n.mirror?0:b*f.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,d,g,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)We(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=JD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/KD(r,n));let u=0,d=0,f,m,h,p,b,g,x,y,v,N,C;for(f=0;f<r;f+=c){if(p=e[f].label,b=this._resolveTickFontOptions(f),a.font=g=b.string,x=s[g]=s[g]||{data:{},gc:[]},y=b.lineHeight,v=N=0,!We(p)&&!Ot(p))v=wx(a,x.data,x.gc,v,p),N=y;else if(Ot(p))for(m=0,h=p.length;m<h;++m)C=p[m],!We(C)&&!Ot(C)&&(v=wx(a,x.data,x.gc,v,C),N+=y);i.push(v),l.push(N),u=Math.max(v,u),d=Math.max(N,d)}eie(s,r);const j=i.indexOf(u),S=l.indexOf(d),A=T=>({width:i[T]||0,height:l[T]||0});return{first:A(0),last:A(r-1),widest:A(j),highest:A(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return qae(this._alignToPixels?ai(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=rie(this.getContext(),e,n))}return this.$context||(this.$context=tie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ua(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Gu(s),h=[],p=l.setContext(this.getContext()),b=p.display?p.width:0,g=b/2,x=function(B){return ai(n,B,b)};let y,v,N,C,j,S,A,T,k,E,O,M;if(i==="top")y=x(this.bottom),S=this.bottom-m,T=y-g,E=x(e.top)+g,M=e.bottom;else if(i==="bottom")y=x(this.top),E=e.top,M=x(e.bottom)-g,S=y+g,T=this.top+m;else if(i==="left")y=x(this.right),j=this.right-m,A=y-g,k=x(e.left)+g,O=e.right;else if(i==="right")y=x(this.left),k=e.left,O=x(e.right)-g,j=y+g,A=this.left+m;else if(r==="x"){if(i==="center")y=x((e.top+e.bottom)/2+.5);else if(Ge(i)){const B=Object.keys(i)[0],z=i[B];y=x(this.chart.scales[B].getPixelForValue(z))}E=e.top,M=e.bottom,S=y+g,T=S+m}else if(r==="y"){if(i==="center")y=x((e.left+e.right)/2);else if(Ge(i)){const B=Object.keys(i)[0],z=i[B];y=x(this.chart.scales[B].getPixelForValue(z))}j=y-g,A=j-m,k=e.left,O=e.right}const R=Be(a.ticks.maxTicksLimit,f),$=Math.max(1,Math.ceil(f/R));for(v=0;v<f;v+=$){const B=this.getContext(v),z=s.setContext(B),D=l.setContext(B),_=z.lineWidth,F=z.color,Y=D.dash||[],G=D.dashOffset,te=z.tickWidth,fe=z.tickColor,ke=z.tickBorderDash||[],ae=z.tickBorderDashOffset;N=Qoe(this,v,c),N!==void 0&&(C=ai(n,N,_),u?j=A=k=O=C:S=T=E=M=C,h.push({tx1:j,ty1:S,tx2:A,ty2:T,x1:k,y1:E,x2:O,y2:M,width:_,color:F,borderDash:Y,borderDashOffset:G,tickWidth:te,tickColor:fe,tickBorderDash:ke,tickBorderDashOffset:ae}))}return this._ticksLength=f,this._borderValue=y,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Gu(n.grid),h=m+d,p=f?-d:h,b=-ua(this.labelRotation),g=[];let x,y,v,N,C,j,S,A,T,k,E,O,M="middle";if(a==="top")j=this.bottom-p,S=this._getXAxisLabelAlignment();else if(a==="bottom")j=this.top+p,S=this._getXAxisLabelAlignment();else if(a==="left"){const $=this._getYAxisLabelAlignment(m);S=$.textAlign,C=$.x}else if(a==="right"){const $=this._getYAxisLabelAlignment(m);S=$.textAlign,C=$.x}else if(r==="x"){if(a==="center")j=(e.top+e.bottom)/2+h;else if(Ge(a)){const $=Object.keys(a)[0],B=a[$];j=this.chart.scales[$].getPixelForValue(B)+h}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-h;else if(Ge(a)){const $=Object.keys(a)[0],B=a[$];C=this.chart.scales[$].getPixelForValue(B)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const R=this._getLabelSizes();for(x=0,y=l.length;x<y;++x){v=l[x],N=v.label;const $=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,T=this._resolveTickFontOptions(x),k=T.lineHeight,E=Ot(N)?N.length:1;const B=E/2,z=$.color,D=$.textStrokeColor,_=$.textStrokeWidth;let F=S;i?(C=A,S==="inner"&&(x===y-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?u==="near"||b!==0?O=-E*k+k/2:u==="center"?O=-R.highest.height/2-B*k+k:O=-R.highest.height+k/2:u==="near"||b!==0?O=k/2:u==="center"?O=R.highest.height/2-B*k:O=R.highest.height-E*k,f&&(O*=-1),b!==0&&!$.showLabelBackdrop&&(C+=k/2*Math.sin(b))):(j=A,O=(1-E)*k/2);let Y;if($.showLabelBackdrop){const G=Mr($.backdropPadding),te=R.heights[x],fe=R.widths[x];let ke=O-G.top,ae=0-G.left;switch(M){case"middle":ke-=te/2;break;case"bottom":ke-=te;break}switch(S){case"center":ae-=fe/2;break;case"right":ae-=fe;break;case"inner":x===y-1?ae-=fe:x>0&&(ae-=fe/2);break}Y={left:ae,top:ke,width:fe+G.width,height:te+G.height,color:$.backdropColor}}g.push({label:N,font:T,textOffset:O,options:{rotation:b,color:z,strokeColor:D,strokeWidth:_,textAlign:F,textBaseline:M,translation:[C,j],backdrop:Y}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ua(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=ai(e,this.left,i)-i/2,d=ai(e,this.right,l)+l/2,f=m=c):(f=ai(e,this.top,i)-i/2,m=ai(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&S0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;sl(n,u,0,d,c,l)}a&&A0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=lr(n.font),i=Mr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ge(r)?(c+=i.bottom,Ot(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=aie(this,c,r,l);sl(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:nie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Be(e.grid&&e.grid.z,-1),a=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==vl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return lr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;iie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,sie(e,i,n),this.override&&_t.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in _t[a]&&(delete _t[a][n],this.override&&delete al[n])}}function sie(t,e,r){const n=Lf(Object.create(null),[r?_t.get(r):{},_t.get(e),t.defaults]);_t.set(e,n),t.defaultRoutes&&oie(e,t.defaultRoutes),t.descriptors&&_t.describe(e,t.descriptors)}function oie(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");_t.route(s,a,c,l)})}function iie(t){return"id"in t&&"defaults"in t}class lie{constructor(){this.controllers=new Wh(pa,"datasets",!0),this.elements=new Wh(Ms,"elements"),this.plugins=new Wh(Object,"plugins"),this.scales=new Wh(vl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):lt(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=XT(e);xt(n["before"+a],[],n),r[e](n),xt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var ka=new lie;class cie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(xt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Be(n.options&&n.options.plugins,{}),s=uie(n);return a===!1&&!r?[]:fie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function uie(t){const e={},r=[],n=Object.keys(ka.plugins.items);for(let s=0;s<n.length;s++)r.push(ka.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function die(t,e){return!e&&t===!1?null:t===!0?{}:t}function fie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=die(n[c],a);u!==null&&s.push({plugin:l,options:mie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function mie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qS(t,e){const r=_t.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function hie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function pie(t,e){return t===e?"_index_":"_value_"}function ZD(t){if(t==="x"||t==="y"||t==="r")return t}function gie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function VS(t,...e){if(ZD(t))return t;for(const r of e){const n=r.axis||gie(r.position)||t.length>1&&ZD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function QD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function yie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return QD(t,"x",r[0])||QD(t,"y",r[0])}return{}}function bie(t,e){const r=al[t.type]||{scales:{}},n=e.scales||{},a=qS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ge(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=VS(i,l,yie(i,t),_t.scales[l.type]),u=pie(c,a),d=r.scales||{};s[i]=Bd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||qS(l,e),d=(al[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=hie(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Bd(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Bd(l,[_t.scales[l.type],_t.scale])}),s}function Hq(t){const e=t.options||(t.options={});e.plugins=Be(e.plugins,{}),e.scales=bie(t,e)}function Gq(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function xie(t){return t=t||{},t.data=Gq(t.data),Hq(t),t}const e_=new Map,Yq=new Set;function Hh(t,e){let r=e_.get(t);return r||(r=e(),e_.set(t,r),Yq.add(r)),r}const Yu=(t,e,r)=>{const n=$o(e,r);n!==void 0&&t.add(n)};class vie{constructor(e){this._config=xie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Gq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Hq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Hh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Hh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Hh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Yu(c,e,f))),d.forEach(f=>Yu(c,a,f)),d.forEach(f=>Yu(c,al[s]||{},f)),d.forEach(f=>Yu(c,_t,f)),d.forEach(f=>Yu(c,LS,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Yq.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,al[r]||{},_t.datasets[r]||{},{type:r},_t,LS]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=t_(this._resolverCache,e,a);let c=i;if(wie(i,r)){s.$shared=!1,n=Ro(n)?n():n;const u=this.createResolver(e,n,l);c=Mc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=t_(this._resolverCache,e,n);return Ge(r)?Mc(s,r,void 0,a):s}}function t_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:nE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const jie=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>Ro(t[e]));function wie(t,e){const{isScriptable:r,isIndexable:n}=Aq(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Ro(l)||jie(l))||i&&Ot(l))return!0}return!1}var Cie="4.4.9";const Nie=["top","bottom","left","right","chartArea"];function r_(t,e){return t==="top"||t==="bottom"||Nie.indexOf(t)===-1&&e==="x"}function n_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function a_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),xt(r&&r.onComplete,[t],e)}function Sie(t){const e=t.chart,r=e.options.animation;xt(r&&r.onProgress,[t],e)}function Kq(t){return oE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const zp={},s_=t=>{const e=Kq(t);return Object.values(zp).filter(r=>r.canvas===e).pop()};function Aie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function kie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Xs{static register(...e){ka.add(...e),o_()}static unregister(...e){ka.remove(...e),o_()}constructor(e,r){const n=this.config=new vie(r),a=Kq(e),s=s_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Woe(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Iae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wae(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],zp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Qa.listen(this,"complete",a_),Qa.listen(this,"progress",Sie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return We(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ka}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ID(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SD(this.canvas,this.ctx),this}stop(){return Qa.stop(this),this}resize(e,r){Qa.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,ID(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),xt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};lt(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=VS(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),lt(s,i=>{const l=i.options,c=l.id,u=VS(c,l),d=Be(l.type,i.dtype);(l.position===void 0||r_(l.position,u)!==r_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=ka.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),lt(a,(i,l)=>{i||delete n[l]}),lt(n,i=>{$r.configure(this,i,i.options),$r.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(n_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||qS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=ka.getController(l),{datasetElementType:u,dataElementType:d}=_t.datasets[l];Object.assign(c,{dataElementType:ka.getElement(d),datasetElementType:u&&ka.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){lt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||lt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(n_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){lt(this.scales,e=>{$r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!gD(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Aie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!gD(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$r.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],lt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ro(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qa.has(this)?this.attached&&!Qa.running(this)&&Qa.start(this):(this.draw(),a_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Mq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&S0(r,a),e.controller.draw(),a&&A0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return fs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=Noe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Ff(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Qa.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SD(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete zp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};lt(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){lt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},lt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!xx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=_ae(e),u=kie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,xt(s.onHover,[e,l,this],this),c&&xt(s.onClick,[e,l,this],this));const d=!xx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Xs,"defaults",_t),he(Xs,"instances",zp),he(Xs,"overrides",al),he(Xs,"registry",ka),he(Xs,"version",Cie),he(Xs,"getChart",s_);function o_(){return lt(Xs.instances,t=>t._plugins.invalidate())}function Iie(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Xt,n-Xt),t.closePath(),t.clip()}function Tie(t){return rE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Eie(t,e,r,n){const a=Tie(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return pr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:pr(a.innerStart,0,i),innerEnd:pr(a.innerEnd,0,i)}}function Pl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Sx(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const p=a-c;if(n){const $=d>0?d-n:0,B=f>0?f-n:0,z=($+B)/2,D=z!==0?p*z/(z+n):p;h=(p-D)/2}const b=Math.max(.001,p*f-r/Et)/f,g=(p-b)/2,x=c+g+h,y=a-g-h,{outerStart:v,outerEnd:N,innerStart:C,innerEnd:j}=Eie(e,m,f,y-x),S=f-v,A=f-N,T=x+v/S,k=y-N/A,E=m+C,O=m+j,M=x+C/E,R=y-j/O;if(t.beginPath(),s){const $=(T+k)/2;if(t.arc(i,l,f,T,$),t.arc(i,l,f,$,k),N>0){const _=Pl(A,k,i,l);t.arc(_.x,_.y,N,k,y+Xt)}const B=Pl(O,y,i,l);if(t.lineTo(B.x,B.y),j>0){const _=Pl(O,R,i,l);t.arc(_.x,_.y,j,y+Xt,R+Math.PI)}const z=(y-j/m+(x+C/m))/2;if(t.arc(i,l,m,y-j/m,z,!0),t.arc(i,l,m,z,x+C/m,!0),C>0){const _=Pl(E,M,i,l);t.arc(_.x,_.y,C,M+Math.PI,x-Xt)}const D=Pl(S,x,i,l);if(t.lineTo(D.x,D.y),v>0){const _=Pl(S,T,i,l);t.arc(_.x,_.y,v,x-Xt,T)}}else{t.moveTo(i,l);const $=Math.cos(T)*f+i,B=Math.sin(T)*f+l;t.lineTo($,B);const z=Math.cos(k)*f+i,D=Math.sin(k)*f+l;t.lineTo(z,D)}t.closePath()}function Pie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){Sx(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Tt||Tt))}return Sx(t,e,r,n,c,a),t.fill(),c}function Oie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(s){Sx(t,e,r,n,p,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(p=i+(l%Tt||Tt))}h&&Iie(t,e,p),s||(Sx(t,e,r,n,p,a),t.stroke())}class vd extends Ms{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=gq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,p=Be(m,u-c),b=Bf(i,c,u)&&c!==u,g=p>=Tt||b,x=us(l,d+h,f+h);return g&&x}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Tt?Math.floor(a/Tt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(Et,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Pie(r,this,d,i,l),Oie(r,this,d,i,l),r.restore()}}he(vd,"id","arc"),he(vd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),he(vd,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(vd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function Jq(t,e,r=e){t.lineCap=Be(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Be(r.borderDash,e.borderDash)),t.lineDashOffset=Be(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Be(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Be(r.borderWidth,e.borderWidth),t.strokeStyle=Be(r.borderColor,e.borderColor)}function Die(t,e,r){t.lineTo(r.x,r.y)}function _ie(t){return t.stepped?nse:t.tension||t.cubicInterpolationMode==="monotone"?ase:Die}function Xq(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function $ie(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=Xq(a,r,n),d=_ie(s);let{move:f=!0,reverse:m}=n||{},h,p,b;for(h=0;h<=u;++h)p=a[(l+(m?u-h:h))%i],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,b,p,m,s.stepped),b=p);return c&&(p=a[(l+(m?u:0))%i],d(t,b,p,m,s.stepped)),!!c}function Rie(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=Xq(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,p,b,g,x;const y=N=>(i+(u?l-N:N))%s,v=()=>{b!==g&&(t.lineTo(d,g),t.lineTo(d,b),t.lineTo(d,x))};for(c&&(h=a[y(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[y(m)],h.skip)continue;const N=h.x,C=h.y,j=N|0;j===p?(C<b?b=C:C>g&&(g=C),d=(f*d+N)/++f):(v(),t.lineTo(N,C),p=j,f=0,b=g=C),x=C}v()}function US(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Rie:$ie}function Mie(t){return t.stepped?Rse:t.tension||t.cubicInterpolationMode==="monotone"?Mse:hi}function Lie(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),Jq(t,e.options),t.stroke(a)}function Fie(t,e,r,n){const{segments:a,options:s}=e,i=US(e);for(const l of a)Jq(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Bie=typeof Path2D=="function";function qie(t,e,r,n){Bie&&!e.options.segment?Lie(t,e,r,n):Fie(t,e,r,n)}class lo extends Ms{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Ise(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Use(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=Rq(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=Mie(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],p=s[m];if(h===p){l.push(h);continue}const b=Math.abs((a-h[r])/(p[r]-h[r])),g=c(h,p,b,n.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,n){return US(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=US(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),qie(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(lo,"id","line"),he(lo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(lo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function i_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Wp extends Ms{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return i_(this,r,"x",n)}inYRange(r,n){return i_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!fs(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,FS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(Wp,"id","point"),he(Wp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Wp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Zq(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function co(t,e,r,n){return t?0:pr(e,r,n)}function Vie(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Sq(n);return{t:co(a.top,s.top,0,r),r:co(a.right,s.right,0,e),b:co(a.bottom,s.bottom,0,r),l:co(a.left,s.left,0,e)}}function Uie(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=Di(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ge(a);return{topLeft:co(!c||l.top||l.left,s.topLeft,0,i),topRight:co(!c||l.top||l.right,s.topRight,0,i),bottomLeft:co(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:co(!c||l.bottom||l.right,s.bottomRight,0,i)}}function zie(t){const e=Zq(t),r=e.right-e.left,n=e.bottom-e.top,a=Vie(t,r/2,n/2),s=Uie(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function FC(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&Zq(t,n);return l&&(a||us(e,l.left,l.right))&&(s||us(r,l.top,l.bottom))}function Wie(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Hie(t,e){t.rect(e.x,e.y,e.w,e.h)}function BC(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class Hp extends Ms{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=zie(this),l=Wie(i.radius)?qf:Hie;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,BC(i,r,s)),e.clip(),l(e,BC(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,BC(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return FC(this,e,r,n)}inXRange(e,r){return FC(this,e,null,r)}inYRange(e,r){return FC(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(Hp,"id","bar"),he(Hp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(Hp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Gie=Object.freeze({__proto__:null,ArcElement:vd,BarElement:Hp,LineElement:lo,PointElement:Wp});const zS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],l_=zS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qq(t){return zS[t%zS.length]}function e6(t){return l_[t%l_.length]}function Yie(t,e){return t.borderColor=Qq(e),t.backgroundColor=e6(e),++e}function Kie(t,e){return t.backgroundColor=t.data.map(()=>Qq(e++)),e}function Jie(t,e){return t.backgroundColor=t.data.map(()=>e6(e++)),e}function Xie(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Si?e=Kie(r,e):a instanceof zd?e=Jie(r,e):a&&(e=Yie(r,e))}}function c_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Zie(t){return t&&(t.borderColor||t.backgroundColor)}function Qie(){return _t.borderColor!=="rgba(0,0,0,0.1)"||_t.backgroundColor!=="rgba(0,0,0,0.1)"}var ele={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=c_(n)||Zie(a)||s&&c_(s)||Qie();if(!r.forceOverride&&i)return;const l=Xie(t);n.forEach(l)}};function tle(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,p,b;for(i[c++]=t[d],f=0;f<s-2;f++){let g=0,x=0,y;const v=Math.floor((f+1)*l)+1+e,N=Math.min(Math.floor((f+2)*l)+1,r)+e,C=N-v;for(y=v;y<N;y++)g+=t[y].x,x+=t[y].y;g/=C,x/=C;const j=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:T}=t[d];for(h=p=-1,y=j;y<S;y++)p=.5*Math.abs((A-g)*(t[y].y-T)-(A-t[y].x)*(x-T)),p>h&&(h=p,m=t[y],b=y);i[c++]=m,d=b}return i[c++]=t[u],i}function rle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,p,b;const g=[],x=e+r-1,y=t[e].x,N=t[x].x-y;for(i=e;i<e+r;++i){l=t[i],c=(l.x-y)/N*n,u=l.y;const C=c|0;if(C===d)u<p?(p=u,f=i):u>b&&(b=u,m=i),a=(s*a+l.x)/++s;else{const j=i-1;if(!We(f)&&!We(m)){const S=Math.min(f,m),A=Math.max(f,m);S!==h&&S!==j&&g.push({...t[S],x:a}),A!==h&&A!==j&&g.push({...t[A],x:a})}i>0&&j!==h&&g.push(t[j]),g.push(l),d=C,s=0,p=b=u,f=m=h=i}}return g}function t6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function u_(t){t.data.datasets.forEach(e=>{t6(e)})}function nle(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=pr(ds(e,s.axis,i).lo,0,r-1)),u?a=pr(ds(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var ale={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){u_(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(bd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=nle(c,u);const h=r.threshold||4*n;if(m<=h){t6(a);return}We(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let p;switch(r.algorithm){case"lttb":p=tle(u,f,m,n,r);break;case"min-max":p=rle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=p})},destroy(t){u_(t)}};function sle(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=cE(c,u,a);const d=WS(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=Rq(e,d);for(const m of f){const h=WS(r,s[m.start],s[m.end],m.loop),p=$q(l,a,h);for(const b of p)i.push({source:b,target:m,start:{[r]:d_(d,h,"start",Math.max)},end:{[r]:d_(d,h,"end",Math.min)}})}}return i}function WS(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=yn(a),s=yn(s)),{property:t,start:a,end:s}}function ole(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=cE(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function cE(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function d_(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function r6(t,e){let r=[],n=!1;return Ot(t)?(n=!0,r=t):r=ole(t,e),r.length?new lo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function f_(t){return t&&t.fill!==!1}function ile(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Wt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function lle(t,e,r){const n=fle(t);if(Ge(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Wt(a)&&Math.floor(a)===a?cle(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function cle(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function ule(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ge(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function dle(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ge(t)?n=t.value:n=e.getBaseValue(),n}function fle(t){const e=t.options,r=e.fill;let n=Be(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function mle(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=hle(e,r);l.push(r6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)ple(a,i[d],l)}return new lo({points:a,options:{}})}function hle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function ple(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=gle(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function gle(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(us(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class n6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Tt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function yle(t){const{chart:e,fill:r,line:n}=t;if(Wt(r))return ble(e,r);if(r==="stack")return mle(t);if(r==="shape")return!0;const a=xle(t);return a instanceof n6?a:r6(a,n)}function ble(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function xle(t){return(t.scale||{}).getPointPositionForValue?jle(t):vle(t)}function vle(t){const{scale:e={},fill:r}=t,n=ule(r,e);if(Wt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function jle(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=dle(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new n6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function qC(t,e,r){const n=yle(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},p=a.getDatasetMeta(s),b=Mq(a,p);n&&i.points.length&&(S0(t,r),wle(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:b}),A0(t))}function wle(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&s!==a&&(m_(t,n,i.top),h_(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),m_(t,n,i.bottom)),h_(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore()}function m_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[cE(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function h_(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=sle(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,p=n!==!0;t.save(),t.fillStyle=h,Cle(t,i,l,p&&WS(a,f,m)),t.beginPath();const b=!!r.pathSegment(t,u);let g;if(p){b?t.closePath():p_(t,n,m,a);const x=!!n.pathSegment(t,d,{move:b,reverse:!0});g=b&&x,g||p_(t,n,f,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Cle(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function p_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var Nle={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof lo&&(c={visible:t.isDatasetVisible(i),index:i,fill:lle(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=ile(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&qC(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;f_(s)&&qC(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!f_(n)||r.drawTime!=="beforeDatasetDraw"||qC(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const g_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Sle=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let y_=class extends Ms{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=xt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=lr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=g_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((p,b)=>{const g=n+r/2+s.measureText(p.text).width;(b===0||u[u.length-1]+g+2*l>i)&&(f+=d,u[u.length-(b>0?0:1)]=0,h+=d,m++),c[b]={left:0,top:h,row:m,width:g,height:a},u[u.length-1]+=g+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,p=0,b=0;return this.legendItems.forEach((g,x)=>{const{itemWidth:y,itemHeight:v}=Ale(n,r,s,g,a);x>0&&h+v+2*l>d&&(f+=m+l,u.push({width:m,height:h}),p+=m+l,b++,m=h=0),c[x]={left:p,top:h,col:b,width:y,height:v},m=Math.max(m,y),h+=v+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=lc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Or(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Or(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;S0(e,this),this._draw(),A0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=_t.color,c=lc(e.rtl,this.left,this.width),u=lr(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:p,boxHeight:b,itemHeight:g}=g_(i,f),x=function(j,S,A){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;a.save();const T=Be(A.lineWidth,1);if(a.fillStyle=Be(A.fillStyle,l),a.lineCap=Be(A.lineCap,"butt"),a.lineDashOffset=Be(A.lineDashOffset,0),a.lineJoin=Be(A.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=Be(A.strokeStyle,l),a.setLineDash(Be(A.lineDash,[])),i.usePointStyle){const k={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:T},E=c.xPlus(j,p/2),O=S+m;Nq(a,k,E,O,i.pointStyleWidth&&p)}else{const k=S+Math.max((f-b)/2,0),E=c.leftForLtr(j,p),O=Di(A.borderRadius);a.beginPath(),Object.values(O).some(M=>M!==0)?qf(a,{x:E,y:k,w:p,h:b,radius:O}):a.rect(E,k,p,b),a.fill(),T!==0&&a.stroke()}a.restore()},y=function(j,S,A){sl(a,A.text,j,S+g/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},v=this.isHorizontal(),N=this._computeTitleHeight();v?h={x:Or(s,this.left+d,this.right-n[0]),y:this.top+d+N,line:0}:h={x:this.left+d,y:Or(s,this.top+N+d,this.bottom-r[0].height),line:0},Oq(this.ctx,e.textDirection);const C=g+d;this.legendItems.forEach((j,S)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const A=a.measureText(j.text).width,T=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),k=p+m+A;let E=h.x,O=h.y;c.setWidth(this.width),v?S>0&&E+k+d>this.right&&(O=h.y+=C,h.line++,E=h.x=Or(s,this.left+d,this.right-n[h.line])):S>0&&O+C>this.bottom&&(E=h.x=E+r[h.line].width+d,h.line++,O=h.y=Or(s,this.top+N+d,this.bottom-r[h.line].height));const M=c.x(E);if(x(M,O,j),E=Hae(T,E+p+m,v?E+k:this.right,e.rtl),y(c.x(E),O,j),v)h.x+=k+d;else if(typeof j.text!="string"){const R=u.lineHeight;h.y+=a6(j,R)+d}else h.y+=C}),Dq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=lr(r.font),a=Mr(r.padding);if(!r.display)return;const s=lc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Or(e.align,f,this.right-m);else{const p=this.columnSizes.reduce((b,g)=>Math.max(b,g.height),0);d=u+Or(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=Or(l,f,f+m);i.textAlign=s.textAlign(eE(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,sl(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=lr(e.font),n=Mr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(us(e,this.left,this.right)&&us(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],us(e,a.left,a.left+a.width)&&us(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Tle(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=Sle(a,n);a&&!s&&xt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&xt(r.onHover,[e,n,this],this)}else n&&xt(r.onClick,[e,n,this],this)}};function Ale(t,e,r,n,a){const s=kle(n,t,e,r),i=Ile(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function kle(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Ile(t,e,r){let n=t;return typeof e.text!="string"&&(n=a6(e,r)),n}function a6(t,e){const r=t.text?t.text.length:0;return e*r}function Tle(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ele={id:"legend",_element:y_,start(t,e,r){const n=t.legend=new y_({ctx:t.ctx,options:r,chart:t});$r.configure(t,n,r),$r.addBox(t,n)},stop(t){$r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;$r.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Mr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class uE extends Ms{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Ot(n.text)?n.text.length:1;this._padding=Mr(n.padding);const s=a*lr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Or(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Or(l,a,r),c=Et*-.5):(d=s-e,f=Or(l,r,a),c=Et*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=lr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);sl(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:eE(r.align),textBaseline:"middle",translation:[i,l]})}}function Ple(t,e){const r=new uE({ctx:t.ctx,options:e,chart:t});$r.configure(t,r,e),$r.addBox(t,r),t.titleBlock=r}var Ole={id:"title",_element:uE,start(t,e,r){Ple(t,r)},stop(t){const e=t.titleBlock;$r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;$r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gh=new WeakMap;var Dle={id:"subtitle",start(t,e,r){const n=new uE({ctx:t.ctx,options:r,chart:t});$r.configure(t,n,r),$r.addBox(t,n),Gh.set(t,n)},stop(t){$r.removeBox(t,Gh.get(t)),Gh.delete(t)},beforeUpdate(t,e,r){const n=Gh.get(t);$r.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jd={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=MS(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Sa(t,e){return e&&(Ot(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function es(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _le(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function b_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=lr(e.bodyFont),u=lr(e.titleFont),d=lr(e.footerFont),f=s.length,m=a.length,h=n.length,p=Mr(e.padding);let b=p.height,g=0,x=n.reduce((N,C)=>N+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const N=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=h*N+(x-h)*c.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let y=0;const v=function(N){g=Math.max(g,r.measureText(N).width+y)};return r.save(),r.font=u.string,lt(t.title,v),r.font=c.string,lt(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?i+2+e.boxPadding:0,lt(n,N=>{lt(N.before,v),lt(N.lines,v),lt(N.after,v)}),y=0,r.font=d.string,lt(t.footer,v),r.restore(),g+=p.width,{width:g,height:b}}function $le(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Rle(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function Mle(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),Rle(u,t,e,r)&&(u="center"),u}function x_(t,e,r){const n=r.yAlign||e.yAlign||$le(t,r);return{xAlign:r.xAlign||e.xAlign||Mle(t,e,r,n),yAlign:n}}function Lle(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Fle(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function v_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Di(i);let p=Lle(e,l);const b=Fle(e,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,m)+a:l==="right"&&(p+=Math.max(f,h)+a),{x:pr(p,0,n.width-e.width),y:pr(b,0,n.height-e.height)}}function Yh(t,e,r){const n=Mr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function j_(t){return Sa([],es(t))}function Ble(t,e,r){return Go(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function w_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const s6={beforeTitle:Ja,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ja,beforeBody:Ja,beforeLabel:Ja,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return We(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ja,afterBody:Ja,beforeFooter:Ja,footer:Ja,afterFooter:Ja};function Gr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?s6[e].call(r,n):a}var hN;let C_=(hN=class extends Ms{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new Lq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ble(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Gr(n,"beforeTitle",this,e),s=Gr(n,"title",this,e),i=Gr(n,"afterTitle",this,e);let l=[];return l=Sa(l,es(a)),l=Sa(l,es(s)),l=Sa(l,es(i)),l}getBeforeBody(e,r){return j_(Gr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return lt(e,s=>{const i={before:[],lines:[],after:[]},l=w_(n,s);Sa(i.before,es(Gr(l,"beforeLabel",this,s))),Sa(i.lines,Gr(l,"label",this,s)),Sa(i.after,es(Gr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return j_(Gr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Gr(n,"beforeFooter",this,e),s=Gr(n,"footer",this,e),i=Gr(n,"afterFooter",this,e);let l=[];return l=Sa(l,es(a)),l=Sa(l,es(s)),l=Sa(l,es(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(_le(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),lt(l,d=>{const f=w_(e.callbacks,d);a.push(Gr(f,"labelColor",this,d)),s.push(Gr(f,"labelPointStyle",this,d)),i.push(Gr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=jd[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=b_(this,n),u=Object.assign({},l,c),d=x_(this.chart,n,u),f=v_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Di(l),{x:m,y:h}=e,{width:p,height:b}=r;let g,x,y,v,N,C;return s==="center"?(N=h+b/2,a==="left"?(g=m,x=g-i,v=N+i,C=N-i):(g=m+p,x=g+i,v=N-i,C=N+i),y=g):(a==="left"?x=m+Math.max(c,d)+i:a==="right"?x=m+p-Math.max(u,f)-i:x=this.caretX,s==="top"?(v=h,N=v-i,g=x-i,y=x+i):(v=h+b,N=v+i,g=x+i,y=x-i),C=v),{x1:g,x2:x,x3:y,y1:v,y2:N,y3:C}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=lc(n.rtl,this.x,this.width);for(e.x=Yh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=lr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=lr(s.bodyFont),f=Yh(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=r.y+h;if(s.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,u)+u/2,x=p+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,FS(e,b,g,x),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,FS(e,b,g,x)}else{e.lineWidth=Ge(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const b=a.leftForLtr(m,u),g=a.leftForLtr(a.xPlus(m,1),u-2),x=Di(i.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,qf(e,{x:b,y:p,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),qf(e,{x:g,y:p+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,p,u,c),e.strokeRect(b,p,u,c),e.fillStyle=i.backgroundColor,e.fillRect(g,p+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=lr(n.bodyFont);let m=f.lineHeight,h=0;const p=lc(n.rtl,this.x,this.width),b=function(A){r.fillText(A,p.x(e.x+h),e.y+m/2),e.y+=m+s},g=p.textAlign(i);let x,y,v,N,C,j,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=Yh(this,g,n),r.fillStyle=n.bodyColor,lt(this.beforeBody,b),h=l&&g!=="right"?i==="center"?u/2+d:u+2+d:0,N=0,j=a.length;N<j;++N){for(x=a[N],y=this.labelTextColors[N],r.fillStyle=y,lt(x.before,b),v=x.lines,l&&v.length&&(this._drawColorBox(r,e,N,p,n),m=Math.max(f.lineHeight,c)),C=0,S=v.length;C<S;++C)b(v[C]),m=f.lineHeight;lt(x.after,b)}h=0,m=f.lineHeight,lt(this.afterBody,b),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=lc(n.rtl,this.x,this.width);for(e.x=Yh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=lr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:p}=Di(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-p),r.quadraticCurveTo(l+u,c+d,l+u-p,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=jd[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=b_(this,e),c=Object.assign({},i,this._size),u=x_(r,e,c),d=v_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Mr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),Oq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Dq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!xx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!xx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=jd[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(hN,"positioners",jd),hN);var qle={id:"tooltip",_element:C_,positioners:jd,afterInit(t,e,r){r&&(t.tooltip=new C_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:s6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Vle=Object.freeze({__proto__:null,Colors:ele,Decimation:ale,Filler:Nle,Legend:Ele,SubTitle:Dle,Title:Ole,Tooltip:qle});const Ule=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function zle(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Ule(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const Wle=(t,e)=>t===null?null:pr(Math.round(t),0,e);function N_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class HS extends vl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(We(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:zle(n,e,Be(r,e),this._addedLabels),Wle(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return N_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(HS,"id","category"),he(HS,"defaults",{ticks:{callback:N_}});function Hle(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,p=d-1,{min:b,max:g}=e,x=!We(i),y=!We(l),v=!We(u),N=(g-b)/(f+1);let C=bD((g-b)/p/h)*h,j,S,A,T;if(C<1e-14&&!x&&!y)return[{value:b},{value:g}];T=Math.ceil(g/C)-Math.floor(b/C),T>p&&(C=bD(T*C/p/h)*h),We(c)||(j=Math.pow(10,c),C=Math.ceil(C*j)/j),a==="ticks"?(S=Math.floor(b/C)*C,A=Math.ceil(g/C)*C):(S=b,A=g),x&&y&&s&&Fae((l-i)/s,C/1e3)?(T=Math.round(Math.min((l-i)/C,d)),C=(l-i)/T,S=i,A=l):v?(S=x?i:S,A=y?l:A,T=u-1,C=(A-S)/T):(T=(A-S)/C,qd(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const k=Math.max(xD(C),xD(S));j=Math.pow(10,We(c)?k:c),S=Math.round(S*j)/j,A=Math.round(A*j)/j;let E=0;for(x&&(m&&S!==i?(r.push({value:i}),S<i&&E++,qd(Math.round((S+E*C)*j)/j,i,S_(i,N,t))&&E++):S<i&&E++);E<T;++E){const O=Math.round((S+E*C)*j)/j;if(y&&O>l)break;r.push({value:O})}return y&&m&&A!==l?r.length&&qd(r[r.length-1].value,l,S_(l,N,t))?r[r.length-1].value=l:r.push({value:l}):(!y||A===l)&&r.push({value:A}),r}function S_(t,e,{horizontal:r,minRotation:n}){const a=ua(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Ax extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Ma(a),u=Ma(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=Hle(a,s);return e.bounds==="ticks"&&pq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Gm(e,this.chart.options.locale,this.options.ticks.format)}}class GS extends Ax{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Wt(e)?e:0,this.max=Wt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ua(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(GS,"id","linear"),he(GS,"defaults",{ticks:{callback:N0.formatters.numeric}});const Uf=t=>Math.floor(io(t)),oi=(t,e)=>Math.pow(10,Uf(t)+e);function A_(t){return t/Math.pow(10,Uf(t))===1}function k_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Gle(t,e){const r=e-t;let n=Uf(r);for(;k_(t,e,n)>10;)n++;for(;k_(t,e,n)<10;)n--;return Math.min(n,Uf(t))}function Yle(t,{min:e,max:r}){e=hn(t.min,e);const n=[],a=Uf(e);let s=Gle(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=hn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:A_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=hn(t.max,m);return n.push({value:h,major:A_(h),significand:f}),n}class YS extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Ax.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Wt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Wt(e)?Math.max(0,e):null,this.max=Wt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Wt(this._userMin)&&(this.min=e===oi(this.min,0)?oi(this.min,-1):oi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(oi(n,-1)),i(oi(a,1)))),n<=0&&s(oi(a,-1)),a<=0&&i(oi(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Yle(r,this);return e.bounds==="ticks"&&pq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Gm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=io(e),this._valueRange=io(this.max)-io(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(io(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(YS,"id","logarithmic"),he(YS,"defaults",{ticks:{callback:N0.formatters.logarithmic,major:{enabled:!0}}});function KS(t){const e=t.ticks;if(e.display&&t.display){const r=Mr(e.backdropPadding);return Be(e.font&&e.font.size,_t.font.size)+r.height}return 0}function Kle(t,e,r){return r=Ot(r)?r:[r],{w:rse(t,e.string,r),h:r.length*e.lineHeight}}function I_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Jle(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?Et/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=lr(u.font),m=Kle(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=yn(t.getIndexAngle(c)+l),p=Math.round(ZT(h)),b=I_(p,d.x,m.w,0,180),g=I_(p,d.y,m.h,90,270);Xle(r,e,h,b,g)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=ece(t,n,a)}function Xle(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function Zle(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(ZT(yn(c.angle+Xt))),d=nce(c.y,l.h,u),f=tce(u),m=rce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function Qle(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(fs({x:r,y:n},e)||fs({x:r,y:s},e)||fs({x:a,y:n},e)||fs({x:a,y:s},e))}function ece(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:KS(s)/2,additionalAngle:i?Et/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Zle(t,d,c);n.push(f),l==="auto"&&(f.visible=Qle(f,u),f.visible&&(u=f))}return n}function tce(t){return t===0||t===180?"center":t<180?"left":"right"}function rce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function nce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function ace(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!We(l)){const c=Di(e.borderRadius),u=Mr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),qf(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function sce(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));ace(r,i,s);const l=lr(i.font),{x:c,y:u,textAlign:d}=s;sl(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function o6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Tt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function oce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),o6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function ice(t,e,r){return Go(t,{label:r,index:e,type:"pointLabel"})}class wd extends Ax{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Mr(KS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Wt(e)&&!isNaN(e)?e:0,this.max=Wt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/KS(this.options))}generateTickLabels(e){Ax.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=xt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Jle(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Tt/(this._pointLabels.length||1),n=this.options.startAngle||0;return yn(e*r+ua(n))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(We(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return ice(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Xt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),o6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&sce(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),p=s.setContext(m);oce(this,h,c,i,p)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=lr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Mr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}sl(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(wd,"id","radialLinear"),he(wd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:N0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(wd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(wd,"descriptors",{angleLines:{_fallback:"grid"}});const T0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zr=Object.keys(T0);function T_(t,e){return t-e}function E_(t,e){if(We(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Wt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Rc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function P_(t,e,r,n){const a=Zr.length;for(let s=Zr.indexOf(t);s<a-1;++s){const i=T0[Zr[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Zr[s]}return Zr[a-1]}function lce(t,e,r,n,a){for(let s=Zr.length-1;s>=Zr.indexOf(r);s--){const i=Zr[s];if(T0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Zr[r?Zr.indexOf(r):0]}function cce(t){for(let e=Zr.indexOf(t)+1,r=Zr.length;e<r;++e)if(T0[Zr[e]].common)return Zr[e]}function O_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=QT(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function uce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function D_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:uce(t,n,a,r)}class zf extends vl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new xoe._date(e.adapters.date);a.init(r),Bd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:E_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Wt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Wt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=Uae(a,s,i);return this._unit=r.unit||(n.autoSkip?P_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):lce(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:cce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),D_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=pr(r,0,i),n=pr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||P_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Be(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Rc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const p=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)O_(d,m,p);return(m===n||a.bounds==="ticks"||h===1)&&O_(d,m,p),Object.keys(d).sort(T_).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return xt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ua(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,D_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(E_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bq(e.sort(T_))}}he(zf,"id","time"),he(zf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kh(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=ds(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=ds(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class JS extends zf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Kh(r,this.min),this._tableRange=Kh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Kh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Kh(this._table,n*this._tableRange+this._minPos,!0)}}he(JS,"id","timeseries"),he(JS,"defaults",zf.defaults);var dce=Object.freeze({__proto__:null,CategoryScale:HS,LinearScale:GS,LogarithmicScale:YS,RadialLinearScale:wd,TimeScale:zf,TimeSeriesScale:JS});const fce=[boe,Gie,Vle,dce];Xs.register(...fce);const mce=[{name:"Settings",icon:o.jsx(KB,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(UK,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(lJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(b2,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(b2,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(xS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(JB,{className:"h-6 w-6"}),path:"/reports/bir"}];function hce(){const{user:t}=q(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:mce.map(n=>o.jsxs(ic,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function pce(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(ic,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function jl(t){this._maxSize=t,this.clear()}jl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};jl.prototype.get=function(t){return this._values[t]};jl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var gce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,i6=/^\d+$/,yce=/^\d/,bce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,xce=/^\s*(['"]?)(.*?)(\1)\s*$/,dE=512,__=new jl(dE),$_=new jl(dE),R_=new jl(dE),$i={Cache:jl,split:XS,normalizePath:VC,setter:function(t){var e=VC(t);return $_.get(t)||$_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=VC(t);return R_.get(t)||R_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(fE(r)||i6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){vce(Array.isArray(t)?t:XS(t),e,r)}};function VC(t){return __.get(t)||__.set(t,XS(t).map(function(e){return e.replace(xce,"$2")}))}function XS(t){return t.match(gce)||[""]}function vce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Cce(a)&&(a='"'+a+'"'),l=fE(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function fE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function jce(t){return t.match(yce)&&!t.match(i6)}function wce(t){return bce.test(t)}function Cce(t){return!fE(t)&&(jce(t)||wce(t))}const Nce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,E0=t=>t.match(Nce)||[],P0=t=>t[0].toUpperCase()+t.slice(1),mE=(t,e)=>E0(t).join(e).toLowerCase(),l6=t=>E0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Sce=t=>P0(l6(t)),Ace=t=>mE(t,"_"),kce=t=>mE(t,"-"),Ice=t=>P0(mE(t," ")),Tce=t=>E0(t).map(P0).join(" ");var UC={words:E0,upperFirst:P0,camelCase:l6,pascalCase:Sce,snakeCase:Ace,kebabCase:kce,sentenceCase:Ice,titleCase:Tce},hE={exports:{}};hE.exports=function(t){return c6(Ece(t),t)};hE.exports.array=c6;function c6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Pce(e),l=Oce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var p=h[--d];c(p,l.get(p),f)}while(d);f.delete(u)}n[--r]=u}}}function Ece(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Pce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Oce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Dce=hE.exports;const _ce=at(Dce),$ce=Object.prototype.toString,Rce=Error.prototype.toString,Mce=RegExp.prototype.toString,Lce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Fce=/^Symbol\((.*)\)(.*)$/;function Bce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function M_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Bce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Lce.call(t).replace(Fce,"Symbol($1)");const n=$ce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Rce.call(t)+"]":n==="RegExp"?Mce.call(t):null}function bs(t,e){let r=M_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=M_(this[n],e);return s!==null?s:a},2)}function u6(t){return t==null?[]:[].concat(t)}let d6,f6,m6,qce=/\$\{\s*(\w+)\s*\}/g;d6=Symbol.toStringTag;class L_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[d6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],u6(e).forEach(s=>{if(Xr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}f6=Symbol.hasInstance;m6=Symbol.toStringTag;class Xr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(qce,(a,s)=>bs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new L_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[m6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Xr)}static[f6](e){return L_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ia={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${bs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${bs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${bs(r,!0)}\``+a}},Yr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Gs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ZS={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},QS={isValue:"${path} field must be ${value}"},Gp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Yp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Vce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${bs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${bs(r,!0)}\``}return Xr.formatError(Ia.notType,t)}};Object.assign(Object.create(null),{mixed:Ia,string:Yr,number:Gs,date:ZS,object:Gp,array:Yp,boolean:QS,tuple:Vce});const O0=t=>t&&t.__isYupSchema__;class kx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new kx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!O0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const Jh={context:"$",value:"."};function ol(t,e){return new Yo(t,e)}class Yo{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Jh.context,this.isValue=this.key[0]===Jh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Jh.context:this.isValue?Jh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&$i.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Yo.prototype.__isYupRef=!0;const da=t=>t==null;function Ol(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:p,context:b,abortEarly:g=i.spec.abortEarly,disableStackTrace:x=i.spec.disableStackTrace}=a;function y(E){return Yo.isRef(E)?E.getValue(r,p,b):E}function v(E={}){const O=Object.assign({value:r,originalValue:s,label:i.spec.label,path:E.path||n,spec:i.spec,disableStackTrace:E.disableStackTrace||x},f,E.params);for(const R of Object.keys(O))O[R]=y(O[R]);const M=new Xr(Xr.formatError(E.message||m,O),r,O.path,E.type||u,O.disableStackTrace);return M.params=O,M}const N=g?l:c;let C={path:n,parent:p,type:u,from:a.from,createError:v,resolve:y,options:a,originalValue:s,schema:i};const j=E=>{Xr.isError(E)?N(E):E?c(null):N(v())},S=E=>{Xr.isError(E)?N(E):l(E)};if(h&&da(r))return j(!0);let T;try{var k;if(T=d.call(C,r,C),typeof((k=T)==null?void 0:k.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(j,S)}}catch(E){S(E);return}j(T)}return e.OPTIONS=t,e}function Uce(t,e,r,n=r){let a,s,i;return e?($i.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Ix extends Set{describe(){const e=[];for(const r of this.values())e.push(Yo.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Ix(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Jl(t,e=new Map){if(O0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Jl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Jl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Jl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Jl(a,e)}else throw Error(`Unable to clone ${t}`);return r}class En{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ix,this._blacklist=new Ix,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ia.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Jl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&da(s))return s;let i=bs(e),l=bs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=b=>{a||(a=!0,r(b,i))},f=b=>{a||(a=!0,n(b,i))},m=s.length,h=[];if(!m)return f([]);let p={value:i,originalValue:l,path:c,options:u,schema:this};for(let b=0;b<s.length;b++){const g=s[b];g(p,d,function(y){y&&(Array.isArray(y)?h.push(...y):h.push(y)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Xr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Xr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Xr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Xr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Xr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Xr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Jl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Ol({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Ol({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ia.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ia.notNull){return this.nullability(!1,e)}required(e=Ia.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ia.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Ol(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=u6(e).map(s=>new Yo(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new kx(a,r):kx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Ol({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ia.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Ol({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Ia.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Ol({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}En.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])En.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=Uce(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])En.prototype[t]=En.prototype.oneOf;for(const t of["not","nope"])En.prototype[t]=En.prototype.notOneOf;function Mo(){return new h6}class h6 extends En{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=QS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return da(r)||r===!0}})}isFalse(e=QS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return da(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Mo.prototype=h6.prototype;const zce=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Wce(t){const e=eA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function eA(t){var e,r;const n=zce.exec(t);return n?{year:Xa(n[1]),month:Xa(n[2],1)-1,day:Xa(n[3],1),hour:Xa(n[4]),minute:Xa(n[5]),second:Xa(n[6]),millisecond:n[7]?Xa(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Xa(n[10]),minuteOffset:Xa(n[11])}:null}function Xa(t,e=0){return Number(t)||e}let Hce=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gce=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Yce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Kce="^\\d{4}-\\d{2}-\\d{2}",Jce="\\d{2}:\\d{2}:\\d{2}",Xce="(([+-]\\d{2}(:?\\d{2})?)|Z)",Zce=new RegExp(`${Kce}T${Jce}(\\.\\d+)?${Xce}$`),Qce=t=>da(t)||t===t.trim(),eue={}.toString();function P(){return new p6}class p6 extends En{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===eue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ia.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Yr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Yr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Yr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Yr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Yr.email){return this.matches(Hce,{name:"email",message:e,excludeEmptyString:!0})}url(e=Yr.url){return this.matches(Gce,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Yr.uuid){return this.matches(Yce,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(Zce,{name:"datetime",message:r||Yr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Yr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=eA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Yr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=eA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Yr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Qce})}lowercase(e=Yr.lowercase){return this.transform(r=>da(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>da(r)||r===r.toLowerCase()})}uppercase(e=Yr.uppercase){return this.transform(r=>da(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>da(r)||r===r.toUpperCase()})}}P.prototype=p6.prototype;let tue=t=>t!=+t;function W(){return new g6}class g6 extends En{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!tue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Gs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Gs.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Gs.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Gs.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Gs.positive){return this.moreThan(0,e)}negative(e=Gs.negative){return this.lessThan(0,e)}integer(e=Gs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>da(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>da(a)?a:Math[e](a))}}W.prototype=g6.prototype;let y6=new Date(""),rue=t=>Object.prototype.toString.call(t)==="[object Date]";function Re(){return new Ym}class Ym extends En{constructor(){super({type:"date",check(e){return rue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Wce(e),isNaN(e)?Ym.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Yo.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=ZS.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=ZS.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Ym.INVALID_DATE=y6;Re.prototype=Ym.prototype;Re.INVALID_DATE=y6;function nue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=$i.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Yo.isRef(l)&&l.isSibling?s(l.path,i):O0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return _ce.array(Array.from(n),r).reverse()}function F_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function b6(t){return(e,r)=>F_(t,e)-F_(t,r)}const x6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Kp(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Kp(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Kp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Kp)}):"optional"in t?t.optional():t}const aue=(t,e)=>{const r=[...$i.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=$i.getter($i.join(r),!0)(t);return!!(a&&n in a)};let B_=t=>Object.prototype.toString.call(t)==="[object Object]";function q_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const sue=b6([]);function oe(t){return new v6(t)}class v6 extends En{constructor(e){super({type:"object",check(r){return B_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=sue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let p,b=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:b,context:r.context,parent:c});let g=m instanceof En?m.spec:void 0,x=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||f in a;continue}p=!r.__validating||!x?m.cast(a[f],u):a[f],p!==void 0&&(c[f]=p)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!B_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Yo.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=nue(e,r),n._sortErrors=b6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Kp(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=$i.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return aue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(x6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Gp.exact,test(r){if(r==null)return!0;const n=q_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Gp.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=q_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Gp.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(UC.camelCase)}snakeCase(){return this.transformKeys(UC.snakeCase)}constantCase(){return this.transformKeys(e=>UC.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}oe.prototype=v6.prototype;function tr(t){return new j6(t)}class j6 extends En{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(x6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!O0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+bs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Yp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Yp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Yp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}tr.prototype=j6.prototype;function oue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const iue=w.forwardRef(oue);function lue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const cue=w.forwardRef(lue);function uue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const due=w.forwardRef(uue);function fue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const mue=w.forwardRef(fue);function hue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const pue=w.forwardRef(hue);function gue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const yue=w.forwardRef(gue);function bue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const xue=w.forwardRef(bue);function vue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const jue=w.forwardRef(vue);function wue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Cue=w.forwardRef(wue);function ge({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=w.useState(1),[d,f]=w.useState(10),[m,h]=w.useState(""),[p,b]=w.useState({key:null,direction:"asc"}),g=Array.isArray(e)?e:[],y=[...g.filter(T=>Object.values(T).some(k=>k!=null&&k.toString().toLowerCase().includes(m.toLowerCase())))].sort((T,k)=>{if(!p.key)return 0;const E=T[p.key],O=k[p.key];return E==null?1:O==null?-1:typeof E=="string"&&typeof O=="string"?p.direction==="asc"?E.localeCompare(O):O.localeCompare(E):p.direction==="asc"?E-O:O-E}),v=Math.ceil(y.length/d),N=y.slice((c-1)*d,c*d),C=T=>{let k="asc";p.key===T&&p.direction==="asc"&&(k="desc"),b({key:T,direction:k})},j=T=>{u(T)},S=T=>{f(Number(T.target.value)),u(1)},A=T=>{h(T.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):g.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(yue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:A})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(T=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>T.sortable!==!1&&C(T.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:T.header}),T.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(due,{className:`h-3 w-3 ${p.key===T.key&&p.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(cue,{className:`h-3 w-3 -mt-1 ${p.key===T.key&&p.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},T.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:N.map((T,k)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(T):void 0,children:[t.map(E=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${E.className||"text-neutral-500"}`,children:E.render?E.render(T[E.key],T):T[E.key]},`${T.id||k}-${E.key}`)),typeof a=="function"?(()=>{const E=a(T);return(E==null?void 0:E.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:E.map((O,M)=>o.jsx("button",{onClick:R=>{R.stopPropagation(),O.onClick(T)},className:O.className||"text-primary-600 hover:text-primary-900",title:O.title,children:O.icon?o.jsx(O.icon,{className:"h-5 w-5","aria-hidden":"true"}):O.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((E,O)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),E.onClick(T)},className:E.className||"text-primary-600 hover:text-primary-900",title:E.title,children:E.icon?o.jsx(E.icon,{className:"h-5 w-5","aria-hidden":"true"}):E.label},O))})]},T.id||k))})]})}),r&&v>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,y.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,y.length)})," ","of ",o.jsx("span",{className:"font-medium",children:y.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Nue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>j(c+1),disabled:c===v,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Sue,{className:"h-5 w-5"})})]})]})]})]})}function Nue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Sue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function se({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Mp.Root,{show:t,as:w.Fragment,children:o.jsx(vC,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Mp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(vC.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Mp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(vC.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(ZB,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const D0="https://staging-engine.testthelink.online",Aue=[],kue={departments:Aue,department:null,isLoading:!1,error:null},rr=L("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${D0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jp=L("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${D0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Xp=L("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${D0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Zp=L("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${D0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),w6=xe({name:"departments",initialState:kue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(rr.pending,e=>{e.isLoading=!0}).addCase(rr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(rr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xp.pending,e=>{e.isLoading=!0}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:G7e,resetDepartmentState:Y7e}=w6.actions,Iue=w6.reducer;function Tue(){const t=ie(),{departments:e,isLoading:r,error:n}=q(N=>N.departments),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(rr())},[t]);const m=oe().shape({Code:P().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(N){return N?!e.some(j=>j.Code.trim().toLowerCase()===N.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0}),Name:P().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(N){return N?!e.some(j=>j.Name.trim().toLowerCase()===N.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0})}),h=()=>{l(null),s(!0)},p=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=()=>{d&&(t(Zp(d.ID)),u(!1),f(null))},x=(N,{resetForm:C})=>{t(i?Xp({...N,ID:i.ID}):Jp(N)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],v=[{icon:Se,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:A,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:N.Code,onChange:S,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:N.Name,onChange:S,onBlur:A,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const _0="https://staging-engine.testthelink.online",Eue=[],Pue={currencies:Eue,currency:null,isLoading:!1,error:null},Qp=L("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eg=L("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${_0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tg=L("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${_0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),rg=L("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${_0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),C6=xe({name:"currencies",initialState:Pue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Qp.pending,e=>{e.isLoading=!0}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tg.pending,e=>{e.isLoading=!0}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:K7e,resetCurrencyState:J7e}=C6.actions,Oue=C6.reducer,Due=(t=[],e=null)=>oe().shape({Code:P().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:P().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function _ue(){const t=ie(),{currencies:e,isLoading:r,error:n}=q(v=>v.currencies),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Qp())},[t]);const m=()=>{l(null),s(!0)},h=v=>{l(v),s(!0)},p=v=>{f(v),u(!0)},b=async()=>{try{d&&(t(rg(d.ID)),u(!1),f(null)),U.success("Currency deleted successfully.")}catch(v){console.error("Failed to delete currency:",v),U.error("Failed to delete currency. Please try again.")}},g=(v,{resetForm:N})=>{try{t(i?tg({...v,ID:i.ID}):eg(v)),U.success("Currency saved successfully.")}catch(C){console.error("Failed to save currency:",C),U.error("Failed to save currency. Please try again.")}finally{s(!1),N()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],y=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Due(e,i),onSubmit:g,children:({values:v,errors:N,touched:C,handleChange:j,handleBlur:S,isSubmitting:A})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:v.Code,onChange:j,onBlur:S,error:N.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:v.Name,onChange:j,onBlur:S,error:N.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const $0="https://staging-engine.testthelink.online",$ue=[],Rue={subdepartments:$ue,subdepartment:null,isLoading:!1,error:null},wo=L("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),ng=L("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${$0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),ag=L("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${$0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),sg=L("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${$0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),N6=xe({name:"subdepartments",initialState:Rue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:X7e,resetSubdepartmentState:Z7e}=N6.actions,Mue=N6.reducer;var S6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V_=V.createContext&&V.createContext(S6),Lue=["attr","size","title"];function Fue(t,e){if(t==null)return{};var r=Bue(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(r),!0).forEach(function(n){que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e,r){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A6(t){return t&&t.map((e,r)=>V.createElement(e.tag,Ex({key:r},e.attr),A6(e.child)))}function pE(t){return e=>V.createElement(zue,Tx({attr:Ex({},t.attr)},e),A6(t.child))}function zue(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=Fue(t,Lue),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),V.createElement("svg",Tx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Ex(Ex({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&V.createElement("title",null,s),t.children)};return V_!==void 0?V.createElement(V_.Consumer,null,r=>e(r)):e(S6)}function Wue(t){return pE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Hue(t){return pE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Gue(t){return pE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const $t=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var h;return(h=m==null?void 0:m.label)==null?void 0:h.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx(Il,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(Il.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(Il.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var p;return((p=t.find(b=>b.value===h))==null?void 0:p.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Gue,{className:"h-4 w-4"})}),o.jsx(Il.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Wue,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(Il.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(Il.Option,{className:({active:p,selected:b})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${p?"bg-blue-50 text-blue-700":""}
                         ${b?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})};function Yue(){const t=ie(),{subdepartments:e,isLoading:r}=q(C=>C.subdepartments||{}),{departments:n}=q(C=>C.departments),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(wo()),t(rr())},[t]);const m=oe().shape({Code:P().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Code.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),Name:P().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Name.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),DepartmentID:W().required("Department is required")}),h=e.map(C=>{var j;return{...C,departmentName:((j=n.find(S=>S.ID===C.DepartmentID))==null?void 0:j.Name)||"N/A"}}),p=()=>{l(null),s(!0)},b=C=>{l(C),s(!0)},g=C=>{f(C),u(!0)},x=async()=>{try{d&&(await t(sg(d.ID)).unwrap(),U.success("Subdepartment deleted successfully."))}catch(C){console.error("Failed to delete subdepartment:",C),U.error("Failed to delete subdepartment. Please try again.")}finally{f(null),u(!1)}},y=async(C,{resetForm:j})=>{var T;const S=((T=n.find(k=>k.ID===Number(C.DepartmentID)))==null?void 0:T.Name)||"",A={...C,departmentName:S};try{t(i?ag({...A,ID:i.ID}):ng(A)),U.success("Subdepartment saved successfully.")}catch(k){console.log(k),U.error("Failed to save subdepartment. Please try again.")}finally{s(!1),j()}},v=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],N=[{icon:Se,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:v,data:h,actions:N,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:y,children:({values:C,errors:j,touched:S,handleChange:A,handleBlur:T,isSubmitting:k,setFieldValue:E})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:C.Code,onChange:A,onBlur:T,error:j.Code,touched:S.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:C.Name,onChange:A,onBlur:T,error:j.Name,touched:S.Name}),o.jsx($t,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:C.DepartmentID,onSelect:O=>E("DepartmentID",O),onBlur:T,error:j.DepartmentID,touched:S.DepartmentID,options:n.map(O=>({value:O.ID,label:O.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const R0="https://staging-engine.testthelink.online",Kue=[],Jue={users:Kue,user:null,isLoading:!1,error:null},Wd=L("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${R0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),og=L("users/addUser",async(t,e)=>{try{const r=await fetch(`${R0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=L("users/updateUser",async(t,e)=>{try{const r=await fetch(`${R0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=L("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${R0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),k6=xe({name:"users",initialState:Jue,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Wd.pending,e=>{e.isLoading=!0}).addCase(Wd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Wd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:Q7e,resetUserState:e8e}=k6.actions,Xue=k6.reducer,M0="https://staging-engine.testthelink.online",Zue=[],Que={employees:Zue,employee:null,isLoading:!1,error:null},on=L("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${M0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cg=L("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${M0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=L("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${M0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=L("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${M0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),I6=xe({name:"employees",initialState:Que,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(on.pending,e=>{e.isLoading=!0}).addCase(on.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(on.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:t8e,resetEmployeeState:r8e}=I6.actions,ede=I6.reducer,L0="https://staging-engine.testthelink.online",tde=[],cc=L("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${L0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fg=L("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${L0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tA=L("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${L0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=L("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${L0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rde=xe({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=tde}).addCase(fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(tA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),nde=rde.reducer,ade=oe().shape({UserName:P().required("User name is required"),UserAccessID:P().required("User Access is required"),Password:P().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:P().oneOf([ol("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:P().required("Choose Employee is required")});function sde(){const t=ie(),{users:e,isLoading:r}=q(M=>M.users),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,p]=w.useState(null),{userroles:b,isLoading:g}=q(M=>M.userroles),x=b.map(M=>({value:M.ID,label:M.Description})),{employees:y,isLoading:v}=q(M=>M.employees),N=y.map(M=>({value:M.ID,label:`${M.FirstName} ${M.LastName}`}));w.useEffect(()=>{t(Wd()),t(on()),t(cc())},[t]);const C=()=>{i(null),a(!0)},j=M=>{i(M),a(!0)},S=M=>{d(M),c(!0)},A=async()=>{try{u&&(await t(lg(u.ID)).unwrap(),c(!1),d(null),U.success("User deleted successfully"))}catch(M){console.error("Failed to delete user:",M),U.error("Failed to delete user")}},T=async(M,{resetForm:R,setErrors:$,setSubmitting:B})=>{const z={...M};try{s?await t(ig({...z,ID:s.ID})).unwrap():await t(og(z)).unwrap(),t(Wd()),U.success("User saved successfully.")}catch(D){console.log(D),$({general:"Unexpected error occurred."}),U.error("Failed to save user. Please try again.")}finally{R(),a(!1),B(!1)}},k=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],E=[{icon:Se,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],O=e.map(M=>{var R;return{...M,UserAccessValue:(R=b.find($=>$.ID===M.UserAccessID))==null?void 0:R.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:k,data:O,actions:E,loading:r||g||v})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx($e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:ade,onSubmit:T,children:({values:M,errors:R,touched:$,handleChange:B,handleBlur:z,isSubmitting:D})=>o.jsxs(Le,{className:"space-y-4",children:[R.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:R.general}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:M.UserName,onChange:B,onBlur:z,error:R.UserName,touched:$.UserName}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:M.UserAccessID,onChange:B,onBlur:z,error:R.UserAccessID,touched:$.UserAccessID,options:x}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:M.Password,onChange:B,onBlur:z,error:R.Password,touched:$.Password}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:M.ConfirmPassword,onChange:B,onBlur:z,error:R.ConfirmPassword,touched:$.ConfirmPassword}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:M.EmployeeID,onChange:B,onBlur:z,error:R.EmployeeID,touched:$.EmployeeID,options:N}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:D?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})]})}const F0="https://staging-engine.testthelink.online",ode=[],ide={accounts:ode,account:null,isLoading:!1,error:null},br=L("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hg=L("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${F0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=L("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${F0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=L("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${F0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),T6=xe({name:"chartOfAccounts",initialState:ide,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(br.pending,e=>{e.isLoading=!0}).addCase(br.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(br.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:n8e,resetAccountState:a8e}=T6.actions,lde=T6.reducer,B0="https://staging-engine.testthelink.online",cde=[],ude={accountGroups:cde,accountGroup:null,isLoading:!1,error:null},Ri=L("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B0}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yg=L("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=L("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=L("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${B0}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),E6=xe({name:"accountGroups",initialState:ude,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Ri.pending,e=>{e.isLoading=!0}).addCase(Ri.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Ri.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:s8e,resetAccountGroupState:o8e}=E6.actions,dde=E6.reducer,q0="https://staging-engine.testthelink.online",fde=[],mde={majorAccountGroups:fde,majorAccountGroup:null,isLoading:!1,error:null},Mi=L("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${q0}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),vg=L("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=L("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=L("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${q0}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),P6=xe({name:"majorAccountGroups",initialState:mde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Mi.pending,e=>{e.isLoading=!0}).addCase(Mi.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Mi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vg.pending,e=>{e.isLoading=!0}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jg.pending,e=>{e.isLoading=!0}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:i8e,resetMajorAccountGroupState:l8e}=P6.actions,hde=P6.reducer,V0="https://staging-engine.testthelink.online",pde=[],gde={subMajorAccountGroups:pde,subMajorAccountGroup:null,isLoading:!1,error:null},uc=L("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${V0}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Cg=L("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Ng=L("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Sg=L("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),O6=xe({name:"subMajorAccountGroups",initialState:gde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(uc.pending,e=>{e.isLoading=!0}).addCase(uc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(uc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cg.pending,e=>{e.isLoading=!0}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ng.pending,e=>{e.isLoading=!0}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sg.pending,e=>{e.isLoading=!0}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:c8e,resetSubMajorAccountGroupState:u8e}=O6.actions,yde=O6.reducer,bde=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=sq(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(I,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},xde=oe().shape({AccountCode:P().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:P().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:P().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:P().max(250,"Description must be at most 250 characters"),AccountTypeID:P().required("Account group is required"),AccountSubTypeID:P().required("Major account group is required"),AccountCategoryID:P().required("Sub Major account group is required"),NormalBalance:P().required("Normal balance is required")});function vde({initialData:t,onClose:e}){const r=ie(),{accountGroups:n}=q(d=>d.accountGroups),{majorAccountGroups:a}=q(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=q(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Ri()),r(Mi()),r(uc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?pg({...d,ID:t.ID}):hg(d);r(f).unwrap().then(()=>{U.success("Account updated successfully"),r(br()),e()}).catch(m=>{console.error("Error submitting account:",m),U.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx($e,{initialValues:c,validationSchema:xde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isValid:b,setFieldValue:g})=>{var x;return o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(bde,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name}),o.jsx($t,{label:"Account Group",options:n.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Account Group",onSelect:y=>{g("AccountTypeID",y||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx($t,{label:"Major Account Group",options:a.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Major Account Group",onSelect:y=>{g("AccountSubTypeID",y||"")},selectedValue:((x=a.find(y=>y.ID===d.AccountSubTypeID))==null?void 0:x.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx($t,{label:"Sub Major Account Group",options:s.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Sub Major Account Group",onSelect:y=>{g("AccountCategoryID",y||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:p,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:p,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!b,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),z_=t=>{const e=wde(t);return e.charAt(0).toUpperCase()+e.slice(1)},D6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Cde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Nde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:D6("lucide",a),...!s&&!Cde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(Sde,{ref:s,iconNode:e,className:D6(`lucide-${jde(z_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=z_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],_6=ur("building",Ade);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gE=ur("calendar",kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Tde=ur("circle-arrow-left",Ide);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Pde=ur("circle-x",Ede);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$6=ur("credit-card",Ode);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_de=ur("eye-off",Dde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R6=ur("eye",$de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mde=ur("file-text",Rde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],il=ur("paperclip",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],va=ur("pencil",Fde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],U0=ur("plus",Bde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Px=ur("printer",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ude=ur("save",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wde=ur("square-pen",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gr=ur("trash-2",Hde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Xn=ur("trash",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z0=ur("user",Yde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yE=ur("users",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xde=ur("x",Jde);function Zde(){const t=ie(),{accounts:e,isLoading:r}=q(y=>y.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(br())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(gg(u.ID)).unwrap(),c(!1),d(null),U.success("Account deleted successfully")}catch(y){console.error("Failed to delete account:",y),U.error("Failed to delete account. Please try again.")}},b=()=>{a(!1),i(null)},g=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(vde,{initialData:s,onClose:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Qde=oe().shape({Code:P().required("Code is required").max(10,"Code must be at most 10 characters"),Name:P().required("Name is required").max(100,"Name must be at most 100 characters")});function efe(){const t=ie(),{accountGroups:e,isLoading:r,error:n}=q(v=>v.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Ri())},[t]);const m=()=>{l(null),s(!0)},h=v=>{l(v),s(!0)},p=v=>{f(v),u(!0)},b=async()=>{try{d&&(await t(xg(d.ID)).unwrap(),U.success("Account group deleted successfully"),u(!1),f(null))}catch(v){console.error("Failed to delete account group:",v),U.error("Failed to delete account group. Please try again.")}},g=async(v,{resetForm:N})=>{try{i?(await t(bg({...v,ID:i.ID})).unwrap(),U.success("Account group updated successfully")):(await t(yg(v)).unwrap(),U.success("Account group added successfully")),t(Ri())}catch(C){console.error("Error submitting account group:",C),U.error("Failed to submit account group. Please try again.")}finally{s(!1),N()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],y=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Qde,onSubmit:g,children:({values:v,errors:N,touched:C,handleChange:j,handleBlur:S,isSubmitting:A})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:v.Code,onChange:j,onBlur:S,error:N.Code,touched:C.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:v.Name,onChange:j,onBlur:S,error:N.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const tfe=oe().shape({Code:P().required("Code is required").max(15,"Code must be at most 15 characters"),Name:P().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:W().required("Account Type is required")});function rfe(){const t=ie(),{majorAccountGroups:e,isLoading:r}=q(N=>N.majorAccountGroups),{accountGroups:n}=q(N=>N.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Mi()),t(Ri())},[t]);const m=e.map(N=>{const C=n.find(j=>j.ID===N.AccountTypeID);return{...N,accountTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=()=>{try{d&&(t(wg(d.ID)),U.success("Major account group deleted successfully"))}catch(N){console.error("Failed to delete major account group:",N),U.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},x=async(N,{resetForm:C})=>{var A;const j=((A=n.find(T=>T.ID===Number(N.AccountTypeID)))==null?void 0:A.Name)||"",S={...N,accountTypeName:j};try{i?(await t(jg({...S,ID:i.ID})).unwrap(),U.success("Major account group updated successfully")):(await t(vg(S)).unwrap(),U.success("Major account group added successfully")),t(Mi())}catch(T){console.error("Failed to save major account group:",T),U.error("Failed to save major account group. Please try again.")}s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],v=[{icon:Se,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:tfe,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:A,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:S,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:S,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:N.AccountTypeID,onChange:S,onBlur:A,error:C.AccountTypeID,touched:j.AccountTypeID,options:n.map(k=>({value:k.ID,label:k.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const nfe=oe().shape({Code:P().required("Code is required").max(15,"Code must be at most 15 characters"),Name:P().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:W().required("Account Sub Type is required")});function afe(){const t=ie(),{subMajorAccountGroups:e,isLoading:r}=q(N=>N.subMajorAccountGroups),{majorAccountGroups:n}=q(N=>N.majorAccountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(uc()),t(Mi())},[t]);const m=e.map(N=>{const C=n.find(j=>j.ID===N.AccountSubTypeID);return{...N,accountSubTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=N=>{l(N),s(!0)},b=N=>{f(N),u(!0)},g=async()=>{try{d&&(await t(Sg(d.ID)).unwrap(),u(!1),f(null),U.success("Sub major account group deleted successfully"))}catch(N){console.error("Failed to delete sub major account group:",N),U.error("Failed to delete sub major account group. Please try again.")}},x=async(N,{resetForm:C})=>{var A;const j=((A=n.find(T=>T.ID===Number(N.AccountSubTypeID)))==null?void 0:A.Name)||"",S={...N,accountSubTypeName:j};try{i?(await t(Ng({...S,ID:i.ID})).unwrap(),U.success("Sub major account group updated successfully")):(await t(Cg(S)).unwrap(),U.success("Sub major account group added successfully")),t(uc())}catch(T){console.error("Failed to save sub major account group:",T),U.error("Failed to save sub major account group. Please try again.")}finally{s(!1),C()}},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],v=[{icon:Se,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:v,loading:r})}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:nfe,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:S,handleBlur:A,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:S,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:S,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:N.AccountSubTypeID,onChange:S,onBlur:A,error:C.AccountSubTypeID,touched:j.AccountSubTypeID,options:n.map(k=>({value:k.ID,label:k.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function sfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:h=[],modeOfPaymentOptions:p=[]}){const b=oe({Code:P().required("Code is required"),TIN:P().required("TIN is required"),Name:P().required("Name is required"),PhoneNumber:P(),MobileNumber:P().required("Mobile number is required"),EmailAddress:P().email("Invalid email").required("Email is required"),Website:P(),RegionID:P().required("Region is required"),ProvinceID:P().required("Province is required"),MunicipalityID:P().required("Municipality is required"),BarangayID:P().required("Barangay is required"),StreetAddress:P().required("Street address is required"),ZIPCode:P().required("Zip code is required"),TypeID:P().required("Vendor type is required"),RDO:P().required("Revenue District Office is required"),IndustryTypeID:P().required("Industry is required"),TaxCodeID:P().required("Tax code is required"),PaymentTermsID:P().required("Payment terms are required"),Vatable:Mo(),PaymentMethodID:P().required("Mode of payment is required"),ContactPerson:P().required("Contact person is required"),DeliveryLeadTime:W().required("Delivery lead time is required").typeError("Must be a number")}),g=tt({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:b,onSubmit:S=>{e(S)}}),{values:x,handleChange:y,handleBlur:v,errors:N,touched:C,setFieldValue:j}=g;return w.useEffect(()=>{const S=s.find(A=>A.ID.toString()===x.BarangayID);S&&(S.MunicipalityCode&&j("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&j("ProvinceID",S.ProvinceCode),S.RegionCode&&j("RegionID",S.RegionCode))},[x.BarangayID]),w.useEffect(()=>{const S=a.find(A=>A.ID.toString()===x.MunicipalityID);S&&(S.ProvinceCode&&j("ProvinceID",S.ProvinceCode),S.RegionCode&&j("RegionID",S.RegionCode))},[x.MunicipalityID]),w.useEffect(()=>{const S=n.find(A=>A.ID.toString()===x.ProvinceID);S&&S.RegionCode&&j("RegionID",S.RegionCode)},[x.ProvinceID]),o.jsxs("form",{onSubmit:g.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:x.Code,onChange:y,onBlur:v,error:N.Code,touched:C.Code,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:x.TIN,onChange:y,onBlur:v,error:N.TIN,touched:C.TIN,required:!0})]}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:x.Name,onChange:y,onBlur:v,error:N.Name,touched:C.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Phone Number",name:"PhoneNumber",type:"text",value:x.PhoneNumber,onChange:y,onBlur:v}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",value:x.MobileNumber,onChange:y,onBlur:v,error:N.MobileNumber,touched:C.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.EmailAddress,onChange:y,onBlur:v,error:N.EmailAddress,touched:C.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",type:"text",value:x.Website,onChange:y,onBlur:v})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:i,value:x.RegionID,onChange:y,onBlur:v,error:N.RegionID,touched:C.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:l,value:x.ProvinceID,onChange:y,onBlur:v,error:N.ProvinceID,touched:C.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:x.MunicipalityID,onChange:y,onBlur:v,error:N.MunicipalityID,touched:C.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:x.BarangayID,onChange:y,onBlur:v,error:N.BarangayID,touched:C.BarangayID,required:!0})]}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",value:x.StreetAddress,onChange:y,onBlur:v,error:N.StreetAddress,touched:C.StreetAddress,required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:x.ZIPCode,onChange:y,onBlur:v,error:N.ZIPCode,touched:C.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:x.TypeID,onChange:y,onBlur:v,error:N.TypeID,touched:C.TypeID,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",type:"text",value:x.RDO,onChange:y,onBlur:v,error:N.RDO,touched:C.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:x.IndustryTypeID,onChange:y,onBlur:v,error:N.IndustryTypeID,touched:C.IndustryTypeID,required:!0}),o.jsx(I,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:x.TaxCodeID,onChange:y,onBlur:v,error:N.TaxCodeID,touched:C.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:h,value:x.PaymentTermsID,onChange:y,onBlur:v,error:N.PaymentTermsID,touched:C.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:x.Vatable,onChange:y,onBlur:v}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:p,value:x.PaymentMethodID,onChange:y,onBlur:v,error:N.PaymentMethodID,touched:C.PaymentMethodID,required:!0}),o.jsx(I,{label:"Contact Person",name:"ContactPerson",type:"text",value:x.ContactPerson,onChange:y,onBlur:v,error:N.ContactPerson,touched:C.ContactPerson,required:!0})]}),o.jsx(I,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:x.DeliveryLeadTime,onChange:y,onBlur:v,error:N.DeliveryLeadTime,touched:C.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g.isSubmitting,children:g.isSubmitting?"Saving...":"Save"})]})]})}const W0="https://staging-engine.testthelink.online",ofe=[],La=L("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W0}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ag=L("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${W0}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),rA=L("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${W0}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),kg=L("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${W0}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ife=xe({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(La.pending,e=>{e.isLoading=!0,e.error=null}).addCase(La.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(La.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=ofe}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(rA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),lfe=ife.reducer,H0="https://staging-engine.testthelink.online",cfe=[],Co=L("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H0}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ig=L("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${H0}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),nA=L("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${H0}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=L("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${H0}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ufe=xe({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Co.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Co.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Co.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=cfe}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(nA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),dfe=ufe.reducer,G0="https://staging-engine.testthelink.online",ffe=[],No=L("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Eg=L("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${G0}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),aA=L("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${G0}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=L("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${G0}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mfe=xe({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(No.pending,e=>{e.isLoading=!0,e.error=null}).addCase(No.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(No.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=ffe}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(aA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),hfe=mfe.reducer,Y0="https://staging-engine.testthelink.online",pfe=[],So=L("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Og=L("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${Y0}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sA=L("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${Y0}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=L("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${Y0}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gfe=xe({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0,e.error=null}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=pfe}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(sA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),yfe=gfe.reducer,K0="https://staging-engine.testthelink.online",bfe=[],Ao=L("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=L("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${K0}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oA=L("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${K0}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=L("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${K0}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xfe=xe({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=bfe}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(oA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),vfe=xfe.reducer,J0="https://staging-engine.testthelink.online",jfe=[],dc=L("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J0}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=L("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${J0}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iA=L("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${J0}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=L("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${J0}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wfe=xe({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=jfe}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(iA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Cfe=wfe.reducer,X0="https://staging-engine.testthelink.online",Nfe=[],Li=L("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=L("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${X0}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=L("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${X0}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=L("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${X0}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Sfe=xe({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Li.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Li.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(Li.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Nfe}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Afe=Sfe.reducer,Z0="https://staging-engine.testthelink.online",kfe=[],Gn=L("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z0}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=L("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${Z0}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cA=L("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${Z0}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=L("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${Z0}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ife=xe({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Gn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=kfe}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(cA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Tfe=Ife.reducer,Q0="https://staging-engine.testthelink.online",Efe=[],Fi=L("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=L("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=L("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ug=L("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Q0}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Pfe=xe({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fi.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(Fi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Efe}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Ofe=Pfe.reducer,ej="https://staging-engine.testthelink.online",Dfe=[],Bi=L("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zg=L("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=L("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=L("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_fe=xe({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(Bi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Dfe}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),$fe=_fe.reducer;function Rfe(){const t=ie(),{vendorDetails:e,isLoading:r}=q(F=>F.vendorDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{regions:f}=q(F=>F.regions),{provinces:m}=q(F=>F.provinces),{municipalities:h}=q(F=>F.municipalities),{barangays:p}=q(F=>F.barangays),{vendorTypes:b}=q(F=>F.vendorTypes),{industries:g}=q(F=>F.industries),{taxCodes:x}=q(F=>F.taxCodes),{paymentTerms:y}=q(F=>F.paymentTerms),{modeOfPayments:v}=q(F=>F.modeOfPayments);w.useEffect(()=>{t(La()),t(Co()),t(No()),t(So()),t(Ao()),t(dc()),t(Li()),t(Gn()),t(Fi()),t(Bi())},[t]);const N=f.map(F=>({value:F.ID,label:F.Name})),C=m.map(F=>({value:F.ID,label:F.Name})),j=h.map(F=>({value:F.ID,label:F.Name})),S=p.map(F=>({value:F.ID,label:F.Name})),A=b.map(F=>({value:F.ID,label:F.Name})),T=g.map(F=>({value:F.ID,label:F.Name})),k=x.map(F=>({value:F.ID,label:F.Code})),E=y.map(F=>({value:F.ID,label:F.Name})),O=v.map(F=>({value:F.ID,label:F.Name})),M=()=>{i(null),a(!0)},R=F=>{i(F),a(!0)},$=F=>{d(F),c(!0)},B=async()=>{if(u)try{await t(kg(u.ID)).unwrap(),c(!1),d(null),U.success("Vendor details deleted successfully")}catch(F){console.error("Failed to delete vendor details:",F)}},z=async F=>{try{s?(await t(rA({...F,ID:s.ID})).unwrap(),U.success("Vendor details updated successfully")):(await t(Ag(F)).unwrap(),U.success("Vendor details added successfully")),t(La())}catch(Y){console.error("Failed to save vendor details:",Y),U.error("Failed to save vendor details. Please try again.")}finally{a(!1)}},D=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:F=>{const Y=y.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:F=>{const Y=v.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:F=>F||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:F=>F?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:F=>{const Y=x.find(G=>G.ID==F);return(Y==null?void 0:Y.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:F=>{const Y=b.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:F=>{const Y=g.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:F=>F||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:F=>{const Y=p.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:F=>{const Y=h.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:F=>{const Y=m.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:F=>{const Y=f.find(G=>G.ID==F);return(Y==null?void 0:Y.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],_=[{icon:Se,title:"Edit",onClick:R,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:$,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:M,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:D,data:e,actions:_,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(sfe,{initialData:s,onClose:()=>a(!1),onSubmit:z,provinces:m,municipalities:h,barangays:p,regionOptions:N,provinceOptions:C,municipalityOptions:j,barangayOptions:S,vendorTypeOptions:A,industryOptions:T,taxCodeOptions:k,paymentTermsOptions:E,modeOfPaymentOptions:O})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:B,className:"btn btn-danger",children:"Delete"})]})]})]})}function Mfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const tj="https://staging-engine.testthelink.online",Lfe=[],Hd=L("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hg=L("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=L("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gg=L("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ffe=xe({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hd.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Hd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Lfe}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),Bfe=Ffe.reducer;function qfe(){const t=ie(),{vendorCustomerTypes:e,isLoading:r}=q(y=>y.vendorCustomerTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Hd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Gg(u.ID)).unwrap(),c(!1),d(null),U.success("Vendor customer type deleted successfully")}catch(y){console.error("Failed to delete vendor customer type:",y),U.error("Failed to delete vendor customer type. Please try again.")}},b=async y=>{try{s?(await t(fA({...y,ID:s.ID})).unwrap(),U.success("Vendor customer type updated successfully")):(await t(Hg(y)).unwrap(),U.success("Vendor customer type saved successfully")),t(Hd())}catch(v){console.error("Failed to save vendor customer type:",v),U.error("Failed to save vendor customer type. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Mfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Vfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ufe(){const t=ie(),{vendorTypes:e,isLoading:r}=q(y=>y.vendorTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(dc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Mg(u.ID)).unwrap(),c(!1),d(null),U.success("Vendor type deleted successfully")}catch(y){console.error("Failed to delete vendor type:",y),U.error("Failed to delete vendor type. Please try again.")}},b=async y=>{try{s?(await t(iA({...y,ID:s.ID})).unwrap(),U.success("Vendor type updated successfully")):(await t(Rg(y)).unwrap(),U.success("Vendor type saved successfully")),t(dc())}catch(v){console.error("Failed to save vendor type:",v),U.error("Failed to save vendor type. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(Vfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function zfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const rj="https://staging-engine.testthelink.online",Wfe=[],Gd=L("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yg=L("modules/addModule",async(t,e)=>{try{const r=await fetch(`${rj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=L("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=L("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hfe=xe({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Gd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=Wfe}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),Gfe=Hfe.reducer;function Yfe(){const t=ie(),{modules:e,isLoading:r}=q(y=>y.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Gd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Kg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete module:",y)}},b=y=>{t(s?mA({...y,ID:s.ID}):Yg(y)),a(!1)},g=[{key:"Description",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(zfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const nj="https://staging-engine.testthelink.online",Kfe=[],qi=L("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jg=L("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${nj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=L("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xg=L("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jfe=xe({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qi.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(qi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=Kfe}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),Xfe=Jfe.reducer,aj="https://staging-engine.testthelink.online",Zfe=[],fc=L("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=L("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=L("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=L("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qfe=xe({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=Zfe}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),eme=Qfe.reducer,sj="https://staging-engine.testthelink.online",tme=[],Vi=L("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ey=L("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=L("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=L("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rme=xe({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vi.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=tme}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),nme=rme.reducer,ame=oe().shape({FirstName:P().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:P().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:P().max(100,"Middle name must be at most 100 characters"),Birthday:Re().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:P().required("Gender is required"),StreetAddress:P().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:P().required("Contact number is required"),EmailAddress:P().email("Invalid email address").required("Email is required"),IDNumber:W(),DepartmentID:W().required("Department is required"),PositionID:P().required("Position is required"),NationalityID:P().required("Nationality is required"),EmploymentStatusID:P().required("Employment status is required"),DateHired:Re().required("Date hired is required"),TIN:P().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:P(),Philhealth:P(),Pagibig:P(),Active:P().required("Status is required"),ZIPCode:P().max(6,"ZIP code must be at most 6 characters"),Region:P().required("Region is required"),Province:P().required("Province is required"),Municipality:P().required("Municipality is required"),Barangay:P().required("Barangay is required")});function sme({initialData:t,onClose:e}){const r=ie();w.useEffect(()=>{r(rr()),r(qi()),r(fc()),r(Co()),r(No()),r(So()),r(Ao()),r(Vi())},[r]);const{regions:n}=q(k=>k.regions),{provinces:a}=q(k=>k.provinces),{municipalities:s}=q(k=>k.municipalities),{barangays:i}=q(k=>k.barangays),{nationalities:l}=q(k=>k.nationalities),c=l==null?void 0:l.map(k=>({value:k.ID,label:k.Name})),u=n.map(k=>({value:k.ID.toString(),label:k.Name})),d=a.map(k=>({value:k.ID.toString(),label:k.Name})),f=s.map(k=>({value:k.ID.toString(),label:k.Name})),m=i.map(k=>({value:k.ID.toString(),label:k.Name})),{departments:h,isLoading:p}=q(k=>k.departments),b=h.map(k=>({value:k.ID,label:k.Name})),{positions:g,isLoading:x}=q(k=>k.positions),y=g.map(k=>({value:k.ID,label:k.Name})),{employmentStatuses:v,isLoading:N}=q(k=>k.employmentStatuses),C=v.map(k=>({value:k.ID,label:k.Name})),[j,S]=w.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},T=k=>{var R;S(!0);const E=((R=h.find($=>$.value===Number(k.DepartmentID)))==null?void 0:R.label)||"",O={...k,DepartmentID:Number(k.DepartmentID),departmentName:E},M=t?ug({...O,id:t.id,employeeCode:t.employeeCode}):cg(O);r(M).unwrap().then(()=>{t?U.success("Employee updated successfully."):U.success("Employee added successfully."),r(on())}).catch($=>{console.error("Error submitting employee:",$),U.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx($e,{initialValues:A,validationSchema:ame,onSubmit:T,enableReinitialize:!0,children:({values:k,errors:E,touched:O,handleChange:M,handleBlur:R,isValid:$,setFieldValue:B,submitCount:z})=>(w.useEffect(()=>{const D=i.find(_=>_.ID.toString()===k.Barangay);if(D){const{MunicipalityCode:_,ProvinceCode:F,RegionCode:Y}=D;_&&B("Municipality",_),F&&B("Province",F),Y&&B("Region",Y)}},[k.Barangay]),w.useEffect(()=>{const D=s.find(_=>_.ID.toString()===k.Municipality);if(D){const{ProvinceCode:_,RegionCode:F}=D;_&&B("Province",_),F&&B("Region",F)}},[k.Municipality]),w.useEffect(()=>{const D=a.find(_=>_.ID.toString()===k.Province);if(D){const{RegionCode:_}=D;_&&B("Region",_)}},[k.Province]),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(I,{label:"First name",name:"FirstName",type:"text",required:!0,value:k.FirstName,onChange:M,onBlur:R,error:E.FirstName,touched:O.FirstName}),o.jsx(I,{label:"Middle name",name:"MiddleName",type:"text",value:k.MiddleName,onChange:M,onBlur:R,error:E.MiddleName,touched:O.MiddleName}),o.jsx(I,{label:"Last name",name:"LastName",type:"text",required:!0,value:k.LastName,onChange:M,onBlur:R,error:E.LastName,touched:O.LastName}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",required:!0,value:k.Gender,onChange:M,onBlur:R,error:E.Gender,touched:O.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(I,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:k.Birthday,onChange:M,onBlur:R,error:E.Birthday,touched:O.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(I,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:k.Region||"",onChange:M}),o.jsx(I,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:k.Province||"",onChange:M}),o.jsx(I,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:k.Municipality||"",onChange:M}),o.jsx(I,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:k.Barangay||"",onChange:M}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:k.StreetAddress||"",onChange:M,onBlur:R,error:E.StreetAddress,touched:O.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx($t,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:D=>{const _=c.find(F=>F.value===D);B("NationalityID",D||""),B("Nationality",(_==null?void 0:_.label)||"")},className:"w-full",selectedValue:k.NationalityID,error:E.Nationality,touched:O.Nationality})}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:k.ZIPCode||"",onChange:M,onBlur:R,error:E.ZIPCode,touched:O.ZIPCode}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:k.MobileNumber||"",onChange:M,onBlur:R,error:E.MobileNumber,touched:O.MobileNumber}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:k.EmailAddress||"",onChange:M,onBlur:R,error:E.EmailAddress,touched:O.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:k.EmergencyContact||"",onChange:M,onBlur:R,error:E.EmergencyContact,touched:O.EmergencyContact}),o.jsx(I,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:k.EmergencyNumber||"",onChange:M,onBlur:R,error:E.EmergencyNumber,touched:O.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"ID Number",name:"IDNumber",type:"text",value:k.IDNumber||"",onChange:M}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:k.TIN||"",onChange:M,onBlur:R,error:E.TIN,touched:O.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:k.Pagibig||"",onChange:M,onBlur:R,error:E.Pagibig,touched:O.Pagibig}),o.jsx(I,{label:"GSIS",name:"GSIS",type:"text",value:k.GSIS||"",onChange:M,onBlur:R,error:E.GSIS,touched:O.GSIS})]}),o.jsx(I,{label:"Philhealth",name:"Philhealth",type:"text",value:k.Philhealth||"",onChange:M,onBlur:R,error:E.Philhealth,touched:O.Philhealth}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:k.DepartmentID||"",onChange:M,onBlur:R,error:E.DepartmentID,touched:O.DepartmentID,options:b,disabled:p})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:k.DateHired||"",onChange:M,onBlur:R,error:E.DateHired,touched:O.DateHired}),o.jsx(I,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:k.EmploymentStatusID||"",onChange:M,onBlur:R,error:E.EmploymentStatusID,touched:O.EmploymentStatusID,options:C,disabled:N})]}),o.jsx(I,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:k.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(I,{label:"Position",name:"PositionID",type:"select",required:!0,value:k.PositionID||"",onChange:M,onBlur:R,error:E.PositionID,touched:O.PositionID,options:y,disabled:x}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[k.FirstName,k.MiddleName,k.LastName].filter(Boolean).join(" "),k.TIN&&` - ${k.TIN}`,k.DepartmentID&&` - ${k.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary",children:j?"Saving...":t?"Update":"Save"})]}),z>0&&Object.keys(E).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(E).map(([D,_])=>o.jsx("li",{children:_},D))})]})]}))})}function ome(){const t=ie(),{employees:e,isLoading:r}=q(y=>y.employees),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(on())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{try{u&&(t(dg(u.ID)),c(!1),d(null),U.success("Employee deleted successfully"))}catch(y){console.error("Failed to delete employee:",y),U.error("Failed to delete employee. Please try again.")}},b=()=>{a(!1),i(null)},g=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"Position",header:"Position",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:y=>(y==null?void 0:y.Name)||""}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(sme,{initialData:s,onClose:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ime({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Employment Status is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function lme(){const t=ie(),{employmentStatuses:e,isLoading:r}=q(y=>y.employmentStatuses),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(fc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Qg(u.ID)).unwrap(),c(!1),d(null),U.success("Employment status deleted successfully")}catch(y){console.error("Failed to delete employment status:",y),U.error("Failed to delete employment status. Please try again.")}},b=async y=>{try{s?(await t(pA({...y,ID:s.ID})).unwrap(),U.success("Employment status updated successfully")):(await t(Zg(y)).unwrap(),U.success("Employment status saved successfully")),t(fc())}catch(v){console.error("Failed to save employment status:",v),U.error("Failed to save employment status. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Employment Status",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(ime,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function cme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Position is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ume(){const t=ie(),{positions:e,isLoading:r}=q(y=>y.positions),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(qi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Xg(u.ID)).unwrap(),c(!1),d(null),U.success("Position deleted successfully")}catch(y){console.error("Failed to delete position:",y),U.error("Failed to delete position. Please try again.")}},b=async y=>{try{s?(await t(hA({...y,ID:s.ID})).unwrap(),U.success("Position updated successfully")):(await t(Jg(y)).unwrap(),U.success("Position saved successfully")),t(qi())}catch(v){console.error("Failed to save position:",v),U.error("Failed to save position. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Position",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(cme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function dme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:P().required("User Role is required")}),a=tt({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function fme(){const t=ie(),{userroles:e,isLoading:r}=q(y=>y.userroles),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(cc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{if(y.Description=="Administrator"){U.error("The 'Administrator' role cannot be edited.");return}i(y),a(!0)},h=y=>{if(y.Description=="Administrator"){U.error("The 'Administrator' role cannot be deleted.");return}d(y),c(!0)},p=async()=>{if(u)try{await t(mg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete user role:",y)}},b=y=>{t(s?tA({...y,ID:s.ID}):fg(y)),a(!1)},g=[{key:"Description",header:"User Role",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(dme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function mme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Nationality is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function hme(){const t=ie(),{nationalities:e,isLoading:r}=q(y=>y.nationalities),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Vi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(ty(u.ID)).unwrap(),c(!1),d(null),U.success("Nationality deleted successfully")}catch(y){console.error("Failed to delete nationality:",y),U.error("Failed to delete nationality. Please try again.")}},b=async y=>{try{s?(await t(gA({...y,ID:s.ID})).unwrap(),U.success("Nationality updated successfully")):(await t(ey(y)).unwrap(),U.success("Nationality saved successfully")),t(Vi())}catch(v){console.error("Failed to save nationality:",v),U.error("Failed to save nationality. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Nationality",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(mme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ze={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};oe().shape({date:Re().required(Ze.required).max(new Date,Ze.futureDate),reference:P().max(50,"Reference number too long"),particulars:P().required(Ze.required).max(500,"Particulars too long"),debitEntries:tr().of(oe().shape({accountCode:P().required("Account code is required"),amount:W().required("Amount is required").moreThan(0,Ze.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:tr().of(oe().shape({accountCode:P().required("Account code is required"),amount:W().required("Amount is required").moreThan(0,Ze.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const W_=oe().shape({date:Re().required(Ze.required).max(new Date,Ze.futureDate),period:P().required(Ze.required),stallNumber:P().required(Ze.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:P().required(Ze.required),stallOwner:P().required(Ze.required).max(100,"Name too long"),amount:W().required(Ze.required).moreThan(0,Ze.positiveNumber)});oe().shape({certificateNo:P().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:P().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:P().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:P().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:P().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:P().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:P().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:P().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:P().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:P().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:W().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:W().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:P().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:W().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:W().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:W().min(0,"Amount cannot be negative").nullable(),purpose:P().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:W().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:W().min(0,"Interest cannot be negative").nullable()});oe().shape({date:Re().required(Ze.required).max(new Date,Ze.futureDate),tdNumber:P().required(Ze.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:P().required(Ze.required).max(100,"Name too long"),location:P().required(Ze.required).max(200,"Location too long"),basicTax:W().required(Ze.required).moreThan(0,Ze.positiveNumber),sef:W().required(Ze.required).moreThan(0,Ze.positiveNumber),penalty:W().min(0,"Amount cannot be negative")});const pme=oe().shape({Name:P().required(Ze.required).max(100,"Name too long"),MunicipalityCode:P().required(Ze.required),ProvinceCode:P().required(Ze.required),RegionCode:P().required(Ze.required)}),gme=oe().shape({Name:P().required(Ze.required).max(100,"Name too long"),ProvinceCode:P().required(Ze.required),RegionCode:P().required(Ze.required)}),yme=oe().shape({Name:P().required(Ze.required).max(100,"Name too long"),RegionCode:P().required(Ze.required)}),H_=oe().shape({Name:P().required(Ze.required).max(100,"Name too long")});oe().shape({id:P().required("ID is required"),status:P().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Re().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:P().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),agency:P().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:P().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:P().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function bme(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ie(),{regions:m}=q(R=>R.regions),{provinces:h}=q(R=>R.provinces),{municipalities:p}=q(R=>R.municipalities),{barangays:b}=q(R=>R.barangays);w.useEffect(()=>{f(Co()),f(No()),f(So()),f(Ao())},[f]);const g=()=>{switch(t){case"region":return H_;case"province":return yme;case"municipality":return gme;case"barangay":return pme;default:return H_}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},y=()=>{switch(t){case"region":return m;case"province":return h.map(R=>({...R,RegionName:O(R.RegionCode,m)}));case"municipality":return p.map(R=>({...R,RegionName:O(R.RegionCode,m),ProvinceName:O(R.ProvinceCode,h)}));case"barangay":return b.map(R=>({...R,RegionName:O(R.RegionCode,m),ProvinceName:O(R.ProvinceCode,h),MunicipalityName:O(R.MunicipalityCode,p)}));default:return[]}},v=()=>{switch(t){case"region":return Ig;case"province":return Eg;case"municipality":return Og;case"barangay":return _g;default:return null}},N=()=>{switch(t){case"region":return nA;case"province":return aA;case"municipality":return sA;case"barangay":return oA;default:return null}},C=()=>{switch(t){case"region":return Tg;case"province":return Pg;case"municipality":return Dg;case"barangay":return $g;default:return null}},j=[{icon:Se,title:"Edit",onClick:R=>A(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:R=>T(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=()=>{s(null),n(!0)},A=R=>{s(R),n(!0)},T=R=>{u(R),l(!0)},k=async()=>{try{c&&(await f(C()(c.ID)).unwrap(),l(!1),u(null),U.success("Location deleted successfully"))}catch(R){console.error("Failed to delete location:",R),U.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&E.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const E=tt({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:g(),onSubmit:async(R,{setSubmitting:$})=>{const B=a?N():v(),z=a?{...a,...R}:R;try{await f(B(z)).unwrap(),U.success("Location saved successfully")}catch(D){console.error("Failed to save location:",D),U.error("Failed to save location. Please try again.")}finally{n(!1),$(!1)}}}),O=(R,$)=>{const B=$.find(z=>z.ID.toString()===R.toString());return B?B.Name:""},M=()=>{const R={formik:E,onChange:E.handleChange,onBlur:E.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(I,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...R});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...R}),o.jsx(I,{label:"Region",name:"RegionCode",type:"select",options:m.map($=>({value:$.ID,label:$.Name})),value:E.values.RegionCode,error:E.errors.RegionCode,touched:E.touched.RegionCode,...R})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Municipality",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter municipality name",...R}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"select",options:h.map($=>({value:$.ID,label:$.Name})),value:E.values.ProvinceCode,error:E.errors.ProvinceCode,touched:E.touched.ProvinceCode,onChange:$=>{const B=$.target.value,z=h.find(D=>D.ID.toString()===B.toString());E.setFieldValue("ProvinceCode",B),z&&E.setFieldValue("RegionCode",z.RegionCode)},onBlur:E.handleBlur,required:!0}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:O(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Barangay",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter barangay name",...R}),o.jsx(I,{label:"Municipality",name:"MunicipalityCode",type:"select",options:p.map($=>({value:$.ID,label:$.Name})),value:E.values.MunicipalityCode,error:E.errors.MunicipalityCode,touched:E.touched.MunicipalityCode,onChange:$=>{const B=$.target.value,z=p.find(D=>D.ID.toString()===B.toString());E.setFieldValue("MunicipalityCode",B),z&&(E.setFieldValue("ProvinceCode",z.ProvinceCode),E.setFieldValue("RegionCode",z.RegionCode))},onBlur:E.handleBlur,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"text",value:O(E.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:O(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(R=>o.jsx("button",{onClick:()=>e(R),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===R?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[R]},R))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x(),data:y(),actions:j,pagination:!0})}),o.jsx(se,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:E.handleSubmit,className:"p-4 space-y-4",children:[M(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E.isSubmitting,children:E.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(se,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]})})]})}const oj="https://staging-engine.testthelink.online",xme=[],mc=L("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ry=L("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=L("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=L("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),vme=xe({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=xme}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),jme=vme.reducer,ij="https://staging-engine.testthelink.online",wme=[],hc=L("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ay=L("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=L("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=L("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Cme=xe({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=wme}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Nme=Cme.reducer,lj="https://staging-engine.testthelink.online",Sme=[],Ame=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],kme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Ime={ppes:Sme,ppe:null,isLoading:!1,error:null,categories:Ame,suppliers:kme},pc=L("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=L("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=L("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=L("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),M6=xe({name:"ppes",initialState:Ime,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(pc.pending,e=>{e.isLoading=!0}).addCase(pc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oy.pending,e=>{e.isLoading=!0}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iy.pending,e=>{e.isLoading=!0}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ly.pending,e=>{e.isLoading=!0}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:d8e,resetPPEResource:f8e,addCategory:m8e,addSupplier:h8e}=M6.actions,Tme=M6.reducer,Eme=oe().shape({CategoryID:P().required("Category is required"),Description:P().required("Description is required"),DepreciationRate:W().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:W().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:W().typeError("Must be a number").required("Net Book Value is required"),SupplierID:P().required("Supplier is required"),PPENumber:P().required("PPE Number is required"),Unit:P().required("Unit is required"),Barcode:P().required("Barcode is required"),Quantity:W().typeError("Must be a number").required("Quantity is required"),Cost:W().typeError("Must be a number").required("Cost is required"),DateAcquired:P().required("Date acquired is required"),EstimatedUsefulLife:W().typeError("Must be a number").required("Estimated useful life is required"),PONumber:P().required("PO Number is required"),PRNumber:P().required("PR Number is required"),InvoiceNumber:P().required("Invoice Number is required"),AIRNumber:P().required("AIR Number is required"),RISNumber:P().required("RIS Number is required"),Remarks:P()});function Pme({initialData:t,onClose:e}){const r=ie(),[n,a]=w.useState(!1),{ppeSuppliers:s}=q(u=>u.ppeSuppliers),{ppeCategories:i}=q(u=>u.ppeCategories);w.useEffect(()=>{r(mc()),r(hc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?iy({...u,ID:t.ID}):oy(u);r(d).unwrap().then(()=>{t?U.success("PPE updated successfully"):U.success("PPE Added successfully"),r(pc()),e()}).catch(f=>{console.error("Error submitting PPE:",f),U.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:l,validationSchema:Eme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Ome=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Dme(){const t=ie(),{ppes:e,isLoading:r}=q(N=>N.ppes),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(null);w.useEffect(()=>{t(pc())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{},m=()=>{i(!1)},h=N=>{c(N),a(!0)},p=async N=>{try{await t(ly(N.ID)).unwrap(),U.success("PPE entry deleted successfully"),t(pc())}catch(C){console.error("Failed to delete PPE entry:",C),U.error("Failed to delete PPE entry. Please try again.")}},b=()=>{a(!1),c(null)},g=Ome.map(N=>N.key==="CategoryID"?{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900",render:(C,j)=>{var S;return((S=j==null?void 0:j.Category)==null?void 0:S.Name)||"N/A"}}:N.key==="SupplierID"?{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900",render:(C,j)=>{var S;return((S=j==null?void 0:j.Supplier)==null?void 0:S.Name)||"N/A"}}:{key:N.key,header:N.header,sortable:!0,className:"text-neutral-900"}),x=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],y=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],v=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Px,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Px,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r})}),o.jsx(se,{isOpen:n,onClose:b,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Pme,{initialData:l,onClose:b})}),o.jsx(se,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(I,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:v,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(I,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:y,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function _me({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function $me(){const t=ie(),{ppeCategories:e,isLoading:r}=q(y=>y.ppeCategories),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(mc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(ny(u.ID)).unwrap(),c(!1),d(null),U.success("PPE category deleted successfully")}catch(y){console.error("Failed to delete PPE category:",y),U.error("Failed to delete PPE category. Please try again.")}},b=async y=>{try{s?(await t(yA({...y,ID:s.ID})).unwrap(),U.success("PPE category updated successfully")):(await t(ry(y)).unwrap(),U.success("PPE category saved successfully")),t(mc())}catch(v){console.error("Failed to save PPE category:",v),U.error("Failed to save PPE category. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(_me,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Rme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Mme(){const t=ie(),{ppeSuppliers:e,isLoading:r}=q(y=>y.ppeSuppliers),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(hc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(sy(u.ID)).unwrap(),c(!1),d(null),U.success("PPE supplier deleted successfully")}catch(y){console.error("Failed to delete PPE supplier:",y),U.error("Failed to delete PPE supplier. Please try again.")}},b=async y=>{try{s?(await t(bA({...y,ID:s.ID})).unwrap(),U.success("PPE supplier updated successfully")):(await t(ay(y)).unwrap(),U.success("PPE supplier saved successfully")),t(hc())}catch(v){console.error("Failed to save PPE supplier:",v),U.error("Failed to save PPE supplier. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Rme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const cj="https://staging-engine.testthelink.online",Lme=[],gc=L("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cy=L("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=L("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=L("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Fme=xe({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Lme}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),Bme=Fme.reducer,qme=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],Vme=oe().shape({});function Ume({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ie(),{documentDetails:i}=q(b=>b.documentDetails),{positions:l}=q(b=>b.positions),{employees:c}=q(b=>b.employees);w.useEffect(()=>{s(gc()),s(qi()),s(on())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=b=>{const g=[...d];g.splice(b,1),f(g)},p=(b,g)=>{const x=[...d];x[b]=g,f(x)};return o.jsx($e,{initialValues:u,validationSchema:Vme,onSubmit:(b,{setSubmitting:g})=>{const x=d.map(v=>({PositionorEmployee:v.type,PositionorEmployeeID:v.value,AmountFrom:v.amountFrom,AmountTo:v.amountTo})),y={...b,AllorMajority:n,approvers:x};r(y),g(!1)},enableReinitialize:!0,children:({values:b,errors:g,touched:x,handleChange:y,handleBlur:v,setFieldValue:N,isSubmitting:C})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:b.DocumentTypeID,onChange:y,onBlur:v,error:g.DocumentTypeID,touched:x.DocumentTypeID,options:i.map(j=>({value:j.ID,label:j.Name}))}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:b.SequenceLevel,onChange:y,onBlur:v,error:g.SequenceLevel,touched:x.SequenceLevel,options:qme}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:b.NumberofApprover||"",onChange:y,onBlur:v,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(j,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((j,S)=>{var A,T,k;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:j.type==="Position",onChange:()=>p(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:j.type==="Employee",onChange:()=>p(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:j.value,onChange:E=>p(S,{...j,value:E.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(j.type==="Position"?l:c).map(E=>o.jsx("option",{value:E.ID,children:j.type==="Position"?E.Name:`${E.FirstName} ${E.MiddleName} ${E.LastName}`},E.ID))]}),((A=j.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Me,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:j.amountFrom,onChange:E=>p(S,{...j,amountFrom:E.target.value})}),((T=j.errors)==null?void 0:T.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:j.amountTo,onChange:E=>p(S,{...j,amountTo:E.target.value})}),((k=j.errors)==null?void 0:k.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Save"})]})]})})}const uj="https://staging-engine.testthelink.online",zme=[],Wme={approvalMatrix:zme,matrix:null,isLoading:!1,error:null},Yd=L("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=L("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=L("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),my=L("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),L6=xe({name:"approvalMatrix",initialState:Wme,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(Yd.pending,e=>{e.isLoading=!0}).addCase(Yd.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(Yd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dy.pending,e=>{e.isLoading=!0}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fy.pending,e=>{e.isLoading=!0}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(my.pending,e=>{e.isLoading=!0}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:p8e,resetMatrixState:g8e}=L6.actions,Hme=L6.reducer;function Gme(){const t=ie(),{approvalMatrix:e,isLoading:r,error:n}=q(v=>v.approvalMatrix),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{t(Yd())},[t]);const m=()=>{l(null),s(!0)},h=v=>{var S;const N=((S=v.Approvers)==null?void 0:S.map(A=>({type:A.PositionorEmployee,value:A.PositionorEmployeeID,amountFrom:Number(A.AmountFrom),amountTo:Number(A.AmountTo)})))||[],{Approvers:C,...j}=v;l({...j,approvers:N}),s(!0)},p=v=>{f(v),u(!0)},b=async()=>{if(d)try{await t(my(d.ID)).unwrap(),u(!1),f(null)}catch(v){console.error("Failed to delete approval matrix:",v)}},g=async v=>{try{i?await t(fy({...v,ID:i.ID})).unwrap():await t(dy(v)).unwrap(),t(Yd()),s(!1)}catch(N){console.error("Failed to submit approval matrix:",N)}},x=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],y=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ge,{columns:x,data:e,actions:y,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(se,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(Ume,{initialData:i,onClose:()=>s(!1),onSubmit:g})}),o.jsxs(se,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const dj="https://staging-engine.testthelink.online",Yme=[],Kme={banks:Yme,bank:null,isLoading:!1,error:null},Ui=L("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hy=L("banks/addBank",async(t,e)=>{try{const r=await fetch(`${dj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),py=L("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${dj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=L("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${dj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),F6=xe({name:"banks",initialState:Kme,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Ui.pending,e=>{e.isLoading=!0}).addCase(Ui.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Ui.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hy.pending,e=>{e.isLoading=!0}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(py.pending,e=>{e.isLoading=!0}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gy.pending,e=>{e.isLoading=!0}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:y8e,resetBankState:b8e}=F6.actions,Jme=F6.reducer,Xme=oe().shape({BranchCode:P().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:P().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:P().required("Name is required").max(100,"Name must be at most 100 characters"),Address:P().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:P().required("Account number is required"),SwiftCode:P().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:P().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:W().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:P().required("Currency is required")});function Zme({initialData:t,onClose:e}){const r=ie(),[n,a]=w.useState(!1),{currencies:s}=q(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?py({...u,ID:t.ID}):hy(u);r(d).unwrap().then(()=>{e(),U.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(Ui())})};return o.jsx($e,{initialValues:i,validationSchema:Xme,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(p=>({value:p.ID,label:p.Code+" - "+p.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Qme=()=>{const t=ie(),{banks:e=[],isLoading:r}=q(y=>y.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ui())},[]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=()=>{a(!1),i(null)},p=y=>{d(y),c(!0)},b=async()=>{if(u)try{await t(gy(u.ID)).unwrap(),U.success("Bank deleted successfully")}catch(y){U.error(y.message||"Failed to delete bank")}finally{c(!1),d(null),t(Ui())}},g=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:y=>(y==null?void 0:y.Code)||"N/A"}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(se,{isOpen:n,onClose:h,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(Zme,{initialData:s,onClose:h})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},ehe=(t=[],e=null)=>oe({Name:P().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:P().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:P().required("Prefix is required"),Suffix:P().required("Suffix is required"),StartNumber:W().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:W().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:P().required("Document type category is required")}),the=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=ie(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(xA({...l,ID:t.ID})).unwrap(),U.success("Document detail updated successfully")):(await a(cy(l)).unwrap(),U.success("Document detail added successfully")),a(gc())}catch(u){console.error("Failed to save document details:",u),U.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx($e,{initialValues:s,validationSchema:ehe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(I,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(I,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},fj="https://staging-engine.testthelink.online",rhe=[],yc=L("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yy=L("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=L("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=L("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${fj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),nhe=xe({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(yc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(yc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=rhe}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),ahe=nhe.reducer,she=()=>{const t=ie(),{documentDetails:e,isLoading:r}=q(v=>v.documentDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{documentTypeCategories:f}=q(v=>v.documentTypeCategories),m=f.map(v=>({value:v.ID,label:v.Name}));w.useEffect(()=>{t(gc()),t(yc())},[t]);const h=()=>{i(null),a(!0)},p=v=>{i(v),a(!0)},b=v=>{d(v),c(!0)},g=async()=>{if(u)try{await t(uy(u.ID)).unwrap(),c(!1),d(null),U.success("Document detail deleted successfully")}catch(v){console.error("Failed to delete document detail:",v),U.error("Failed to delete document detail. Please try again.")}},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],y=v=>{const N=[{icon:Se,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return v.ID>32&&N.push({icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ge,{columns:x,data:e,actions:y,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(the,{document:s,documentList:e,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})};function ohe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ihe(){const t=ie(),{documentTypeCategories:e,isLoading:r}=q(y=>y.documentTypeCategories),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(yc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(by(u.ID)).unwrap(),c(!1),d(null),U.success("Document type category deleted successfully")}catch(y){console.error("Failed to delete document type category:",y),U.error("Failed to delete document type category. Please try again.")}},b=async y=>{try{s?(await t(vA({...y,ID:s.ID})).unwrap(),U.success("Document type category updated successfully")):(await t(yy(y)).unwrap(),U.success("Document type category added successfully")),t(yc())}catch(v){console.error("Failed to save document type category:",v),U.error("Failed to save document type category. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(ohe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const mj="https://staging-engine.testthelink.online",lhe=[],Fa=L("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=L("items/addItem",async(t,e)=>{try{const r=await fetch(`${mj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=L("items/updateItem",async(t,e)=>{try{const r=await fetch(`${mj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=L("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${mj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),che=xe({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fa.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(Fa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=lhe}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),uhe=che.reducer,hj="https://staging-engine.testthelink.online",dhe=[],ga=L("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=L("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${hj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=L("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${hj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=L("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${hj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fhe=xe({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ga.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ga.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(ga.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=dhe}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),mhe=fhe.reducer,hhe=({item:t,onClose:e})=>{const r=ie(),{accounts:n}=q(d=>d.chartOfAccounts),{itemUnits:a}=q(d=>d.itemUnits),{taxCodes:s}=q(d=>d.taxCodes);w.useEffect(()=>{r(ga()),r(Gn()),r(br())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=oe({Code:P().required("Code is required"),Name:P().required("Name is required"),ChargeAccountID:P().required("Charge Account is required"),UnitID:P().required("Unit is required"),TAXCodeID:P().required("Tax Code is required"),PurchaseOrSales:P().required("Type is required"),TaxRate:W().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:W().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Mo().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?(await r(jA({...d,ID:t.ID})).unwrap(),U.success("Item updated successfully.")):(await r(xy(d)).unwrap(),U.success("Item added successfully.")),r(Fa())}catch(m){console.error("Failed to save item:",m),U.error("Failed to save item. Please try again.")}finally{f(!1),e()}};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:p,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(g=>({value:g.ID,label:g.Name}))}),o.jsx(I,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:p,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(I,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:p,error:f.UnitID,touched:m.UnitID,options:a.map(g=>({value:g.ID,label:g.Code+" - "+g.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:p,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(g=>({value:g.ID,label:g.Code}))}),o.jsx(I,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:p,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:p,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(I,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:p,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},phe=()=>{const t=ie(),{items:e,isLoading:r}=q(j=>j.items),{itemUnits:n,isLoading:a}=q(j=>j.itemUnits),{taxCodes:s,isLoading:i}=q(j=>j.taxCodes),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,p]=w.useState(null);w.useEffect(()=>{t(Fa()),t(ga()),t(Gn())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},y=async()=>{if(h)try{await t(vy(h.ID)).unwrap(),m(!1),p(null),U.success("Item deleted successfully")}catch(j){console.error("Failed to delete item:",j),U.error("Failed to delete item. Please try again.")}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:j=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${j===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j?"Yes":"No"})}],N=e.map(j=>{var S,A;return{...j,unitName:((S=n==null?void 0:n.find(T=>T.ID===j.UnitID))==null?void 0:S.Name)||"N/A",TAXCodeValue:((A=s==null?void 0:s.find(T=>T.ID===j.TAXCodeID))==null?void 0:A.Code)||"N/A"}}),C=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ge,{columns:v,data:N,actions:C,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(hhe,{item:u,onClose:()=>c(!1)})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},ghe=oe().shape({MarriageServiceInvoice:P().required("Marriage Service Invoice account is required"),BurialServiceInvoice:P().required("Burial Service Invoice account is required"),DueFromLGU:P().required("Due From LGU account is required"),DueFromRate:W().required("Due From Rate is required"),DueToLGU:P().required("Due To LGU account is required"),DueToRate:W().required("Due To Rate is required"),RealPropertyTax:P().required("Real Property Tax account is required"),RealPropertyTaxRate:W().required("Real Property Tax Rate is required")}),yhe=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=ie(),s=q(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});w.useEffect(()=>{a(br())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx($e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:ghe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(I,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary disabled:cursor-not-allowed disabled:opacity-50",children:m?"Saving...":"Save"})})]})})},B6="https://staging-engine.testthelink.online",Kd=L("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B6}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bhe=L("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),q6=L("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${B6}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xhe=L("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),vhe={invoiceChargeAccounts:[],isLoading:!1,error:null},jhe=xe({name:"invoiceChargeAccounts",initialState:vhe,reducers:{},extraReducers:t=>{t.addCase(Kd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kd.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(Kd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(bhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(q6.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(xhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),whe=jhe.reducer;function Che(){const t=ie(),{invoiceChargeAccounts:e}=q(n=>n.invoiceChargeAccounts);w.useEffect(()=>{t(Kd())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(q6(n)).unwrap(),U.success("Invoice charge account updated successfully")}catch(s){console.error("Failed to save invoice charge account:",s)}finally{a(!1),t(Kd())}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:o.jsx(yhe,{onSubmit:r,invoiceChargeAccounts:e})})})}function Nhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:P().required("Code is required"),Name:P().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function She(){const t=ie(),{itemUnits:e,isLoading:r}=q(y=>y.itemUnits),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(ga())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(wy(u.ID)).unwrap(),c(!1),d(null),U.success("Item unit deleted successfully")}catch(y){console.error("Failed to delete item unit:",y),U.error("Failed to delete item unit. Please try again.")}},b=async y=>{try{s?(await t(wA({...y,ID:s.ID})).unwrap(),U.success("Item unit updated successfully")):(await t(jy(y)).unwrap(),U.success("Item unit added successfully")),t(ga())}catch(v){console.error("Failed to save item unit:",v),U.error("Failed to save item unit. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(Nhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ahe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:P().required("Type is required"),Description:P().required("Description is required")});return o.jsx($e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const pj="https://staging-engine.testthelink.online",khe=[],bc=L("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cy=L("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${pj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=L("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${pj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=L("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${pj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ihe=xe({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(bc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=khe}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),The=Ihe.reducer;function Ehe(){const t=ie(),{projectTypes:e,isLoading:r}=q(y=>y.projectTypes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(bc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ny(u.ID)).unwrap(),c(!1),d(null),U.success("Project type deleted successfully.")}catch(y){console.error("Failed to delete project type:",y),U.error("Failed to delete project type. Please try again.")}},b=async y=>{try{s?(await t(CA({...y,ID:s.ID})).unwrap(),U.success("Project type updated successfully.")):(await t(Cy(y)).unwrap(),U.success("Project type added successfully.")),t(bc()),a(!1)}catch(v){console.error("Failed to save project type:",v),U.error("Failed to save project type. Please try again.")}},g=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(Ahe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Phe({initialData:t,onSubmit:e,onClose:r}){const n=ie(),{projectTypes:a,loading:s}=q(c=>c.projectTypes);w.useEffect(()=>{n(bc())},[n]);const i=oe({Title:P().required("Title is required"),ProjectTypeID:P().required("Project Type is required"),StartDate:Re().required("Start Date is required"),EndDate:Re().required("End Date is required"),Description:P().required("Description is required")}),l=tt({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(I,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(I,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const gj="https://staging-engine.testthelink.online",Ohe=[],Ba=L("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sy=L("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${gj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=L("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${gj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ay=L("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${gj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dhe=xe({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ba.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ba.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ba.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=Ohe}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),_he=Dhe.reducer;function $he(){const t=ie(),{projectDetails:e,isLoading:r}=q(y=>y.projectDetails),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ba())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ay(u.ID)).unwrap(),c(!1),d(null),U.success("Project detail deleted successfully.")}catch(y){console.error("Failed to delete project detail:",y),U.error("Failed to delete project detail. Please try again.")}},b=async y=>{try{s?(await t(NA({...y,ID:s.ID})).unwrap(),U.success("Project detail updated successfully.")):(await t(Sy(y)).unwrap(),U.success("Project detail added successfully.")),t(Ba())}catch(v){console.error("Failed to save project detail:",v),U.error("Failed to save project detail. Please try again.")}finally{a(!1)}},g=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details sss"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(Phe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Rhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:P().required("Code is required"),Name:P().required("Name is required")});return o.jsx($e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const yj="https://staging-engine.testthelink.online",Mhe=[],Lhe={financialStatements:Mhe,financialStatement:null,isLoading:!1,error:null},Jd=L("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ky=L("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${yj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=L("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${yj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=L("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${yj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),V6=xe({name:"financialStatements",initialState:Lhe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(Jd.pending,e=>{e.isLoading=!0}).addCase(Jd.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(Jd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ky.pending,e=>{e.isLoading=!0}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Iy.pending,e=>{e.isLoading=!0}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ty.pending,e=>{e.isLoading=!0}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:x8e,resetFinancialStatementState:v8e}=V6.actions,Fhe=V6.reducer;function Bhe(){const t=ie(),{financialStatements:e,isLoading:r}=q(y=>y.financialStatements),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Jd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ty(u.ID)).unwrap(),c(!1),d(null),U.success("Financial statement deleted successfully.")}catch(y){console.error("Failed to delete financial statement:",y),U.error("Failed to delete financial statement. Please try again.")}},b=async y=>{try{s?(await t(Iy({...y,ID:s.ID})).unwrap(),U.success("Financial statement updated successfully.")):(await t(ky(y)).unwrap(),U.success("Financial statement added successfully.")),t(Jd())}catch(v){console.error("Failed to save financial statement:",v),U.error("Failed to save financial statement. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(Rhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function qhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:P().required("Code is required"),Name:P().required("Name is required"),Year:W().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:P().required("Month Start is required"),MonthEnd:P().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx($e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(I,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(I,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(I,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const bj="https://staging-engine.testthelink.online",Vhe=[],ln=L("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=L("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${bj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=L("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${bj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=L("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${bj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Uhe=xe({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ln.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ln.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(ln.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=Vhe}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),zhe=Uhe.reducer;function Whe(){const t=ie(),{fiscalYears:e,isLoading:r}=q(y=>y.fiscalYears),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(ln())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Py(u.ID)).unwrap(),c(!1),d(null),U.success("Fiscal year deleted successfully.")}catch(y){console.error("Failed to delete fiscal year:",y),U.error("Failed to delete fiscal year. Please try again.")}},b=async y=>{try{s?(await t(SA({...y,id:s.ID})).unwrap(),U.success("Fiscal year updated successfully.")):(await t(Ey(y)).unwrap(),U.success("Fiscal year added successfully.")),t(ln())}catch(v){console.error("Failed to save fiscal year:",v),U.error("Failed to save fiscal year. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(qhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Hhe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function Ghe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:P().required("Type is required"),Code:P().required("Code is required"),Name:P().required("Nature of Payment is required"),Rate:W().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx($e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"select",options:Hhe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(I,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function Yhe(){const t=ie(),{taxCodes:e,isLoading:r}=q(y=>y.taxCodes),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Gn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(qg(u.ID)).unwrap(),c(!1),d(null),U.success("Tax code deleted successfully.")}catch(y){console.error("Failed to delete tax code:",y),U.error("Failed to delete tax code. Please try again.")}},b=async y=>{try{s?(await t(cA({...y,ID:s.ID})).unwrap(),U.success("Tax code updated successfully.")):(await t(Bg(y)).unwrap(),U.success("Tax code added successfully.")),t(Gn())}catch(v){console.error("Failed to save tax code:",v),U.error("Failed to save tax code. Please try again.")}finally{a(!1)}},g=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:y=>`${y} %`}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(Ghe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Khe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:P().required("Code is required"),Name:P().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Jhe(){const t=ie(),{modeOfPayments:e,isLoading:r}=q(y=>y.modeOfPayments),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Bi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Wg(u.ID)).unwrap(),c(!1),d(null),U.success("Mode of payment deleted successfully.")}catch(y){U.error(y.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",y)}},b=async y=>{try{s?(await t(dA({...y,ID:s.ID})).unwrap(),U.success("Mode of payment updated successfully.")):(await t(zg(y)).unwrap(),U.success("Mode of payment added successfully.")),t(Bi())}catch(v){console.error("Failed to save mode of payment:",v),U.error("Failed to save mode of payment. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(Khe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Xhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:P().required("Code is required"),Name:P().required("Name is required"),NumberOfDays:W().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=tt({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(I,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Zhe(){const t=ie(),{paymentTerms:e,isLoading:r}=q(y=>y.paymentTerms),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Fi())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Ug(u.ID)).unwrap(),c(!1),d(null),U.success("Payment term deleted successfully.")}catch(y){console.error("Failed to delete payment term:",y),U.error("Failed to delete payment term. Please try again.")}},b=async y=>{try{s?(await t(uA({...y,ID:s.ID})).unwrap(),U.success("Payment term updated successfully.")):(await t(Vg(y)).unwrap(),U.success("Payment term added successfully.")),t(Fi())}catch(v){console.error("Failed to save payment term:",v),U.error("Failed to save payment term. Please try again.")}finally{a(!1)}},g=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(Xhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:P().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function epe(){const t=ie(),{industries:e,isLoading:r}=q(y=>y.industries),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Li())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Fg(u.ID)).unwrap(),c(!1),d(null),U.success("Industry deleted successfully.")}catch(y){console.error("Failed to delete industry:",y),U.error("Failed to delete industry. Please try again.")}},b=async y=>{try{s?(await t(lA({...y,ID:s.ID})).unwrap(),U.success("Industry updated successfully.")):(await t(Lg(y)).unwrap(),U.success("Industry added successfully.")),t(Li())}catch(v){console.error("Failed to save industry:",v),U.error("Failed to save industry. Please try again.")}finally{a(!1)}},g=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(Qhe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function tpe({initialData:t,onSubmit:e,onClose:r}){const n=ie();w.useEffect(()=>{n(Co()),n(No()),n(So()),n(Ao())},[n]);const{regions:a}=q(y=>y.regions),{provinces:s}=q(y=>y.provinces),{municipalities:i}=q(y=>y.municipalities),{barangays:l}=q(y=>y.barangays),c=oe({FirstName:P().required("First Name is required"),MiddleName:P(),LastName:P().required("Last Name is required"),Gender:P().required("Gender is required"),Citizenship:P().required("Citizenship is required"),DateOfBirth:Re().required("Date of Birth is required"),PlaceOfBirth:P().required("Place of Birth is required"),Occupation:P().required("Occupation is required"),CivilStatus:P().required("Civil Status is required"),TIN:P().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:P().email().required("Email is required"),RegionID:P().required("Region is required"),ProvinceID:P().required("Province is required"),MunicipalityID:P().required("Municipality is required"),BarangayID:P().required("Barangay is required"),ZIPCode:P().required("ZIP Code is required"),StreetAddress:P().required("Street Address is required"),RDO:P().required("RDO is required")}),u=tt({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:y=>e(y)}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:p,setFieldValue:b,handleSubmit:g,submitCount:x}=u;return w.useEffect(()=>{const y=l.find(v=>v.ID.toString()===d.BarangayID);y&&(y.MunicipalityCode&&b("MunicipalityID",y.MunicipalityCode),y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const y=i.find(v=>v.ID.toString()===d.MunicipalityID);y&&(y.ProvinceCode&&b("ProvinceID",y.ProvinceCode),y.RegionCode&&b("RegionID",y.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const y=s.find(v=>v.ID.toString()===d.ProvinceID);y&&y.RegionCode&&b("RegionID",y.RegionCode)},[d.ProvinceID]),console.log("values",h),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:p.FirstName&&h.FirstName,touched:p.FirstName,required:!0}),o.jsx(I,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName&&p.MiddleName,touched:p.MiddleName}),o.jsx(I,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:p.LastName&&h.LastName,touched:p.LastName,required:!0}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:p.Gender&&h.Gender,touched:p.Gender,required:!0}),o.jsx(I,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:p.Citizenship&&h.Citizenship,touched:p.Citizenship,required:!0}),o.jsx(I,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:p.DateOfBirth&&h.DateOfBirth,touched:p.DateOfBirth,required:!0}),o.jsx(I,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:p.PlaceOfBirth&&h.PlaceOfBirth,touched:p.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:p.Occupation&&h.Occupation,touched:p.Occupation,required:!0}),o.jsx(I,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:p.CivilStatus&&h.CivilStatus,touched:p.CivilStatus,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:p.TIN&&h.TIN,touched:p.TIN,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:p.EmailAddress&&h.EmailAddress,touched:p.EmailAddress,required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:d.RegionID,onChange:f,onBlur:m,error:p.RegionID&&h.RegionID,touched:p.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:s.map(y=>({value:y.ID,label:y.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:p.ProvinceID&&h.ProvinceID,touched:p.ProvinceID,required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(y=>({value:y.ID,label:y.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:p.MunicipalityID&&h.MunicipalityID,touched:p.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(y=>({value:y.ID,label:y.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:p.BarangayID&&h.BarangayID,touched:p.BarangayID,required:!0}),o.jsx(I,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:p.ZIPCode&&h.ZIPCode,touched:p.ZIPCode,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:p.StreetAddress&&h.StreetAddress,touched:p.StreetAddress,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:p.RDO&&h.RDO,touched:p.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),x>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([y,v])=>o.jsx("li",{children:v},y))})]})]})}const xj="https://staging-engine.testthelink.online",rpe=[],Nn=L("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Oy=L("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${xj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=L("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${xj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=L("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${xj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),npe=xe({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Nn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Nn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=rpe}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),ape=npe.reducer;function spe(){const t=ie(),{customers:e,isLoading:r}=q(j=>j.customers),{industries:n}=q(j=>j.industries),{taxCodes:a}=q(j=>j.taxCodes),{paymentTerms:s}=q(j=>j.paymentTerms),{modeOfPayments:i}=q(j=>j.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,p]=w.useState(null);w.useEffect(()=>{t(Nn()),t(Li()),t(Gn()),t(Fi()),t(Bi())},[t]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{console.log("Delete customer:",j),p(j),m(!0)},y=async()=>{if(h)try{await t(Dy(h.ID)).unwrap(),m(!1),p(null),U.success("Customer deleted successfully")}catch(j){console.error("Failed to delete Individual/Citizen:",j),U.error(j.message||"Failed to delete Individual/Citizen. Please try again.")}},v=async j=>{try{u?(await t(AA({...j,ID:u.ID})).unwrap(),U.success("Customer updated successfully")):(await t(Oy(j)).unwrap(),U.success("Customer added successfully")),t(Nn())}catch(S){console.error("Failed to save Individual/Citizen:",S),U.error(S.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},N=[{key:"Code",header:"Code",sortable:!0,render:j=>j||"N/A"},{key:"Name",header:"Name",sortable:!0,render:j=>j||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:j=>j||"N/A"},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:j=>{const S=s.find(A=>A.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:j=>{const S=i.find(A=>A.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:j=>{const S=a.find(A=>A.ID==j);return(S==null?void 0:S.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:j=>{const S=n.find(A=>A.ID==j);return(S==null?void 0:S.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:j=>j||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:j=>j||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:j=>j||"N/A"},{key:"DateofRegistration",header:"Date of Registration",sortable:!0,render:j=>j||"N/A"}],C=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:N,data:e,actions:C,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(tpe,{initialData:u,onClose:()=>c(!1),onSubmit:v})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const ope={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},ipe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function jt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:_e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",ope[e],ipe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function lpe({initialData:t,onSubmit:e,onClose:r}){var y;const n=ie(),{customers:a}=q(v=>v.customers);w.useEffect(()=>{n(Nn())},[n]);const s=tt({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:oe({T_D_No:W().required("TD No. is required"),PropertyID:W().required("Property ID is required"),OwnerID:W().required("Owner ID is required"),OwnerTIN:P().required("Owner TIN is required"),OwnerTelephoneNumber:P().required("Owner Telephone Number is required"),OwnerAddress:P().required("Owner Address is required"),BeneficialorAdminUserID:W().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:P().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:P().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:P().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:P().required("OCT TCT CLOA Number is required"),SurveyNumber:P().required("Survey Number is required"),LotNumber:P().required("Lot Number is required"),CCT:P().required("CCT is required"),BlockNumber:P().required("Block Number is required"),Dated:P().required("Dated is required"),North:P().required("North is required"),South:P().required("South is required"),East:P().required("East is required"),West:P().required("West is required"),Taxable:Mo().oneOf([!0],"Field is required"),CancelTDNumber:P().required("Cancel TD Number is required"),Effectivity:P().required("Effectivity is required"),OwnerPrevious:P().required("Owner Previous is required"),PreviousAssessedValue:W().required("Previous Assessed Value is required"),KindofProperty:P().required("Kind of Property is required"),Storeys:P().required("Number of Storeys is required"),Description:P().required("Description is required"),kind:P().required("Kind is required"),ActualUse:P().required("Actual Use is required"),Classification:P().required("Classification is required"),AreaSize:P().required("Area Size is required"),AssessmentLevel:P().required("Assessment Level is required"),MarketValue:P().required("Market Value is required"),AmountInWords:P().required("Amount in Words is required"),Memoranda:P().required("Memoranda is required"),assessmentRows:tr().of(oe().shape({Kind:P().required("Kind is required"),Classification:P().required("Classification is required"),Area:P().required("Area is required"),MarketValue:P().required("Market Value is required"),ActualUse:P().required("Actual Use is required"),AssessmentLevel:P().required("Assessment Level is required"),AssessmentValue:P().required("Assessment Value is required")}))}),onSubmit:v=>{e({...v,assessmentRows:i})}}),[i,l]=w.useState(()=>{var v;return(v=t==null?void 0:t.AssessmentRows)!=null&&v.length?t.AssessmentRows.map(N=>({...N})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:p}=s,b=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},g=v=>{if(i.length===1)return;const N=[...i];N.splice(v,1),l(N)},x=(v,N,C)=>{const j=[...i];j[v][N]=C,l(j)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(I,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(v=>({value:v.ID,label:v.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(I,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(I,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(I,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Beneficial/Administrator User",options:a.map(v=>({value:v.ID,label:v.Name})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(I,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(I,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(I,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(I,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(I,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(I,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(I,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(I,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(I,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(I,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(I,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(v=>({label:v,value:v})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(I,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(jt,{type:"button",onClick:b,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(U0,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(v=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[v," ",o.jsx("span",{className:"text-red-500",children:"*"})]},v))})}),o.jsx("tbody",{children:i.map((v,N)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(C=>{var j,S,A,T,k,E;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(I,{type:"text",value:v[C],onChange:O=>x(N,C,O.target.value),onBlur:d,error:((S=(j=m.assessmentRows)==null?void 0:j[N])==null?void 0:S[C])&&((T=(A=f.assessmentRows)==null?void 0:A[N])==null?void 0:T[C]),touched:(E=(k=m.assessmentRows)==null?void 0:k[N])==null?void 0:E[C],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},C)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(jt,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},N))})]}),((y=f==null?void 0:f.assessmentRows)==null?void 0:y.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const vj="https://staging-engine.testthelink.online",cpe=[],Xd=L("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=L("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${vj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=L("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${vj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=L("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${vj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),upe=xe({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xd.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Xd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=cpe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),dpe=upe.reducer;function fpe(){const t=ie(),{taxDeclarations:e,isLoading:r}=q(y=>y.taxDeclarations),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Xd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t($y(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax declaration:",y)}},b=async y=>{try{s?(await t(kA({...y,ID:s.ID})).unwrap(),U.success("Tax declaration updated successfully")):(await t(_y(y)).unwrap(),U.success("Tax declaration saved successfully")),t(Xd())}catch(v){console.error("Failed to save tax declaration:",v),U.error("Failed to save tax declaration. Please try again.")}finally{}},g=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx(I,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(se,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(lpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const jj="https://staging-engine.testthelink.online",mpe=[],Zd=L("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ry=L("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${jj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=L("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${jj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=L("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${jj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),hpe=xe({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zd.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=mpe}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),ppe=hpe.reducer,gpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ie(),{employees:s}=q(u=>u.employees);w.useEffect(()=>{a(on())},[a]);const i=oe().shape({General_Revision_Date_Year:P().required("Required"),GeneralRevisionCode:P().required("Required"),TaxDeclarationCode:P().required("Required")}),l=tt({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(I,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(I,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx($t,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx($t,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx($t,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx($t,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},ype=()=>{const t=ie(),{generalRevisions:e,isLoading:r}=q(y=>y.generalRevisions),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(null);w.useEffect(()=>{t(Zd())},[t]);const f=()=>{c(null),a(!0)},m=y=>{c(y),a(!0)},h=async y=>{try{l?(await t(IA({...y,ID:l.ID})).unwrap(),U.success("Revision updated successfully")):(await t(Ry(y)).unwrap(),U.success("Revision added successfully")),t(Zd())}catch(v){console.error("Failed to save general revision:",v),U.error("Failed to save general revision. Please try again.")}finally{a(!1)}},p=y=>{d(y),i(!0)},b=async()=>{try{u&&(await t(My(u.ID)).unwrap(),U.success("Revision deleted successfully"),i(!1))}catch(y){console.error("Failed to delete revision:",y),U.error("Failed to delete revision. Please try again.")}},g=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,actions:x,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(gpe,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),o.jsxs(se,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})};function bpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=oe({GeneralRevisionYear:W().required("General Revision Year is required"),Classification:P().required("Classification is required"),Unit:P().required("Unit is required"),ActualUse:P().required("Actual Use is required"),SubClassification:P().required("Sub Class No is required"),Price:W().required("Unit Value is required"),Location:P().required("Location or Description is required")}),s=tt({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return w.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(I,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(I,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(I,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(I,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(I,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const wj="https://staging-engine.testthelink.online",xpe=[],Qd=L("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=L("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${wj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=L("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${wj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=L("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${wj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),vpe=xe({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qd.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=xpe}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),jpe=vpe.reducer;function wpe(){const t=ie(),{baseUnits:e,isLoading:r}=q(y=>y.baseUnits),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Qd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},p=async()=>{if(u)try{await t(Fy(u.ID)).unwrap(),c(!1),d(null),U.success("Base unit deleted successfully")}catch(y){console.error("Failed to delete base unit:",y),U.error("Failed to delete base unit. Please try again.")}},b=async y=>{try{s?(await t(TA({...y,ID:s.ID})).unwrap(),U.success("Base unit updated successfully")):(await t(Ly(y)).unwrap(),U.success("Base unit added successfully")),t(Qd())}catch(v){console.error("Failed to save base unit:",v),U.error("Failed to save base unit. Please try again.")}finally{a(!1)}},g=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],x=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:g,data:e,actions:x,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(se,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(bpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(se,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Cpe(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U6(t){var e=Cpe(t,"string");return ll(e)=="symbol"?e:e+""}function Cd(t,e,r){return(e=U6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(r),!0).forEach(function(n){Cd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Npe(t){if(Array.isArray(t))return t}function Spe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function z6(t,e){if(t){if(typeof t=="string")return EA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EA(t,e):void 0}}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(t,e){return Npe(t)||Spe(t,e)||z6(t,e)||Ape()}function kpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ls(t,e){if(t==null)return{};var r,n,a=kpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Ipe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Tpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,p=Ls(t,Ipe),b=w.useState(l!==void 0?l:r),g=xs(b,2),x=g[0],y=g[1],v=w.useState(c!==void 0?c:a),N=xs(v,2),C=N[0],j=N[1],S=w.useState(h!==void 0?h:i),A=xs(S,2),T=A[0],k=A[1],E=w.useCallback(function(D,_){typeof u=="function"&&u(D,_),k(D)},[u]),O=w.useCallback(function(D,_){var F;typeof d=="function"&&(F=d(D,_)),y(F!==void 0?F:D)},[d]),M=w.useCallback(function(){typeof m=="function"&&m(),j(!0)},[m]),R=w.useCallback(function(){typeof f=="function"&&f(),j(!1)},[f]),$=l!==void 0?l:x,B=c!==void 0?c:C,z=h!==void 0?h:T;return Pe(Pe({},p),{},{inputValue:$,menuIsOpen:B,onChange:E,onInputChange:O,onMenuClose:R,onMenuOpen:M,value:z})}function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},De.apply(null,arguments)}function Epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U6(n.key),n)}}function Ppe(t,e,r){return e&&Y_(t.prototype,e),r&&Y_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},PA(t,e)}function Ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ox(t)}function W6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W6=function(){return!!t})()}function Dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _pe(t,e){if(e&&(ll(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(t)}function $pe(t){var e=W6();return function(){var r,n=Ox(t);if(e){var a=Ox(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _pe(this,r)}}function Rpe(t){if(Array.isArray(t))return EA(t)}function Mpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bE(t){return Rpe(t)||Mpe(t)||z6(t)||Lpe()}function Fpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Bpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var qpe=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bpe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Fpe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pr="-ms-",Dx="-moz-",rt="-webkit-",H6="comm",xE="rule",vE="decl",Vpe="@import",G6="@keyframes",Upe="@layer",zpe=Math.abs,Cj=String.fromCharCode,Wpe=Object.assign;function Hpe(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function Y6(t){return t.trim()}function Gpe(t,e){return(t=e.exec(t))?t[0]:t}function nt(t,e,r){return t.replace(e,r)}function OA(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function Wf(t,e,r){return t.slice(e,r)}function Ta(t){return t.length}function jE(t){return t.length}function Xh(t,e){return e.push(t),t}function Ype(t,e){return t.map(e).join("")}var Nj=1,Fc=1,K6=0,dn=0,Qt=0,gu="";function Sj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Nj,column:Fc,length:i,return:""}}function Ku(t,e){return Wpe(Sj("",null,null,"",null,null,0),t,{length:-t.length},e)}function Kpe(){return Qt}function Jpe(){return Qt=dn>0?Nr(gu,--dn):0,Fc--,Qt===10&&(Fc=1,Nj--),Qt}function Sn(){return Qt=dn<K6?Nr(gu,dn++):0,Fc++,Qt===10&&(Fc=1,Nj++),Qt}function qa(){return Nr(gu,dn)}function By(){return dn}function Km(t,e){return Wf(gu,t,e)}function Hf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J6(t){return Nj=Fc=1,K6=Ta(gu=t),dn=0,[]}function X6(t){return gu="",t}function qy(t){return Y6(Km(dn-1,DA(t===91?t+2:t===40?t+1:t)))}function Xpe(t){for(;(Qt=qa())&&Qt<33;)Sn();return Hf(t)>2||Hf(Qt)>3?"":" "}function Zpe(t,e){for(;--e&&Sn()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return Km(t,By()+(e<6&&qa()==32&&Sn()==32))}function DA(t){for(;Sn();)switch(Qt){case t:return dn;case 34:case 39:t!==34&&t!==39&&DA(Qt);break;case 40:t===41&&DA(t);break;case 92:Sn();break}return dn}function Qpe(t,e){for(;Sn()&&t+Qt!==57;)if(t+Qt===84&&qa()===47)break;return"/*"+Km(e,dn-1)+"*"+Cj(t===47?t:Sn())}function ege(t){for(;!Hf(qa());)Sn();return Km(t,dn)}function tge(t){return X6(Vy("",null,null,null,[""],t=J6(t),0,[0],t))}function Vy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,p=0,b=1,g=1,x=1,y=0,v="",N=a,C=s,j=n,S=v;g;)switch(p=y,y=Sn()){case 40:if(p!=108&&Nr(S,f-1)==58){OA(S+=nt(qy(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=qy(y);break;case 9:case 10:case 13:case 32:S+=Xpe(p);break;case 92:S+=Zpe(By()-1,7);continue;case 47:switch(qa()){case 42:case 47:Xh(rge(Qpe(Sn(),By()),e,r),c);break;default:S+="/"}break;case 123*b:l[u++]=Ta(S)*x;case 125*b:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:x==-1&&(S=nt(S,/\f/g,"")),h>0&&Ta(S)-f&&Xh(h>32?J_(S+";",n,r,f-1):J_(nt(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(Xh(j=K_(S,e,r,u,d,a,l,v,N=[],C=[],f),s),y===123)if(d===0)Vy(S,e,j,j,N,s,f,l,C);else switch(m===99&&Nr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Vy(t,j,j,n&&Xh(K_(t,j,j,0,0,a,l,v,a,N=[],f),C),a,C,f,l,n?N:C);break;default:Vy(S,j,j,j,[""],C,0,l,C)}}u=d=h=0,b=x=1,v=S="",f=i;break;case 58:f=1+Ta(S),h=p;default:if(b<1){if(y==123)--b;else if(y==125&&b++==0&&Jpe()==125)continue}switch(S+=Cj(y),y*b){case 38:x=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Ta(S)-1)*x,x=1;break;case 64:qa()===45&&(S+=qy(Sn())),m=qa(),d=f=Ta(v=S+=ege(By())),y++;break;case 45:p===45&&Ta(S)==2&&(b=0)}}return s}function K_(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=jE(m),p=0,b=0,g=0;p<n;++p)for(var x=0,y=Wf(t,f+1,f=zpe(b=i[p])),v=t;x<h;++x)(v=Y6(b>0?m[x]+" "+y:nt(y,/&\f/g,m[x])))&&(c[g++]=v);return Sj(t,e,r,a===0?xE:l,c,u,d)}function rge(t,e,r){return Sj(t,e,r,H6,Cj(Kpe()),Wf(t,2,-2),0)}function J_(t,e,r,n){return Sj(t,e,r,vE,Wf(t,0,n),Wf(t,n+1,-1),n)}function xc(t,e){for(var r="",n=jE(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function nge(t,e,r,n){switch(t.type){case Upe:if(t.children.length)break;case Vpe:case vE:return t.return=t.return||t.value;case H6:return"";case G6:return t.return=t.value+"{"+xc(t.children,n)+"}";case xE:t.value=t.props.join(",")}return Ta(r=xc(t.children,n))?t.return=t.value+"{"+r+"}":""}function age(t){var e=jE(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function sge(t){return function(e){e.root||(e=e.return)&&t(e)}}function oge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var ige=function(e,r,n){for(var a=0,s=0;a=s,s=qa(),a===38&&s===12&&(r[n]=1),!Hf(s);)Sn();return Km(e,dn)},lge=function(e,r){var n=-1,a=44;do switch(Hf(a)){case 0:a===38&&qa()===12&&(r[n]=1),e[n]+=ige(dn-1,r,n);break;case 2:e[n]+=qy(a);break;case 4:if(a===44){e[++n]=qa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Cj(a)}while(a=Sn());return e},cge=function(e,r){return X6(lge(J6(e),r))},X_=new WeakMap,uge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!X_.get(n))&&!a){X_.set(e,!0);for(var s=[],i=cge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},dge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function Z6(t,e){switch(Hpe(t,e)){case 5103:return rt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+t+Dx+t+Pr+t+t;case 6828:case 4268:return rt+t+Pr+t+t;case 6165:return rt+t+Pr+"flex-"+t+t;case 5187:return rt+t+nt(t,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Pr+"flex-$1$2")+t;case 5443:return rt+t+Pr+"flex-item-"+nt(t,/flex-|-self/,"")+t;case 4675:return rt+t+Pr+"flex-line-pack"+nt(t,/align-content|flex-|-self/,"")+t;case 5548:return rt+t+Pr+nt(t,"shrink","negative")+t;case 5292:return rt+t+Pr+nt(t,"basis","preferred-size")+t;case 6060:return rt+"box-"+nt(t,"-grow","")+rt+t+Pr+nt(t,"grow","positive")+t;case 4554:return rt+nt(t,/([^-])(transform)/g,"$1"+rt+"$2")+t;case 6187:return nt(nt(nt(t,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),t,"")+t;case 5495:case 3959:return nt(t,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return nt(nt(t,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+t+t;case 4095:case 3583:case 4068:case 2532:return nt(t,/(.+)-inline(.+)/,rt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ta(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return nt(t,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Dx+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~OA(t,"stretch")?Z6(nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,Ta(t)-3-(~OA(t,"!important")&&10))){case 107:return nt(t,":",":"+rt)+t;case 101:return nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Nr(t,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Pr+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return rt+t+Pr+nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rt+t+Pr+nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rt+t+Pr+nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rt+t+Pr+t+t}return t}var fge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case vE:e.return=Z6(e.value,e.length);break;case G6:return xc([Ku(e,{value:nt(e.value,"@","@"+rt)})],a);case xE:if(e.length)return Ype(e.props,function(s){switch(Gpe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xc([Ku(e,{props:[nt(s,/:(read-\w+)/,":"+Dx+"$1")]})],a);case"::placeholder":return xc([Ku(e,{props:[nt(s,/:(plac\w+)/,":"+rt+"input-$1")]}),Ku(e,{props:[nt(s,/:(plac\w+)/,":"+Dx+"$1")]}),Ku(e,{props:[nt(s,/:(plac\w+)/,Pr+"input-$1")]})],a)}return""})}},mge=[fge],hge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var g=b.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||mge,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var g=b.getAttribute("data-emotion").split(" "),x=1;x<g.length;x++)s[g[x]]=!0;l.push(b)});var c,u=[uge,dge];{var d,f=[nge,sge(function(b){d.insert(b)})],m=age(u.concat(a,f)),h=function(g){return xc(tge(g),m)};c=function(g,x,y,v){d=y,h(g?g+"{"+x.styles+"}":x.styles),v&&(p.inserted[x.name]=!0)}}var p={key:r,sheet:new qpe({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return p.sheet.hydrate(l),p},pge=!0;function gge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var Q6=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||pge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},yge=function(e,r,n){Q6(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vge=/[A-Z]|^ms/g,jge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eV=function(e){return e.charCodeAt(1)===45},Z_=function(e){return e!=null&&typeof e!="boolean"},zC=oge(function(t){return eV(t)?t:t.replace(vge,"-$&").toLowerCase()}),Q_=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(jge,function(n,a,s){return Ea={name:a,styles:s,next:Ea},a})}return xge[e]!==1&&!eV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Gf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ea={name:a.name,styles:a.styles,next:Ea},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Ea={name:i.name,styles:i.styles,next:Ea},i=i.next;var l=s.styles+";";return l}return wge(t,e,r)}case"function":{if(t!==void 0){var c=Ea,u=r(t);return Ea=c,Gf(t,e,u)}break}}var d=r;return d}function wge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Gf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;Z_(l)&&(n+=zC(s)+":"+Q_(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)Z_(i[c])&&(n+=zC(s)+":"+Q_(s,i[c])+";");else{var u=Gf(t,e,i);switch(s){case"animation":case"animationName":{n+=zC(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var e$=/label:\s*([^\s;{]+)\s*(;|$)/g,Ea;function tV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Ea=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Gf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Gf(r,e,t[l]),n){var c=s;a+=c[l]}e$.lastIndex=0;for(var u="",d;(d=e$.exec(a))!==null;)u+="-"+d[1];var f=bge(a)+u;return{name:f,styles:a,next:Ea}}var Cge=function(e){return e()},Nge=To.useInsertionEffect?To.useInsertionEffect:!1,Sge=Nge||Cge,rV=w.createContext(typeof HTMLElement<"u"?hge({key:"css"}):null);rV.Provider;var Age=function(e){return w.forwardRef(function(r,n){var a=w.useContext(rV);return e(r,a,n)})},kge=w.createContext({}),wE={}.hasOwnProperty,_A="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ige=function(e,r){var n={};for(var a in r)wE.call(r,a)&&(n[a]=r[a]);return n[_A]=e,n},Tge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return Q6(r,n,a),Sge(function(){return yge(r,n,a)}),null},Ege=Age(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[_A],s=[n],i="";typeof t.className=="string"?i=gge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=tV(s,void 0,w.useContext(kge));i+=e.key+"-"+l.name;var c={};for(var u in t)wE.call(t,u)&&u!=="css"&&u!==_A&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement(Tge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),Pge=Ege,Ie=function(e,r){var n=arguments;if(r==null||!wE.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Pge,s[1]=Ige(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ie||(Ie={}));function CE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return tV(e)}function Oge(){var t=CE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Dge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const _ge=Math.min,$ge=Math.max,_x=Math.round,Zh=Math.floor,$x=t=>({x:t,y:t});function Rge(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Aj(){return typeof window<"u"}function nV(t){return sV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function aV(t){var e;return(e=(sV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sV(t){return Aj()?t instanceof Node||t instanceof Ts(t).Node:!1}function Mge(t){return Aj()?t instanceof Element||t instanceof Ts(t).Element:!1}function NE(t){return Aj()?t instanceof HTMLElement||t instanceof Ts(t).HTMLElement:!1}function t$(t){return!Aj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ts(t).ShadowRoot}function oV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=SE(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Lge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fge(t){return["html","body","#document"].includes(nV(t))}function SE(t){return Ts(t).getComputedStyle(t)}function Bge(t){if(nV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||t$(t)&&t.host||aV(t);return t$(e)?e.host:e}function iV(t){const e=Bge(t);return Fge(e)?t.ownerDocument?t.ownerDocument.body:t.body:NE(e)&&oV(e)?e:iV(e)}function Rx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=iV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Ts(a);if(s){const l=$A(i);return e.concat(i,i.visualViewport||[],oV(a)?a:[],l&&r?Rx(l):[])}return e.concat(a,Rx(a,[],r))}function $A(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qge(t){const e=SE(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=NE(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=_x(r)!==s||_x(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function AE(t){return Mge(t)?t:t.contextElement}function r$(t){const e=AE(t);if(!NE(e))return $x(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=qge(e);let i=(s?_x(r.width):r.width)/n,l=(s?_x(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Vge=$x(0);function Uge(t){const e=Ts(t);return!Lge()||!e.visualViewport?Vge:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zge(t,e,r){return!1}function n$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=AE(t);let i=$x(1);e&&(i=r$(t));const l=zge()?Uge(s):$x(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Ts(s),h=n;let p=m,b=$A(p);for(;b&&n&&h!==p;){const g=r$(b),x=b.getBoundingClientRect(),y=SE(b),v=x.left+(b.clientLeft+parseFloat(y.paddingLeft))*g.x,N=x.top+(b.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=v,u+=N,p=Ts(b),b=$A(p)}}return Rge({width:d,height:f,x:c,y:u})}function lV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Wge(t,e){let r=null,n;const a=aV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const p=Zh(f),b=Zh(a.clientWidth-(d+m)),g=Zh(a.clientHeight-(f+h)),x=Zh(d),v={rootMargin:-p+"px "+-b+"px "+-g+"px "+-x+"px",threshold:$ge(0,_ge(1,c))||1};let N=!0;function C(j){const S=j[0].intersectionRatio;if(S!==c){if(!N)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!lV(u,t.getBoundingClientRect())&&i(),N=!1}try{r=new IntersectionObserver(C,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(t)}return i(!0),s}function Hge(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=AE(t),d=a||s?[...u?Rx(u):[],...Rx(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?Wge(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let p,b=c?n$(t):null;c&&g();function g(){const x=n$(t);b&&!lV(b,x)&&r(),b=x,p=requestAnimationFrame(g)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}var RA=w.useLayoutEffect,Gge=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mx=function(){};function Yge(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Kge(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(Yge(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var a$=function(e){return aye(e)?e.filter(Boolean):ll(e)==="object"&&e!==null?[e]:[]},cV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Ls(e,Gge);return Pe({},r)},Ht=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function kj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Jge(t){return kj(t)?window.innerHeight:t.clientHeight}function uV(t){return kj(t)?window.pageYOffset:t.scrollTop}function Lx(t,e){if(kj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Xge(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Zge(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Qh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mx,a=uV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=Zge(l,a,s,r);Lx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function s$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Lx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Lx(t,Math.max(e.offsetTop-a,0))}function Qge(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function o$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function eye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var dV=!1,tye={get passive(){return dV=!0}},ep=typeof window<"u"?window:{};ep.addEventListener&&ep.removeEventListener&&(ep.addEventListener("p",Mx,tye),ep.removeEventListener("p",Mx,!1));var rye=dV;function nye(t){return t!=null}function aye(t){return Array.isArray(t)}function tp(t,e,r){return t?e:r}var sye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=xs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=xs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},oye=["children","innerProps"],iye=["children","innerProps"];function lye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=Xge(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,p=m.height,b=m.top,g=r.offsetParent.getBoundingClientRect(),x=g.top,y=i?window.innerHeight:Jge(c),v=uV(c),N=parseInt(getComputedStyle(r).marginBottom,10),C=parseInt(getComputedStyle(r).marginTop,10),j=x-C,S=y-b,A=j+v,T=f-v-b,k=h-y+v+N,E=v+b-C,O=160;switch(a){case"auto":case"bottom":if(S>=p)return{placement:"bottom",maxHeight:e};if(T>=p&&!i)return s&&Qh(c,k,O),{placement:"bottom",maxHeight:e};if(!i&&T>=n||i&&S>=n){s&&Qh(c,k,O);var M=i?S-N:T-N;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var R=e,$=i?j:A;return $>=n&&(R=Math.min($-N-l,e)),{placement:"top",maxHeight:R}}if(a==="bottom")return s&&Lx(c,k),{placement:"bottom",maxHeight:e};break;case"top":if(j>=p)return{placement:"top",maxHeight:e};if(A>=p&&!i)return s&&Qh(c,E,O),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&j>=n){var B=e;return(!i&&A>=n||i&&j>=n)&&(B=i?j-C:A-C),s&&Qh(c,E,O),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function cye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var fV=function(e){return e==="auto"?"bottom":e},uye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Pe((n={label:"menu"},Cd(n,cye(a),"100%"),Cd(n,"position","absolute"),Cd(n,"width","100%"),Cd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},mV=w.createContext(null),dye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(mV)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),h=xs(m,2),p=h[0],b=h[1],g=w.useState(null),x=xs(g,2),y=x[0],v=x[1],N=c.spacing.controlHeight;return RA(function(){var C=f.current;if(C){var j=i==="fixed",S=l&&!j,A=lye({maxHeight:a,menuEl:C,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:j,controlHeight:N});b(A.maxHeight),v(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,N]),r({ref:f,placerProps:Pe(Pe({},e),{},{placement:y||fV(s),maxHeight:p})})},fye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ie("div",De({},Ht(e,"menu",{menu:!0}),{ref:n},a),r)},mye=fye,hye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Pe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},pye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Ie("div",De({},Ht(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},hV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Pe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},gye=hV,yye=hV,bye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Ls(e,oye);return Ie("div",De({},Ht(Pe(Pe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},xye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Ls(e,iye);return Ie("div",De({},Ht(Pe(Pe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},vye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},jye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(fV(i)),f=xs(d,2),m=f[0],h=f[1],p=w.useMemo(function(){return{setPortalPlacement:h}},[]),b=w.useState(null),g=xs(b,2),x=g[0],y=g[1],v=w.useCallback(function(){if(a){var S=Qge(a),A=l==="fixed"?0:window.pageYOffset,T=S[m]+A;(T!==(x==null?void 0:x.offset)||S.left!==(x==null?void 0:x.rect.left)||S.width!==(x==null?void 0:x.rect.width))&&y({offset:T,rect:S})}},[a,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);RA(function(){v()},[v]);var N=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=Hge(a,c.current,v,{elementResize:"ResizeObserver"in window}))},[a,v]);RA(function(){N()},[N]);var C=w.useCallback(function(S){c.current=S,N()},[N]);if(!r&&l!=="fixed"||!x)return null;var j=Ie("div",De({ref:C},Ht(Pe(Pe({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ie(mV.Provider,{value:p},r?Jv.createPortal(j,r):j)},wye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Cye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Ie("div",De({},Ht(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Nye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Pe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Sye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Ie("div",De({},Ht(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Aye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},kye=function(e){var r=e.children,n=e.innerProps;return Ie("div",De({},Ht(e,"indicatorsContainer",{indicators:!0}),n),r)},i$,Iye=["size"],Tye=["innerProps","isRtl","size"],Eye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pV=function(e){var r=e.size,n=Ls(e,Iye);return Ie("svg",De({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Eye},n))},kE=function(e){return Ie(pV,De({size:20},e),Ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},gV=function(e){return Ie(pV,De({size:20},e),Ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},yV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Pye=yV,Oye=function(e){var r=e.children,n=e.innerProps;return Ie("div",De({},Ht(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ie(gV,null))},Dye=yV,_ye=function(e){var r=e.children,n=e.innerProps;return Ie("div",De({},Ht(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ie(kE,null))},$ye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Rye=function(e){var r=e.innerProps;return Ie("span",De({},r,Ht(e,"indicatorSeparator",{"indicator-separator":!0})))},Mye=Oge(i$||(i$=Dge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Lye=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},WC=function(e){var r=e.delay,n=e.offset;return Ie("span",{css:CE({animation:"".concat(Mye," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Fye=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Ls(e,Tye);return Ie("div",De({},Ht(Pe(Pe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ie(WC,{delay:0,offset:n}),Ie(WC,{delay:160,offset:!0}),Ie(WC,{delay:320,offset:!n}))},Bye=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},qye=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ie("div",De({ref:s},Ht(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},Vye=qye,Uye=["data"],zye=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Wye=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ie("div",De({},Ht(e,"group",{group:!0}),c),Ie(i,De({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Ie("div",null,r))},Hye=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Pe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Gye=function(e){var r=cV(e);r.data;var n=Ls(r,Uye);return Ie("div",De({},Ht(e,"groupHeading",{"group-heading":!0}),n))},Yye=Wye,Kye=["innerRef","isDisabled","isHidden","inputClassName"],Jye=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Pe(Pe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Xye),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},bV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Xye={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},bV)},Zye=function(e){return Pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},bV)},Qye=function(e){var r=e.cx,n=e.value,a=cV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Ls(a,Kye);return Ie("div",De({},Ht(e,"input",{"input-container":!0}),{"data-value":n||""}),Ie("input",De({className:r({input:!0},c),ref:s,style:Zye(l),disabled:i},u)))},ebe=Qye,tbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Pe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},rbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Pe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},nbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Pe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},xV=function(e){var r=e.children,n=e.innerProps;return Ie("div",n,r)},abe=xV,sbe=xV;function obe(t){var e=t.children,r=t.innerProps;return Ie("div",De({role:"button"},r),e||Ie(kE,{size:14}))}var ibe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ie(u,{data:a,innerProps:Pe(Pe({},Ht(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Ie(d,{data:a,innerProps:Pe({},Ht(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ie(f,{data:a,innerProps:Pe(Pe({},Ht(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},lbe=ibe,cbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},ube=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ie("div",De({},Ht(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},dbe=ube,fbe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},mbe=function(e){var r=e.children,n=e.innerProps;return Ie("div",De({},Ht(e,"placeholder",{placeholder:!0}),n),r)},hbe=mbe,pbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},gbe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ie("div",De({},Ht(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},ybe=gbe,bbe={ClearIndicator:_ye,Control:Vye,DropdownIndicator:Oye,DownChevron:gV,CrossIcon:kE,Group:Yye,GroupHeading:Gye,IndicatorsContainer:kye,IndicatorSeparator:Rye,Input:ebe,LoadingIndicator:Fye,Menu:mye,MenuList:pye,MenuPortal:jye,LoadingMessage:xye,NoOptionsMessage:bye,MultiValue:lbe,MultiValueContainer:abe,MultiValueLabel:sbe,MultiValueRemove:obe,Option:dbe,Placeholder:hbe,SelectContainer:Cye,SingleValue:ybe,ValueContainer:Sye},xbe=function(e){return Pe(Pe({},bbe),e.components)},l$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function vbe(t,e){return!!(t===e||l$(t)&&l$(e))}function jbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!vbe(t[r],e[r]))return!1;return!0}function wbe(t,e){e===void 0&&(e=jbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Cbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Nbe=function(e){return Ie("span",De({css:Cbe},e))},c$=Nbe,Sbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(b,g){return b&&b.length?"".concat(b.indexOf(g)+1," of ").concat(b.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Abe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,p=c.isMulti,b=c.isOptionDisabled,g=c.isSearchable,x=c.menuIsOpen,y=c.options,v=c.screenReaderStatus,N=c.tabSelectsValue,C=c.isLoading,j=c["aria-label"],S=c["aria-live"],A=w.useMemo(function(){return Pe(Pe({},Sbe),f||{})},[f]),T=w.useMemo(function(){var $="";if(r&&A.onChange){var B=r.option,z=r.options,D=r.removedValue,_=r.removedValues,F=r.value,Y=function(ce){return Array.isArray(ce)?null:ce},G=D||B||Y(F),te=G?m(G):"",fe=z||_||void 0,ke=fe?fe.map(m):[],ae=Pe({isDisabled:G&&b(G,l),label:te,labels:ke},r);$=A.onChange(ae)}return $},[r,A,b,l,m]),k=w.useMemo(function(){var $="",B=n||a,z=!!(n&&l&&l.includes(n));if(B&&A.onFocus){var D={focused:B,label:m(B),isDisabled:b(B,l),isSelected:z,options:s,context:B===n?"menu":"value",selectValue:l,isAppleDevice:d};$=A.onFocus(D)}return $},[n,a,m,b,A,s,l,d]),E=w.useMemo(function(){var $="";if(x&&y.length&&!C&&A.onFilter){var B=v({count:s.length});$=A.onFilter({inputValue:h,resultsMessage:B})}return $},[s,h,x,A,y,v,C]),O=(r==null?void 0:r.action)==="initial-input-focus",M=w.useMemo(function(){var $="";if(A.guidance){var B=a?"value":x?"menu":"input";$=A.guidance({"aria-label":j,context:B,isDisabled:n&&b(n,l),isMulti:p,isSearchable:g,tabSelectsValue:N,isInitialFocus:O})}return $},[j,n,a,p,b,g,x,A,l,N,O]),R=Ie(w.Fragment,null,Ie("span",{id:"aria-selection"},T),Ie("span",{id:"aria-focused"},k),Ie("span",{id:"aria-results"},E),Ie("span",{id:"aria-guidance"},M));return Ie(w.Fragment,null,Ie(c$,{id:u},O&&R),Ie(c$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!O&&R))},kbe=Abe,MA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ibe=new RegExp("["+MA.map(function(t){return t.letters}).join("")+"]","g"),vV={};for(var HC=0;HC<MA.length;HC++)for(var GC=MA[HC],YC=0;YC<GC.letters.length;YC++)vV[GC.letters[YC]]=GC.base;var jV=function(e){return e.replace(Ibe,function(r){return vV[r]})},Tbe=wbe(jV),u$=function(e){return e.replace(/^\s+|\s+$/g,"")},Ebe=function(e){return"".concat(e.label," ").concat(e.value)},Pbe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Pe({ignoreCase:!0,ignoreAccents:!0,stringify:Ebe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?u$(n):n,f=c?u$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=Tbe(d),f=jV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Obe=["innerRef"];function Dbe(t){var e=t.innerRef,r=Ls(t,Obe),n=sye(r,"onExited","in","enter","exit","appear");return Ie("input",De({ref:e},n,{css:CE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _be=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function $be(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(g,x){if(u.current!==null){var y=u.current,v=y.scrollTop,N=y.scrollHeight,C=y.clientHeight,j=u.current,S=x>0,A=N-C-v,T=!1;A>x&&i.current&&(n&&n(g),i.current=!1),S&&l.current&&(s&&s(g),l.current=!1),S&&x>A?(r&&!i.current&&r(g),j.scrollTop=N,T=!0,i.current=!0):!S&&-x>v&&(a&&!l.current&&a(g),j.scrollTop=0,T=!0,l.current=!0),T&&_be(g)}},[r,n,a,s]),f=w.useCallback(function(g){d(g,g.deltaY)},[d]),m=w.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),h=w.useCallback(function(g){var x=c.current-g.changedTouches[0].clientY;d(g,x)},[d]),p=w.useCallback(function(g){if(g){var x=rye?{passive:!1}:!1;g.addEventListener("wheel",f,x),g.addEventListener("touchstart",m,x),g.addEventListener("touchmove",h,x)}},[h,m,f]),b=w.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",m,!1),g.removeEventListener("touchmove",h,!1))},[h,m,f]);return w.useEffect(function(){if(e){var g=u.current;return p(g),function(){b(g)}}},[e,p,b]),function(g){u.current=g}}var d$=["boxSizing","height","overflow","paddingRight","position"],f$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function m$(t){t.cancelable&&t.preventDefault()}function h$(t){t.stopPropagation()}function p$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function g$(){return"ontouchstart"in window||navigator.maxTouchPoints}var y$=!!(typeof window<"u"&&window.document&&window.document.createElement),Ju=0,Dl={capture:!1,passive:!1};function Rbe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(y$){var u=document.body,d=u&&u.style;if(n&&d$.forEach(function(p){var b=d&&d[p];a.current[p]=b}),n&&Ju<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(f$).forEach(function(p){var b=f$[p];d&&(d[p]=b)}),d&&(d.paddingRight="".concat(h,"px"))}u&&g$()&&(u.addEventListener("touchmove",m$,Dl),c&&(c.addEventListener("touchstart",p$,Dl),c.addEventListener("touchmove",h$,Dl))),Ju+=1}},[n]),l=w.useCallback(function(c){if(y$){var u=document.body,d=u&&u.style;Ju=Math.max(Ju-1,0),n&&Ju<1&&d$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&g$()&&(u.removeEventListener("touchmove",m$,Dl),c&&(c.removeEventListener("touchstart",p$,Dl),c.removeEventListener("touchmove",h$,Dl)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var Mbe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Lbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Fbe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=$be({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=Rbe({isEnabled:r}),f=function(h){u(h),d(h)};return Ie(w.Fragment,null,r&&Ie("div",{onClick:Mbe,css:Lbe}),e(f))}var Bbe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},qbe=function(e){var r=e.name,n=e.onFocus;return Ie("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Bbe,value:"",onChange:function(){}})},Vbe=qbe;function IE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ube(){return IE(/^iPhone/i)}function wV(){return IE(/^Mac/i)}function zbe(){return IE(/^iPad/i)||wV()&&navigator.maxTouchPoints>1}function Wbe(){return Ube()||zbe()}function Hbe(){return wV()||Wbe()}var Gbe=function(e){return e.label},Ybe=function(e){return e.label},Kbe=function(e){return e.value},Jbe=function(e){return!!e.isDisabled},Xbe={clearIndicator:Dye,container:wye,control:Bye,dropdownIndicator:Pye,group:zye,groupHeading:Hye,indicatorsContainer:Aye,indicatorSeparator:$ye,input:Jye,loadingIndicator:Lye,loadingMessage:yye,menu:uye,menuList:hye,menuPortal:vye,multiValue:tbe,multiValueLabel:rbe,multiValueRemove:nbe,noOptionsMessage:gye,option:cbe,placeholder:fbe,singleValue:pbe,valueContainer:Nye},Zbe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Qbe=4,CV=4,exe=38,txe=CV*2,rxe={baseUnit:CV,controlHeight:exe,menuGutter:txe},KC={borderRadius:Qbe,colors:Zbe,spacing:rxe},nxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:o$(),captureMenuScroll:!o$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Pbe(),formatGroupLabel:Gbe,getOptionLabel:Ybe,getOptionValue:Kbe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Jbe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!eye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function b$(t,e,r,n){var a=AV(t,e,r),s=kV(t,e,r),i=SV(t,e),l=Fx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function Uy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return b$(t,i,e,l)}).filter(function(i){return v$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=b$(t,r,e,n);return v$(t,s)?s:void 0}).filter(nye)}function NV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,bE(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function x$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,bE(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function axe(t,e){return NV(Uy(t,e))}function v$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!TV(t)||!s)&&IV(t,{label:i,value:l,data:a},n)}function sxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function oxe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var JC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},SV=function(e,r){return e.getOptionLabel(r)},Fx=function(e,r){return e.getOptionValue(r)};function AV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function kV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Fx(t,e);return r.some(function(a){return Fx(t,a)===n})}function IV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var TV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},ixe=1,EV=function(t){Ope(r,t);var e=$pe(r);function r(n){var a;if(Epe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Hbe(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,p=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:p}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,p=f&&a.isOptionSelected(c,h),b=a.isOptionDisabled(c,h);if(p){var g=a.getOptionValue(c);a.setValue(h.filter(function(x){return a.getOptionValue(x)!==g}),"deselect-option",c)}else if(!b)f?a.setValue([].concat(bE(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(p){return a.getOptionValue(p)!==f}),h=tp(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(tp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=tp(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return JC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return x$(Uy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Kge.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return SV(a.props,c)},a.getOptionValue=function(c){return Fx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=Xbe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return xbe(a.props)},a.buildCategorizedOptions=function(){return Uy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return NV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Pe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&kj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return TV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,p=u.isClearable,b=u.isDisabled,g=u.menuIsOpen,x=u.onKeyDown,y=u.tabSelectsValue,v=u.openMenuOnFocus,N=a.state,C=N.focusedOption,j=N.focusedValue,S=N.selectValue;if(!b&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(j)a.removeValue(j);else{if(!f)return;d?a.popValue():p&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!g||!y||!C||v&&a.isOptionSelected(C,S))return;a.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(g){if(!C||a.isComposing)return;a.selectOption(C);break}return;case"Escape":g?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):p&&m&&a.clearValue();break;case" ":if(h)return;if(!g){a.openMenu("first");break}if(!C)return;a.selectOption(C);break;case"ArrowUp":g?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":g?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!g)return;a.focusOption("pageup");break;case"PageDown":if(!g)return;a.focusOption("pagedown");break;case"Home":if(!g)return;a.focusOption("first");break;case"End":if(!g)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++ixe),a.state.selectValue=a$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=JC(s,i[l])}return a}return Ppe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&s$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(s$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(KC):Pe(Pe({},KC),this.props.theme):KC}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,p=f.options,b=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:b,isMulti:m,isRtl:h,options:p,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return AV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return kV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return IV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),p=h.Input,b=this.state,g=b.inputIsHidden,x=b.ariaSelection,y=this.commonProps,v=l||this.getElementId("input"),N=Pe(Pe(Pe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(p,De({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},N)):w.createElement(Dbe,De({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mx,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},N))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,p=h.controlShouldRenderValue,b=h.isDisabled,g=h.isMulti,x=h.inputValue,y=h.placeholder,v=this.state,N=v.selectValue,C=v.focusedValue,j=v.isFocused;if(!this.hasValue()||!p)return x?null:w.createElement(f,De({},m,{key:"placeholder",isDisabled:b,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return N.map(function(A,T){var k=A===C,E="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return w.createElement(i,De({},m,{components:{Container:l,Label:c,Remove:u},isFocused:k,isDisabled:b,key:E,index:T,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(M){M.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(x)return null;var S=N[0];return w.createElement(d,De({},m,{data:S,isDisabled:b}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,De({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,De({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,De({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,De({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,p=this.commonProps,b=this.state.focusedOption,g=this.props,x=g.captureMenuScroll,y=g.inputValue,v=g.isLoading,N=g.loadingMessage,C=g.minMenuHeight,j=g.maxMenuHeight,S=g.menuIsOpen,A=g.menuPlacement,T=g.menuPosition,k=g.menuPortalTarget,E=g.menuShouldBlockScroll,O=g.menuShouldScrollIntoView,M=g.noOptionsMessage,R=g.onMenuScrollToTop,$=g.onMenuScrollToBottom;if(!S)return null;var B=function(te,fe){var ke=te.type,ae=te.data,X=te.isDisabled,ce=te.isSelected,Q=te.label,re=te.value,K=b===ae,H=X?void 0:function(){return a.onOptionHover(ae)},me=X?void 0:function(){return a.selectOption(ae)},je="".concat(a.getElementId("option"),"-").concat(fe),Te={id:je,onClick:me,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ce};return w.createElement(h,De({},p,{innerProps:Te,data:ae,isDisabled:X,isSelected:ce,key:je,label:Q,type:ke,value:re,isFocused:K,innerRef:K?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(te.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var te=G.data,fe=G.options,ke=G.index,ae="".concat(a.getElementId("group"),"-").concat(ke),X="".concat(ae,"-heading");return w.createElement(i,De({},p,{key:ae,data:te,options:fe,Heading:l,headingProps:{id:X,data:G.data},label:a.formatGroupLabel(G.data)}),G.options.map(function(ce){return B(ce,"".concat(ke,"-").concat(ce.index))}))}else if(G.type==="option")return B(G,"".concat(G.index))});else if(v){var D=N({inputValue:y});if(D===null)return null;z=w.createElement(f,p,D)}else{var _=M({inputValue:y});if(_===null)return null;z=w.createElement(m,p,_)}var F={minMenuHeight:C,maxMenuHeight:j,menuPlacement:A,menuPosition:T,menuShouldScrollIntoView:O},Y=w.createElement(dye,De({},p,F),function(G){var te=G.ref,fe=G.placerProps,ke=fe.placement,ae=fe.maxHeight;return w.createElement(c,De({},p,F,{innerRef:te,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:v,placement:ke}),w.createElement(Fbe,{captureEnabled:x,onTopArrive:R,onBottomArrive:$,lockEnabled:E},function(X){return w.createElement(u,De({},p,{innerRef:function(Q){a.getMenuListRef(Q),X(Q)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:a.getElementId("listbox")},isLoading:v,maxHeight:ae,focusedOption:b}),z)}))});return k||T==="fixed"?w.createElement(d,De({},p,{appendTo:k,controlElement:this.controlRef,menuPlacement:A,menuPosition:T}),Y):Y}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(Vbe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(b){return a.getOptionValue(b)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(b,g){return w.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:a.getOptionValue(b)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,h)}else{var p=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement(kbe,De({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,p=this.state.isFocused,b=this.commonProps=this.getCommonProps();return w.createElement(l,De({},b,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:p}),this.renderLiveRegion(),w.createElement(s,De({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:p,menuIsOpen:h}),w.createElement(c,De({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,De({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,p=a.value,b=a.menuIsOpen,g=a.inputValue,x=a.isMulti,y=a$(p),v={};if(i&&(p!==i.value||h!==i.options||b!==i.menuIsOpen||g!==i.inputValue)){var N=b?axe(a,y):[],C=b?x$(Uy(a,y),"".concat(m,"-option")):[],j=l?sxe(s,y):null,S=oxe(s,N),A=JC(C,S);v={selectValue:y,focusedOption:S,focusedOptionId:A,focusableOptionsWithIds:C,focusedValue:j,clearFocusValueOnUpdate:!1}}var T=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},k=u,E=d&&f;return d&&!E&&(k={value:tp(x,y,y[0]||null),options:y,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(k=null),Pe(Pe(Pe({},v),T),{},{prevProps:a,ariaSelection:k,prevWasFocused:E})}}]),r}(w.Component);EV.defaultProps=nxe;var lxe=w.forwardRef(function(t,e){var r=Tpe(t);return w.createElement(EV,De({ref:e},r))}),qr=lxe;function Yf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,p=0,b=0,g=0,x=0,y=0,v=0,N=0;return a?(m=l*c,h=+(m*d).toFixed(2),b=+(m-h).toFixed(2),p=+(b*i/(100+i)).toFixed(2),g=+(b-p).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),p=+(m*i/100).toFixed(2),g=+(m-h).toFixed(2),b=+(g+p).toFixed(2)),x=+(g*u/100*-1).toFixed(2),y=+(g*f/100*-1).toFixed(2),v=+(x+y).toFixed(2),N=a?+(b+v).toFixed(2):+(g+v).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:p,subtotalTaxIncluded:b,subtotalTaxExcluded:g,withheld:x,ewt:y,ewtrate:f,totalDeduction:v,subtotal:N}}function PV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:P().required("Required"),ChargeAccountID:P().required("Required"),ItemID:P().required("Required"),Remarks:P().required("Required"),FPP:P().required("Required"),Price:W().required("Required"),Quantity:W().required("Required"),ItemUnitID:P().required("Required"),TAXCodeID:P().required("Required"),DiscountRate:W().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:p=>{const b=i.find(N=>String(N.ID)===String(p.TAXCodeID)),g=Yf({price:p.Price,quantity:p.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:p.DiscountRate,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(N=>String(N.value)===String(p.ResponsibilityCenter)),y=l.find(N=>String(N.value)===String(p.ChargeAccountID)),v=n.find(N=>String(N.value)===String(p.ItemID));t({...p,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:v?v.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Yf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const OV="https://staging-engine.testthelink.online",cxe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},zy=L("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${OV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),XC=L("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Wy=L("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${OV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Hy=L("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),DV=xe({name:"obligationRequests",initialState:cxe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(zy.pending,e=>{e.isLoading=!0}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(XC.pending,e=>{e.isLoading=!0}).addCase(XC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(XC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wy.pending,e=>{e.isLoading=!0}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hy.pending,e=>{e.isLoading=!0}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:j8e}=DV.actions,uxe=DV.reducer,j$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],dxe=oe().shape({obrNo:P(),obrDate:Re().required("Date is required"),payeeType:P().required("Payee type is required"),payeeId:P().required("Payee selection is required"),responsibilityCenter:P().required("Responsibility Center is required"),fund:P().required("Fund is required"),fiscalYear:P().required("Fiscal Year is required"),project:P().required("Project is required"),accountingEntries:tr().min(1,"At least one item is required")});function fxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=ie(),y=w.useRef(null),[v,N]=w.useState(!1),[C,j]=w.useState(null),[S,A]=w.useState(null),[T,k]=w.useState(!1),[E,O]=w.useState([]),M=(D,_)=>{const F=D.reduce((te,fe)=>te+Number(fe.amount||0),0),Y=_.reduce((te,fe)=>te+Number(fe.amount||0),0),G=F-Y;return{grossAmount:F,totalTaxes:Y,netAmount:G}},R={description:"",amount:"",accountCode:""};console.log(t);const $={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[R],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{N(!0),M(D.items,D.taxes);const _=new FormData;D.payeeType==="Employee"?(_.append("EmployeeID",D.payeeId),_.append("VendorID",""),_.append("CustomerID","")):D.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",D.payeeId),_.append("CustomerID","")):D.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",D.payeeId)),_.append("PayeeType",D.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",D.obrNo),_.append("InvoiceDate",D.obrDate),_.append("ResponsibilityCenter",D.responsibilityCenter);const F=D.accountingEntries.reduce((ae,X)=>ae+Number(X.subtotal||0),0),Y=D.accountingEntries.reduce((ae,X)=>ae+Number(X.ewt||0),0),G=D.accountingEntries.reduce((ae,X)=>ae+Number(X.withheld||0),0),te=D.accountingEntries.reduce((ae,X)=>ae+Number(X.vat||0),0),fe=D.accountingEntries.reduce((ae,X)=>ae+Number(X.discount||0),0);_.append("Total",F.toFixed(2)),_.append("EWT",Y.toFixed(2)),_.append("WithheldAmount",G.toFixed(2)),_.append("Vat_Total",te.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",D.fund),_.append("FiscalYearID",D.fiscalYear),_.append("ProjectID",D.project),_.append("TravelID",""),_.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ae,X)=>{ae.ID?_.append(`Attachments[${X}].ID`,ae.ID):_.append(`Attachments[${X}].File`,ae)});const ke=t?Hy({formData:_,id:t.ID}):Wy(_);t?(_.append("IsNew",!1),_.append("LinkID",t.LinkID)):_.append("IsNew",!0),x(ke).unwrap().then(()=>{de.success("Success"),e()}).catch(ae=>{de.error((ae==null?void 0:ae.message)||"Failed to submit")}).finally(()=>{N(!1)})},z=({type:D})=>{switch(D){case"Employee":return o.jsx(yE,{className:"w-5 h-5"});case"Vendor":return o.jsx(xT,{className:"w-5 h-5"});case"Individual":return o.jsx(z0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:$,validationSchema:dxe,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:_,touched:F,handleChange:Y,handleBlur:G,setFieldValue:te,setFieldTouched:fe,isValid:ke})=>{M(D.items,D.taxes);const X=j$.map(K=>({value:K.value,label:K.label})).find(K=>K.value===D.payeeType),ce=K=>{j(null),te("payeeType",K),te("payeeName",""),te("payeeId",""),te("payeeAddress",""),te("officeUnitProject",""),te("orsNumber","")},Q=K=>{let H=null;switch(D.payeeType){case"Employee":H=s.find(me=>me.ID===K);break;case"Vendor":H=i.find(me=>me.ID===K);break;case"Individual":H=l.find(me=>me.ID===K);break}j(H),te("payeeName",H==null?void 0:H.Name),te("payeeId",H==null?void 0:H.ID)},re=K=>{switch(K){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:j$.map(K=>o.jsxs("button",{type:"button",onClick:()=>ce(K.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===K.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(z,{type:K.value}),o.jsx("span",{className:"ml-3 font-medium",children:K.label})]},K.value))}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",X==null?void 0:X.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:re(D.payeeType),value:re(D.payeeType).find(K=>K.value===D.payeeId)||null,onChange:K=>Q(K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(X==null?void 0:X.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((X==null?void 0:X.label)==="Vendor"||(X==null?void 0:X.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((X==null?void 0:X.label)==="Employee"||(X==null?void 0:X.label)==="Vendor"||(X==null?void 0:X.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"OBR No.",name:"obrNo",value:D.obrNo,onChange:Y,onBlur:G,error:_.obrNo,touched:F.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:Y,onBlur:G,error:_.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:c,value:c.find(K=>K.value===D.responsibilityCenter)||null,onChange:K=>te("responsibilityCenter",K.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),_.responsibilityCenter&&F.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:u,value:u.find(K=>K.value===D.fund)||null,onChange:K=>te("fund",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:f,value:f.find(K=>K.value===D.fiscalYear)||null,onChange:K=>te("fiscalYear",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:d,value:d.find(K=>K.value===D.project)||null,onChange:K=>te("project",K.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(en,{name:"accountingEntries",children:({push:K,remove:H})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((me,je)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>H(je),className:"text-red-600 text-xs",children:""})})]},je)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((me,je)=>me+Number(je.subtotal),0).toFixed(2)})]})]}),o.jsx(se,{isOpen:T,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(PV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:me=>{K(me),k(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:K,push:H})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(me=D.Attachments)==null?void 0:me.map((je,Te)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[je.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${je.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:je.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Te}].ID`,value:je.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Te+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Te}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ve=>te(`Attachments[${Te}].File`,Ve.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(jt,{type:"button",onClick:()=>K(Te),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},Te))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function mxe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Se,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(mu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(YB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(GB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(XB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}function _V(t,e){return function(){return t.apply(e,arguments)}}const{toString:hxe}=Object.prototype,{getPrototypeOf:TE}=Object,{iterator:Ij,toStringTag:$V}=Symbol,Tj=(t=>e=>{const r=hxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ja=t=>(t=t.toLowerCase(),e=>Tj(e)===t),Ej=t=>e=>typeof e===t,{isArray:yu}=Array,Kf=Ej("undefined");function pxe(t){return t!==null&&!Kf(t)&&t.constructor!==null&&!Kf(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const RV=ja("ArrayBuffer");function gxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&RV(t.buffer),e}const yxe=Ej("string"),cn=Ej("function"),MV=Ej("number"),Pj=t=>t!==null&&typeof t=="object",bxe=t=>t===!0||t===!1,Gy=t=>{if(Tj(t)!=="object")return!1;const e=TE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($V in t)&&!(Ij in t)},xxe=ja("Date"),vxe=ja("File"),jxe=ja("Blob"),wxe=ja("FileList"),Cxe=t=>Pj(t)&&cn(t.pipe),Nxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=Tj(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},Sxe=ja("URLSearchParams"),[Axe,kxe,Ixe,Txe]=["ReadableStream","Request","Response","Headers"].map(ja),Exe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),yu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function LV(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,FV=t=>!Kf(t)&&t!==Ai;function LA(){const{caseless:t}=FV(this)&&this||{},e={},r=(n,a)=>{const s=t&&LV(e,a)||a;Gy(e[s])&&Gy(n)?e[s]=LA(e[s],n):Gy(n)?e[s]=LA({},n):yu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Jm(arguments[n],r);return e}const Pxe=(t,e,r,{allOwnKeys:n}={})=>(Jm(e,(a,s)=>{r&&cn(a)?t[s]=_V(a,r):t[s]=a},{allOwnKeys:n}),t),Oxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},_xe=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&TE(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},$xe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Rxe=t=>{if(!t)return null;if(yu(t))return t;let e=t.length;if(!MV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Mxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&TE(Uint8Array)),Lxe=(t,e)=>{const n=(t&&t[Ij]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},Fxe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Bxe=ja("HTMLFormElement"),qxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),w$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Vxe=ja("RegExp"),BV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Jm(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},Uxe=t=>{BV(t,(e,r)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(cn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zxe=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return yu(t)?n(t):n(String(t).split(e)),r},Wxe=()=>{},Hxe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Gxe(t){return!!(t&&cn(t.append)&&t[$V]==="FormData"&&t[Ij])}const Yxe=t=>{const e=new Array(10),r=(n,a)=>{if(Pj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=yu(n)?[]:{};return Jm(n,(i,l)=>{const c=r(i,a+1);!Kf(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Kxe=ja("AsyncFunction"),Jxe=t=>t&&(Pj(t)||cn(t))&&cn(t.then)&&cn(t.catch),qV=((t,e)=>t?setImmediate:e?((r,n)=>(Ai.addEventListener("message",({source:a,data:s})=>{a===Ai&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",cn(Ai.postMessage)),Xxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ai):typeof process<"u"&&process.nextTick||qV,Zxe=t=>t!=null&&cn(t[Ij]),ee={isArray:yu,isArrayBuffer:RV,isBuffer:pxe,isFormData:Nxe,isArrayBufferView:gxe,isString:yxe,isNumber:MV,isBoolean:bxe,isObject:Pj,isPlainObject:Gy,isReadableStream:Axe,isRequest:kxe,isResponse:Ixe,isHeaders:Txe,isUndefined:Kf,isDate:xxe,isFile:vxe,isBlob:jxe,isRegExp:Vxe,isFunction:cn,isStream:Cxe,isURLSearchParams:Sxe,isTypedArray:Mxe,isFileList:wxe,forEach:Jm,merge:LA,extend:Pxe,trim:Exe,stripBOM:Oxe,inherits:Dxe,toFlatObject:_xe,kindOf:Tj,kindOfTest:ja,endsWith:$xe,toArray:Rxe,forEachEntry:Lxe,matchAll:Fxe,isHTMLForm:Bxe,hasOwnProperty:w$,hasOwnProp:w$,reduceDescriptors:BV,freezeMethods:Uxe,toObjectSet:zxe,toCamelCase:qxe,noop:Wxe,toFiniteNumber:Hxe,findKey:LV,global:Ai,isContextDefined:FV,isSpecCompliantForm:Gxe,toJSONObject:Yxe,isAsyncFn:Kxe,isThenable:Jxe,setImmediate:qV,asap:Xxe,isIterable:Zxe};function Fe(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ee.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const VV=Fe.prototype,UV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UV[t]={value:t}});Object.defineProperties(Fe,UV);Object.defineProperty(VV,"isAxiosError",{value:!0});Fe.from=(t,e,r,n,a,s)=>{const i=Object.create(VV);return ee.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const Qxe=null;function FA(t){return ee.isPlainObject(t)||ee.isArray(t)}function zV(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function C$(t,e,r){return t?t.concat(e).map(function(a,s){return a=zV(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function eve(t){return ee.isArray(t)&&!t.some(FA)}const tve=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Oj(t,e,r){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!ee.isUndefined(g[b])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(ee.isDate(p))return p.toISOString();if(!c&&ee.isBlob(p))throw new Fe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(p)||ee.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,b,g){let x=p;if(p&&!g&&typeof p=="object"){if(ee.endsWith(b,"{}"))b=n?b:b.slice(0,-2),p=JSON.stringify(p);else if(ee.isArray(p)&&eve(p)||(ee.isFileList(p)||ee.endsWith(b,"[]"))&&(x=ee.toArray(p)))return b=zV(b),x.forEach(function(v,N){!(ee.isUndefined(v)||v===null)&&e.append(i===!0?C$([b],N,s):i===null?b:b+"[]",u(v))}),!1}return FA(p)?!0:(e.append(C$(g,b,s),u(p)),!1)}const f=[],m=Object.assign(tve,{defaultVisitor:d,convertValue:u,isVisitable:FA});function h(p,b){if(!ee.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),ee.forEach(p,function(x,y){(!(ee.isUndefined(x)||x===null)&&a.call(e,x,ee.isString(y)?y.trim():y,b,m))===!0&&h(x,b?b.concat(y):[y])}),f.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return h(t),e}function N$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function EE(t,e){this._pairs=[],t&&Oj(t,this,e)}const WV=EE.prototype;WV.append=function(e,r){this._pairs.push([e,r])};WV.toString=function(e){const r=e?function(n){return e.call(this,n,N$)}:N$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function rve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HV(t,e,r){if(!e)return t;const n=r&&r.encode||rve;ee.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=ee.isURLSearchParams(e)?e.toString():new EE(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class S${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(n){n!==null&&e(n)})}}const GV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nve=typeof URLSearchParams<"u"?URLSearchParams:EE,ave=typeof FormData<"u"?FormData:null,sve=typeof Blob<"u"?Blob:null,ove={isBrowser:!0,classes:{URLSearchParams:nve,FormData:ave,Blob:sve},protocols:["http","https","file","blob","url","data"]},PE=typeof window<"u"&&typeof document<"u",BA=typeof navigator=="object"&&navigator||void 0,ive=PE&&(!BA||["ReactNative","NativeScript","NS"].indexOf(BA.product)<0),lve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cve=PE&&window.location.href||"http://localhost",uve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PE,hasStandardBrowserEnv:ive,hasStandardBrowserWebWorkerEnv:lve,navigator:BA,origin:cve},Symbol.toStringTag,{value:"Module"})),_r={...uve,...ove};function dve(t,e){return Oj(t,new _r.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return _r.isNode&&ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function fve(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function YV(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&ee.isArray(a)?a.length:i,c?(ee.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ee.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&ee.isArray(a[i])&&(a[i]=mve(a[i])),!l)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const r={};return ee.forEachEntry(t,(n,a)=>{e(fve(n),a,r,0)}),r}return null}function hve(t,e,r){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Xm={transitional:GV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return a?JSON.stringify(YV(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dve(e,this.formSerializer).toString();if((l=ee.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),hve(e)):e}],transformResponse:[function(e){const r=this.transitional||Xm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{Xm.headers[t]={}});const pve=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gve=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&pve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},A$=Symbol("internals");function Xu(t){return t&&String(t).trim().toLowerCase()}function Yy(t){return t===!1||t==null?t:ee.isArray(t)?t.map(Yy):String(t)}function yve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const bve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ZC(t,e,r,n,a){if(ee.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ee.isString(e)){if(ee.isString(n))return e.indexOf(n)!==-1;if(ee.isRegExp(n))return n.test(e)}}function xve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function vve(t,e){const r=ee.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let un=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=Xu(c);if(!d)throw new Error("header name must be a non-empty string");const f=ee.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Yy(l))}const i=(l,c)=>ee.forEach(l,(u,d)=>s(u,d,c));if(ee.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(ee.isString(e)&&(e=e.trim())&&!bve(e))i(gve(e),r);else if(ee.isObject(e)&&ee.isIterable(e)){let l={},c,u;for(const d of e){if(!ee.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ee.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Xu(e),e){const n=ee.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return yve(a);if(ee.isFunction(r))return r.call(this,a,n);if(ee.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Xu(e),e){const n=ee.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ZC(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=Xu(i),i){const l=ee.findKey(n,i);l&&(!r||ZC(n,n[l],l,r))&&(delete n[l],a=!0)}}return ee.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||ZC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return ee.forEach(this,(a,s)=>{const i=ee.findKey(n,s);if(i){r[i]=Yy(a),delete r[s];return}const l=e?xve(s):String(s).trim();l!==s&&delete r[s],r[l]=Yy(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ee.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[A$]=this[A$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Xu(i);n[l]||(vve(a,i),n[l]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(un.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ee.freezeMethods(un);function QC(t,e){const r=this||Xm,n=e||r,a=un.from(n.headers);let s=n.data;return ee.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function KV(t){return!!(t&&t.__CANCEL__)}function bu(t,e,r){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,r),this.name="CanceledError"}ee.inherits(bu,Fe,{__CANCEL__:!0});function JV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function jve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function Cve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Bx=(t,e,r=3)=>{let n=0;const a=wve(50,250);return Cve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},k$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},I$=t=>(...e)=>ee.asap(()=>t(...e)),Nve=_r.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,_r.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(_r.origin),_r.navigator&&/(msie|trident)/i.test(_r.navigator.userAgent)):()=>!0,Sve=_r.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];ee.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ee.isString(n)&&i.push("path="+n),ee.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ave(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XV(t,e,r){let n=!Ave(e);return t&&(n||r==!1)?kve(t,e):e}const T$=t=>t instanceof un?{...t}:t;function cl(t,e){e=e||{};const r={};function n(u,d,f,m){return ee.isPlainObject(u)&&ee.isPlainObject(d)?ee.merge.call({caseless:m},u,d):ee.isPlainObject(d)?ee.merge({},d):ee.isArray(d)?d.slice():d}function a(u,d,f,m){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!ee.isUndefined(d))return n(void 0,d)}function i(u,d){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(T$(u),T$(d),f,!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);ee.isUndefined(m)&&f!==l||(r[d]=m)}),r}const ZV=t=>{const e=cl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=un.from(i),e.url=HV(XV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ee.isFormData(r)){if(_r.hasStandardBrowserEnv||_r.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(_r.hasStandardBrowserEnv&&(n&&ee.isFunction(n)&&(n=n(e)),n||n!==!1&&Nve(e.url))){const u=a&&s&&Sve.read(s);u&&i.set(a,u)}return e},Ive=typeof XMLHttpRequest<"u",Tve=Ive&&function(t){return new Promise(function(r,n){const a=ZV(t);let s=a.data;const i=un.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function b(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function x(){if(!g)return;const v=un.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:t,request:g};JV(function(S){r(S),b()},function(S){n(S),b()},C),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||GV;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Fe(N,C.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,g)),g=null},s===void 0&&i.setContentType(null),"setRequestHeader"in g&&ee.forEach(i.toJSON(),function(N,C){g.setRequestHeader(C,N)}),ee.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([m,p]=Bx(u,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Bx(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=v=>{g&&(n(!v||v.type?new bu(null,t,g):v),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=jve(a.url);if(y&&_r.protocols.indexOf(y)===-1){n(new Fe("Unsupported protocol "+y+":",Fe.ERR_BAD_REQUEST,t));return}g.send(s||null)})},Eve=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Fe?d:new bu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ee.asap(l),c}},Pve=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Ove=async function*(t,e){for await(const r of Dve(t))yield*Pve(r,e)},Dve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},E$=(t,e,r,n)=>{const a=Ove(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Dj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QV=Dj&&typeof ReadableStream=="function",_ve=Dj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$ve=QV&&eU(()=>{let t=!1;const e=new Request(_r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P$=64*1024,qA=QV&&eU(()=>ee.isReadableStream(new Response("").body)),qx={stream:qA&&(t=>t.body)};Dj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qx[e]&&(qx[e]=ee.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const Rve=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(_r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await _ve(t)).byteLength},Mve=async(t,e)=>{const r=ee.toFiniteNumber(t.getContentLength());return r??Rve(e)},Lve=Dj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=ZV(t);u=u?(u+"").toLowerCase():"text";let h=Eve([a,s&&s.toAbortSignal()],i),p;const b=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(c&&$ve&&r!=="get"&&r!=="head"&&(g=await Mve(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(ee.isFormData(n)&&(j=C.headers.get("content-type"))&&d.setContentType(j),C.body){const[S,A]=k$(g,Bx(I$(c)));n=E$(C.body,P$,S,A)}}ee.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;p=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let y=await fetch(p);const v=qA&&(u==="stream"||u==="response");if(qA&&(l||v&&b)){const C={};["status","statusText","headers"].forEach(T=>{C[T]=y[T]});const j=ee.toFiniteNumber(y.headers.get("content-length")),[S,A]=l&&k$(j,Bx(I$(l),!0))||[];y=new Response(E$(y.body,P$,S,()=>{A&&A(),b&&b()}),C)}u=u||"text";let N=await qx[ee.findKey(qx,u)||"text"](y,t);return!v&&b&&b(),await new Promise((C,j)=>{JV(C,j,{data:N,headers:un.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,p),{cause:x.cause||x}):Fe.from(x,x&&x.code,t,p)}}),VA={http:Qxe,xhr:Tve,fetch:Lve};ee.forEach(VA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const O$=t=>`- ${t}`,Fve=t=>ee.isFunction(t)||t===null||t===!1,tU={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!Fve(r)&&(n=VA[(i=String(r)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(O$).join(`
`):" "+O$(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:VA};function e1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bu(null,t)}function D$(t){return e1(t),t.headers=un.from(t.headers),t.data=QC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tU.getAdapter(t.adapter||Xm.adapter)(t).then(function(n){return e1(t),n.data=QC.call(t,t.transformResponse,n),n.headers=un.from(n.headers),n},function(n){return KV(n)||(e1(t),n&&n.response&&(n.response.data=QC.call(t,t.transformResponse,n.response),n.response.headers=un.from(n.response.headers))),Promise.reject(n)})}const rU="1.9.0",_j={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_j[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const _$={};_j.transitional=function(e,r,n){function a(s,i){return"[Axios v"+rU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Fe(a(i," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!_$[i]&&(_$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};_j.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Bve(t,e,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Fe("option "+s+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const Ky={assertOptions:Bve,validators:_j},Na=Ky.validators;let zi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new S$,response:new S$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=cl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Ky.assertOptions(n,{silentJSONParsing:Na.transitional(Na.boolean),forcedJSONParsing:Na.transitional(Na.boolean),clarifyTimeoutError:Na.transitional(Na.boolean)},!1),a!=null&&(ee.isFunction(a)?r.paramsSerializer={serialize:a}:Ky.assertOptions(a,{encode:Na.function,serialize:Na.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ky.assertOptions(r,{baseUrl:Na.spelling("baseURL"),withXsrfToken:Na.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&ee.merge(s.common,s[r.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=un.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,m;if(!c){const p=[D$.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const p=l[f++],b=l[f++];try{h=p(h)}catch(g){b.call(this,g);break}}try{d=D$.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=cl(this.defaults,e);const r=XV(e.baseURL,e.url,e.allowAbsoluteUrls);return HV(r,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){zi.prototype[e]=function(r,n){return this.request(cl(n||{},{method:e,url:r,data:(n||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(cl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}zi.prototype[e]=r(),zi.prototype[e+"Form"]=r(!0)});let qve=class nU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new bu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new nU(function(a){e=a}),cancel:e}}};function Vve(t){return function(r){return t.apply(null,r)}}function Uve(t){return ee.isObject(t)&&t.isAxiosError===!0}const UA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(UA).forEach(([t,e])=>{UA[e]=t});function aU(t){const e=new zi(t),r=_V(zi.prototype.request,e);return ee.extend(r,zi.prototype,e,{allOwnKeys:!0}),ee.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return aU(cl(t,a))},r}const Qe=aU(Xm);Qe.Axios=zi;Qe.CanceledError=bu;Qe.CancelToken=qve;Qe.isCancel=KV;Qe.VERSION=rU;Qe.toFormData=Oj;Qe.AxiosError=Fe;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=Vve;Qe.isAxiosError=Uve;Qe.mergeConfig=cl;Qe.AxiosHeaders=un;Qe.formToJSON=t=>YV(ee.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=tU.getAdapter;Qe.HttpStatusCode=UA;Qe.default=Qe;const{Axios:N8e,AxiosError:S8e,CanceledError:A8e,isCancel:k8e,CancelToken:I8e,VERSION:T8e,all:E8e,Cancel:P8e,isAxiosError:O8e,spread:D8e,toFormData:_8e,AxiosHeaders:$8e,HttpStatusCode:R8e,formToJSON:M8e,getAdapter:L8e,mergeConfig:F8e}=Qe,gt=Qe.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});gt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));gt.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const OE="https://staging-engine.testthelink.online",Gt=L("budgetFunds/fetchBudgetFunds",async()=>(await gt("/funds")).data),Jy=L("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${OE}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return de.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),Xy=L("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${OE}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return de.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),Zy=L("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${OE}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return de.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),zve=xe({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gt.pending,e=>{e.loading=!0,e.error=null}).addCase(Gt.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Gt.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,de.error("Failed to fetch budget funds")}).addCase(Jy.pending,e=>{e.loading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(Jy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,de.error("Failed to create fund")}).addCase(Xy.pending,e=>{e.loading=!0,e.error=null}).addCase(Xy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(Xy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,de.error("Failed to update fund")}).addCase(Zy.pending,e=>{e.loading=!0,e.error=null}).addCase(Zy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(Zy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,de.error("Failed to delete fund")})}}),Wve=zve.reducer,ko=L("budget/fetchBudgets",async(t,e)=>{try{return(await gt("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),t1=L("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),r1=L("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),n1=L("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),Hve={budgets:[],isLoading:!1,error:null},Gve=xe({name:"budget",initialState:Hve,reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(t1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(t1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(t1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(r1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(r1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(n1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(n1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Yve=Gve.reducer,Kve=(t="self")=>gt("/profileDashboard/userDocumentsList",{params:{owner:t}}),Jve=()=>gt("/profileDashboard/user"),Xve=t=>gt("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),Zve=t=>gt(`/profileDashboard/budgetAPARList/${t}`),$$=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return gt("/profileDashboard/disbursementAmounts",{params:n})},Qve=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return gt("/profileDashboard/obligationChart",{params:r})},e0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return gt("/profileDashboard/travelOrderChart",{params:r})},t0e=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return gt("/profileDashboard/disbursementChart",{params:r})},r0e=(t="Day")=>gt("/profileDashboard/collectionTotals",{params:{dateRange:t}}),n0e=()=>gt("/profileDashboard/chartGeneral"),a0e=()=>gt("/profileDashboard/chartMarriage"),s0e=()=>gt("/profileDashboard/chartBurial"),o0e=()=>gt("/profileDashboard/chartCedula"),DE=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},i0e=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{Kve(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{de.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||Jve().then(m=>{s(m.data)}).catch(m=>{de.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>DE(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(jue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(ic,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(ic,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(rp,{title:"Total Documents",value:c.total,icon:pue}),o.jsx(rp,{title:"Approved",value:c.approved,icon:iue}),o.jsx(rp,{title:"Requested",value:c.requested,icon:mue}),o.jsx(rp,{title:"Rejected",value:c.rejected,icon:Cue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(ge,{columns:u,data:l||[],pagination:!0})]})},rp=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function l0e(){const t=ie(),{obligationRequests:e,isLoading:r}=q(j=>j.obligationRequests),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[p,b]=w.useState("list"),[g,x]=w.useState(null);w.useEffect(()=>{t(zy()),t(on()),t(Nn()),t(La()),t(rr()),t(Ba()),t(Gt()),t(ln()),t(Fa()),t(Gn()),t(ga()),t(ko())},[t]);const y=()=>{x(null),b("form")},v=j=>{x(j),b("form")},N=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>DE(j)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const S=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&S.push({icon:Se,title:"Edit",onClick:()=>v(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(fxe,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:N,onSubmitSuccess:N,onClose:N})})]}),p==="details"&&g&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>v(g),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(mxe,{or:g,onBack:N})})]})]})}function Wi(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${zA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function zA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${zA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${zA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const _E="https://staging-engine.testthelink.online",c0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Qy=L("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${_E}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),ef=L("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_E}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),a1=L("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),eb=L("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${_E}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),tb=L("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),sU=xe({name:"disbursementVouchers",initialState:c0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(ef.pending,e=>{e.isLoading=!0}).addCase(ef.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(ef.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(a1.pending,e=>{e.isLoading=!0}).addCase(a1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(a1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eb.pending,e=>{e.isLoading=!0}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tb.pending,e=>{e.isLoading=!0}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qy.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Qy.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Qy.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:B8e}=sU.actions,u0e=sU.reducer,R$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],d0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function f0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[],chartOfAccountsOptions:x=[]}){const y=ie(),v=w.useRef(null),[N,C]=w.useState(!1),[j,S]=w.useState(null),[A,T]=w.useState(null),[k,E]=w.useState(null),[O,M]=w.useState(!1),[R,$]=w.useState([]),[B,z]=w.useState((t==null?void 0:t.modeOfPayment)||""),D=()=>oe().shape({payeeType:P().required("Payee type is required"),payeeId:P().required("Payee selection is required"),accountingEntries:k==="Standalone Request"?tr():tr().min(1,"At least one item is required"),contraAccount:P().required("Contra Account is required"),modeOfPayment:P().required("Mode of Payment is required"),bank:B==="Check"?P().required("Bank is required"):P(),checkNumber:B==="Check"?P().required("Check Number is required"):P(),receivedPaymentBy:P().required("Received Payment By is required")}),{requestOptions:_,requestOptionsLoading:F,requestOptionsError:Y}=q(X=>X.disbursementVouchers),G=(X,ce)=>{const Q=X.reduce((H,me)=>H+Number(me.amount||0),0),re=ce.reduce((H,me)=>H+Number(me.amount||0),0),K=Q-re;return{grossAmount:Q,totalTaxes:re,netAmount:K}},te={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[te],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},ke=X=>{C(!0),G(X.items,X.taxes);const ce=new FormData;X.payeeType==="Employee"?(ce.append("EmployeeID",X.payeeId),ce.append("VendorID",""),ce.append("CustomerID","")):X.payeeType==="Vendor"?(ce.append("EmployeeID",""),ce.append("VendorID",X.payeeId),ce.append("CustomerID","")):X.payeeType==="Individual"&&(ce.append("EmployeeID",""),ce.append("VendorID",""),ce.append("CustomerID",X.payeeId)),ce.append("PayeeType",X.payeeType),ce.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),ce.append("Address",(j==null?void 0:j.StreetAddress)||""),ce.append("InvoiceNumber",X.obrNo),ce.append("InvoiceDate",X.obrDate),ce.append("ResponsibilityCenter",X.responsibilityCenter);const Q=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.subtotal||0),0),re=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.ewt||0),0),K=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.withheld||0),0),H=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.vat||0),0),me=X.accountingEntries.reduce((Te,Ve)=>Te+Number(Ve.discount||0),0);ce.append("Total",Q.toFixed(2)),ce.append("EWT",re.toFixed(2)),ce.append("WithheldAmount",K.toFixed(2)),ce.append("Vat_Total",H.toFixed(2)),ce.append("Discounts",me.toFixed(2)),ce.append("FundsID",X.fund),ce.append("FiscalYearID",X.fiscalYear),ce.append("ProjectID",X.project),ce.append("TravelID",""),ce.append("Items",JSON.stringify(X.accountingEntries)),X.Attachments.forEach((Te,Ve)=>{Te.ID?ce.append(`Attachments[${Ve}].ID`,Te.ID):ce.append(`Attachments[${Ve}].File`,Te.File)}),ce.append("OBR_LinkID",X.OBR_LinkID||""),ce.append("ContraAccountID",X.contraAccount),ce.append("ModeOfPayment",X.modeOfPayment),ce.append("BankID",X.bank),ce.append("CheckNumber",X.checkNumber),ce.append("ReceivedPaymentBy",X.receivedPaymentBy),t?(ce.append("LinkID",t.LinkID),ce.append("IsNew",!1)):ce.append("IsNew",!0);const je=t?tb({formData:ce,id:t.ID}).unwrap():eb(ce);y(je).unwrap().then(()=>{de.success("Success"),e(),y(ef())}).catch(Te=>{de.error((Te==null?void 0:Te.message)||"Failed to submit")}).finally(()=>{C(!1)})},ae=({type:X})=>{switch(X){case"Employee":return o.jsx(yE,{className:"w-5 h-5"});case"Vendor":return o.jsx(xT,{className:"w-5 h-5"});case"Individual":return o.jsx(z0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:v,initialValues:fe,validationSchema:D(),onSubmit:ke,enableReinitialize:!0,children:({values:X,errors:ce,touched:Q,handleChange:re,handleBlur:K,setFieldValue:H,setFieldError:me,setFieldTouched:je,isValid:Te})=>{G(X.items,X.taxes);const qe=R$.map(Z=>({value:Z.value,label:Z.label})).find(Z=>Z.value===X.payeeType),Lr=Z=>{S(null),H("payeeType",Z),H("payeeName",""),H("payeeId",""),H("payeeAddress",""),H("officeUnitProject",""),H("orsNumber","")},Fr=async Z=>{if(T(null),H("requestType",Z),console.log("Selected Request Type:",Z),E(Z),Z==="Standalone Request"){H("accountingEntries",[],!1);return}X.payeeType&&X.payeeId&&Z&&y(Qy({requestType:Z,payeeType:X.payeeType,payeeId:X.payeeId}))},ta=Z=>{var Ee,Ke;T(Z);const be=(((Ee=Z==null?void 0:Z.raw)==null?void 0:Ee.TransactionItemsAll)||[]).map(Xe=>{var ei,Us,ti,Pu,BP,qP,VP;const Ir={Price:Xe.Price??0,Quantity:Xe.Quantity??1,DiscountRate:Xe.DiscountRate??0,Vatable:Xe.Vatable,withheldEWT:Xe.EWTRate??0},Vs=Yf({price:Ir.Price,quantity:Ir.Quantity,taxRate:Xe.TaxRate||0,discountPercent:Ir.DiscountRate,vatable:Ir.Vatable,ewtRate:Ir.withheldEWT});return{...Xe,...Vs,itemName:((ei=Xe.Item)==null?void 0:ei.Name)||"",subtotal:Xe.AmountDue||0,Remarks:Xe.Remarks||"",FPP:Xe.FPP||"",accountCode:((ti=(Us=Xe.ChargeAccount)==null?void 0:Us.ChartofAccounts)==null?void 0:ti.AccountCode)||"",accountName:((BP=(Pu=Xe.ChargeAccount)==null?void 0:Pu.ChartofAccounts)==null?void 0:BP.Name)||"",fundCode:((VP=(qP=Z==null?void 0:Z.raw)==null?void 0:qP.sourceFunds)==null?void 0:VP.Code)||""}});v.current&&(v.current.setFieldValue("accountingEntries",be),v.current.setFieldValue("OBR_LinkID",((Ke=Z==null?void 0:Z.raw)==null?void 0:Ke.LinkID)||""))},Hr=Z=>{let pe=null;switch(X.payeeType){case"Employee":pe=s.find(be=>be.ID===Z);break;case"Vendor":pe=i.find(be=>be.ID===Z);break;case"Individual":pe=l.find(be=>be.ID===Z);break}S(pe),H("payeeName",pe==null?void 0:pe.Name),H("payeeId",pe==null?void 0:pe.ID)},J=Z=>{switch(Z){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},ye=Z=>{z(Z.target.value),re(Z),Z.target.value==="Cash"&&(H("bank",""),H("checkNumber",""))};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:R$.map(Z=>o.jsxs("button",{type:"button",onClick:()=>Lr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${X.payeeType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ae,{type:Z.value}),o.jsx("span",{className:"ml-3 font-medium",children:Z.label})]},Z.value))}),ce.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.payeeType})]}),X.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",qe==null?void 0:qe.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:J(X.payeeType),onChange:Z=>Hr(Z.value),value:J(X.payeeType).find(Z=>Z.value===X.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),ce.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(qe==null?void 0:qe.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((qe==null?void 0:qe.label)==="Vendor"||(qe==null?void 0:qe.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((qe==null?void 0:qe.label)==="Employee"||(qe==null?void 0:qe.label)==="Vendor"||(qe==null?void 0:qe.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:d0e.map(Z=>o.jsx("button",{type:"button",onClick:()=>Fr(Z.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${X.requestType===Z.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Z.label})},Z.value))}),ce.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.requestType})]}),X.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:_.map(Z=>{var be,Ee,Ke,Xe,Ir,Vs,ei,Us,ti,Pu;let pe="";return X.payeeType==="Employee"?pe=`${((be=Z.Employee)==null?void 0:be.FirstName)||""} ${((Ee=Z.Employee)==null?void 0:Ee.MiddleName)||""} ${((Ke=Z.Employee)==null?void 0:Ke.LastName)||""}`.trim():X.payeeType==="Individual"?!((Xe=Z.Employee)!=null&&Xe.FirstName)&&!((Ir=Z.Employee)!=null&&Ir.MiddleName)&&!((Vs=Z.Employee)!=null&&Vs.LastName)?pe=Z.Name||"N/A":pe=`${((ei=Z.Employee)==null?void 0:ei.FirstName)||""} ${((Us=Z.Employee)==null?void 0:Us.MiddleName)||""} ${((ti=Z.Employee)==null?void 0:ti.LastName)||""}`.trim():X.payeeType==="Vendor"&&(pe=Z.Name||"N/A"),{value:Z.ID,label:`${Z.InvoiceNumber||""}  ${pe}  ${Z.TIN||""}  ${Z.InvoiceDate}  ${((Pu=Z.sourceFunds)==null?void 0:Pu.Code)||""}`,raw:Z}}),isLoading:F,value:A,onChange:ta,placeholder:F?"Loading":Y?`Error: ${Y}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),ce.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.requestType+"request error"})]})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"accountingEntries",children:({push:Z,remove:pe})=>o.jsxs(o.Fragment,{children:[X.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),X.accountingEntries.map((be,Ee)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:be.itemName}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(be.subtotal).toFixed(2)}),o.jsx("span",{children:be.Remarks}),o.jsx("span",{children:be.FPP}),o.jsx("span",{children:be.accountCode}),o.jsx("span",{children:be.accountName}),o.jsx("span",{children:be.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>pe(Ee),className:"text-red-600 text-xs",children:""})})]},Ee)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:X.accountingEntries.reduce((be,Ee)=>be+Number(Ee.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:Wi(X.accountingEntries.reduce((be,Ee)=>be+Number(Ee.subtotal||0),0).toFixed(2))})})]}),o.jsx(se,{isOpen:O,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(PV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>M(!1),onSubmit:be=>{Z(be),M(!1)}})})]})}),ce.accountingEntries&&X.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.accountingEntries}),o.jsx("hr",{}),(()=>{const Z={};X.accountingEntries.forEach(be=>{console.log("entry",be);const Ee=be.TaxName||"N/A",Ke=be.TaxRate||0,Xe=Number(be.WithheldAmount||0),Ir=`${Ee}-${Ke}`;Z[Ir]||(Z[Ir]={taxName:Ee,taxRate:Ke,withheld:0}),Z[Ir].withheld+=Xe});const pe=Object.values(Z);return pe.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),pe.map(({taxName:be,taxRate:Ee,withheld:Ke},Xe)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:be}),o.jsx("span",{className:"text-right",children:parseFloat(Ee).toFixed(2)}),o.jsx("span",{className:"text-right",children:Ke.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},Xe))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(qr,{name:"contraAccount",options:x,onChange:Z=>H("contraAccount",Z==null?void 0:Z.value),value:x.find(Z=>Z.value===X.contraAccount)||null,classNamePrefix:"react-select"}),ce.contraAccount&&Q.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ce.contraAccount})]}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:X.modeOfPayment,onChange:ye,onBlur:K,error:ce.modeOfPayment,touched:Q.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Bank",name:"bank",value:X.bank,onChange:re,onBlur:K,error:ce.bank,touched:Q.bank,required:B==="Check"})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check No.",name:"checkNumber",value:X.checkNumber,onChange:re,onBlur:K,error:ce.checkNumber,touched:Q.checkNumber,required:B==="Check"})})]}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:X.receivedPaymentBy,onChange:re,onBlur:K,error:ce.receivedPaymentBy,touched:Q.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:Z,push:pe})=>{var be;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>pe({File:null}),children:"+ Attachment"})]}),(be=X.Attachments)==null?void 0:be.map((Ee,Ke)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ee.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ee.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ee.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ke}].ID`,value:Ee.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ke+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ke}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Xe=>H(`Attachments[${Ke}].File`,Xe.currentTarget.files[0]),onBlur:K,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(jt,{type:"button",onClick:()=>Z(Ke),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},Ke))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function m0e(){const t=ie(),{disbursementVouchers:e,isLoading:r}=q(A=>A.disbursementVouchers),{employees:n}=q(A=>A.employees),{customers:a}=q(A=>A.customers),{vendorDetails:s}=q(A=>A.vendorDetails),{departments:i}=q(A=>A.departments),{projectDetails:l}=q(A=>A.projectDetails),{funds:c}=q(A=>A.funds),{fiscalYears:u}=q(A=>A.fiscalYears),{items:d}=q(A=>A.items),{taxCodes:f}=q(A=>A.taxCodes),{itemUnits:m}=q(A=>A.itemUnits),{budgets:h}=q(A=>A.budget),p=q(A=>{var T;return((T=A.chartOfAccounts)==null?void 0:T.accounts)||[]}),[b,g]=w.useState("list"),[x,y]=w.useState(null);w.useEffect(()=>{t(ef()),t(on()),t(Nn()),t(La()),t(rr()),t(Ba()),t(Gt()),t(ln()),t(Fa()),t(Gn()),t(ga()),t(ko()),t(br())},[t]);const v=()=>{y(null),g("form")},N=A=>{y(A),g("form")},C=()=>{g("list"),y(null)},j=[{key:"Status",header:"Status",sortable:!0,render:A=>DE(A)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"Obligation Request Number",sortable:!0},{key:"Fund",header:"Fund",sortable:!0},{key:"CustomerID",header:"Customer ID",sortable:!0}],S=A=>{console.log("Edit OR",A)};return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:e,actions:A=>{var k;const T=[];return((k=A.Transaction)==null?void 0:k.Status)==="Rejected"&&T.push({icon:Se,title:"Edit",onClick:()=>S(A),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),T},loading:r})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(f0e,{initialData:x,employeeOptions:n.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:s.map(A=>({value:A.ID,label:A.Name})),individualOptions:a.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:(p||[]).map(A=>({value:A.ID,label:A.AccountCode+" - "+A.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(A=>({value:A.ID,label:A.Name})),fundOptions:c.map(A=>({value:A.ID,label:A.Name})),projectOptions:l.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:u.map(A=>({value:A.ID,label:A.Name})),particularsOptions:d.map(A=>({value:A.ID,label:A.Name})),unitOptions:m.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:f.map(A=>({value:A.ID,label:A.Name})),budgetOptions:h.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),b==="details"&&x&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>N(x),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function h0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=q(y=>y.departments),{employees:l}=q(y=>y.employees),{budgets:c}=q(y=>y.budget);console.log("Budgets:",c);const u=ie();w.useEffect(()=>{u(rr()),u(on()),u(ko())},[u]);const d=oe({BudgetID:P().required("Office is required"),DateStart:Re().required("Start Date is required"),DateEnd:Re().required("End Date is required").min(ol("DateStart"),"End Date must be after Start Date"),Place:P().required("Place/Office to be visited is required"),Venue:P().required("Venue/Destination is required"),Remarks:P(),Purpose:P().required("Purpose of Travel is required"),Travelers:tr().of(oe({TravelerID:P().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:tr().of(oe({Amount:W().required("Amount is required"),BudgetID:P().required("Budget of Fund is required"),Type:P().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:tr().of(oe({Name:P().required("Document name is required")})).min(1,"At least one document is required")}),f=tt({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(y,v)=>{const N=new FormData;for(const C in y)C==="Attachments"?y.Attachments.forEach((j,S)=>{j.ID?N.append(`Attachments[${S}].ID`,j.ID):N.append(`Attachments[${S}].File`,j.File)}):N.append(C,JSON.stringify(y[C]));try{await e(N)}catch(C){console.error(C)}finally{v(!1)}}}),{values:m,handleChange:h,handleBlur:p,errors:b,touched:g,isSubmitting:x}=f;return o.jsx(GT,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(I,{type:"select",label:"Office",name:"BudgetID",options:i.map(y=>({value:y.ID,label:y.Name})),value:m.BudgetID,onChange:h,onBlur:p,error:b.BudgetID,touched:g.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:p,error:b.DateStart,touched:g.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:p,error:b.DateEnd,touched:g.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:p,error:b.Place,touched:g.Place,required:!0}),o.jsx(I,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:p,error:b.Venue,touched:g.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:p,error:b.Remarks,touched:g.Remarks}),o.jsx(I,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:p,error:b.Purpose,touched:g.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:p}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:p}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:p}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(en,{name:"Travelers",render:({remove:y,push:v})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(jt,{type:"button",onClick:()=>v({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((N,C)=>{var j,S,A,T;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:l.map(k=>({value:k.ID,label:k.FirstName+" "+k.MiddleName+" "+k.LastName})),value:N.TravelerID,onChange:h,onBlur:p,error:(S=(j=b.Travelers)==null?void 0:j[C])==null?void 0:S.TravelerID,touched:(T=(A=g.Travelers)==null?void 0:A[C])==null?void 0:T.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(jt,{type:"button",onClick:()=>y(C),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.Travelers.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(en,{name:"TravelPayments",render:({remove:y,push:v})=>{var N,C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(jt,{type:"button",onClick:()=>v({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.TravelPayments)==null?void 0:N.map((j,S)=>{var A,T,k,E,O,M,R,$,B,z,D,_;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(I,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:j.Amount,onChange:h,onBlur:p,error:(T=(A=b.TravelPayments)==null?void 0:A[S])==null?void 0:T.Amount,touched:(E=(k=g.TravelPayments)==null?void 0:k[S])==null?void 0:E.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(I,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(F=>({value:F.ID,label:F.Name})),value:j.BudgetID,onChange:h,onBlur:p,error:(M=(O=b.TravelPayments)==null?void 0:O[S])==null?void 0:M.BudgetID,touched:($=(R=g.TravelPayments)==null?void 0:R[S])==null?void 0:$.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(I,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:j.Type,onChange:h,onBlur:p,error:(z=(B=b.TravelPayments)==null?void 0:B[S])==null?void 0:z.Type,touched:(_=(D=g.TravelPayments)==null?void 0:D[S])==null?void 0:_.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(jt,{type:"button",onClick:()=>y(S),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:m.TravelPayments.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},S)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(C=m.TravelPayments)==null?void 0:C.reduce((j,S)=>{const A=parseFloat(S.Amount);return j+(isNaN(A)?0:A)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(en,{name:"TravelDocuments",render:({remove:y,push:v})=>{var N;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(jt,{type:"button",onClick:()=>v({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.TravelDocuments)==null?void 0:N.map((C,j)=>{var S,A,T,k;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:h,onBlur:p,error:(A=(S=b.TravelDocuments)==null?void 0:S[j])==null?void 0:A.Name,touched:(k=(T=g.TravelDocuments)==null?void 0:T[j])==null?void 0:k.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(jt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.TravelDocuments.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:y,push:v})=>{var N;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(jt,{type:"button",onClick:()=>v({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(N=m.Attachments)==null?void 0:N.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${j}].File`,S.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(jt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(gr,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Save"})]})]})})}function p0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Se,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(mu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(YB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(GB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(XB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const $j="https://staging-engine.testthelink.online",g0e=[],rb=L("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),nb=L("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${$j}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=L("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${$j}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),ab=L("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${$j}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),y0e=xe({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=g0e}).addCase(nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),b0e=y0e.reducer;function x0e(){const t=ie(),{travelOrders:e,isLoading:r}=q(v=>v.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(rb())},[t]);const f=async v=>{try{u?await t(WA({...v,ID:u.ID})).unwrap():await t(nb(v)).unwrap(),i(!1),d(null),de.success("Success")}catch(N){throw de.error(N||"Failed"),N}},m=()=>{d(null),i(!0)},h=v=>{d(v),i(!0)},p=v=>{d(v),a(!0)},b=async()=>{if(u)try{await t(ab(u.ID)).unwrap(),de.success("Deleted")}catch(v){console.error("Failed to delete travel order:",v),de.error("Failed to delete travel order")}finally{a(!1),d(null)}},g=()=>{i(!1),d(null)},x=()=>{c(!1),d(null)},y=[{key:"TransactionStatus",header:"Status",sortable:!0,render:v=>{let N="bg-neutral-100 text-neutral-800";switch(v){case"Requested":N="bg-warning-100 text-warning-800";break;case"Approval Progress":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:v})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v=>{var C;const N=[];return((C=v.Transaction)==null?void 0:C.Status)==="Rejected"&&(N.push({icon:Se,title:"Edit",onClick:()=>h(v),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N.push({icon:Me,title:"Delete",onClick:()=>p(v),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),N},loading:r})}),o.jsx(se,{isOpen:s,onClose:g,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(h0e,{initialData:u,onSubmit:f,onClose:g})}),o.jsx(se,{isOpen:l,onClose:x,title:"Travel Order Details",size:"lg",children:u&&o.jsx(p0e,{to:u,onClose:x,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(se,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const v0e="https://staging-engine.testthelink.online";function j0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=oe({JEVType:P().required("Type is required"),FundsID:P().required("Fund is required"),InvoiceDate:Re().required("Date is required"),SAI_No:P(),Remarks:P().required("Particulars are required"),ObligationRequestNumber:P(),CheckNumber:P(),CheckDate:Re(),AccountingEntries:tr().of(oe({ResponsibilityCenter:P().required("Required"),AccountExplanation:P().required("Required"),Debit:W().nullable().typeError("Must be a number").required("Debit is required"),Credit:W().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=tt({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(v,N)=>{const C=v.AccountingEntries.reduce((A,T)=>A+(parseFloat(T.Debit)||0),0),j=v.AccountingEntries.reduce((A,T)=>A+(parseFloat(T.Credit)||0),0);if(console.log(v),C!==j){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const A in v)A==="Attachments"?v.Attachments.forEach((T,k)=>{T.ID?S.append(`Attachments[${k}].ID`,T.ID):S.append(`Attachments[${k}].File`,T.File)}):A!=="CheckDate"&&S.append(A,JSON.stringify(v[A]));S.append("CheckDate",JSON.stringify(v.CheckDate||v.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(A){console.error(A)}finally{N(!1)}}}),h=v=>{d(v.target.value),m.handleChange(v)},{values:p,handleChange:b,handleBlur:g,errors:x,touched:y}=m;return o.jsx(GT,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Type",name:"JEVType",options:n,value:p.JEVType,onChange:h,onBlur:g,error:x.JEVType,touched:y.JEVType,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundsID",options:a,value:p.FundsID,onChange:b,onBlur:g,error:x.FundsID,touched:y.FundsID,required:!0}),o.jsx(I,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:p.InvoiceDate,onChange:b,onBlur:g,error:x.InvoiceDate,touched:y.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:p.ObligationRequestNumber,onChange:b,onBlur:g,error:x.ObligationRequestNumber,touched:y.ObligationRequestNumber}),o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",value:p.Remarks,onChange:b,onBlur:g,error:x.Remarks,touched:y.Remarks,required:!0}),o.jsx(I,{type:"text",label:"Payee",name:"Payee",value:p.Payee,onChange:b,onBlur:g,error:x.Payee,touched:y.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"DV No",name:"SAI_No",value:p.SAI_No,onChange:b,onBlur:g,error:x.SAI_No,touched:y.SAI_No}),o.jsx(I,{type:"text",label:"Check No",name:"CheckNumber",value:p.CheckNumber,onChange:b,onBlur:g,error:x.CheckNumber,touched:y.CheckNumber}),o.jsx(I,{type:"date",label:"Check Date",name:"CheckDate",value:p.CheckDate,onChange:b,onBlur:g,error:x.CheckDate,touched:y.CheckDate})]}),o.jsx("hr",{}),o.jsx(en,{name:"AccountingEntries",render:({remove:v,push:N})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(jt,{type:"button",onClick:()=>N({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),p.AccountingEntries.map((C,j)=>{var T,k,E,O,M,R,$,B,z,D,_,F,Y,G;const S=parseFloat(C.Debit)>0,A=parseFloat(C.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(I,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${j}].ResponsibilityCenter`,options:s,value:C.ResponsibilityCenter,onChange:b,onBlur:g,error:(k=(T=x.AccountingEntries)==null?void 0:T[j])==null?void 0:k.ResponsibilityCenter,touched:(O=(E=y.AccountingEntries)==null?void 0:E[j])==null?void 0:O.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(qr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:te=>m.setFieldValue(`AccountingEntries[${j}].AccountExplanation`,(te==null?void 0:te.value)||""),name:`AccountingEntries[${j}].AccountExplanation`,value:i.find(te=>te.value===C.AccountExplanation)||null,onBlur:g,required:!0}),((R=(M=x.AccountingEntries)==null?void 0:M[j])==null?void 0:R.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[j].AccountExplanation})]}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${j}].Debit`,value:C.Debit,onChange:te=>{te.target.value&&parseFloat(te.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Credit`,0),b(te)},onBlur:g,error:(B=($=x.AccountingEntries)==null?void 0:$[j])==null?void 0:B.Debit,touched:(D=(z=y.AccountingEntries)==null?void 0:z[j])==null?void 0:D.Debit,required:!A}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${j}].Credit`,value:C.Credit,onChange:te=>{te.target.value&&parseFloat(te.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Debit`,0),b(te)},onBlur:g,error:(F=(_=x.AccountingEntries)==null?void 0:_[j])==null?void 0:F.Credit,touched:(G=(Y=y.AccountingEntries)==null?void 0:Y[j])==null?void 0:G.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(jt,{type:"button",onClick:()=>v(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:p.AccountingEntries.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:v,push:N})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(jt,{type:"button",onClick:()=>N({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(C=p.Attachments)==null?void 0:C.map((j,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${v0e}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${S}].File`,A.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(jt,{type:"button",onClick:()=>v(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(jt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(jt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const Rj="https://staging-engine.testthelink.online",w0e=[],vc=L("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sb=L("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Rj}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=L("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${Rj}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),ob=L("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Rj}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),C0e=xe({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vc.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(vc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=w0e}).addCase(sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),N0e=C0e.reducer;function S0e(){var C;const{departments:t}=q(j=>j.departments),{accounts:e}=q(j=>j.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=ie(),{journalEntries:s,isLoading:i}=q(j=>j.journalEntries),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[h,p]=w.useState(null);w.useEffect(()=>{a(vc()),a(rr()),a(br())},[a]);const b=()=>{d(null),c(!0)},g=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},y=async()=>{if(h)try{await a(ob(h.LinkID)).unwrap(),de.success("Deleted"),a(vc())}catch(j){console.error("Failed to delete journal entry:",j),de.error("Failed to delete journal entry")}finally{m(!1),p(null)}},v=async j=>{console.log({values:j});try{u?await a(HA({journalEntry:j,id:u.ID})).unwrap():await a(sb(j)).unwrap(),de.success("Success"),a(vc())}catch(S){throw de.error(S||"Failed"),S}finally{c(!1),d(null)}},N=[{key:"Status",header:"Status",sortable:!0,render:j=>{let S="bg-neutral-100 text-neutral-800";switch(j){case"Requested":S="bg-warning-100 text-warning-800";break;case"Posted":S="bg-primary-100 text-primary-800";break;case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:j})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:N,data:s,actions:j=>{const S=[];return j.Status==="Rejected"&&(S.push({icon:Se,title:"Edit",onClick:()=>g(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S.push({icon:Me,title:"Delete",onClick:()=>x(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),S},loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(se,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(j0e,{typeOptions:r,fundOptions:n,centerOptions:t.filter(j=>j.Active).map(j=>({label:j.Name,value:j.ID})),accountOptions:e.filter(j=>j.Active).map(j=>({label:j.AccountCode+" "+j.Name,value:j.ID})),initialData:u?{...u,AccountingEntries:((C=u.JournalEntries)==null?void 0:C.map(j=>{const S=e.find(A=>A.AccountCode===j.AccountCode&&A.Name===j.AccountName);return{ResponsibilityCenter:j.ResponsibilityCenter||"",AccountExplanation:(S==null?void 0:S.ID)||"",PR:j.PR||"",Debit:j.Debit||0,Credit:j.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:v})}),o.jsxs(se,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function A0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({DateStart:P().required("Start Date is required"),DateEnd:P().required("End Date is required"),ChartOfAccountID:P().required("Chart of Accounts is required"),FundID:P().required("Fund is required"),DisbursementType:P().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b})=>o.jsxs(Le,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:p,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:p,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:p,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:e.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(I,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(g=>({value:g.value,label:g.label})),value:d.DisbursementType,onChange:h,onBlur:p,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const k0e="https://staging-engine.testthelink.online",I0e={disbursementJournals:[],isLoading:!1,error:null},ib=L("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${k0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),s1=L("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),oU=xe({name:"disbursementJournal",initialState:I0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(s1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s1.fulfilled,e=>{e.isLoading=!1}).addCase(s1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:T0e}=oU.actions,E0e=oU.reducer;function P0e(){const t="https://staging-engine.testthelink.online",e=ie(),{disbursementJournals:r,isLoading:n,error:a}=q(m=>m.disbursementJournal),s=q(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=q(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(T0e()),e(br()),e(Gt())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(h),!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),b=h.headers.get("Content-Disposition");let g=`Disbursement_Journals_${m.DisbursementType}.xlsx`;b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(h){console.error("Export failed:",h),U.error(h.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(ib(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(A0e,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:u,data:r,loading:n,pagination:!0})})]})}function O0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=oe({DateStart:P().required("Start Date is required"),DateEnd:P().required("End Date is required"),FundID:P().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx($e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const D0e="https://staging-engine.testthelink.online",_0e={generalJournals:[],isLoading:!1,error:null},lb=L("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${D0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),o1=L("generalJournal/exportGeneralJournals",async t=>!0),iU=xe({name:"generalJournal",initialState:_0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(o1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o1.fulfilled,e=>{e.isLoading=!1}).addCase(o1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:$0e}=iU.actions,R0e=iU.reducer;function M0e(){const t="https://staging-engine.testthelink.online",e=ie(),{generalJournals:r,isLoading:n,error:a}=q(d=>d.generalJournal),{funds:s}=q(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e($0e()),e(Gt())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Journal.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),U.error(f.message||"Failed to export general journal")}},u=d=>{e(lb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(O0e,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:r,loading:n,pagination:!0})})]})}function L0e({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=oe({FiscalYearID:P().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx($e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Le,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:f,children:"Search"}),o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const Zm="https://staging-engine.testthelink.online",F0e={beginningBalance:[],isLoading:!1,error:null},ki=L("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Zm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),cb=L("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Zm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ub=L("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Zm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),db=L("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Zm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fb=L("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Zm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lU=xe({name:"beginningBalance",initialState:F0e,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(ki.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ki.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(ki.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:M$}=lU.actions,B0e=lU.reducer;function q0e({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=oe({FiscalYearID:P().required("Fiscal Year is required"),FundsID:P().required("Funds are required"),BeginningBalance:W().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:P().required("Chart of Accounts is required")}),l=tt({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(I,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(I,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(qr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function V0e({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=oe({PreviousFiscalYearID:P().required("Previous Fiscal Year is required"),NextFiscalYearID:P().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=tt({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(I,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function U0e(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function z0e(){const t=q(O=>{var M;return((M=O.chartOfAccounts)==null?void 0:M.accounts)||[]}),{funds:e}=q(O=>O.funds),r=ie(),{fiscalYears:n}=q(O=>O.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=q(O=>O.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,p]=w.useState(!1),[b,g]=w.useState(null),[x,y]=w.useState(null);w.useEffect(()=>{r(M$()),r(ln()),r(Gt()),r(br())},[r]);const v=async O=>{try{f?await r(ub(O)).unwrap():await r(cb(O)).unwrap(),de.success("Success"),x&&await r(ki(x)).unwrap()}catch(M){de.error(M||"Failed")}finally{c(!1)}},N=async O=>{try{await r(db(O)).unwrap(),r(M$()),await r(ki({FiscalYearID:O.NextFiscalYearID})).unwrap(),x&&await r(ki(x)).unwrap(),de.success("Success")}catch(M){de.error(M||"Transfer failed")}finally{d(!1)}},C=()=>{m(null),c(!0)},j=O=>{m(O),c(!0)},S=O=>{g(O),p(!0)},A=async()=>{if(b)try{await r(fb(b.ID)).unwrap(),p(!1),g(null),de.success("Deleted")}catch(O){de.error(O||"Failed")}},T=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],k=[{icon:Se,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],E=async(O,{setSubmitting:M})=>{try{y(O),await r(ki(O)).unwrap()}catch(R){console.error("Fetch failed:",R)}finally{M(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(L0e,{fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),onSubmit:E,onAddClick:C,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(se,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(q0e,{onSubmit:v,initialData:f,fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),fundsOptions:e.map(O=>({value:O.ID,label:O.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(O=>({value:O.ID,label:`${O.AccountCode} - ${O.Name} - [${U0e(O.Description,50)}]`}))})}),o.jsx(se,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(V0e,{onSubmit:N,fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),onClose:()=>d(!1)})}),o.jsxs(se,{isOpen:h,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',b==null?void 0:b.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:T,actions:k,data:a,loading:s,pagination:!0})})]})}const W0e=oe().shape({ResponsibilityCenter:P().required("Department is required"),OfficeUnitProject:P().required("Section is required"),ContraAccountID:P().required("Charge Account is required"),InvoiceNumber:P().required("PR Number is required"),SAI_No:P(),ObligationRequestNumber:P(),InvoiceDate:Re().required("PR Date is required"),SAIDate:Re(),ALOBSDate:Re(),Remarks:P().required("Purpose is required"),Items:tr().of(oe({ItemID:P().required("Required"),Quantity:P().required("Required"),Unit:P().required("Required"),Cost:W().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function H0e({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx($e,{initialValues:u,validationSchema:W0e,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:p,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:p,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:p,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:p,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:p,error:f.SAI_No,touched:m.SAI_No}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:p,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:p,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:p,error:f.SAIDate,touched:m.SAIDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:p,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:p,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(en,{name:"Items",render:({remove:g,push:x})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(jt,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((y,v)=>{var N,C,j,S,A,T,k,E,O,M,R,$,B,z;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(qr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:D=>b(`Items[${v}].ItemID`,(D==null?void 0:D.value)||""),name:`Items[${v}].ItemID`,value:s.find(D=>D.value===y.ItemID)||null,onBlur:p,required:!0}),((C=(N=f.Items)==null?void 0:N[v])==null?void 0:C.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[v].ItemID})]}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${v}].Quantity`,value:y.Quantity,onChange:h,onBlur:p,error:(S=(j=f.Items)==null?void 0:j[v])==null?void 0:S.Quantity,touched:(T=(A=m.Items)==null?void 0:A[v])==null?void 0:T.Quantity,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${v}].Unit`,value:y.Unit,onChange:h,onBlur:p,options:i,error:(E=(k=f.Items)==null?void 0:k[v])==null?void 0:E.Unit,touched:(M=(O=m.Items)==null?void 0:O[v])==null?void 0:M.Unit,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[200px]",type:"number",label:"Cost",name:`Items[${v}].Cost`,value:y.Cost,onChange:h,onBlur:p,error:($=(R=f.Items)==null?void 0:R[v])==null?void 0:$.Cost,touched:(z=(B=m.Items)==null?void 0:B[v])==null?void 0:z.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(jt,{type:"button",onClick:()=>g(v),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},v)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,v)=>y+(parseFloat(v.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,v)=>y+(parseFloat(v.Cost)||0)*(parseFloat(v.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Mj="https://staging-engine.testthelink.online",G0e=[],Y0e={purchaseRequests:G0e,isLoading:!1,error:null},mb=L("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hb=L("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Mj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pb=L("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Mj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gb=L("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Mj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K0e=xe({name:"purchaseRequests",initialState:Y0e,reducers:{},extraReducers:t=>{t.addCase(mb.pending,e=>{e.isLoading=!0}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hb.pending,e=>{e.isLoading=!0}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gb.pending,e=>{e.isLoading=!0}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),J0e=K0e.reducer;function X0e(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=q(C=>C.departments),s=q(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),{items:i}=q(C=>C.items),{itemUnits:l}=q(C=>C.itemUnits),{purchaseRequests:c,isLoading:u}=q(C=>C.purchaseRequests),[d,f]=w.useState(!1),[m,h]=w.useState(null),p=ie();w.useEffect(()=>{p(rr()),p(br()),p(Fa()),p(ga()),p(mb())},[]);const b=()=>{n(null),e(!0)},g=()=>{e(!1),n(null)},x=async()=>{if(m)try{await p(gb(m.ID)).unwrap(),f(!1),h(null),de.success("Deleted")}catch(C){de.error(C||"Failed")}},y=async C=>{try{const j=C.Items.reduce((T,k)=>T+(parseFloat(k.Cost)||0),0),S=C.Items.reduce((T,k)=>T+(parseFloat(k.Cost)||0)*(parseFloat(k.Quantity)||0),0),A={...C,Total:j.toFixed(2),AmountReceived:S.toFixed(2)};r?await p(pb(A)).unwrap():await p(hb(A)).unwrap(),de.success("Success")}catch(j){de.error(j||"Failed")}finally{e(!1)}},v=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],N=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:v,actions:N,data:c,loading:u})}),o.jsx(se,{isOpen:t,onClose:g,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(H0e,{initialData:r,departmentsOptions:a.map(C=>({value:C.ID,label:C.Name})),chartOfAccountsOptions:s.map(C=>({value:C.ID,label:C.Name})),itemsOptions:i.map(C=>({value:C.ID,label:C.Name})),itemsUnitsOptions:l.map(C=>({value:C.ID,label:C.Name})),onSubmit:y,onClose:g})}),o.jsxs(se,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}oe({number:P().required("Number is required"),date:Re().required("Date is required"),payee:P().required("Payee is required"),address:P().required("Address is required"),fund:P().required("Fund is required"),fiscalYear:P().required("Fiscal Year is required"),project:P().required("Project is required")});function Z0e({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:P().required("Required"),ChargeAccountID:P().required("Required"),ItemID:P().required("Required"),Remarks:P().required("Required"),Price:W().required("Required"),Quantity:W().required("Required"),ItemUnitID:P().required("Required"),TAXCodeID:P().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:p=>{const b=i.find(N=>String(N.ID)===String(p.TAXCodeID)),g=Yf({price:p.Price,quantity:p.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(N=>String(N.value)===String(p.ResponsibilityCenter)),y=l.find(N=>String(N.value)===String(p.ChargeAccountID)),v=n.find(N=>String(N.value)===String(p.ItemID));t({...p,...g,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:v?v.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),g=Yf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const cU="https://staging-engine.testthelink.online",Q0e={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},tf=L("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),i1=L("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),yb=L("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${cU}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),bb=L("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),uU=xe({name:"fundUtilizations",initialState:Q0e,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(tf.pending,e=>{e.isLoading=!0}).addCase(tf.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(tf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(i1.pending,e=>{e.isLoading=!0}).addCase(i1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(i1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yb.pending,e=>{e.isLoading=!0}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bb.pending,e=>{e.isLoading=!0}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:q8e}=uU.actions,eje=uU.reducer,L$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],tje=oe().shape({obrNo:P().required("No. is required"),obrDate:Re().required("Date is required"),payeeType:P().required("Payee type is required"),payeeId:P().required("Payee selection is required"),fund:P().required("Fund is required"),fiscalYear:P().required("Fiscal Year is required"),project:P().required("Project is required"),accountingEntries:tr().min(1,"At least one item is required")});function rje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:b=[],taxCodeFull:g=[]}){const x=ie(),y=w.useRef(null),[v,N]=w.useState(!1),[C,j]=w.useState(null),[S,A]=w.useState(null),[T,k]=w.useState(!1),[E,O]=w.useState([]),M=(D,_)=>{const F=D.reduce((te,fe)=>te+Number(fe.amount||0),0),Y=_.reduce((te,fe)=>te+Number(fe.amount||0),0),G=F-Y;return{grossAmount:F,totalTaxes:Y,netAmount:G}},R={description:"",amount:"",accountCode:""},$={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[R],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{N(!0),M(D.items,D.taxes);const _=new FormData;D.payeeType==="Employee"?(_.append("EmployeeID",D.payeeId),_.append("VendorID",""),_.append("CustomerID","")):D.payeeType==="Vendor"?(_.append("EmployeeID",""),_.append("VendorID",D.payeeId),_.append("CustomerID","")):D.payeeType==="Individual"&&(_.append("EmployeeID",""),_.append("VendorID",""),_.append("CustomerID",D.payeeId)),_.append("PayeeType",D.payeeType),_.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),_.append("Address",(C==null?void 0:C.StreetAddress)||""),_.append("InvoiceNumber",D.obrNo),_.append("InvoiceDate",D.obrDate);const F=D.accountingEntries.reduce((ae,X)=>ae+Number(X.subtotal||0),0),Y=D.accountingEntries.reduce((ae,X)=>ae+Number(X.ewt||0),0),G=D.accountingEntries.reduce((ae,X)=>ae+Number(X.withheld||0),0),te=D.accountingEntries.reduce((ae,X)=>ae+Number(X.vat||0),0),fe=D.accountingEntries.reduce((ae,X)=>ae+Number(X.discount||0),0);_.append("Total",F.toFixed(2)),_.append("EWT",Y.toFixed(2)),_.append("WithheldAmount",G.toFixed(2)),_.append("Vat_Total",te.toFixed(2)),_.append("Discounts",fe.toFixed(2)),_.append("FundsID",D.fund),_.append("FiscalYearID",D.fiscalYear),_.append("ProjectID",D.project),_.append("TravelID",""),_.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ae,X)=>{ae.ID?_.append(`Attachments[${X}].ID`,ae.ID):_.append(`Attachments[${X}].File`,ae.File)});const ke=t?bb({formData:_,id:t.ID}):yb(_);t?(_.append("IsNew",!1),_.append("LinkID",t.LinkID)):_.append("IsNew",!0),x(ke).unwrap().then(()=>{de.success("Success"),x(tf()),e()}).catch(ae=>{de.error((ae==null?void 0:ae.message)||"Failed to submit"),console.error("Error submitting DV:",ae)}).finally(()=>{N(!1)})},z=({type:D})=>{switch(D){case"Employee":return o.jsx(yE,{className:"w-5 h-5"});case"Vendor":return o.jsx(xT,{className:"w-5 h-5"});case"Individual":return o.jsx(z0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:y,initialValues:$,validationSchema:tje,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:_,touched:F,handleChange:Y,handleBlur:G,setFieldValue:te,isValid:fe})=>{M(D.items,D.taxes);const ae=L$.map(re=>({value:re.value,label:re.label})).find(re=>re.value===D.payeeType),X=re=>{j(null),te("payeeType",re),te("payeeName",""),te("payeeId",""),te("payeeAddress",""),te("officeUnitProject",""),te("orsNumber","")},ce=re=>{let K=null;switch(D.payeeType){case"Employee":K=s.find(H=>H.ID===re);break;case"Vendor":K=i.find(H=>H.ID===re);break;case"Individual":K=l.find(H=>H.ID===re);break}j(K),te("payeeName",K==null?void 0:K.Name),te("payeeId",K==null?void 0:K.ID)},Q=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:L$.map(re=>o.jsxs("button",{type:"button",onClick:()=>X(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(z,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ae==null?void 0:ae.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:Q(D.payeeType),value:Q(D.payeeType).find(re=>re.value===D.payeeId)||null,onChange:re=>ce(re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ae==null?void 0:ae.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ae==null?void 0:ae.label)==="Employee"||(ae==null?void 0:ae.label)==="Vendor"||(ae==null?void 0:ae.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"No.",name:"obrNo",value:D.obrNo,onChange:Y,onBlur:G,error:_.obrNo,touched:F.obrNo,required:!0}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:Y,onBlur:G,error:_.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:u,value:u.find(re=>re.value===D.fund)||null,onChange:re=>te("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:f,value:f.find(re=>re.value===D.fiscalYear)||null,onChange:re=>te("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(qr,{options:d,value:d.find(re=>re.value===D.project)||null,onChange:re=>te("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),_.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.project})]})]}),o.jsx(en,{name:"accountingEntries",children:({push:re,remove:K})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((H,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:H.responsibilityCenterName}),o.jsx("span",{children:H.Remarks}),o.jsx("span",{children:H.itemName}),o.jsx("span",{children:H.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(H.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>K(me),className:"text-red-600 text-xs",children:o.jsx(Pde,{className:"w-4 h-4"})})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((H,me)=>H+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(se,{isOpen:T,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(Z0e,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:H=>{re(H),k(!1)}})})]})}),_.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.accountingEntries}),o.jsx("hr",{}),o.jsx(en,{name:"Attachments",render:({remove:re,push:K})=>{var H;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>K({File:null}),children:"+ Attachment"})]}),(H=D.Attachments)==null?void 0:H.map((me,je)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${je}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${je+1}`}),o.jsx("input",{type:"file",name:`Attachments[${je}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Te=>te(`Attachments[${je}].File`,Te.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(jt,{type:"button",onClick:()=>re(je),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},je))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function nje(){const t=ie(),{fundUtilizations:e,isLoading:r}=q(j=>j.fundUtilizations),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[p,b]=w.useState("list"),[g,x]=w.useState(null);w.useEffect(()=>{t(tf()),t(on()),t(Nn()),t(La()),t(rr()),t(Ba()),t(Gt()),t(ln()),t(Fa()),t(Gn()),t(ga()),t(ko())},[t]);const y=()=>{x(null),b("form")},v=j=>{x(j),b("form")},N=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let S="bg-neutral-100 text-neutral-800";switch(j){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const S=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&S.push({icon:Se,title:"Edit",onClick:()=>v(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(rje,{initialData:g,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const aje=oe({Year:W().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:P().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:P().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:P().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:P().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:P().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:P().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:P().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:P().required("Citizenship is required"),ICRNo:P().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:P().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:P(),Occupation:P().min(2,"Profession must be at least 2 characters"),Gender:P().required("Sex is required"),HeightFeet:W().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:W().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:W().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:W().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:W().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:W().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:W().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:W().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:W().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:W().min(0,"Real property tax cannot be negative").nullable(),Total:W().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:W().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:W().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:P().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:P().max(500,"Amount in words cannot exceed 500 characters")}),F$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=p=>{if(!p)return"";const b=parseFloat(p);return Math.floor(b/12).toString()},u=p=>{if(!p)return"";const b=parseFloat(p);return Math.round(b%12).toString()},f=tt({initialValues:(()=>{const p=(e==null?void 0:e.Customer)||t,b=(p==null?void 0:p.Height)||"",g=b?c(b):"",x=b?u(b):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(p==null?void 0:p.TIN)||"",LastName:(p==null?void 0:p.LastName)||"",FirstName:(p==null?void 0:p.FirstName)||"",MiddleName:(p==null?void 0:p.MiddleName)||"",Address:(p==null?void 0:p.StreetAddress)||"",Citizenship:(p==null?void 0:p.Citizenship)||"",ICRNo:(p==null?void 0:p.ICRNumber)||"",PlaceOfBirth:(p==null?void 0:p.PlaceofBirth)||"",CivilStatus:(p==null?void 0:p.CivilStatus)||"",Occupation:(p==null?void 0:p.Occupation)||"",Gender:(p==null?void 0:p.Gender)||"",HeightFeet:g,HeightInches:x,Weight:(p==null?void 0:p.Weight)||"",BirthDate:(p==null?void 0:p.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:aje,onSubmit:p=>{const g=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(p)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(p)};n(g)}}),m=p=>{const b={...p,Year:String(p.Year),Height:String(p.Height),Weight:String(p.Weight),InputOne:Number(p.BusinessEarnings),InputTwo:Number(p.OccupationEarnings),InputThree:Number(p.IncomeProperty),OutputOne:Number(p.BusinessTaxDue),OutputTwo:Number(p.OccupationTaxDue),OutputThree:Number(p.PropertyTaxDue),Municipality:p.PlaceIssued,AmountPaid:Number(p.AmountReceived),Words:p.AmountinWords,Profession:p.Occupation};return delete b.BusinessEarnings,delete b.OccupationEarnings,delete b.IncomeProperty,delete b.BusinessTaxDue,delete b.OccupationTaxDue,delete b.PropertyTaxDue,delete b.PlaceIssued,delete b.AmountReceived,delete b.AmountinWords,delete b.Occupation,b},h=p=>({name:p,value:f.values[p]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[p]&&f.errors[p],disabled:a});return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(gE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(z0,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(I,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(I,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(I,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(I,{label:"Citizenship",...h("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(I,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(I,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(I,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation})}),o.jsx("div",{children:o.jsx(I,{label:"Sex",...h("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Height (feet)",...h("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(I,{label:"Height (inches)",...h("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches})}),o.jsx("div",{children:o.jsx(I,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx($6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(I,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(I,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(I,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Wi(f.values.AmountReceived)||"-"})]})})]})}),o.jsx(I,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(jt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([p,b])=>o.jsx("li",{children:b},p))})]})]})})},Qm="https://staging-engine.testthelink.online",sje=[],jc=L("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),l1=L("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=L("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),c1=L("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),vb=L("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),dU=xe({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=sje}).addCase(l1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(l1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(c1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(c1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:V8e}=dU.actions,oje=dU.reducer;function ije(){const t=ie(),{records:e,isLoading:r}=q(R=>R.communityTax),{customers:n,isLoading:a}=q(R=>R.customers),[s,i]=w.useState("list"),[l,c]=w.useState(null),[u,d]=w.useState(""),[f,m]=w.useState(!1),[h,p]=w.useState({});w.useEffect(()=>{t(jc()),t(Nn())},[t]);const b=()=>{c(null),i("form")},g=R=>{c(R),i("details")},x=R=>{c(R),i("form"),console.log("Edit certificate:",R),M(R.CustomerID)},y=R=>{console.log("Print certificate:",R)},v=()=>{i("list"),c(null),p(null)},N=async R=>{try{await t(vb(R.ID)).unwrap(),t(jc())}catch($){console.error("Error deleting certificate:",$)}},C=e==null?void 0:e.filter(R=>{var B,z,D,_;const $=u.toLowerCase();return((B=R==null?void 0:R.LinkID)==null?void 0:B.toLowerCase().includes($))||((z=R==null?void 0:R.CustomerName)==null?void 0:z.toLowerCase().includes($))||((_=(D=R==null?void 0:R.Customer)==null?void 0:D.StreetAddress)==null?void 0:_.toLowerCase().includes($))}),j=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:R=>S(R),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:R=>S(R),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:R=>new Date(R).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:R=>A(R)}],S=R=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(R||0),A=R=>{let $="bg-neutral-100 text-neutral-800";switch(R){case"Requested":$="bg-success-100 text-success-800";break;case"Posted":$="bg-warning-100 text-warning-800";break;case"Cancelled":$="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$}`,children:R})},T=[{icon:Lm,title:"View",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:N,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],k=()=>{m(!0)},E=()=>{m(!1)},O=async R=>{try{await t(xb(R)).unwrap(),t(jc()),U.success("Certificate saved successfully.")}catch($){console.error("Error saving certificate:",$),U.error("Failed to save certificate. Please try again.")}finally{v()}},M=R=>{const $=n.find(B=>B.ID===R);p($)};return o.jsxs(o.Fragment,{children:[s==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:C,actions:T,loading:r||a,onRowClick:g})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx($t,{options:(n==null?void 0:n.map(R=>({label:R.Name,value:R.ID})))||[],placeholder:"Choose Citizen",selectedValue:h==null?void 0:h.ID,onSelect:M,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:k,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:h?o.jsx(F$,{selectedCustomer:h,initialData:l,onCancel:v,onSubmitForm:O},h==null?void 0:h.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>x(l),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(l),className:"btn btn-outline flex items-center",children:[o.jsx(mu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(F$,{initialData:l,onCancel:v,isReadOnly:!0})})]}),o.jsx(se,{isOpen:f,onClose:E,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const lje=oe().shape({Year:P().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:P().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:P().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:P().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:P().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:P().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Re().required("Registration date is required"),KindofOrganization:P().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:P().required("Place of incorporation is required"),NatureOfOrganization:P().required("Business nature is required"),BasicTax:W().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:W().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:W().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:W().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:W().typeError("Must be a number").min(0,"Cannot be negative"),Total:W().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:W().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:W().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:P().max(500,"Remarks must be less than 500 characters"),AmountinWords:P().max(500,"Amount in words cannot exceed 500 characters")}),B$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=tt({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:lje,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(gE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(_6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(I,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(I,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx($6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(I,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(I,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(I,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(I,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(I,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Wi(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(jt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},eh="https://staging-engine.testthelink.online",cje=[],wc=L("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${eh}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),u1=L("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${eh}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),jb=L("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${eh}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),d1=L("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${eh}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),wb=L("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${eh}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),fU=xe({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=cje}).addCase(u1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(u1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(d1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(d1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:U8e}=fU.actions,uje=fU.reducer;function dje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),{records:c,isLoading:u}=q(E=>E.corporateCommunityTax),{vendorDetails:d,isLoading:f}=q(E=>E.vendorDetails),m=ie();w.useEffect(()=>{m(La()),m(wc())},[m]);const h=()=>{n(null),e("form")},p=E=>{n(E),e("details")},b=E=>{n(E),console.log("Edit certificate:",E),k(E.CustomerID),e("form")},g=E=>{console.log("Print certificate:",E)},x=()=>{e("list"),n(null),l(null)},y=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:E=>v(E),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:E=>v(E),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:E=>v(E),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:E=>v(E),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:E=>N(E)}],v=E=>E>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(E):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(E),N=E=>{let O="bg-neutral-100 text-neutral-800";switch(E){case"Posted":O="bg-green-100 text-green-800";break;case"Requested":O="bg-yellow-100 text-yellow-800";break;case"Cancelled":O="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O}`,children:E})},j=[{icon:Lm,title:"View",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:async E=>{try{await m(wb(E.ID)).unwrap(),m(wc()),console.log("Certificate deleted and data reFetched"),U.success("Certificate deleted successfully.")}catch(O){console.error("Error deleting certificate:",O),U.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],S=()=>{s(!0)},A=()=>{s(!1)},T=async E=>{try{await m(jb(E)).unwrap(),m(wc()),U.success("Certificate saved successfully.")}catch(O){console.error("Error saving certificate:",O),U.error("Failed to save certificate. Please try again.")}finally{x()}},k=E=>{const O=d.find(M=>M.ID===E);l(O),console.log("Selected vendor:",O)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:y,data:c,actions:j,loading:f||u,onRowClick:p})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx($t,{options:(d==null?void 0:d.map(E=>({label:E.Name,value:E.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:k,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:S,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(B$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:T,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>b(r),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>g(r),className:"btn btn-outline flex items-center",children:[o.jsx(mu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(B$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(se,{isOpen:a,onClose:A,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function fje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Lm,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await W_.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(p){console.error("Validation errors:",p.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx($e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:W_,onSubmit:f,children:({values:m,errors:h,touched:p,handleChange:b,handleBlur:g,isSubmitting:x})=>o.jsxs(Le,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:b,onBlur:g,error:h.date,touched:p.date}),o.jsx(I,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:b,onBlur:g,error:h.period,touched:p.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:b,onBlur:g,error:h.stallNumber,touched:p.stallNumber}),o.jsx(I,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:b,onBlur:g,error:h.stallType,touched:p.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(I,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:b,onBlur:g,error:h.stallOwner,touched:p.stallOwner}),o.jsx(I,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:b,onBlur:g,error:h.amount,touched:p.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Saving...":r?"Update":"Save"})]})]})})})]})}const mje=oe().shape({CustomerName:P().required("Name is required"),CustomerID:W(),DeceasedCustomerName:P().required("Deceased name is required"),DeceasedCustomerID:W(),Nationality:P().required("Nationality is required"),NationalityID:W().required("Nationality is required"),Age:W().required("Age is required").min(0,"Age must be positive"),Sex:P().required("Sex is required"),DeathDate:Re().required("Date of death is required"),CauseofDeath:P().required("Cause of death is required"),Cementery:P().required("Cemetery name is required"),BurialType:P().required("Service type is required"),Infectious:Mo(),Embalmed:Mo(),Disposition:P().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:P().required("Disposition remarks are required")}),InvoiceDate:Re().required("Invoice date is required"),paymentMethod:P().required("Payment method is required"),Total:W().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:P(),Remarks:P()}),hje="https://staging-engine.testthelink.online";function pje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(p,b,g)=>{const y=Array.from(p.target.files).map(v=>v);b("Attachments",[...g.Attachments,...y])},u=(p,b,g)=>{const x=[...g.Attachments];x.splice(p,1),b("Attachments",x)},d=(p,b)=>{const g=p.target.value;b("BurialType",g),i(g!=="INTER")},f=async(p,{setSubmitting:b})=>{console.log("Form values:",p);try{await r(p),e()}catch(g){console.error("Submission failed:",g),U.error(g.message||"Submission failed. Please try again.")}finally{b(!1)}},m=a==null?void 0:a.map(p=>({value:p.ID,label:p.Name})),h=n==null?void 0:n.map(p=>({value:p.ID,label:p.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:l,validationSchema:mje,onSubmit:f,enableReinitialize:!0,children:({values:p,errors:b,touched:g,handleChange:x,setFieldValue:y,isSubmitting:v,handleBlur:N,submitCount:C})=>o.jsxs(Le,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>c(j,y,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),p.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((j,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${hje}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,y,p),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(I,{name:"InvoiceNumber",type:"text",value:p.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx($t,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const S=m.find(A=>A.value===j);y("CustomerName",(S==null?void 0:S.label)||""),y("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:p.CustomerID,error:b.CustomerName,touched:g.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx($t,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const S=m.find(A=>A.value===j);y("DeceasedCustomerName",(S==null?void 0:S.label)||""),y("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:p.DeceasedCustomerID,error:b.DeceasedCustomerName,touched:g.DeceasedCustomerName}),o.jsx($t,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:j=>{const S=h.find(A=>A.value===j);y("NationalityID",j||""),y("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:p.NationalityID,error:b.Nationality,touched:g.Nationality}),o.jsx(I,{label:"Age",name:"Age",type:"number",required:!0,value:p.Age,onChange:x,touched:g.Age,error:g.Age&&b.Age}),o.jsx(I,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:p.Sex,onChange:x,touched:g.Sex,required:!0,error:g.sex&&b.sex}),o.jsx(I,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:p.DeathDate,onChange:x,touched:g.DeathDate,error:g.DeathDate&&b.DeathDate}),o.jsx(I,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:p.CauseofDeath,onChange:x,touched:g.CauseofDeath,error:g.CauseofDeath&&b.CauseofDeath}),o.jsx(I,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:p.Cementery,onChange:x,touched:g.Cementery,error:g.Cementery&&b.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:j,checked:p.BurialType===j,onChange:S=>d(S,y),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),g.BurialType&&b.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:p.Infectious,checked:p.Infectious,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:p.Embalmed,checked:p.Embalmed,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(I,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:p.Disposition,onChange:x,onBlur:N,required:p.BurialType!=="INTER",error:g.Disposition&&b.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:p.InvoiceDate,onChange:x,onBlur:N,error:g.InvoiceDate&&b.InvoiceDate}),o.jsx(I,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:p.paymentMethod,onChange:x,onBlur:N,touched:g.paymentMethod,error:g.paymentMethod&&b.paymentMethod}),o.jsx(I,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:p.Total,onChange:x,onBlur:N,touched:g.Total,error:g.Total&&b.Total}),o.jsx(I,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:p.ReferenceNumber,onChange:x,onBlur:N,touched:g.ReferenceNumber,error:g.ReferenceNumber&&b.ReferenceNumber})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:p.Remarks,onChange:x,onBlur:N,touched:g.Remarks,error:g.Remarks&&b.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:v?"Submitting...":"Submit"})]}),C>0&&Object.keys(b).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(b).map(([j,S])=>o.jsx("li",{children:S},j))})]})]})})]})}const th="https://staging-engine.testthelink.online",gje=[],rf=L("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${th}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),f1=L("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${th}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Cb=L("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${th}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),m1=L("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${th}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Nb=L("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${th}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),mU=xe({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(rf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(rf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=gje}).addCase(f1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(f1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(f1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(m1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(m1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(m1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:z8e}=mU.actions,yje=mU.reducer;function bje(){const t=ie(),{customers:e,isLoading:r}=q(v=>v.customers),{nationalities:n,isLoading:a}=q(v=>v.nationalities),{records:s,isLoading:i}=q(v=>v.burialRecords),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Vi()),t(rf()),t(Nn())},[t]);const f=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:v=>o.jsx("div",{className:"flex items-center gap-1",children:v||""})},{key:"CustomerName",header:"Name",sortable:!0,render:v=>(v==null?void 0:v.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:v=>v||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(v,N)=>{var C;return((C=N.DocumentType)==null?void 0:C.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:v=>m(v||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:v=>v||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:v=>({1:"General Fund",2:"Special Education Fund"})[v]||""}],m=v=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(v),h=()=>{d(null),c(!0)},p=v=>{d(v),c(!0)},b=async v=>{console.log("Deleting ticket:",v);try{await t(Nb(v.ID)).unwrap(),U.success("Burial Receipt deleted successfully")}catch(N){U.error(N.message||"Failed to delete Burial Receipt")}},g=()=>{c(!1),d(null)},x=async v=>{const N=new FormData;for(const C in v)if(C!=="Attachments"){const j=typeof v[C]=="object"?JSON.stringify(v[C]):v[C];C==="TransactionItemsAll"?N.append("Items",j):N.append(C,j)}v==null||v.Attachments.forEach((C,j)=>{C.ID?N.append(`Attachments[${j}].ID`,C.ID):N.append(`Attachments[${j}].File`,C)}),u?(N.append("IsNew","false"),N.append("LinkID",u.LinkID),N.append("ID",u.ID)):N.append("IsNew","true");try{await t(Cb(N)).unwrap(),u?U.success("Burial Receipt Updated Successfully"):U.success("Burial Receipt Added Successfully"),t(rf())}catch(C){U.error(C.message||"Something went wrong")}finally{g()}},y=[{icon:va,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),o.jsxs("button",{onClick:h,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:f,data:s,className:"min-w-full divide-y divide-gray-200",actions:y,isLoading:i||a||r})}),o.jsx(se,{isOpen:l,onClose:g,title:u?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(pje,{initialData:u,onClose:g,onSubmit:x,nationalities:n,customers:e})})]})}const xje=oe().shape({InvoiceNumber:P().required("Invoice number is required"),CustomerName:P().required("Customer is required"),CustomerAge:W().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:P().required("Remarks are required"),InvoiceDate:Re().required("Invoice date is required"),Cenomar:P().required("CENOMAR is required"),MarrytoID:P().required('"Marry to" is required'),MarrytoName:P().required('"Marry to Name" is required'),MarrytoAge:W().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:P().required("Register number is required"),Total:W().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:W().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:W().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:tr()});function vje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(p){console.error("Error submitting form:",p),U.error(p.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,p,b)=>{const x=Array.from(h.target.files).map(y=>y);p("Attachments",[...b.Attachments,...x])},f=(h,p,b)=>{const g=[...b.Attachments];g.splice(h,1),p("Attachments",g)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:c,validationSchema:xje,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:p,touched:b,handleChange:g,handleBlur:x,setFieldValue:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:v=>d(v,y,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((v,N)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:v.ID?o.jsx("a",{href:`${API_URL}/uploads/${v.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:v.name||v.DataName}):v.name||v.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(N,y,h),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},N))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:g,onBlur:x,error:p.InvoiceNumber,touched:b.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx($t,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:v=>{const N=m.find(C=>C.value===v);y("CustomerName",(N==null?void 0:N.label)||""),y("CustomerID",(N==null?void 0:N.value)||"")},selectedValue:h.CustomerID,error:p.CustomerName,touched:b.CustomerName}),o.jsx(I,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:g,onBlur:x,error:p.CustomerAge,touched:b.CustomerAge,min:"1"})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:g,onBlur:x,error:p.Remarks,touched:b.Remarks}),o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:g,onBlur:x,error:p.InvoiceDate,touched:b.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:g,onBlur:x,error:p.Cenomar,touched:b.Cenomar}),o.jsx($t,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:v=>{const N=m.find(C=>C.value===v);y("MarrytoName",(N==null?void 0:N.label)||""),y("MarrytoID",(N==null?void 0:N.value)||"")},selectedValue:h.MarrytoID,error:p.MarrytoName,touched:b.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:g,onBlur:x,error:p.MarrytoAge,touched:b.MarrytoAge,min:"1"}),o.jsx(I,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:g,onBlur:x,error:p.RegisterNumber,touched:b.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:g,onBlur:x,error:p.Total,touched:b.Total,min:"0"}),o.jsx(I,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:g,onBlur:x,error:p.RemainingBalance,touched:b.RemainingBalance,min:"0"}),o.jsx(I,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:g,onBlur:x,error:p.AmountReceived,touched:b.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const rh="https://staging-engine.testthelink.online",jje=[],nf=L("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),h1=L("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Sb=L("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),p1=L("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=L("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rh}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),hU=xe({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(nf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(nf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=jje}).addCase(h1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(h1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(p1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(p1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:W8e}=hU.actions,wje=hU.reducer;function Cje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ie(),{records:s,isLoading:i}=q(g=>g.marriageRecords),{customers:l,isLoading:c}=q(g=>g.customers);w.useEffect(()=>{a(nf()),a(Nn())},[a]);const u=async g=>{console.log("Form data to save:",g);const x=new FormData;for(const y in g)if(y!=="Attachments"){const v=typeof g[y]=="object"?JSON.stringify(g[y]):g[y];y==="TransactionItemsAll"?x.append("Items",v):x.append(y,v)}g==null||g.Attachments.forEach((y,v)=>{y.ID?x.append(`Attachments[${v}].ID`,y.ID):x.append(`Attachments[${v}].File`,y)}),r?(x.append("IsNew",!1),x.append("LinkID",r.LinkID),x.append("ID",r.ID)):x.append("IsNew",!0);try{await a(Sb(x)).unwrap(),r?U.success("Marriage Receipt Updated Successfully"):U.success("Marriage Receipt Added Successfully"),a(nf())}catch(y){U.error(y.message||"Something went wrong")}finally{m()}},d=async g=>{console.log("Deleting ticket:",g);try{await a(Ab(g.ID)).unwrap(),U.success("Marriage Receipt deleted successfully")}catch(x){U.error(x.message||"Failed to delete Marriage Receipt")}},f=g=>{n(g),e(!0)},m=()=>{n(null),e(!1)},h=[{key:"Status",header:"Status",sortable:!0,render:g=>o.jsx("span",{className:`px-2 py-1 rounded ${g==="Posted"?"bg-green-100 text-green-800":g==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g})},{key:"APAR",header:"AP/AR",sortable:!0,render:g=>g||""},{key:"CustomerName",header:"Customer",sortable:!0,render:g=>(g==null?void 0:g.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:g=>p(g),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:g=>p(g||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:g=>p(g||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:g=>g?`${g}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:g=>p(g||"0.00"),className:"text-right font-medium"}],p=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(g||0),b=[{icon:Se,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:d,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ge,{columns:h,data:s,actions:b,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(se,{isOpen:t,onClose:m,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(vje,{initialData:r,customers:l,onClose:m,onSubmit:u})})]})}const pU=6048e5,Nje=864e5,gU=6e4,yU=36e5,q$=Symbol.for("constructDateFrom");function Es(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&q$ in t?t[q$](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pn(t,e){return Es(e||t,t)}let Sje={};function Lj(){return Sje}function Jf(t,e){var l,c,u,d;const r=Lj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Vx(t,e){return Jf(t,{...e,weekStartsOn:1})}function bU(t,e){const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Es(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Vx(a),i=Es(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Vx(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function V$(t){const e=Pn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Aje(t,...e){const r=Es.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function U$(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function kje(t,e,r){const[n,a]=Aje(r==null?void 0:r.in,t,e),s=U$(n),i=U$(a),l=+s-V$(s),c=+i-V$(i);return Math.round((l-c)/Nje)}function Ije(t,e){const r=bU(t,e),n=Es(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vx(n)}function Tje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Eje(t){return!(!Tje(t)&&typeof t!="number"||isNaN(+Pn(t)))}function Pje(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Oje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dje=(t,e,r)=>{let n;const a=Oje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function g1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _je={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$je={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mje={date:g1({formats:_je,defaultWidth:"full"}),time:g1({formats:$je,defaultWidth:"full"}),dateTime:g1({formats:Rje,defaultWidth:"full"})},Lje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fje=(t,e,r,n)=>Lje[t];function Zu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Bje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hje=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gje={ordinalNumber:Hje,era:Zu({values:Bje,defaultWidth:"wide"}),quarter:Zu({values:qje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zu({values:Vje,defaultWidth:"wide"}),day:Zu({values:Uje,defaultWidth:"wide"}),dayPeriod:Zu({values:zje,defaultWidth:"wide",formattingValues:Wje,defaultFormattingWidth:"wide"})};function Qu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Kje(l,f=>f.test(i)):Yje(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Yje(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Kje(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Jje(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const Xje=/^(\d+)(th|st|nd|rd)?/i,Zje=/\d+/i,Qje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ewe={any:[/^b/i,/^(a|c)/i]},twe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rwe={any:[/1/i,/2/i,/3/i,/4/i]},nwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},awe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},swe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},owe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cwe={ordinalNumber:Jje({matchPattern:Xje,parsePattern:Zje,valueCallback:t=>parseInt(t,10)}),era:Qu({matchPatterns:Qje,defaultMatchWidth:"wide",parsePatterns:ewe,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:twe,defaultMatchWidth:"wide",parsePatterns:rwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qu({matchPatterns:nwe,defaultMatchWidth:"wide",parsePatterns:awe,defaultParseWidth:"any"}),day:Qu({matchPatterns:swe,defaultMatchWidth:"wide",parsePatterns:owe,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:iwe,defaultMatchWidth:"any",parsePatterns:lwe,defaultParseWidth:"any"})},uwe={code:"en-US",formatDistance:Dje,formatLong:Mje,formatRelative:Fje,localize:Gje,match:cwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dwe(t,e){const r=Pn(t,e==null?void 0:e.in);return kje(r,Pje(r))+1}function fwe(t,e){const r=Pn(t,e==null?void 0:e.in),n=+Vx(r)-+Ije(r);return Math.round(n/pU)+1}function xU(t,e){var d,f,m,h;const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Lj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Es((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Jf(i,e),c=Es((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Jf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function mwe(t,e){var l,c,u,d;const r=Lj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=xU(t,e),s=Es((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Jf(s,e)}function hwe(t,e){const r=Pn(t,e==null?void 0:e.in),n=+Jf(r,e)-+mwe(r,e);return Math.round(n/pU)+1}function it(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Hs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return it(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):it(r+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return it(a,e.length)}},_l={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Hs.y(t,e)},Y:function(t,e,r,n){const a=xU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return it(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):it(s,e.length)},R:function(t,e){const r=bU(t);return it(r,e.length)},u:function(t,e){const r=t.getFullYear();return it(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Hs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=hwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):it(a,e.length)},I:function(t,e,r){const n=fwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Hs.d(t,e)},D:function(t,e,r){const n=dwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return it(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return it(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return it(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=_l.noon:n===0?a=_l.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=_l.evening:n>=12?a=_l.afternoon:n>=4?a=_l.morning:a=_l.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Hs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Hs.s(t,e)},S:function(t,e){return Hs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return H$(n);case"XXXX":case"XX":return pi(n);case"XXXXX":case"XXX":default:return pi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return H$(n);case"xxxx":case"xx":return pi(n);case"xxxxx":case"xxx":default:return pi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W$(n,":");case"OOOO":default:return"GMT"+pi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W$(n,":");case"zzzz":default:return"GMT"+pi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return it(n,e.length)},T:function(t,e,r){return it(+t,e.length)}};function W$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+it(s,2)}function H$(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):pi(t,e)}function pi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=it(Math.trunc(n/60),2),s=it(n%60,2);return r+a+e+s}const G$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return G$(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",G$(n,e)).replace("{{time}}",vU(a,e))},gwe={p:vU,P:pwe},ywe=/^D+$/,bwe=/^Y+$/,xwe=["D","DD","YY","YYYY"];function vwe(t){return ywe.test(t)}function jwe(t){return bwe.test(t)}function wwe(t,e,r){const n=Cwe(t,e,r);if(console.warn(n),xwe.includes(t))throw new RangeError(n)}function Cwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Swe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Awe=/^'([^]*?)'?$/,kwe=/''/g,Iwe=/[a-zA-Z]/;function Y$(t,e,r){var d,f,m,h;const n=Lj(),a=n.locale??uwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=Pn(t,r==null?void 0:r.in);if(!Eje(l))throw new RangeError("Invalid time value");let c=e.match(Swe).map(p=>{const b=p[0];if(b==="p"||b==="P"){const g=gwe[b];return g(p,a.formatLong)}return p}).join("").match(Nwe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const b=p[0];if(b==="'")return{isToken:!1,value:Twe(p)};if(z$[b])return{isToken:!0,value:p};if(b.match(Iwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const b=p.value;(jwe(b)||vwe(b))&&wwe(b,e,String(t));const g=z$[b[0]];return g(l,b,a.localize,u)}).join("")}function Twe(t){const e=t.match(Awe);return e?e[1].replace(kwe,"'"):t}function K$(t,e){const r=()=>Es(e==null?void 0:e.in,NaN),a=Dwe(t);let s;if(a.date){const u=_we(a.date,2);s=$we(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=Rwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Mwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=Pn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Pn(i+l+c,e==null?void 0:e.in)}const np={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ewe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Owe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dwe(t){const e={},r=t.split(np.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],np.timeZoneDelimiter.test(e.date)&&(e.date=t.split(np.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=np.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function _we(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function $we(t,e){if(e===null)return new Date(NaN);const r=t.match(Ewe);if(!r)return new Date(NaN);const n=!!r[4],a=ed(r[1]),s=ed(r[2])-1,i=ed(r[3]),l=ed(r[4]),c=ed(r[5])-1;if(n)return Vwe(e,l,c)?Lwe(e,l,c):new Date(NaN);{const u=new Date(0);return!Bwe(e,s,i)||!qwe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function ed(t){return t?parseInt(t):1}function Rwe(t){const e=t.match(Pwe);if(!e)return NaN;const r=y1(e[1]),n=y1(e[2]),a=y1(e[3]);return Uwe(r,n,a)?r*yU+n*gU+a*1e3:NaN}function y1(t){return t&&parseFloat(t.replace(",","."))||0}function Mwe(t){if(t==="Z")return 0;const e=t.match(Owe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return zwe(n,a)?r*(n*yU+a*gU):NaN}function Lwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Fwe=[31,null,31,30,31,30,31,31,30,31,30,31];function jU(t){return t%400===0||t%4===0&&t%100!==0}function Bwe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Fwe[e]||(jU(t)?29:28))}function qwe(t,e){return e>=1&&e<=(jU(t)?366:365)}function Vwe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Uwe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function zwe(t,e){return e>=0&&e<=59}const nh="https://staging-engine.testthelink.online",Wwe=[],Cc=L("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),b1=L("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),af=L("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),x1=L("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=L("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nh}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),wU=xe({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=Wwe}).addCase(b1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(b1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(af.pending,e=>{e.isLoading=!0,e.error=null}).addCase(af.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(af.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(x1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(x1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:H8e}=wU.actions,Hwe=wU.reducer,Gwe=oe().shape({items:P().required("Items type is required"),startTime:Re().required("Start time is required"),endTime:Re().required("End time is required").min(ol("startTime"),"End time must be after start time"),issuedBy:P().required("Issued by is required"),dateIssued:Re().required("Date issued is required"),postingPeriod:Re().required("Posting period is required"),amountIssued:W().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:P().required("Remarks are required")}),Ywe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},Kwe=({ticket:t,onClose:e})=>{const r=ie(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?Y$(K$(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?Y$(K$(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):Ywe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(af({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),de.success("Ticket updated successfully"),r(Cc())):(await r(af({IsNew:!0,...i})).unwrap(),de.success("Ticket added successfully"),r(Cc()))}catch(i){de.error(i.message||"Something went wrong")}finally{e()}};return o.jsx($e,{initialValues:n(t),validationSchema:Gwe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsx(I,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(I,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(I,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(I,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},Jwe=()=>{const t=ie(),[e,r]=w.useState(!1),[n,a]=w.useState(null),{tickets:s,isLoading:i,error:l}=q(h=>h.publicMarketTicketing);w.useEffect(()=>{t(Cc())},[t]),w.useEffect(()=>{l&&de.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{console.log("Deleting ticket:",h);try{await t(kb(h.ID)).unwrap(),de.success("Ticket deleted successfully")}catch(p){de.error(p.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:h=>new Date(h).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:h=>new Date(h).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:h=>`${h==null?void 0:h.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:va,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(jt,{onClick:c,disabled:i,className:"max-sm:w-full",children:[o.jsx(Hue,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(se,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(Kwe,{ticket:n,onClose:()=>r(!1)})})]})};oe().shape({budgetName:P().required("Budget Name is required"),fiscalYear:P().required("Fiscal Year is required"),department:P().required("Department is required"),subDepartment:P().required("Sub-Department is required"),chartOfAccounts:P().required("Chart of Accounts is required"),fund:P().required("Fund is required"),project:P().required("Project is required"),january:P().required("January is required"),february:P().required("February is required"),march:P().required("March is required"),april:P().required("April is required"),may:P().required("May is required"),june:P().required("June is required"),july:P().required("July is required"),august:P().required("August is required"),september:P().required("September is required"),october:P().required("October is required"),november:P().required("November is required"),december:P().required("December is required")});const Xwe=oe().shape({Name:P().required("Budget name is required"),FiscalYearID:W().required("Fiscal year is required"),DepartmentID:W().required("Department is required"),SubDepartmentID:W().required("Sub department is required"),ChartofAccountsID:W().required("Chart of accounts is required"),FundID:W().required("Fund is required"),ProjectID:W().required("Project is required"),Appropriation:W().required("Appropriation is required"),Charges:W().required("Charges is required"),January:W().nullable(),February:W().nullable(),March:W().nullable(),April:W().nullable(),May:W().nullable(),June:W().nullable(),July:W().nullable(),August:W().nullable(),September:W().nullable(),October:W().nullable(),November:W().nullable(),December:W().nullable()}),J$={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function CU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...J$}),f=(m,{setSubmitting:h})=>{e(m),h(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(J$)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:Xwe,children:({values:m,errors:h,touched:p,handleChange:b,handleBlur:g,isSubmitting:x,submitCount:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(I,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:b,onBlur:g,error:h.Name,touched:p.Name,required:!0})}),o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:b,onBlur:g,value:m.FiscalYearID,error:h.FiscalYearID,touched:p.FiscalYearID,options:c,required:!0}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",onChange:b,onBlur:g,value:m.DepartmentID,error:h.DepartmentID,touched:p.DepartmentID,options:n,required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:b,onBlur:g,value:m.SubDepartmentID,error:h.SubDepartmentID,touched:p.SubDepartmentID,options:a,required:!0}),o.jsx(I,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:b,onBlur:g,value:m.ChartofAccountsID,error:h.ChartofAccountsID,touched:p.ChartofAccountsID,options:s,required:!0}),o.jsx(I,{label:"Fund",name:"FundID",type:"select",onChange:b,onBlur:g,value:m.FundID,error:h.FundID,touched:p.FundID,options:i,required:!0}),o.jsx(I,{label:"Project",name:"ProjectID",type:"select",onChange:b,onBlur:g,value:m.ProjectID,error:h.ProjectID,touched:p.ProjectID,options:l,required:!0}),o.jsx(I,{label:"Appropriation",name:"Appropriation",onChange:b,onBlur:g,value:m.Appropriation,error:h.Appropriation,touched:p.Appropriation,type:"number",required:!0}),o.jsx(I,{label:"Charges",name:"Charges",type:"number",onChange:b,onBlur:g,value:m.Charges,error:h.Charges,touched:p.Charges,required:!0}),o.jsx(I,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:b,onBlur:g,value:m.TotalAmount,error:h.TotalAmount,touched:p.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:b,onBlur:g,value:m.AppropriationBalance,error:h.AppropriationBalance,touched:p.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(v=>o.jsx(I,{label:v,name:v,type:"number",onChange:b,onBlur:g,value:m[v],error:h[v],touched:p[v]},v))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),y>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([v,N])=>o.jsx("li",{children:N},v))})]})]})})}const Zwe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],Qwe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],eCe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],tCe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],rCe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],X$=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],GA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nCe=oe().shape({budgetName:P().required("Required"),fiscalYear:P().required("Required"),department:P().required("Required"),subDepartment:P().required("Required"),chartOfAccount:P().required("Required"),fund:P().required("Required"),project:P().required("Required"),monthlyAmounts:oe().shape(GA.reduce((t,e)=>(t[e]=W().min(0,"Must be >= 0").required("Required"),t),{}))});function aCe(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx($e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:GA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:nCe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=X$.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Le,{className:"space-y-4",children:[o.jsx(I,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(I,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:Zwe,value:r.fiscalYear,onChange:n}),o.jsx(I,{name:"department",label:"Department",type:"select",required:!0,options:Qwe,value:r.department,onChange:n}),o.jsx(I,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:eCe,value:r.subDepartment,onChange:n}),o.jsx(I,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:tCe,value:r.chartOfAccount,onChange:n}),o.jsx(I,{name:"fund",label:"Fund",type:"select",required:!0,options:rCe,value:r.fund,onChange:n}),o.jsx(I,{name:"project",label:"Project",type:"select",required:!0,options:X$.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:GA.map(s=>o.jsx(I,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}oe().shape({Status:P().oneOf(["Requested"]).required(),APAR:P().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:W().oneOf([21]).required(),RequestedBy:W().required("Requested by (lngUser) is required"),InvoiceDate:Re().required("Invoice date is required"),InvoiceNumber:P().required("Invoice number is required"),Total:W().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Mo().required("Active is required"),Remarks:P().nullable(),CreatedBy:P().required("Created by is required"),CreatedDate:Re().required("Created date is required"),ApprovalProgress:W().min(0).required("Approval progress is required"),BudgetID:W().required("Budget id is requeired"),ApprovalVersion:W().required("Approval version is required")});const Fj="https://staging-engine.testthelink.online",sCe=[],sf=L("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ib=L("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Fj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),YA=L("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Fj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tb=L("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Fj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),oCe=xe({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sf.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=sCe}).addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(YA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(YA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),iCe=oCe.reducer;function lCe(){ie();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=q(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Ae,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ge,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(CU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function cCe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=oe({fiscalYearID:P().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx($e,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,isSubmitting:p,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(g=>({value:g.ID,label:g.Name})),value:u.fiscalYearID,onChange:m,onBlur:h,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const uCe="https://staging-engine.testthelink.online",dCe={statementComparisons:[],isLoading:!1,error:null},Eb=L("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uCe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),v1=L("statementComparison/exportStatementComparisons",async t=>!0),NU=xe({name:"statementComparison",initialState:dCe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(v1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v1.fulfilled,e=>{e.isLoading=!1}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:fCe}=NU.actions,mCe=NU.reducer;function hCe(){const t="https://staging-engine.testthelink.online",e=ie(),{statementComparisons:r,isLoading:n,error:a}=q(u=>u.statementComparison),{fiscalYears:s}=q(u=>u.fiscalYears);w.useEffect(()=>{e(fCe()),e(ln())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right"},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0},{key:"Final_Sum",header:"Final_Sum",sortable:!0},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(f),b=document.createElement("a");b.href=p,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),U.error(d.message||"Failed to export")}},c=u=>{e(Eb(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(cCe,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const pCe=()=>{const t=ie(),[e,r]=w.useState(null);w.useEffect(()=>{t(Ao()),t(So()),t(No()),t(Co()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const N=localStorage.getItem("token"),C=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!C.ok)throw new Error("Failed to fetch LGU data");const j=await C.json();f(j),h(j.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},s=async(N,C)=>{try{const j=localStorage.getItem("token"),S=new FormData;Object.entries(N).forEach(([k,E])=>{S.append(k,E)}),C&&S.append("Logo",C);const A=await fetch(`${n}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`},body:S});if(!A.ok)throw new Error("Failed to update LGU");const T=await A.json();return f(T),h(T.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(j){return console.error("Update error:",j),!1}},{barangays:i}=q(N=>N.barangays),{municipalities:l}=q(N=>N.municipalities),{provinces:c}=q(N=>N.provinces),{regions:u}=q(N=>N.regions),[d,f]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[p,b]=w.useState(!1),g=oe({Code:P().required("Code is required"),Name:P().required("Name is required"),TIN:P().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:P().required("RDO is required"),StreetAddress:P().required("Street Address is required"),BarangayID:P().required("Barangay is required"),MunicipalityID:P().required("Municipality is required"),ProvinceID:P().required("Province is required"),RegionID:P().required("Region is required"),ZIPCode:P().required("Zip Code is required"),PhoneNumber:W().required("Phone Number is required"),EmailAddress:P().email("Invalid email").required("Email is required"),Website:P().required("Website is required")}),x=tt({initialValues:d,validationSchema:g,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:C})=>{await s(N,e)&&(b(!1),U.success("LGU updated successfully"),a()),C(!1)}}),y=N=>{var j;const C=(j=N.target.files)==null?void 0:j[0];if(C){r(C);const S=new FileReader;S.onloadend=()=>{h(S.result)},S.readAsDataURL(C)}},v=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,C)=>({ID:C+1,Name:N}));return o.jsxs("div",{className:"py-6 px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!p&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),p&&o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"mt-2"})]}),p?o.jsxs("form",{onSubmit:x.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"LGU Code",name:"Code",value:x.values.Code,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Code,touched:x.touched.Code,required:!0}),o.jsx(I,{label:"LGU Name",name:"Name",value:x.values.Name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Name,touched:x.touched.Name,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:x.values.TIN,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.TIN,touched:x.touched.TIN,required:!0}),o.jsx(I,{label:"RDO",name:"RDO",type:"select",options:v.map(N=>({value:N.ID,label:N.Name})),value:x.values.RDO,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RDO,touched:x.touched.RDO,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",value:x.values.StreetAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.StreetAddress,touched:x.touched.StreetAddress,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",value:x.values.BarangayID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.BarangayID,touched:x.touched.BarangayID,options:i.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",value:x.values.MunicipalityID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.MunicipalityID,touched:x.touched.MunicipalityID,options:l.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",value:x.values.ProvinceID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ProvinceID,touched:x.touched.ProvinceID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",value:x.values.RegionID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RegionID,touched:x.touched.RegionID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",value:x.values.ZIPCode,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ZIPCode,touched:x.touched.ZIPCode,required:!0}),o.jsx(I,{label:"Mobile Number",name:"PhoneNumber",value:x.values.PhoneNumber,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.PhoneNumber,touched:x.touched.PhoneNumber,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:x.values.EmailAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.EmailAddress,touched:x.touched.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",value:x.values.Website,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Website,touched:x.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{x.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x.isSubmitting,children:x.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,C])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[N]})]},N))})]})]})]})},gCe=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(I,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(I,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(I,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(I,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(I,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(I,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(I,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(I,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(I,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(I,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(I,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(I,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(I,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(I,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(I,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(I,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(I,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(I,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(I,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(I,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(I,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(I,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(I,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(I,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(I,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(I,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(I,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(I,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function yCe(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:y})}],d=[{icon:R6,title:"View",onClick:y=>h(y)},{icon:va,title:"Edit",onClick:y=>p(y)},{icon:Xn,title:"Delete",onClick:y=>b(y)}],f=(y,v)=>{c(N=>({...N,[y]:v}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=y=>{n(y),e(!0)},p=y=>{n(y),e(!0)},b=y=>{console.log("Deleting permit:",y)},g=()=>{console.log("Saving form data:",l),e(!1)},x=i.filter(y=>y.businessName.toLowerCase().includes(a.toLowerCase())||y.ownerName.toLowerCase().includes(a.toLowerCase())||y.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(U0,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ge,{columns:u,data:x,actions:d,pagination:!0})]})}),o.jsx(se,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(gCe,{formData:l,handleInputChange:f,handleSave:g,onCancel:()=>e(!1),isEdit:!!r})})]})}const bCe=oe().shape({payee:P().required("Payee is required"),amount:W().required("Amount is required").positive("Amount must be positive"),date:Re().required("Date is required"),bank:P().required("Bank is required"),accountNumber:P().required("Account number is required"),accountName:P().required("Account name is required"),chequeType:P().required("Cheque type is required"),checkNumber:P().required("Check number is required"),brstn:P().required("BRSTN is required"),dv:P().required("DV is required"),signatory1:P().required("Signatory 1 is required"),signatory2:P().required("Signatory 2 is required").notOneOf([ol("signatory1")],"Signatories must be different"),Attachments:tr()});function xCe(){var N,C,j;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),i=ie(),{banks:l,isLoading:c}=q(S=>S.banks),{employees:u,isLoading:d}=q(S=>S.employees),f=tt({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:bCe,onSubmit:async S=>{await b(S)}});w.useEffect(()=>{i(Ui()),i(on()),m()},[]);const m=async()=>{try{const S=await gt("/chequeGenerator/checkList");s(S.data)}catch(S){throw console.error("Error fetching cheque list:",S),S}},h=(S,A,T)=>{const E=Array.from(S.target.files).map(O=>O);console.log(E,T),A("Attachments",[...T.Attachments,...E])},p=(S,A,T)=>{const k=[...T.Attachments];k.splice(S,1),A("Attachments",k)},b=async S=>{try{const A=new FormData;A.append("IsNew",r?"false":"true"),A.append("ID",(r==null?void 0:r.ID)||""),A.append("AddCondition","true"),A.append("DisbursementID",S.dv),A.append("BankID",S.bank),A.append("SignatoryType",S.chequeType),A.append("AccountNumber",S.accountNumber),A.append("AccountName",S.accountName),A.append("CheckNumber",S.checkNumber),A.append("BRSTN",S.brstn),A.append("CheckDate",S.date),A.append("Payee",S.payee),A.append("Amount",S.amount),A.append("Words",Wi(S.amount)),A.append("SignatoryOneID",S.signatory1),A.append("SignatoryTwoID",S.signatory2),A.append("Remarks",S.additionalInformation),A.append("OBR",S.obr||""),t.length>0?t.forEach((E,O)=>{E.ID?A.append(`Attachments[${O}].ID`,E.ID):A.append(`Attachments[${O}].File`,E)}):A.append("Attachments","[]");const T={headers:{"Content-Type":"multipart/form-data"}},k=await gt.post("/chequeGenerator/save",A,T);if(k.data.error&&k.status!==200){U.error(k.data.error);return}U.success("Cheque saved successfully"),m(),x()}catch(A){throw console.error("Error saving cheque:",A),U.error("Failed to save cheque"),A}},g=S=>{n(S),f.setValues({status:S.Status,payee:S.Payee,amount:S.Amount,date:S.CheckDate,bank:S.BankID.toString(),accountNumber:S.AccountNumber,accountName:S.AccountName,chequeType:S.SignatoryType,particulars:S.Particulars||"",checkNumber:S.CheckNumber,brstn:S.BRSTN,dv:S.DisbursementID,additionalInformation:S.Remarks,obr:S.OBR||"",signatory1:S.SignatoryOneID.toString(),signatory2:S.SignatoryTwoID.toString(),Attachments:S.Attachments||[]})},x=()=>{n(null),f.resetForm(),e([])},y=[{key:"Status",header:"Status",sortable:!0,render:S=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${S==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],v=[{icon:va,title:"Edit",onClick:S=>g(S)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[o.jsx("button",{type:"submit",onClick:f.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:f.isSubmitting,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Wde,{className:"h-5 w-5 mr-2"}),"Edit"]}):o.jsxs(o.Fragment,{children:[o.jsx(Ude,{className:"h-5 w-5 mr-2"}),"Save"]})}),r&&o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:f.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx($t,{options:l.map(S=>({value:S.ID.toString(),label:S.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:f.values.bank,onSelect:S=>f.setFieldValue("bank",S),error:f.touched.bank&&f.errors.bank,touched:f.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:f.values.chequeType==="Single",onChange:f.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:f.values.chequeType==="Double",onChange:f.handleChange,className:"mr-2"}),"Double"]})]}),f.touched.chequeType&&f.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:f.errors.chequeType})]}),o.jsx(I,{type:"text",label:"DV",value:f.values.dv,onChange:f.handleChange,name:"dv",error:f.touched.dv&&f.errors.dv,touched:f.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:S=>h(S,f.setFieldValue,f.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},f.values.Attachments.length)]}),((C=(N=f==null?void 0:f.values)==null?void 0:N.Attachments)==null?void 0:C.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.values.Attachments.map((S,A)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:S.ID?o.jsx("a",{href:`${API_URL}/uploads/${S.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:S.name||S.DataName}):S.name||S.DataName})]}),o.jsx("button",{type:"button",onClick:()=>p(A,f.setFieldValue,f.values),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},A))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",f.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Number",name:"accountNumber",value:f.values.accountNumber,onChange:f.handleChange,error:f.touched.accountNumber&&f.errors.accountNumber,touched:f.touched.accountNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Name",name:"accountName",value:f.values.accountName,onChange:f.handleChange,error:f.touched.accountName&&f.errors.accountName,touched:f.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check Number",name:"checkNumber",value:f.values.checkNumber,onChange:f.handleChange,error:f.touched.checkNumber&&f.errors.checkNumber,touched:f.touched.checkNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"BRSTN",name:"brstn",value:f.values.brstn,onChange:f.handleChange,error:f.touched.brstn&&f.errors.brstn,touched:f.touched.brstn})})]}),o.jsx("div",{children:o.jsx(I,{type:"date",label:"Date",name:"date",value:f.values.date,onChange:f.handleChange,error:f.touched.date&&f.errors.date,touched:f.touched.date})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Pay to the order of:",name:"payee",value:f.values.payee,onChange:f.handleChange,error:f.touched.payee&&f.errors.payee,touched:f.touched.payee})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Amount",name:"amount",value:f.values.amount,onChange:f.handleChange,step:"0.01",error:f.touched.amount&&f.errors.amount,touched:f.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(I,{type:"text",value:Wi(f.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx($t,{options:u==null?void 0:u.map(S=>({value:S.ID.toString(),label:`${S.FirstName} ${S.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:f.values.signatory1,onSelect:S=>{if(S===f.values.signatory2){U.error("Signatory 1 cannot be the same as Signatory 2");return}f.setFieldValue("signatory1",S)},error:f.touched.signatory1&&f.errors.signatory1,touched:f.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx($t,{options:u==null?void 0:u.map(S=>({value:S.ID.toString(),label:`${S.FirstName} ${S.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:f.values.signatory2,onSelect:S=>{if(S===f.values.signatory1){U.error("Signatory 2 cannot be the same as Signatory 1");return}f.setFieldValue("signatory2",S)},error:f.touched.signatory2&&f.errors.signatory2,touched:f.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:f.values.additionalInformation,name:"additionalInformation",onChange:f.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ge,{columns:y,data:a,actions:v,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((j=l.find(S=>S.ID.toString()===f.values.bank))==null?void 0:j.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:f.values.date?new Date(f.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:f.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:f.values.amount?Wi(f.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:f.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function vCe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({ChartofAccountsID:P().required("Chart of Accounts is required"),CutOffDate:P().required("Cut Off Date is required"),FundID:P().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx($t,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const jCe="https://staging-engine.testthelink.online",wCe={generalLedgers:[],isLoading:!1,error:null},Pb=L("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jCe}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),j1=L("generalLedger/exportGeneralLedgers",async t=>!0),SU=xe({name:"generalLedger",initialState:wCe,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,e=>{e.isLoading=!1}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:CCe}=SU.actions,NCe=SU.reducer,SCe="https://staging-engine.testthelink.online";function ACe(){const t=ie(),{generalLedgers:e,isLoading:r,error:n}=q(d=>d.generalLedger),{funds:a}=q(d=>d.funds),{accounts:s}=q(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(CCe()),t(Gt()),t(br())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${SCe}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Ledger.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),U.error(f.message||"Failed to export general ledger")}},u=d=>{t(Pb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(vCe,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:e,loading:r,pagination:!0})})]})}function kCe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({ChartofAccountsID:P().required("Chart of Accounts is required"),CutOffDate:P().required("Cut Off Date is required"),FundID:P().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx($t,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:x=>g("ChartofAccountsID",x),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const ICe="https://staging-engine.testthelink.online",TCe={subsidiaryLedgers:[],isLoading:!1,error:null},Ob=L("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ICe}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),w1=L("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),AU=xe({name:"subsidiaryLedger",initialState:TCe,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,e=>{e.isLoading=!1}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:ECe}=AU.actions,PCe=AU.reducer;function OCe(){const t="https://staging-engine.testthelink.online",e=ie(),{subsidiaryLedgers:r,isLoading:n,error:a}=q(f=>f.subsidiaryLedger),{funds:s}=q(f=>f.funds),{accounts:i}=q(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(ECe()),e(Gt()),e(br())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),b=h.headers.get("Content-Disposition");let g="Subsidiary_Ledger.xlsx";b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),U.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Ob(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(kCe,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function DCe({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=oe({year:P().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(I,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const _Ce="https://staging-engine.testthelink.online",$Ce={financialStatements:[],isLoading:!1,error:null},Db=L("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_Ce}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),C1=L("financialStatement/exportFinancialStatements",async t=>!0),kU=xe({name:"financialStatement",initialState:$Ce,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(C1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(C1.fulfilled,e=>{e.isLoading=!1}).addCase(C1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:RCe}=kU.actions,MCe=kU.reducer;function LCe(){const t="https://staging-engine.testthelink.online",e=ie(),{financialStatements:r,isLoading:n,error:a}=q(u=>u.financialStatementsReports);w.useEffect(()=>{e(RCe())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="Consolidated_Statement_of_Financial_Position.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),g=document.createElement("a");g.href=b,g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(b)}catch(d){console.error("Export failed:",d),U.error(d.message||"Failed to export")}},c=u=>{e(Db(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(DCe,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const Z$="https://staging-engine.testthelink.online";function Q$(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,h]=w.useState(!1),p=ie(),{funds:b}=q(A=>A.funds),{departments:g}=q(A=>A.departments),{fiscalYears:x}=q(A=>A.fiscalYears);w.useEffect(()=>{p(Gt()),p(rr()),p(ln())},[p]);const y=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>v(A),className:"text-right"}],v=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),N=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),C=async()=>{if(!j()){U.error("Please select all filters");return}try{h(!0);const A=await Qe.post(`${Z$}/budgetReport/view`,N());f(A.data||[])}catch{U.error("Failed to fetch data")}finally{h(!1)}},j=()=>t&&r&&a&&i&&c,S=async()=>{if(!j()){U.error("Please select all filters");return}try{const A=await Qe.post(`${Z$}/budgetReport/exportExcel`,N(),{responseType:"blob"}),T=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(T),E=document.createElement("a");E.href=k,E.download="Budget_Report.xlsx",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch{U.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(HB,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:x.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:b.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:g.map(A=>({label:A.Name,value:A.ID}))})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ge,{columns:y,data:d,pagination:!0,loading:m})})]})}function FCe(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(HB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(mu,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(I,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(I,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(I,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ge,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const eR="https://staging-engine.testthelink.online",N1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function BCe(){const t=ie(),{userroles:e,isLoading:r,error:n}=q(p=>p.userroles),a=q(p=>p.modules.modules),[s,i]=w.useState(null),[l,c]=w.useState({});w.useEffect(()=>{t(cc()),t(Gd())},[t]),w.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]);const u=async()=>{try{const p=await fetch(`${eR}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await p.json();if(!p.ok)throw new Error(b.message||"Failed to fetch access");const g={};b.forEach(y=>{g[y.ModuleID]={id:y.ID,view:!!y.View,add:!!y.Add,edit:!!y.Edit,delete:!!y.Delete,print:!!y.Print,mayor:!!y.Mayor}});const x={};a.forEach(y=>{x[y.ID]=g[y.ID]||{...N1}}),c(x)}catch(p){console.error("Error loading module access:",p.message)}};w.useEffect(()=>{!(s!=null&&s.ID)||a.length===0||u()},[s,a]);const d=(p,b)=>{c(g=>({...g,[p]:{...g[p],[b]:!g[p][b]}}))},f=p=>{const b={};a.forEach(g=>{b[g.ID]={...l[g.ID]||N1,view:p,add:p,edit:p,delete:p,print:p,mayor:p}}),c(b)},m=(p,b)=>{const g={...l};a.forEach(x=>{g[x.ID]={...g[x.ID]||N1,[p]:b}}),c(g)},h=async()=>{if(!(s!=null&&s.ID))return;const p=Object.entries(l).map(([b,g])=>({id:g.id||null,ModuleID:parseInt(b),View:g.view?1:0,Add:g.add?1:0,Edit:g.edit?1:0,Delete:g.delete?1:0,Print:g.print?1:0,Mayor:g.mayor?1:0}));try{const b=await fetch(`${eR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:p})});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to save permissions")}U.success("Permissions saved successfully!")}catch(b){console.error("Save failed:",b.message),U.error("Error saving permissions.")}};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:h,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(p=>o.jsx("li",{onClick:()=>i(p),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===p.ID?"bg-blue-200 font-semibold":""}`,children:p.Description},p.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(p=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:p})})},p))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(p=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(b=>{var g;return(g=l[b.ID])==null?void 0:g[p]}),onChange:b=>m(p,b.target.checked),className:"accent-blue-600"})},`select-all-${p}`))]}),a.map(p=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:p.Description}),["view","add","edit","delete","print","mayor"].map(b=>{var g;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((g=l[p.ID])==null?void 0:g[b])||!1,onChange:()=>d(p.ID,b),className:"accent-blue-600"})},b)})]},p.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>f(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>f(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const qCe=()=>{const t=Rm(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});ie();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){U.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){U.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),U.success("Password updated successfully!"),t("/dashboard")}catch(d){U.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(_de,{size:18}):o.jsx(R6,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Tde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var VCe=Array.isArray,mn=VCe,UCe=typeof fh=="object"&&fh&&fh.Object===Object&&fh,IU=UCe,zCe=IU,WCe=typeof self=="object"&&self&&self.Object===Object&&self,HCe=zCe||WCe||Function("return this")(),Ya=HCe,GCe=Ya,YCe=GCe.Symbol,ah=YCe,tR=ah,TU=Object.prototype,KCe=TU.hasOwnProperty,JCe=TU.toString,td=tR?tR.toStringTag:void 0;function XCe(t){var e=KCe.call(t,td),r=t[td];try{t[td]=void 0;var n=!0}catch{}var a=JCe.call(t);return n&&(e?t[td]=r:delete t[td]),a}var ZCe=XCe,QCe=Object.prototype,e1e=QCe.toString;function t1e(t){return e1e.call(t)}var r1e=t1e,rR=ah,n1e=ZCe,a1e=r1e,s1e="[object Null]",o1e="[object Undefined]",nR=rR?rR.toStringTag:void 0;function i1e(t){return t==null?t===void 0?o1e:s1e:nR&&nR in Object(t)?n1e(t):a1e(t)}var Fs=i1e;function l1e(t){return t!=null&&typeof t=="object"}var Bs=l1e,c1e=Fs,u1e=Bs,d1e="[object Symbol]";function f1e(t){return typeof t=="symbol"||u1e(t)&&c1e(t)==d1e}var xu=f1e,m1e=mn,h1e=xu,p1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g1e=/^\w*$/;function y1e(t,e){if(m1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||h1e(t)?!0:g1e.test(t)||!p1e.test(t)||e!=null&&t in Object(e)}var $E=y1e;function b1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ko=b1e;const vu=at(Ko);var x1e=Fs,v1e=Ko,j1e="[object AsyncFunction]",w1e="[object Function]",C1e="[object GeneratorFunction]",N1e="[object Proxy]";function S1e(t){if(!v1e(t))return!1;var e=x1e(t);return e==w1e||e==C1e||e==j1e||e==N1e}var RE=S1e;const ze=at(RE);var A1e=Ya,k1e=A1e["__core-js_shared__"],I1e=k1e,S1=I1e,aR=function(){var t=/[^.]+$/.exec(S1&&S1.keys&&S1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function T1e(t){return!!aR&&aR in t}var E1e=T1e,P1e=Function.prototype,O1e=P1e.toString;function D1e(t){if(t!=null){try{return O1e.call(t)}catch{}try{return t+""}catch{}}return""}var EU=D1e,_1e=RE,$1e=E1e,R1e=Ko,M1e=EU,L1e=/[\\^$.*+?()[\]{}|]/g,F1e=/^\[object .+?Constructor\]$/,B1e=Function.prototype,q1e=Object.prototype,V1e=B1e.toString,U1e=q1e.hasOwnProperty,z1e=RegExp("^"+V1e.call(U1e).replace(L1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W1e(t){if(!R1e(t)||$1e(t))return!1;var e=_1e(t)?z1e:F1e;return e.test(M1e(t))}var H1e=W1e;function G1e(t,e){return t==null?void 0:t[e]}var Y1e=G1e,K1e=H1e,J1e=Y1e;function X1e(t,e){var r=J1e(t,e);return K1e(r)?r:void 0}var wl=X1e,Z1e=wl,Q1e=Z1e(Object,"create"),Bj=Q1e,sR=Bj;function eNe(){this.__data__=sR?sR(null):{},this.size=0}var tNe=eNe;function rNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var nNe=rNe,aNe=Bj,sNe="__lodash_hash_undefined__",oNe=Object.prototype,iNe=oNe.hasOwnProperty;function lNe(t){var e=this.__data__;if(aNe){var r=e[t];return r===sNe?void 0:r}return iNe.call(e,t)?e[t]:void 0}var cNe=lNe,uNe=Bj,dNe=Object.prototype,fNe=dNe.hasOwnProperty;function mNe(t){var e=this.__data__;return uNe?e[t]!==void 0:fNe.call(e,t)}var hNe=mNe,pNe=Bj,gNe="__lodash_hash_undefined__";function yNe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pNe&&e===void 0?gNe:e,this}var bNe=yNe,xNe=tNe,vNe=nNe,jNe=cNe,wNe=hNe,CNe=bNe;function ju(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ju.prototype.clear=xNe;ju.prototype.delete=vNe;ju.prototype.get=jNe;ju.prototype.has=wNe;ju.prototype.set=CNe;var NNe=ju;function SNe(){this.__data__=[],this.size=0}var ANe=SNe;function kNe(t,e){return t===e||t!==t&&e!==e}var ME=kNe,INe=ME;function TNe(t,e){for(var r=t.length;r--;)if(INe(t[r][0],e))return r;return-1}var qj=TNe,ENe=qj,PNe=Array.prototype,ONe=PNe.splice;function DNe(t){var e=this.__data__,r=ENe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ONe.call(e,r,1),--this.size,!0}var _Ne=DNe,$Ne=qj;function RNe(t){var e=this.__data__,r=$Ne(e,t);return r<0?void 0:e[r][1]}var MNe=RNe,LNe=qj;function FNe(t){return LNe(this.__data__,t)>-1}var BNe=FNe,qNe=qj;function VNe(t,e){var r=this.__data__,n=qNe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var UNe=VNe,zNe=ANe,WNe=_Ne,HNe=MNe,GNe=BNe,YNe=UNe;function wu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wu.prototype.clear=zNe;wu.prototype.delete=WNe;wu.prototype.get=HNe;wu.prototype.has=GNe;wu.prototype.set=YNe;var Vj=wu,KNe=wl,JNe=Ya,XNe=KNe(JNe,"Map"),LE=XNe,oR=NNe,ZNe=Vj,QNe=LE;function eSe(){this.size=0,this.__data__={hash:new oR,map:new(QNe||ZNe),string:new oR}}var tSe=eSe;function rSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nSe=rSe,aSe=nSe;function sSe(t,e){var r=t.__data__;return aSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Uj=sSe,oSe=Uj;function iSe(t){var e=oSe(this,t).delete(t);return this.size-=e?1:0,e}var lSe=iSe,cSe=Uj;function uSe(t){return cSe(this,t).get(t)}var dSe=uSe,fSe=Uj;function mSe(t){return fSe(this,t).has(t)}var hSe=mSe,pSe=Uj;function gSe(t,e){var r=pSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ySe=gSe,bSe=tSe,xSe=lSe,vSe=dSe,jSe=hSe,wSe=ySe;function Cu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cu.prototype.clear=bSe;Cu.prototype.delete=xSe;Cu.prototype.get=vSe;Cu.prototype.has=jSe;Cu.prototype.set=wSe;var FE=Cu,PU=FE,CSe="Expected a function";function BE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(CSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(BE.Cache||PU),r}BE.Cache=PU;var OU=BE;const NSe=at(OU);var SSe=OU,ASe=500;function kSe(t){var e=SSe(t,function(n){return r.size===ASe&&r.clear(),n}),r=e.cache;return e}var ISe=kSe,TSe=ISe,ESe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PSe=/\\(\\)?/g,OSe=TSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ESe,function(r,n,a,s){e.push(a?s.replace(PSe,"$1"):n||r)}),e}),DSe=OSe;function _Se(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var qE=_Se,iR=ah,$Se=qE,RSe=mn,MSe=xu,lR=iR?iR.prototype:void 0,cR=lR?lR.toString:void 0;function DU(t){if(typeof t=="string")return t;if(RSe(t))return $Se(t,DU)+"";if(MSe(t))return cR?cR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var LSe=DU,FSe=LSe;function BSe(t){return t==null?"":FSe(t)}var _U=BSe,qSe=mn,VSe=$E,USe=DSe,zSe=_U;function WSe(t,e){return qSe(t)?t:VSe(t,e)?[t]:USe(zSe(t))}var $U=WSe,HSe=xu;function GSe(t){if(typeof t=="string"||HSe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zj=GSe,YSe=$U,KSe=zj;function JSe(t,e){e=YSe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[KSe(e[r++])];return r&&r==n?t:void 0}var VE=JSe,XSe=VE;function ZSe(t,e,r){var n=t==null?void 0:XSe(t,e);return n===void 0?r:n}var RU=ZSe;const ya=at(RU);function QSe(t){return t==null}var eAe=QSe;const Ye=at(eAe);var tAe=Fs,rAe=mn,nAe=Bs,aAe="[object String]";function sAe(t){return typeof t=="string"||!rAe(t)&&nAe(t)&&tAe(t)==aAe}var oAe=sAe;const sh=at(oAe);var MU={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=Symbol.for("react.element"),zE=Symbol.for("react.portal"),Wj=Symbol.for("react.fragment"),Hj=Symbol.for("react.strict_mode"),Gj=Symbol.for("react.profiler"),Yj=Symbol.for("react.provider"),Kj=Symbol.for("react.context"),iAe=Symbol.for("react.server_context"),Jj=Symbol.for("react.forward_ref"),Xj=Symbol.for("react.suspense"),Zj=Symbol.for("react.suspense_list"),Qj=Symbol.for("react.memo"),ew=Symbol.for("react.lazy"),lAe=Symbol.for("react.offscreen"),LU;LU=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UE:switch(t=t.type,t){case Wj:case Gj:case Hj:case Xj:case Zj:return t;default:switch(t=t&&t.$$typeof,t){case iAe:case Kj:case Jj:case ew:case Qj:case Yj:return t;default:return e}}case zE:return e}}}ft.ContextConsumer=Kj;ft.ContextProvider=Yj;ft.Element=UE;ft.ForwardRef=Jj;ft.Fragment=Wj;ft.Lazy=ew;ft.Memo=Qj;ft.Portal=zE;ft.Profiler=Gj;ft.StrictMode=Hj;ft.Suspense=Xj;ft.SuspenseList=Zj;ft.isAsyncMode=function(){return!1};ft.isConcurrentMode=function(){return!1};ft.isContextConsumer=function(t){return Zn(t)===Kj};ft.isContextProvider=function(t){return Zn(t)===Yj};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UE};ft.isForwardRef=function(t){return Zn(t)===Jj};ft.isFragment=function(t){return Zn(t)===Wj};ft.isLazy=function(t){return Zn(t)===ew};ft.isMemo=function(t){return Zn(t)===Qj};ft.isPortal=function(t){return Zn(t)===zE};ft.isProfiler=function(t){return Zn(t)===Gj};ft.isStrictMode=function(t){return Zn(t)===Hj};ft.isSuspense=function(t){return Zn(t)===Xj};ft.isSuspenseList=function(t){return Zn(t)===Zj};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wj||t===Gj||t===Hj||t===Xj||t===Zj||t===lAe||typeof t=="object"&&t!==null&&(t.$$typeof===ew||t.$$typeof===Qj||t.$$typeof===Yj||t.$$typeof===Kj||t.$$typeof===Jj||t.$$typeof===LU||t.getModuleId!==void 0)};ft.typeOf=Zn;MU.exports=ft;var cAe=MU.exports,uAe=Fs,dAe=Bs,fAe="[object Number]";function mAe(t){return typeof t=="number"||dAe(t)&&uAe(t)==fAe}var FU=mAe;const hAe=at(FU);var pAe=FU;function gAe(t){return pAe(t)&&t!=+t}var yAe=gAe;const oh=at(yAe);var zn=function(e){return e===0?0:e>0?1:-1},Ii=function(e){return sh(e)&&e.indexOf("%")===e.length-1},ve=function(e){return hAe(e)&&!oh(e)},cr=function(e){return ve(e)||sh(e)},bAe=0,tw=function(e){var r=++bAe;return"".concat(e||"").concat(r)},tn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!sh(e))return n;var s;if(Ii(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return oh(s)&&(s=n),a&&s>r&&(s=r),s},Ml=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},xAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},uR=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function KA(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ya(n,e))===r})}function JA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function XA(t){"@babel/helpers - typeof";return XA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XA(t)}var vAe=["viewBox","children"],jAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dR=["points","pathLength"],A1={svg:vAe,polygon:dR,polyline:dR},WE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ux=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!vu(n))return null;var a={};return Object.keys(n).forEach(function(s){WE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},wAe=function(e,r,n){return function(a){return e(r,n,a),null}},rw=function(e,r,n){if(!vu(e)||XA(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];WE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=wAe(i,r,n))}),a},CAe=["children"],NAe=["children"];function fR(t,e){if(t==null)return{};var r=SAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hR=null,k1=null,HE=function t(e){if(e===hR&&Array.isArray(k1))return k1;var r=[];return w.Children.forEach(e,function(n){Ye(n)||(cAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),k1=r,hR=e,r};function Va(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return vs(a)}):n=[vs(e)],HE(t).forEach(function(a){var s=ya(a,"type.displayName")||ya(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Fn(t,e){var r=Va(t,e);return r&&r[0]}var pR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},AAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kAe=function(e){return e&&e.type&&sh(e.type)&&AAe.indexOf(e.type)>=0},IAe=function(e,r,n,a){var s,i=(s=A1==null?void 0:A1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ze(e)&&(a&&i.includes(r)||jAe.includes(r))||n&&WE.includes(r)},Ue=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!vu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;IAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},ZA=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!gR(s,i))return!1}return!0},gR=function(e,r){if(Ye(e)&&Ye(r))return!0;if(!Ye(e)&&!Ye(r)){var n=e.props||{},a=n.children,s=fR(n,CAe),i=r.props||{},l=i.children,c=fR(i,NAe);return a&&l?JA(s,c)&&ZA(a,l):!a&&!l?JA(s,c):!1}return!1},yR=function(e,r){var n=[],a={};return HE(e).forEach(function(s,i){if(kAe(s))n.push(s);else if(s){var l=vs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},TAe=function(e){var r=e&&e.type;return r&&mR[r]?mR[r]:null},EAe=function(e,r){return HE(r).indexOf(e)},PAe=["children","width","height","viewBox","className","style","title","desc"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function OAe(t,e){if(t==null)return{};var r=DAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ek(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=OAe(t,PAe),d=a||{width:r,height:n,x:0,y:0},f=_e("recharts-surface",s);return V.createElement("svg",QA({},Ue(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var _Ae=["children","className"];function tk(){return tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tk.apply(this,arguments)}function $Ae(t,e){if(t==null)return{};var r=RAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zt=V.forwardRef(function(t,e){var r=t.children,n=t.className,a=$Ae(t,_Ae),s=_e("recharts-layer",n);return V.createElement("g",tk({className:s},Ue(a,!0),{ref:e}),r)}),js=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function MAe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var LAe=MAe,FAe=LAe;function BAe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:FAe(t,e,r)}var qAe=BAe,VAe="\\ud800-\\udfff",UAe="\\u0300-\\u036f",zAe="\\ufe20-\\ufe2f",WAe="\\u20d0-\\u20ff",HAe=UAe+zAe+WAe,GAe="\\ufe0e\\ufe0f",YAe="\\u200d",KAe=RegExp("["+YAe+VAe+HAe+GAe+"]");function JAe(t){return KAe.test(t)}var BU=JAe;function XAe(t){return t.split("")}var ZAe=XAe,qU="\\ud800-\\udfff",QAe="\\u0300-\\u036f",eke="\\ufe20-\\ufe2f",tke="\\u20d0-\\u20ff",rke=QAe+eke+tke,nke="\\ufe0e\\ufe0f",ake="["+qU+"]",rk="["+rke+"]",nk="\\ud83c[\\udffb-\\udfff]",ske="(?:"+rk+"|"+nk+")",VU="[^"+qU+"]",UU="(?:\\ud83c[\\udde6-\\uddff]){2}",zU="[\\ud800-\\udbff][\\udc00-\\udfff]",oke="\\u200d",WU=ske+"?",HU="["+nke+"]?",ike="(?:"+oke+"(?:"+[VU,UU,zU].join("|")+")"+HU+WU+")*",lke=HU+WU+ike,cke="(?:"+[VU+rk+"?",rk,UU,zU,ake].join("|")+")",uke=RegExp(nk+"(?="+nk+")|"+cke+lke,"g");function dke(t){return t.match(uke)||[]}var fke=dke,mke=ZAe,hke=BU,pke=fke;function gke(t){return hke(t)?pke(t):mke(t)}var yke=gke,bke=qAe,xke=BU,vke=yke,jke=_U;function wke(t){return function(e){e=jke(e);var r=xke(e)?vke(e):void 0,n=r?r[0]:e.charAt(0),a=r?bke(r,1).join(""):e.slice(1);return n[t]()+a}}var Cke=wke,Nke=Cke,Ske=Nke("toUpperCase"),Ake=Ske;const nw=at(Ake);function vt(t){return function(){return t}}const GU=Math.cos,zx=Math.sin,wa=Math.sqrt,Wx=Math.PI,aw=2*Wx,ak=Math.PI,sk=2*ak,gi=1e-6,kke=sk-gi;function YU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ike(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YU;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Tke{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YU:Ike(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>gi)if(!(Math.abs(f*c-u*d)>gi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,p=a-l,b=c*c+u*u,g=h*h+p*p,x=Math.sqrt(b),y=Math.sqrt(m),v=s*Math.tan((ak-Math.acos((b+m-g)/(2*x*y)))/2),N=v/y,C=v/x;Math.abs(N-1)>gi&&this._append`L${e+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gi||Math.abs(this._y1-d)>gi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%sk+sk),m>kke?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>gi&&this._append`A${n},${n},0,${+(m>=ak)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function GE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Tke(e)}function YE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KU(t){this._context=t}KU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sw(t){return new KU(t)}function JU(t){return t[0]}function XU(t){return t[1]}function ZU(t,e){var r=vt(!0),n=null,a=sw,s=null,i=GE(l);t=typeof t=="function"?t:t===void 0?JU:vt(t),e=typeof e=="function"?e:e===void 0?XU:vt(e);function l(c){var u,d=(c=YE(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:vt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:vt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:vt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function ap(t,e,r){var n=null,a=vt(!0),s=null,i=sw,l=null,c=GE(u);t=typeof t=="function"?t:t===void 0?JU:vt(+t),e=typeof e=="function"?e:vt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?XU:vt(+r);function u(f){var m,h,p,b=(f=YE(f)).length,g,x=!1,y,v=new Array(b),N=new Array(b);for(s==null&&(l=i(y=c())),m=0;m<=b;++m){if(!(m<b&&a(g=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(v[p],N[p]);l.lineEnd(),l.areaEnd()}x&&(v[m]=+t(g,m,f),N[m]=+e(g,m,f),l.point(n?+n(g,m,f):v[m],r?+r(g,m,f):N[m]))}if(y)return l=null,y+""||null}function d(){return ZU().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:vt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:vt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:vt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class QU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Eke(t){return new QU(t,!0)}function Pke(t){return new QU(t,!1)}const KE={draw(t,e){const r=wa(e/Wx);t.moveTo(r,0),t.arc(0,0,r,0,aw)}},Oke={draw(t,e){const r=wa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},ez=wa(1/3),Dke=ez*2,_ke={draw(t,e){const r=wa(e/Dke),n=r*ez;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},$ke={draw(t,e){const r=wa(e),n=-r/2;t.rect(n,n,r,r)}},Rke=.8908130915292852,tz=zx(Wx/10)/zx(7*Wx/10),Mke=zx(aw/10)*tz,Lke=-GU(aw/10)*tz,Fke={draw(t,e){const r=wa(e*Rke),n=Mke*r,a=Lke*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=aw*s/5,l=GU(i),c=zx(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},I1=wa(3),Bke={draw(t,e){const r=-wa(e/(I1*3));t.moveTo(0,r*2),t.lineTo(-I1*r,-r),t.lineTo(I1*r,-r),t.closePath()}},Mn=-.5,Ln=wa(3)/2,ok=1/wa(12),qke=(ok/2+1)*3,Vke={draw(t,e){const r=wa(e/qke),n=r/2,a=r*ok,s=n,i=r*ok+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Mn*n-Ln*a,Ln*n+Mn*a),t.lineTo(Mn*s-Ln*i,Ln*s+Mn*i),t.lineTo(Mn*l-Ln*c,Ln*l+Mn*c),t.lineTo(Mn*n+Ln*a,Mn*a-Ln*n),t.lineTo(Mn*s+Ln*i,Mn*i-Ln*s),t.lineTo(Mn*l+Ln*c,Mn*c-Ln*l),t.closePath()}};function Uke(t,e){let r=null,n=GE(a);t=typeof t=="function"?t:vt(t||KE),e=typeof e=="function"?e:vt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:vt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:vt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Hx(){}function Gx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function rz(t){this._context=t}rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zke(t){return new rz(t)}function nz(t){this._context=t}nz.prototype={areaStart:Hx,areaEnd:Hx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wke(t){return new nz(t)}function az(t){this._context=t}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hke(t){return new az(t)}function sz(t){this._context=t}sz.prototype={areaStart:Hx,areaEnd:Hx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Gke(t){return new sz(t)}function bR(t){return t<0?-1:1}function xR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(bR(s)+bR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function vR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function T1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function Yx(t){this._context=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T1(this,this._t0,vR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T1(this,vR(this,r=xR(this,t,e)),r);break;default:T1(this,this._t0,r=xR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oz(t){this._context=new iz(t)}(oz.prototype=Object.create(Yx.prototype)).point=function(t,e){Yx.prototype.point.call(this,e,t)};function iz(t){this._context=t}iz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function Yke(t){return new Yx(t)}function Kke(t){return new oz(t)}function lz(t){this._context=t}lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=jR(t),a=jR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function Jke(t){return new lz(t)}function ow(t,e){this._context=t,this._t=e}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Xke(t){return new ow(t,.5)}function Zke(t){return new ow(t,0)}function Qke(t){return new ow(t,1)}function Bc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ik(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function eIe(t,e){return t[e]}function tIe(t){const e=[];return e.key=t,e}function rIe(){var t=vt([]),e=ik,r=Bc,n=eIe;function a(s){var i=Array.from(t.apply(this,arguments),tIe),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=YE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:vt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:vt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?ik:typeof s=="function"?s:vt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Bc,a):r},a}function nIe(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Bc(t,e)}}function aIe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bc(t,e)}}function sIe(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var b=t[e[p]],g=b[n][1]||0,x=b[n-1][1]||0;h+=g-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Bc(t,e)}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var oIe=["type","size","sizeType"];function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){iIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iIe(t,e,r){return e=lIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lIe(t){var e=cIe(t,"string");return Xf(e)=="symbol"?e:e+""}function cIe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uIe(t,e){if(t==null)return{};var r=dIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cz={symbolCircle:KE,symbolCross:Oke,symbolDiamond:_ke,symbolSquare:$ke,symbolStar:Fke,symbolTriangle:Bke,symbolWye:Vke},fIe=Math.PI/180,mIe=function(e){var r="symbol".concat(nw(e));return cz[r]||KE},hIe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*fIe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pIe=function(e,r){cz["symbol".concat(nw(e))]=r},JE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=uIe(e,oIe),u=CR(CR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=mIe(n),x=Uke().type(g).size(hIe(s,l,n));return x()},f=u.className,m=u.cx,h=u.cy,p=Ue(u,!0);return m===+m&&h===+h&&s===+s?V.createElement("path",lk({},p,{className:_e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};JE.registerSymbol=pIe;function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function ck(){return ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ck.apply(this,arguments)}function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){Zf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dz(n.key),n)}}function xIe(t,e,r){return e&&bIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vIe(t,e,r){return e=Kx(e),jIe(t,uz()?Reflect.construct(e,r||[],Kx(t).constructor):e.apply(t,r))}function jIe(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wIe(t)}function wIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(t)}function CIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(t,e)}function Zf(t,e,r){return e=dz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=NIe(t,"string");return qc(e)=="symbol"?e:e+""}function NIe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var na=32,XE=function(t){function e(){return yIe(this,e),vIe(this,e,arguments)}return CIe(e,t),xIe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=na/2,i=na/6,l=na/3,c=n.inactive?a:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:na,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(na,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(na/8,"h").concat(na,"v").concat(na*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=gIe({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(JE,{fill:c,cx:s,cy:s,size:na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:na,height:na},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,p){var b=h.formatter||c,g=_e(Zf(Zf({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=ze(h.value)?null:h.value;js(!ze(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return V.createElement("li",ck({className:g,style:f,key:"legend-item-".concat(p)},rw(n.props,h,p)),V.createElement(ek,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(x,h,p):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);Zf(XE,"displayName","Legend");Zf(XE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SIe=Vj;function AIe(){this.__data__=new SIe,this.size=0}var kIe=AIe;function IIe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var TIe=IIe;function EIe(t){return this.__data__.get(t)}var PIe=EIe;function OIe(t){return this.__data__.has(t)}var DIe=OIe,_Ie=Vj,$Ie=LE,RIe=FE,MIe=200;function LIe(t,e){var r=this.__data__;if(r instanceof _Ie){var n=r.__data__;if(!$Ie||n.length<MIe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new RIe(n)}return r.set(t,e),this.size=r.size,this}var FIe=LIe,BIe=Vj,qIe=kIe,VIe=TIe,UIe=PIe,zIe=DIe,WIe=FIe;function Nu(t){var e=this.__data__=new BIe(t);this.size=e.size}Nu.prototype.clear=qIe;Nu.prototype.delete=VIe;Nu.prototype.get=UIe;Nu.prototype.has=zIe;Nu.prototype.set=WIe;var fz=Nu,HIe="__lodash_hash_undefined__";function GIe(t){return this.__data__.set(t,HIe),this}var YIe=GIe;function KIe(t){return this.__data__.has(t)}var JIe=KIe,XIe=FE,ZIe=YIe,QIe=JIe;function Jx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new XIe;++e<r;)this.add(t[e])}Jx.prototype.add=Jx.prototype.push=ZIe;Jx.prototype.has=QIe;var mz=Jx;function eTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var hz=eTe;function tTe(t,e){return t.has(e)}var pz=tTe,rTe=mz,nTe=hz,aTe=pz,sTe=1,oTe=2;function iTe(t,e,r,n,a,s){var i=r&sTe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&oTe?new rTe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var p=t[f],b=e[f];if(n)var g=i?n(b,p,f,e,t,s):n(p,b,f,t,e,s);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!nTe(e,function(x,y){if(!aTe(h,y)&&(p===x||a(p,x,r,n,s)))return h.push(y)})){m=!1;break}}else if(!(p===b||a(p,b,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var gz=iTe,lTe=Ya,cTe=lTe.Uint8Array,uTe=cTe;function dTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var fTe=dTe;function mTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ZE=mTe,SR=ah,AR=uTe,hTe=ME,pTe=gz,gTe=fTe,yTe=ZE,bTe=1,xTe=2,vTe="[object Boolean]",jTe="[object Date]",wTe="[object Error]",CTe="[object Map]",NTe="[object Number]",STe="[object RegExp]",ATe="[object Set]",kTe="[object String]",ITe="[object Symbol]",TTe="[object ArrayBuffer]",ETe="[object DataView]",kR=SR?SR.prototype:void 0,E1=kR?kR.valueOf:void 0;function PTe(t,e,r,n,a,s,i){switch(r){case ETe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TTe:return!(t.byteLength!=e.byteLength||!s(new AR(t),new AR(e)));case vTe:case jTe:case NTe:return hTe(+t,+e);case wTe:return t.name==e.name&&t.message==e.message;case STe:case kTe:return t==e+"";case CTe:var l=gTe;case ATe:var c=n&bTe;if(l||(l=yTe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=xTe,i.set(t,e);var d=pTe(l(t),l(e),n,a,s,i);return i.delete(t),d;case ITe:if(E1)return E1.call(t)==E1.call(e)}return!1}var OTe=PTe;function DTe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var yz=DTe,_Te=yz,$Te=mn;function RTe(t,e,r){var n=e(t);return $Te(t)?n:_Te(n,r(t))}var MTe=RTe;function LTe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var FTe=LTe;function BTe(){return[]}var qTe=BTe,VTe=FTe,UTe=qTe,zTe=Object.prototype,WTe=zTe.propertyIsEnumerable,IR=Object.getOwnPropertySymbols,HTe=IR?function(t){return t==null?[]:(t=Object(t),VTe(IR(t),function(e){return WTe.call(t,e)}))}:UTe,GTe=HTe;function YTe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var KTe=YTe,JTe=Fs,XTe=Bs,ZTe="[object Arguments]";function QTe(t){return XTe(t)&&JTe(t)==ZTe}var eEe=QTe,TR=eEe,tEe=Bs,bz=Object.prototype,rEe=bz.hasOwnProperty,nEe=bz.propertyIsEnumerable,aEe=TR(function(){return arguments}())?TR:function(t){return tEe(t)&&rEe.call(t,"callee")&&!nEe.call(t,"callee")},QE=aEe,Xx={exports:{}};function sEe(){return!1}var oEe=sEe;Xx.exports;(function(t,e){var r=Ya,n=oEe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Xx,Xx.exports);var xz=Xx.exports,iEe=9007199254740991,lEe=/^(?:0|[1-9]\d*)$/;function cEe(t,e){var r=typeof t;return e=e??iEe,!!e&&(r=="number"||r!="symbol"&&lEe.test(t))&&t>-1&&t%1==0&&t<e}var eP=cEe,uEe=9007199254740991;function dEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uEe}var tP=dEe,fEe=Fs,mEe=tP,hEe=Bs,pEe="[object Arguments]",gEe="[object Array]",yEe="[object Boolean]",bEe="[object Date]",xEe="[object Error]",vEe="[object Function]",jEe="[object Map]",wEe="[object Number]",CEe="[object Object]",NEe="[object RegExp]",SEe="[object Set]",AEe="[object String]",kEe="[object WeakMap]",IEe="[object ArrayBuffer]",TEe="[object DataView]",EEe="[object Float32Array]",PEe="[object Float64Array]",OEe="[object Int8Array]",DEe="[object Int16Array]",_Ee="[object Int32Array]",$Ee="[object Uint8Array]",REe="[object Uint8ClampedArray]",MEe="[object Uint16Array]",LEe="[object Uint32Array]",At={};At[EEe]=At[PEe]=At[OEe]=At[DEe]=At[_Ee]=At[$Ee]=At[REe]=At[MEe]=At[LEe]=!0;At[pEe]=At[gEe]=At[IEe]=At[yEe]=At[TEe]=At[bEe]=At[xEe]=At[vEe]=At[jEe]=At[wEe]=At[CEe]=At[NEe]=At[SEe]=At[AEe]=At[kEe]=!1;function FEe(t){return hEe(t)&&mEe(t.length)&&!!At[fEe(t)]}var BEe=FEe;function qEe(t){return function(e){return t(e)}}var vz=qEe,Zx={exports:{}};Zx.exports;(function(t,e){var r=IU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(Zx,Zx.exports);var VEe=Zx.exports,UEe=BEe,zEe=vz,ER=VEe,PR=ER&&ER.isTypedArray,WEe=PR?zEe(PR):UEe,jz=WEe,HEe=KTe,GEe=QE,YEe=mn,KEe=xz,JEe=eP,XEe=jz,ZEe=Object.prototype,QEe=ZEe.hasOwnProperty;function ePe(t,e){var r=YEe(t),n=!r&&GEe(t),a=!r&&!n&&KEe(t),s=!r&&!n&&!a&&XEe(t),i=r||n||a||s,l=i?HEe(t.length,String):[],c=l.length;for(var u in t)(e||QEe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JEe(u,c)))&&l.push(u);return l}var tPe=ePe,rPe=Object.prototype;function nPe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rPe;return t===r}var aPe=nPe;function sPe(t,e){return function(r){return t(e(r))}}var wz=sPe,oPe=wz,iPe=oPe(Object.keys,Object),lPe=iPe,cPe=aPe,uPe=lPe,dPe=Object.prototype,fPe=dPe.hasOwnProperty;function mPe(t){if(!cPe(t))return uPe(t);var e=[];for(var r in Object(t))fPe.call(t,r)&&r!="constructor"&&e.push(r);return e}var hPe=mPe,pPe=RE,gPe=tP;function yPe(t){return t!=null&&gPe(t.length)&&!pPe(t)}var iw=yPe,bPe=tPe,xPe=hPe,vPe=iw;function jPe(t){return vPe(t)?bPe(t):xPe(t)}var rP=jPe,wPe=MTe,CPe=GTe,NPe=rP;function SPe(t){return wPe(t,NPe,CPe)}var APe=SPe,OR=APe,kPe=1,IPe=Object.prototype,TPe=IPe.hasOwnProperty;function EPe(t,e,r,n,a,s){var i=r&kPe,l=OR(t),c=l.length,u=OR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:TPe.call(e,m)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var b=!0;s.set(t,e),s.set(e,t);for(var g=i;++f<c;){m=l[f];var x=t[m],y=e[m];if(n)var v=i?n(y,x,m,e,t,s):n(x,y,m,t,e,s);if(!(v===void 0?x===y||a(x,y,r,n,s):v)){b=!1;break}g||(g=m=="constructor")}if(b&&!g){var N=t.constructor,C=e.constructor;N!=C&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(b=!1)}return s.delete(t),s.delete(e),b}var PPe=EPe,OPe=wl,DPe=Ya,_Pe=OPe(DPe,"DataView"),$Pe=_Pe,RPe=wl,MPe=Ya,LPe=RPe(MPe,"Promise"),FPe=LPe,BPe=wl,qPe=Ya,VPe=BPe(qPe,"Set"),Cz=VPe,UPe=wl,zPe=Ya,WPe=UPe(zPe,"WeakMap"),HPe=WPe,dk=$Pe,fk=LE,mk=FPe,hk=Cz,pk=HPe,Nz=Fs,Su=EU,DR="[object Map]",GPe="[object Object]",_R="[object Promise]",$R="[object Set]",RR="[object WeakMap]",MR="[object DataView]",YPe=Su(dk),KPe=Su(fk),JPe=Su(mk),XPe=Su(hk),ZPe=Su(pk),yi=Nz;(dk&&yi(new dk(new ArrayBuffer(1)))!=MR||fk&&yi(new fk)!=DR||mk&&yi(mk.resolve())!=_R||hk&&yi(new hk)!=$R||pk&&yi(new pk)!=RR)&&(yi=function(t){var e=Nz(t),r=e==GPe?t.constructor:void 0,n=r?Su(r):"";if(n)switch(n){case YPe:return MR;case KPe:return DR;case JPe:return _R;case XPe:return $R;case ZPe:return RR}return e});var QPe=yi,P1=fz,eOe=gz,tOe=OTe,rOe=PPe,LR=QPe,FR=mn,BR=xz,nOe=jz,aOe=1,qR="[object Arguments]",VR="[object Array]",sp="[object Object]",sOe=Object.prototype,UR=sOe.hasOwnProperty;function oOe(t,e,r,n,a,s){var i=FR(t),l=FR(e),c=i?VR:LR(t),u=l?VR:LR(e);c=c==qR?sp:c,u=u==qR?sp:u;var d=c==sp,f=u==sp,m=c==u;if(m&&BR(t)){if(!BR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new P1),i||nOe(t)?eOe(t,e,r,n,a,s):tOe(t,e,c,r,n,a,s);if(!(r&aOe)){var h=d&&UR.call(t,"__wrapped__"),p=f&&UR.call(e,"__wrapped__");if(h||p){var b=h?t.value():t,g=p?e.value():e;return s||(s=new P1),a(b,g,r,n,s)}}return m?(s||(s=new P1),rOe(t,e,r,n,a,s)):!1}var iOe=oOe,lOe=iOe,zR=Bs;function Sz(t,e,r,n,a){return t===e?!0:t==null||e==null||!zR(t)&&!zR(e)?t!==t&&e!==e:lOe(t,e,r,n,Sz,a)}var nP=Sz,cOe=fz,uOe=nP,dOe=1,fOe=2;function mOe(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new cOe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?uOe(d,u,dOe|fOe,n,f):m))return!1}}return!0}var hOe=mOe,pOe=Ko;function gOe(t){return t===t&&!pOe(t)}var Az=gOe,yOe=Az,bOe=rP;function xOe(t){for(var e=bOe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,yOe(a)]}return e}var vOe=xOe;function jOe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var kz=jOe,wOe=hOe,COe=vOe,NOe=kz;function SOe(t){var e=COe(t);return e.length==1&&e[0][2]?NOe(e[0][0],e[0][1]):function(r){return r===t||wOe(r,t,e)}}var AOe=SOe;function kOe(t,e){return t!=null&&e in Object(t)}var IOe=kOe,TOe=$U,EOe=QE,POe=mn,OOe=eP,DOe=tP,_Oe=zj;function $Oe(t,e,r){e=TOe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=_Oe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&DOe(a)&&OOe(i,a)&&(POe(t)||EOe(t)))}var ROe=$Oe,MOe=IOe,LOe=ROe;function FOe(t,e){return t!=null&&LOe(t,e,MOe)}var BOe=FOe,qOe=nP,VOe=RU,UOe=BOe,zOe=$E,WOe=Az,HOe=kz,GOe=zj,YOe=1,KOe=2;function JOe(t,e){return zOe(t)&&WOe(e)?HOe(GOe(t),e):function(r){var n=VOe(r,t);return n===void 0&&n===e?UOe(r,t):qOe(e,n,YOe|KOe)}}var XOe=JOe;function ZOe(t){return t}var Au=ZOe;function QOe(t){return function(e){return e==null?void 0:e[t]}}var e2e=QOe,t2e=VE;function r2e(t){return function(e){return t2e(e,t)}}var n2e=r2e,a2e=e2e,s2e=n2e,o2e=$E,i2e=zj;function l2e(t){return o2e(t)?a2e(i2e(t)):s2e(t)}var c2e=l2e,u2e=AOe,d2e=XOe,f2e=Au,m2e=mn,h2e=c2e;function p2e(t){return typeof t=="function"?t:t==null?f2e:typeof t=="object"?m2e(t)?d2e(t[0],t[1]):u2e(t):h2e(t)}var Jo=p2e;function g2e(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var y2e=g2e;function b2e(t){return t!==t}var x2e=b2e;function v2e(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var j2e=v2e,w2e=y2e,C2e=x2e,N2e=j2e;function S2e(t,e,r){return e===e?N2e(t,e,r):w2e(t,C2e,r)}var A2e=S2e,k2e=A2e;function I2e(t,e){var r=t==null?0:t.length;return!!r&&k2e(t,e,0)>-1}var T2e=I2e;function E2e(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var P2e=E2e;function O2e(){}var D2e=O2e,O1=Cz,_2e=D2e,$2e=ZE,R2e=1/0,M2e=O1&&1/$2e(new O1([,-0]))[1]==R2e?function(t){return new O1(t)}:_2e,L2e=M2e,F2e=mz,B2e=T2e,q2e=P2e,V2e=pz,U2e=L2e,z2e=ZE,W2e=200;function H2e(t,e,r){var n=-1,a=B2e,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=q2e;else if(s>=W2e){var u=e?null:U2e(t);if(u)return z2e(u);i=!1,a=V2e,c=new F2e}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var G2e=H2e,Y2e=Jo,K2e=G2e;function J2e(t,e){return t&&t.length?K2e(t,Y2e(e)):[]}var X2e=J2e;const WR=at(X2e);function Iz(t,e,r){return e===!0?WR(t,r):ze(e)?WR(t,e):t}function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var Z2e=["ref"];function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ez(n.key),n)}}function eDe(t,e,r){return e&&GR(t.prototype,e),r&&GR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tDe(t,e,r){return e=Qx(e),rDe(t,Tz()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function rDe(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nDe(t)}function nDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function aDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gk(t,e)}function gk(t,e){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(t,e)}function lw(t,e,r){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ez(t){var e=sDe(t,"string");return Vc(e)=="symbol"?e:e+""}function sDe(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oDe(t,e){if(t==null)return{};var r=iDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lDe(t){return t.value}function cDe(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=oDe(e,Z2e);return V.createElement(XE,r)}var YR=1,Ua=function(t){function e(){var r;Q2e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=tDe(this,e,[].concat(a)),lw(r,"lastBoundingBox",{width:-1,height:-1}),r}return aDe(e,t),eDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>YR||Math.abs(a.height-this.lastBoundingBox.height)>YR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Za(Za({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Za(Za({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},cDe(s,Za(Za({},this.props),{},{payload:Iz(d,u,lDe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Za(Za({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&ve(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);lw(Ua,"displayName","Legend");lw(Ua,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KR=ah,uDe=QE,dDe=mn,JR=KR?KR.isConcatSpreadable:void 0;function fDe(t){return dDe(t)||uDe(t)||!!(JR&&t&&t[JR])}var mDe=fDe,hDe=yz,pDe=mDe;function Pz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=pDe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Pz(l,e-1,r,n,a):hDe(a,l):n||(a[a.length]=l)}return a}var Oz=Pz;function gDe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var yDe=gDe,bDe=yDe,xDe=bDe(),vDe=xDe,jDe=vDe,wDe=rP;function CDe(t,e){return t&&jDe(t,e,wDe)}var Dz=CDe,NDe=iw;function SDe(t,e){return function(r,n){if(r==null)return r;if(!NDe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var ADe=SDe,kDe=Dz,IDe=ADe,TDe=IDe(kDe),aP=TDe,EDe=aP,PDe=iw;function ODe(t,e){var r=-1,n=PDe(t)?Array(t.length):[];return EDe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var _z=ODe;function DDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var _De=DDe,XR=xu;function $De(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=XR(t),i=e!==void 0,l=e===null,c=e===e,u=XR(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var RDe=$De,MDe=RDe;function LDe(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=MDe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var FDe=LDe,D1=qE,BDe=VE,qDe=Jo,VDe=_z,UDe=_De,zDe=vz,WDe=FDe,HDe=Au,GDe=mn;function YDe(t,e,r){e.length?e=D1(e,function(s){return GDe(s)?function(i){return BDe(i,s.length===1?s[0]:s)}:s}):e=[HDe];var n=-1;e=D1(e,zDe(qDe));var a=VDe(t,function(s,i,l){var c=D1(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return UDe(a,function(s,i){return WDe(s,i,r)})}var KDe=YDe;function JDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var XDe=JDe,ZDe=XDe,ZR=Math.max;function QDe(t,e,r){return e=ZR(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=ZR(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),ZDe(t,this,l)}}var e_e=QDe;function t_e(t){return function(){return t}}var r_e=t_e,n_e=wl,a_e=function(){try{var t=n_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$z=a_e,s_e=r_e,QR=$z,o_e=Au,i_e=QR?function(t,e){return QR(t,"toString",{configurable:!0,enumerable:!1,value:s_e(e),writable:!0})}:o_e,l_e=i_e,c_e=800,u_e=16,d_e=Date.now;function f_e(t){var e=0,r=0;return function(){var n=d_e(),a=u_e-(n-r);if(r=n,a>0){if(++e>=c_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var m_e=f_e,h_e=l_e,p_e=m_e,g_e=p_e(h_e),y_e=g_e,b_e=Au,x_e=e_e,v_e=y_e;function j_e(t,e){return v_e(x_e(t,e,b_e),t+"")}var w_e=j_e,C_e=ME,N_e=iw,S_e=eP,A_e=Ko;function k_e(t,e,r){if(!A_e(r))return!1;var n=typeof e;return(n=="number"?N_e(r)&&S_e(e,r.length):n=="string"&&e in r)?C_e(r[e],t):!1}var cw=k_e,I_e=Oz,T_e=KDe,E_e=w_e,eM=cw,P_e=E_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&eM(t,e[0],e[1])?e=[]:r>2&&eM(e[0],e[1],e[2])&&(e=[e[0]]),T_e(t,I_e(e,1),[])}),O_e=P_e;const sP=at(O_e);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function yk(){return yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yk.apply(this,arguments)}function D_e(t,e){return M_e(t)||R_e(t,e)||$_e(t,e)||__e()}function __e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(t,e){if(t){if(typeof t=="string")return tM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tM(t,e)}}function tM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function M_e(t){if(Array.isArray(t))return t}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){L_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L_e(t,e,r){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F_e(t){var e=B_e(t,"string");return Qf(e)=="symbol"?e:e+""}function B_e(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_e(t){return Array.isArray(t)&&cr(t[0])&&cr(t[1])?t.join(" ~ "):t}var V_e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,b=e.label,g=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,v=function(){if(d&&d.length){var O={padding:0,margin:0},M=(m?sP(d,m):d).map(function(R,$){if(R.type==="none")return null;var B=_1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),z=R.formatter||f||q_e,D=R.value,_=R.name,F=D,Y=_;if(z&&F!=null&&Y!=null){var G=z(D,_,R,$,d);if(Array.isArray(G)){var te=D_e(G,2);F=te[0],Y=te[1]}else F=G}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:B},cr(Y)?V.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,cr(Y)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},F),V.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},N=_1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=_1({margin:0},u),j=!Ye(b),S=j?b:"",A=_e("recharts-default-tooltip",h),T=_e("recharts-tooltip-label",p);j&&g&&d!==void 0&&d!==null&&(S=g(b,d));var k=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",yk({className:A,style:N},k),V.createElement("p",{className:T,style:C},V.isValidElement(S)?S:"".concat(S)),v())};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function op(t,e,r){return e=U_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U_e(t){var e=z_e(t,"string");return em(e)=="symbol"?e:e+""}function z_e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rd="recharts-tooltip-wrapper",W_e={visibility:"hidden"};function H_e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _e(rd,op(op(op(op({},"".concat(rd,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(rd,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(rd,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(rd,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function nM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ve(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,b=c[n]+u;return p>b?Math.max(d,c[n]):Math.max(f,c[n])}function G_e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Y_e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=nM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=nM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=G_e({translateX:d,translateY:f,useTranslate3d:l})):u=W_e,{cssProperties:u,cssClasses:H_e({translateX:d,translateY:f,coordinate:r})}}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function aM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(r),!0).forEach(function(n){xk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mz(n.key),n)}}function X_e(t,e,r){return e&&J_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z_e(t,e,r){return e=ev(e),Q_e(t,Rz()?Reflect.construct(e,r||[],ev(t).constructor):e.apply(t,r))}function Q_e(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$e(t)}function e$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rz=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(t)}function t$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bk(t,e)}function bk(t,e){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(t,e)}function xk(t,e,r){return e=Mz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mz(t){var e=r$e(t,"string");return Uc(e)=="symbol"?e:e+""}function r$e(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oM=1,n$e=function(t){function e(){var r;K_e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Z_e(this,e,[].concat(a)),xk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xk(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return t$e(e,t),X_e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>oM||Math.abs(n.height-this.state.lastBoundingBox.height)>oM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,p=a.position,b=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,v=Y_e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),N=v.cssClasses,C=v.cssProperties,j=sM(sM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(A){n.wrapperNode=A}},u)}}])}(w.PureComponent),a$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uw={isSsr:a$e()};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function iM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(r),!0).forEach(function(n){oP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fz(n.key),n)}}function i$e(t,e,r){return e&&o$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l$e(t,e,r){return e=tv(e),c$e(t,Lz()?Reflect.construct(e,r||[],tv(t).constructor):e.apply(t,r))}function c$e(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u$e(t)}function u$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(t)}function d$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vk(t,e)}function vk(t,e){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(t,e)}function oP(t,e,r){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fz(t){var e=f$e(t,"string");return zc(e)=="symbol"?e:e+""}function f$e(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function m$e(t){return t.dataKey}function h$e(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(V_e,e)}var rs=function(t){function e(){return s$e(this,e),l$e(this,e,arguments)}return d$e(e,t),i$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,p=a.payload,b=a.payloadUniqBy,g=a.position,x=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,N=a.wrapperStyle,C=p??[];f&&C.length&&(C=Iz(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,m$e));var j=C.length>0;return V.createElement(n$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:j,offset:h,position:g,reverseDirection:x,useTranslate3d:y,viewBox:v,wrapperStyle:N},h$e(u,lM(lM({},this.props),{},{payload:C})))}}])}(w.PureComponent);oP(rs,"displayName","Tooltip");oP(rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var p$e=Ya,g$e=function(){return p$e.Date.now()},y$e=g$e,b$e=/\s/;function x$e(t){for(var e=t.length;e--&&b$e.test(t.charAt(e)););return e}var v$e=x$e,j$e=v$e,w$e=/^\s+/;function C$e(t){return t&&t.slice(0,j$e(t)+1).replace(w$e,"")}var N$e=C$e,S$e=N$e,cM=Ko,A$e=xu,uM=NaN,k$e=/^[-+]0x[0-9a-f]+$/i,I$e=/^0b[01]+$/i,T$e=/^0o[0-7]+$/i,E$e=parseInt;function P$e(t){if(typeof t=="number")return t;if(A$e(t))return uM;if(cM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=S$e(t);var r=I$e.test(t);return r||T$e.test(t)?E$e(t.slice(2),r?2:8):k$e.test(t)?uM:+t}var Bz=P$e,O$e=Ko,$1=y$e,dM=Bz,D$e="Expected a function",_$e=Math.max,$$e=Math.min;function R$e(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(D$e);e=dM(e)||0,O$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?_$e(dM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(j){var S=n,A=a;return n=a=void 0,u=j,i=t.apply(A,S),i}function p(j){return u=j,l=setTimeout(x,e),d?h(j):i}function b(j){var S=j-c,A=j-u,T=e-S;return f?$$e(T,s-A):T}function g(j){var S=j-c,A=j-u;return c===void 0||S>=e||S<0||f&&A>=s}function x(){var j=$1();if(g(j))return y(j);l=setTimeout(x,b(j))}function y(j){return l=void 0,m&&n?h(j):(n=a=void 0,i)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?i:y($1())}function C(){var j=$1(),S=g(j);if(n=arguments,a=this,c=j,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(x,e),h(c)}return l===void 0&&(l=setTimeout(x,e)),i}return C.cancel=v,C.flush=N,C}var M$e=R$e,L$e=M$e,F$e=Ko,B$e="Expected a function";function q$e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(B$e);return F$e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),L$e(t,e,{leading:n,maxWait:e,trailing:a})}var V$e=q$e;const qz=at(V$e);function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){U$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U$e(t,e,r){return e=z$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z$e(t){var e=W$e(t,"string");return tm(e)=="symbol"?e:e+""}function W$e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H$e(t,e){return J$e(t)||K$e(t,e)||Y$e(t,e)||G$e()}function G$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$e(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function J$e(t){if(Array.isArray(t))return t}var dw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,p=t.debounce,b=p===void 0?0:p,g=t.id,x=t.className,y=t.onResize,v=t.style,N=v===void 0?{}:v,C=w.useRef(null),j=w.useRef();j.current=y,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),A=H$e(S,2),T=A[0],k=A[1],E=w.useCallback(function(M,R){k(function($){var B=Math.round(M),z=Math.round(R);return $.containerWidth===B&&$.containerHeight===z?$:{containerWidth:B,containerHeight:z}})},[]);w.useEffect(function(){var M=function(_){var F,Y=_[0].contentRect,G=Y.width,te=Y.height;E(G,te),(F=j.current)===null||F===void 0||F.call(j,G,te)};b>0&&(M=qz(M,b,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),$=C.current.getBoundingClientRect(),B=$.width,z=$.height;return E(B,z),R.observe(C.current),function(){R.disconnect()}},[E,b]);var O=w.useMemo(function(){var M=T.containerWidth,R=T.containerHeight;if(M<0||R<0)return null;js(Ii(i)||Ii(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),js(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Ii(i)?M:i,B=Ii(c)?R:c;r&&r>0&&($?B=$/r:B&&($=B*r),m&&B>m&&(B=m)),js($>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,B,i,c,d,f,r);var z=!Array.isArray(h)&&vs(h.type).endsWith("Chart");return V.Children.map(h,function(D){return V.isValidElement(D)?w.cloneElement(D,ip({width:$,height:B},z?{style:ip({height:"100%",width:"100%",maxHeight:B,maxWidth:$},D.props.style)}:{})):D})},[r,h,c,m,f,d,T,i]);return V.createElement("div",{id:g?"".concat(g):void 0,className:_e("recharts-responsive-container",x),style:ip(ip({},N),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},O)}),ku=function(e){return null};ku.displayName="Cell";function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){X$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X$e(t,e,r){return e=Z$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z$e(t){var e=Q$e(t,"string");return rm(e)=="symbol"?e:e+""}function Q$e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $l={widthCache:{},cacheCount:0},eRe=2e3,tRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pM="recharts_measurement_span";function rRe(t){var e=jk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var gM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uw.isSsr)return{width:0,height:0};var n=rRe(r),a=JSON.stringify({text:e,copyStyle:n});if($l.widthCache[a])return $l.widthCache[a];try{var s=document.getElementById(pM);s||(s=document.createElement("span"),s.setAttribute("id",pM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=jk(jk({},tRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $l.widthCache[a]=c,++$l.cacheCount>eRe&&($l.cacheCount=0,$l.widthCache={}),c}catch{return{width:0,height:0}}},nRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function rv(t,e){return iRe(t)||oRe(t,e)||sRe(t,e)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sRe(t,e){if(t){if(typeof t=="string")return yM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(t,e)}}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function iRe(t){if(Array.isArray(t))return t}function lRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uRe(n.key),n)}}function cRe(t,e,r){return e&&bM(t.prototype,e),r&&bM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uRe(t){var e=dRe(t,"string");return nm(e)=="symbol"?e:e+""}function dRe(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hRe=Object.keys(Vz),Xl="NaN";function pRe(t,e){return t*Vz[e]}var lp=function(){function t(e,r){lRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!fRe.test(r)&&(this.num=NaN,this.unit=""),hRe.includes(r)&&(this.num=pRe(e,r),this.unit="px")}return cRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=mRe.exec(r))!==null&&n!==void 0?n:[],s=rv(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function Uz(t){if(t.includes(Xl))return Xl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=xM.exec(e))!==null&&r!==void 0?r:[],a=rv(n,4),s=a[1],i=a[2],l=a[3],c=lp.parse(s??""),u=lp.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Xl;e=e.replace(xM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=vM.exec(e))!==null&&f!==void 0?f:[],h=rv(m,4),p=h[1],b=h[2],g=h[3],x=lp.parse(p??""),y=lp.parse(g??""),v=b==="+"?x.add(y):x.subtract(y);if(v.isNaN())return Xl;e=e.replace(vM,v.toString())}return e}var jM=/\(([^()]*)\)/;function gRe(t){for(var e=t;e.includes("(");){var r=jM.exec(e),n=rv(r,2),a=n[1];e=e.replace(jM,Uz(a))}return e}function yRe(t){var e=t.replace(/\s+/g,"");return e=gRe(e),e=Uz(e),e}function bRe(t){try{return yRe(t)}catch{return Xl}}function R1(t){var e=bRe(t.slice(5,-1));return e===Xl?"":e}var xRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vRe=["dx","dy","angle","className","breakAll"];function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wk.apply(this,arguments)}function wM(t,e){if(t==null)return{};var r=jRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CM(t,e){return SRe(t)||NRe(t,e)||CRe(t,e)||wRe()}function wRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function SRe(t){if(Array.isArray(t))return t}var zz=/[ \f\n\r\t\v\u2028\u2029]+/,Wz=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ye(r)||(n?s=r.toString().split(""):s=r.toString().split(zz));var i=s.map(function(c){return{word:c,width:gM(c,a).width}}),l=n?0:gM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},ARe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ve(i),f=l,m=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(B,z){var D=z.word,_=z.width,F=B[B.length-1];if(F&&(a==null||s||F.width+_+n<Number(a)))F.words.push(D),F.width+=_+n;else{var Y={words:[D],width:_};B.push(Y)}return B},[])},h=m(r),p=function($){return $.reduce(function(B,z){return B.width>z.width?B:z})};if(!d)return h;for(var b="",g=function($){var B=f.slice(0,$),z=Wz({breakAll:u,style:c,children:B+b}).wordsWithComputedWidth,D=m(z),_=D.length>i||p(D).width>Number(a);return[_,D]},x=0,y=f.length-1,v=0,N;x<=y&&v<=f.length-1;){var C=Math.floor((x+y)/2),j=C-1,S=g(j),A=CM(S,2),T=A[0],k=A[1],E=g(C),O=CM(E,1),M=O[0];if(!T&&!M&&(x=C+1),T&&M&&(y=C-1),!T&&M){N=k;break}v++}return N||h},SM=function(e){var r=Ye(e)?[]:e.toString().split(zz);return[{words:r}]},kRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!uw.isSsr){var c,u,d=Wz({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return SM(a);return ARe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return SM(a)},AM="#808080",Wc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,p=e.verticalAnchor,b=p===void 0?"end":p,g=e.fill,x=g===void 0?AM:g,y=wM(e,xRe),v=w.useMemo(function(){return kRe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,C=y.dy,j=y.angle,S=y.className,A=y.breakAll,T=wM(y,vRe);if(!cr(n)||!cr(s))return null;var k=n+(ve(N)?N:0),E=s+(ve(C)?C:0),O;switch(b){case"start":O=R1("calc(".concat(u,")"));break;case"middle":O=R1("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=R1("calc(".concat(v.length-1," * -").concat(l,")"));break}var M=[];if(f){var R=v[0].width,$=y.width;M.push("scale(".concat((ve($)?$/R:1)/R,")"))}return j&&M.push("rotate(".concat(j,", ").concat(k,", ").concat(E,")")),M.length&&(T.transform=M.join(" ")),V.createElement("text",wk({},Ue(T,!0),{x:k,y:E,className:_e("recharts-text",S),textAnchor:h,fill:x.includes("url")?AM:x}),v.map(function(B,z){var D=B.words.join(A?"":" ");return V.createElement("tspan",{x:k,dy:z===0?O:l,key:"".concat(D,"-").concat(z)},D)}))};function Io(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iP(t){let e,r,n;t.length!==2?(e=Io,r=(l,c)=>Io(t(l),c),n=(l,c)=>t(l)-c):(e=t===Io||t===IRe?t:TRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function TRe(){return 0}function Hz(t){return t===null?NaN:+t}function*ERe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const PRe=iP(Io),ih=PRe.right;iP(Hz).center;class kM extends Map{constructor(e,r=_Re){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(IM(this,e))}has(e){return super.has(IM(this,e))}set(e,r){return super.set(ORe(this,e),r)}delete(e){return super.delete(DRe(this,e))}}function IM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ORe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function DRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _Re(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $Re(t=Io){if(t===Io)return Gz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Gz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RRe=Math.sqrt(50),MRe=Math.sqrt(10),LRe=Math.sqrt(2);function nv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=RRe?10:s>=MRe?5:s>=LRe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?nv(t,e,r*2):[l,c,u]}function Ck(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?nv(e,t,r):nv(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Nk(t,e,r){return e=+e,t=+t,r=+r,nv(t,e,r)[2]}function Sk(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Nk(e,t,r):Nk(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function TM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function EM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yz(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Gz:$Re(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),p=Math.min(n,Math.floor(e+(c-u)*f/c+m));Yz(t,e,h,p,a)}const s=t[e];let i=r,l=n;for(nd(t,r,e),a(t[n],s)>0&&nd(t,r,n);i<l;){for(nd(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?nd(t,r,l):(++l,nd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function nd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function FRe(t,e,r){if(t=Float64Array.from(ERe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return EM(t);if(e>=1)return TM(t);var n,a=(n-1)*e,s=Math.floor(a),i=TM(Yz(t,s).subarray(0,s+1)),l=EM(t.subarray(s+1));return i+(l-i)*(a-s)}}function BRe(t,e,r=Hz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function qRe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ak=Symbol("implicit");function lP(){var t=new kM,e=[],r=[],n=Ak;function a(s){let i=t.get(s);if(i===void 0){if(n!==Ak)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new kM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return lP(e,r).unknown(n)},Qn.apply(a,arguments),a}function am(){var t=lP().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,p=h?a:n,b=h?n:a;s=(b-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(b-p-s*(m-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var g=qRe(m).map(function(x){return p+s*x});return r(h?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return am(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Qn.apply(f(),arguments)}function Kz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kz(e())},t}function of(){return Kz(am.apply(null,arguments).paddingInner(1))}function cP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Jz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function lh(){}var sm=.7,av=1/sm,Nc="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VRe=/^#([0-9a-f]{3,8})$/,URe=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),zRe=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),WRe=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${om}\\)$`),HRe=new RegExp(`^rgba\\(${za},${za},${za},${om}\\)$`),GRe=new RegExp(`^hsl\\(${om},${za},${za}\\)$`),YRe=new RegExp(`^hsla\\(${om},${za},${za},${om}\\)$`),PM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cP(lh,im,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHex8:KRe,formatHsl:JRe,formatRgb:DM,toString:DM});function OM(){return this.rgb().formatHex()}function KRe(){return this.rgb().formatHex8()}function JRe(){return Xz(this).formatHsl()}function DM(){return this.rgb().formatRgb()}function im(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=VRe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_M(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=URe.exec(t))?new rn(e[1],e[2],e[3],1):(e=zRe.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WRe.exec(t))?cp(e[1],e[2],e[3],e[4]):(e=HRe.exec(t))?cp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=GRe.exec(t))?MM(e[1],e[2]/100,e[3]/100,1):(e=YRe.exec(t))?MM(e[1],e[2]/100,e[3]/100,e[4]):PM.hasOwnProperty(t)?_M(PM[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function _M(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function cp(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function XRe(t){return t instanceof lh||(t=im(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function kk(t,e,r,n){return arguments.length===1?XRe(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}cP(rn,kk,Jz(lh,{brighter(t){return t=t==null?av:Math.pow(av,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(Hi(this.r),Hi(this.g),Hi(this.b),sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$M,formatHex:$M,formatHex8:ZRe,formatRgb:RM,toString:RM}));function $M(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}`}function ZRe(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}${Ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function RM(){const t=sv(this.opacity);return`${t===1?"rgb(":"rgba("}${Hi(this.r)}, ${Hi(this.g)}, ${Hi(this.b)}${t===1?")":`, ${t})`}`}function sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ti(t){return t=Hi(t),(t<16?"0":"")+t.toString(16)}function MM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,r,n)}function Xz(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof lh||(t=im(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ca(i,l,c,t.opacity)}function QRe(t,e,r,n){return arguments.length===1?Xz(t):new ca(t,e,r,n??1)}function ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}cP(ca,QRe,Jz(lh,{brighter(t){return t=t==null?av:Math.pow(av,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new rn(M1(t>=240?t-240:t+120,a,n),M1(t,a,n),M1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ca(LM(this.h),up(this.s),up(this.l),sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sv(this.opacity);return`${t===1?"hsl(":"hsla("}${LM(this.h)}, ${up(this.s)*100}%, ${up(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LM(t){return t=(t||0)%360,t<0?t+360:t}function up(t){return Math.max(0,Math.min(1,t||0))}function M1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uP=t=>()=>t;function eMe(t,e){return function(r){return t+r*e}}function tMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function rMe(t){return(t=+t)==1?Zz:function(e,r){return r-e?tMe(e,r,t):uP(isNaN(e)?r:e)}}function Zz(t,e){var r=e-t;return r?eMe(t,r):uP(isNaN(t)?e:t)}const FM=function t(e){var r=rMe(e);function n(a,s){var i=r((a=kk(a)).r,(s=kk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Zz(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function nMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function aMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Iu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function oMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ov(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Iu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ik=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L1=new RegExp(Ik.source,"g");function lMe(t){return function(){return t}}function cMe(t){return function(e){return t(e)+""}}function uMe(t,e){var r=Ik.lastIndex=L1.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Ik.exec(t))&&(a=L1.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:ov(n,a)})),r=L1.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?cMe(c[0].x):lMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Iu(t,e){var r=typeof e,n;return e==null||r==="boolean"?uP(e):(r==="number"?ov:r==="string"?(n=im(e))?(e=n,FM):uMe:e instanceof im?FM:e instanceof Date?oMe:aMe(e)?nMe:Array.isArray(e)?sMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iMe:ov)(t,e)}function dP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function dMe(t,e){e===void 0&&(e=t,t=Iu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function fMe(t){return function(){return t}}function iv(t){return+t}var BM=[0,1];function Vr(t){return t}function Tk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:fMe(isNaN(e)?NaN:.5)}function mMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function hMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=Tk(a,n),s=r(i,s)):(n=Tk(n,a),s=r(s,i)),function(l){return s(n(l))}}function pMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=Tk(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=ih(t,l,1,n)-1;return s[c](a[c](l))}}function ch(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fw(){var t=BM,e=BM,r=Iu,n,a,s,i=Vr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Vr&&(i=mMe(t[0],t[m-1])),l=m>2?pMe:hMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),ov)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,iv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=dP,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Vr,d()):i!==Vr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function fP(){return fw()(Vr,Vr)}function gMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Hc(t){return t=lv(Math.abs(t)),t?t[1]:NaN}function yMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function bMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var xMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lm(t){if(!(e=xMe.exec(t)))throw new Error("invalid format: "+t);var e;return new mP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lm.prototype=mP.prototype;function mP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Qz;function jMe(t,e){var r=lv(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(Qz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lv(t,Math.max(0,e+s-1))[0]}function qM(t,e){var r=lv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const VM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qM(t*100,e),r:qM,s:jMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UM(t){return t}var zM=Array.prototype.map,WM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wMe(t){var e=t.grouping===void 0||t.thousands===void 0?UM:yMe(zM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?UM:bMe(zM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=lm(f);var m=f.fill,h=f.align,p=f.sign,b=f.symbol,g=f.zero,x=f.width,y=f.comma,v=f.precision,N=f.trim,C=f.type;C==="n"?(y=!0,C="g"):VM[C]||(v===void 0&&(v=12),N=!0,C="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",S=b==="$"?n:/[%p]/.test(C)?i:"",A=VM[C],T=/[defgprs%]/.test(C);v=v===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(E){var O=j,M=S,R,$,B;if(C==="c")M=A(E)+M,E="";else{E=+E;var z=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),v),N&&(E=vMe(E)),z&&+E==0&&p!=="+"&&(z=!1),O=(z?p==="("?p:l:p==="-"||p==="("?"":p)+O,M=(C==="s"?WM[8+Qz/3]:"")+M+(z&&p==="("?")":""),T){for(R=-1,$=E.length;++R<$;)if(B=E.charCodeAt(R),48>B||B>57){M=(B===46?a+E.slice(R+1):E.slice(R))+M,E=E.slice(0,R);break}}}y&&!g&&(E=e(E,1/0));var D=O.length+E.length+M.length,_=D<x?new Array(x-D+1).join(m):"";switch(y&&g&&(E=e(_+E,_.length?x-M.length:1/0),_=""),h){case"<":E=O+E+M+_;break;case"=":E=O+_+E+M;break;case"^":E=_.slice(0,D=_.length>>1)+O+E+M+_.slice(D);break;default:E=_+O+E+M;break}return s(E)}return k.toString=function(){return f+""},k}function d(f,m){var h=u((f=lm(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Hc(m)/3)))*3,b=Math.pow(10,-p),g=WM[8+p/3];return function(x){return h(b*x)+g}}return{format:u,formatPrefix:d}}var dp,hP,e7;CMe({thousands:",",grouping:[3],currency:["$",""]});function CMe(t){return dp=wMe(t),hP=dp.format,e7=dp.formatPrefix,dp}function NMe(t){return Math.max(0,-Hc(Math.abs(t)))}function SMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hc(e)/3)))*3-Hc(Math.abs(t)))}function AMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hc(e)-Hc(t))+1}function t7(t,e,r,n){var a=Sk(t,e,r),s;switch(n=lm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=SMe(a,i))&&(n.precision=s),e7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=AMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=NMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return hP(n)}function Xo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Ck(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return t7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Nk(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function cv(){var t=fP();return t.copy=function(){return ch(t,cv())},Qn.apply(t,arguments),Xo(t)}function r7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,iv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return r7(t).unknown(e)},t=arguments.length?Array.from(t,iv):[0,1],Xo(r)}function n7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function HM(t){return Math.log(t)}function GM(t){return Math.exp(t)}function kMe(t){return-Math.log(-t)}function IMe(t){return-Math.exp(-t)}function TMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function EMe(t){return t===10?TMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function PMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YM(t){return(e,r)=>-t(-e,r)}function pP(t){const e=t(HM,GM),r=e.domain;let n=10,a,s;function i(){return a=PMe(n),s=EMe(n),r()[0]<0?(a=YM(a),s=YM(s),t(kMe,IMe)):t(HM,GM),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,b;const g=l==null?10:+l;let x=[];if(!(n%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(b=m<0?p/s(-m):p*s(m),!(b<u)){if(b>d)break;x.push(b)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(b=m>0?p/s(-m):p*s(m),!(b<u)){if(b>d)break;x.push(b)}x.length*2<g&&(x=Ck(u,d,g))}else x=Ck(m,h,Math.min(h-m,g)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lm(c)).precision==null&&(c.trim=!0),c=hP(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(n7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function a7(){const t=pP(fw()).domain([1,10]);return t.copy=()=>ch(t,a7()).base(t.base()),Qn.apply(t,arguments),t}function KM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gP(t){var e=1,r=t(KM(e),JM(e));return r.constant=function(n){return arguments.length?t(KM(e=+n),JM(e)):e},Xo(r)}function s7(){var t=gP(fw());return t.copy=function(){return ch(t,s7()).constant(t.constant())},Qn.apply(t,arguments)}function XM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function OMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function DMe(t){return t<0?-t*t:t*t}function yP(t){var e=t(Vr,Vr),r=1;function n(){return r===1?t(Vr,Vr):r===.5?t(OMe,DMe):t(XM(r),XM(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Xo(e)}function bP(){var t=yP(fw());return t.copy=function(){return ch(t,bP()).exponent(t.exponent())},Qn.apply(t,arguments),t}function _Me(){return bP.apply(null,arguments).exponent(.5)}function ZM(t){return Math.sign(t)*t*t}function $Me(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function o7(){var t=fP(),e=[0,1],r=!1,n;function a(s){var i=$Me(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(ZM(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,iv)).map(ZM)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return o7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Qn.apply(a,arguments),Xo(a)}function i7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=BRe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[ih(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Io),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return i7().domain(t).range(e).unknown(n)},Qn.apply(s,arguments)}function l7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[ih(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return l7().domain([t,e]).range(a).unknown(s)},Qn.apply(Xo(i),arguments)}function c7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[ih(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return c7().domain(t).range(e).unknown(r)},Qn.apply(a,arguments)}const F1=new Date,B1=new Date;function dr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>dr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(F1.setTime(+s),B1.setTime(+i),t(F1),t(B1),Math.floor(r(F1,B1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const uv=dr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);uv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):uv);uv.range;const ms=1e3,Wn=ms*60,hs=Wn*60,Ps=hs*24,xP=Ps*7,QM=Ps*30,q1=Ps*365,Ei=dr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCSeconds());Ei.range;const vP=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());vP.range;const jP=dr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());jP.range;const wP=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getHours());wP.range;const CP=dr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCHours());CP.range;const uh=dr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Ps,t=>t.getDate()-1);uh.range;const mw=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>t.getUTCDate()-1);mw.range;const u7=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>Math.floor(t/Ps));u7.range;function Cl(t){return dr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/xP)}const hw=Cl(0),dv=Cl(1),RMe=Cl(2),MMe=Cl(3),Gc=Cl(4),LMe=Cl(5),FMe=Cl(6);hw.range;dv.range;RMe.range;MMe.range;Gc.range;LMe.range;FMe.range;function Nl(t){return dr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/xP)}const pw=Nl(0),fv=Nl(1),BMe=Nl(2),qMe=Nl(3),Yc=Nl(4),VMe=Nl(5),UMe=Nl(6);pw.range;fv.range;BMe.range;qMe.range;Yc.range;VMe.range;UMe.range;const NP=dr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NP.range;const SP=dr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());SP.range;const Os=dr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ds=dr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ds.range;function d7(t,e,r,n,a,s){const i=[[Ei,1,ms],[Ei,5,5*ms],[Ei,15,15*ms],[Ei,30,30*ms],[s,1,Wn],[s,5,5*Wn],[s,15,15*Wn],[s,30,30*Wn],[a,1,hs],[a,3,3*hs],[a,6,6*hs],[a,12,12*hs],[n,1,Ps],[n,2,2*Ps],[r,1,xP],[e,1,QM],[e,3,3*QM],[t,1,q1]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=iP(([,,g])=>g).right(i,m);if(h===i.length)return t.every(Sk(u/q1,d/q1,f));if(h===0)return uv.every(Math.max(Sk(u,d,f),1));const[p,b]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(b)}return[l,c]}const[zMe,WMe]=d7(Ds,SP,pw,u7,CP,jP),[HMe,GMe]=d7(Os,NP,hw,uh,wP,vP);function V1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ad(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function YMe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=sd(a),d=od(a),f=sd(s),m=od(s),h=sd(i),p=od(i),b=sd(l),g=od(l),x=sd(c),y=od(c),v={a:z,A:D,b:_,B:F,c:null,d:sL,e:sL,f:yLe,g:kLe,G:TLe,H:hLe,I:pLe,j:gLe,L:f7,m:bLe,M:xLe,p:Y,q:G,Q:lL,s:cL,S:vLe,u:jLe,U:wLe,V:CLe,w:NLe,W:SLe,x:null,X:null,y:ALe,Y:ILe,Z:ELe,"%":iL},N={a:te,A:fe,b:ke,B:ae,c:null,d:oL,e:oL,f:_Le,g:zLe,G:HLe,H:PLe,I:OLe,j:DLe,L:h7,m:$Le,M:RLe,p:X,q:ce,Q:lL,s:cL,S:MLe,u:LLe,U:FLe,V:BLe,w:qLe,W:VLe,x:null,X:null,y:ULe,Y:WLe,Z:GLe,"%":iL},C={a:k,A:E,b:O,B:M,c:R,d:nL,e:nL,f:uLe,g:rL,G:tL,H:aL,I:aL,j:oLe,L:cLe,m:sLe,M:iLe,p:T,q:aLe,Q:fLe,s:mLe,S:lLe,u:QMe,U:eLe,V:tLe,w:ZMe,W:rLe,x:$,X:B,y:rL,Y:tL,Z:nLe,"%":dLe};v.x=j(r,v),v.X=j(n,v),v.c=j(e,v),N.x=j(r,N),N.X=j(n,N),N.c=j(e,N);function j(Q,re){return function(K){var H=[],me=-1,je=0,Te=Q.length,Ve,qe,Lr;for(K instanceof Date||(K=new Date(+K));++me<Te;)Q.charCodeAt(me)===37&&(H.push(Q.slice(je,me)),(qe=eL[Ve=Q.charAt(++me)])!=null?Ve=Q.charAt(++me):qe=Ve==="e"?" ":"0",(Lr=re[Ve])&&(Ve=Lr(K,qe)),H.push(Ve),je=me+1);return H.push(Q.slice(je,me)),H.join("")}}function S(Q,re){return function(K){var H=ad(1900,void 0,1),me=A(H,Q,K+="",0),je,Te;if(me!=K.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(re&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(je=U1(ad(H.y,0,1)),Te=je.getUTCDay(),je=Te>4||Te===0?fv.ceil(je):fv(je),je=mw.offset(je,(H.V-1)*7),H.y=je.getUTCFullYear(),H.m=je.getUTCMonth(),H.d=je.getUTCDate()+(H.w+6)%7):(je=V1(ad(H.y,0,1)),Te=je.getDay(),je=Te>4||Te===0?dv.ceil(je):dv(je),je=uh.offset(je,(H.V-1)*7),H.y=je.getFullYear(),H.m=je.getMonth(),H.d=je.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Te="Z"in H?U1(ad(H.y,0,1)).getUTCDay():V1(ad(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Te+5)%7:H.w+H.U*7-(Te+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,U1(H)):V1(H)}}function A(Q,re,K,H){for(var me=0,je=re.length,Te=K.length,Ve,qe;me<je;){if(H>=Te)return-1;if(Ve=re.charCodeAt(me++),Ve===37){if(Ve=re.charAt(me++),qe=C[Ve in eL?re.charAt(me++):Ve],!qe||(H=qe(Q,K,H))<0)return-1}else if(Ve!=K.charCodeAt(H++))return-1}return H}function T(Q,re,K){var H=u.exec(re.slice(K));return H?(Q.p=d.get(H[0].toLowerCase()),K+H[0].length):-1}function k(Q,re,K){var H=h.exec(re.slice(K));return H?(Q.w=p.get(H[0].toLowerCase()),K+H[0].length):-1}function E(Q,re,K){var H=f.exec(re.slice(K));return H?(Q.w=m.get(H[0].toLowerCase()),K+H[0].length):-1}function O(Q,re,K){var H=x.exec(re.slice(K));return H?(Q.m=y.get(H[0].toLowerCase()),K+H[0].length):-1}function M(Q,re,K){var H=b.exec(re.slice(K));return H?(Q.m=g.get(H[0].toLowerCase()),K+H[0].length):-1}function R(Q,re,K){return A(Q,e,re,K)}function $(Q,re,K){return A(Q,r,re,K)}function B(Q,re,K){return A(Q,n,re,K)}function z(Q){return i[Q.getDay()]}function D(Q){return s[Q.getDay()]}function _(Q){return c[Q.getMonth()]}function F(Q){return l[Q.getMonth()]}function Y(Q){return a[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return i[Q.getUTCDay()]}function fe(Q){return s[Q.getUTCDay()]}function ke(Q){return c[Q.getUTCMonth()]}function ae(Q){return l[Q.getUTCMonth()]}function X(Q){return a[+(Q.getUTCHours()>=12)]}function ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var re=j(Q+="",v);return re.toString=function(){return Q},re},parse:function(Q){var re=S(Q+="",!1);return re.toString=function(){return Q},re},utcFormat:function(Q){var re=j(Q+="",N);return re.toString=function(){return Q},re},utcParse:function(Q){var re=S(Q+="",!0);return re.toString=function(){return Q},re}}}var eL={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,KMe=/^%/,JMe=/[\\^$*+?|[\]().{}]/g;function et(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function XMe(t){return t.replace(JMe,"\\$&")}function sd(t){return new RegExp("^(?:"+t.map(XMe).join("|")+")","i")}function od(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ZMe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function QMe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function eLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function tLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function rLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function tL(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function rL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aLe(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function sLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function nL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function oLe(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function aL(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function iLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function lLe(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function cLe(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function uLe(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dLe(t,e,r){var n=KMe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function fLe(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mLe(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function sL(t,e){return et(t.getDate(),e,2)}function hLe(t,e){return et(t.getHours(),e,2)}function pLe(t,e){return et(t.getHours()%12||12,e,2)}function gLe(t,e){return et(1+uh.count(Os(t),t),e,3)}function f7(t,e){return et(t.getMilliseconds(),e,3)}function yLe(t,e){return f7(t,e)+"000"}function bLe(t,e){return et(t.getMonth()+1,e,2)}function xLe(t,e){return et(t.getMinutes(),e,2)}function vLe(t,e){return et(t.getSeconds(),e,2)}function jLe(t){var e=t.getDay();return e===0?7:e}function wLe(t,e){return et(hw.count(Os(t)-1,t),e,2)}function m7(t){var e=t.getDay();return e>=4||e===0?Gc(t):Gc.ceil(t)}function CLe(t,e){return t=m7(t),et(Gc.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function NLe(t){return t.getDay()}function SLe(t,e){return et(dv.count(Os(t)-1,t),e,2)}function ALe(t,e){return et(t.getFullYear()%100,e,2)}function kLe(t,e){return t=m7(t),et(t.getFullYear()%100,e,2)}function ILe(t,e){return et(t.getFullYear()%1e4,e,4)}function TLe(t,e){var r=t.getDay();return t=r>=4||r===0?Gc(t):Gc.ceil(t),et(t.getFullYear()%1e4,e,4)}function ELe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+et(e/60|0,"0",2)+et(e%60,"0",2)}function oL(t,e){return et(t.getUTCDate(),e,2)}function PLe(t,e){return et(t.getUTCHours(),e,2)}function OLe(t,e){return et(t.getUTCHours()%12||12,e,2)}function DLe(t,e){return et(1+mw.count(Ds(t),t),e,3)}function h7(t,e){return et(t.getUTCMilliseconds(),e,3)}function _Le(t,e){return h7(t,e)+"000"}function $Le(t,e){return et(t.getUTCMonth()+1,e,2)}function RLe(t,e){return et(t.getUTCMinutes(),e,2)}function MLe(t,e){return et(t.getUTCSeconds(),e,2)}function LLe(t){var e=t.getUTCDay();return e===0?7:e}function FLe(t,e){return et(pw.count(Ds(t)-1,t),e,2)}function p7(t){var e=t.getUTCDay();return e>=4||e===0?Yc(t):Yc.ceil(t)}function BLe(t,e){return t=p7(t),et(Yc.count(Ds(t),t)+(Ds(t).getUTCDay()===4),e,2)}function qLe(t){return t.getUTCDay()}function VLe(t,e){return et(fv.count(Ds(t)-1,t),e,2)}function ULe(t,e){return et(t.getUTCFullYear()%100,e,2)}function zLe(t,e){return t=p7(t),et(t.getUTCFullYear()%100,e,2)}function WLe(t,e){return et(t.getUTCFullYear()%1e4,e,4)}function HLe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yc(t):Yc.ceil(t),et(t.getUTCFullYear()%1e4,e,4)}function GLe(){return"+0000"}function iL(){return"%"}function lL(t){return+t}function cL(t){return Math.floor(+t/1e3)}var Rl,g7,y7;YLe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YLe(t){return Rl=YMe(t),g7=Rl.format,Rl.parse,y7=Rl.utcFormat,Rl.utcParse,Rl}function KLe(t){return new Date(t)}function JLe(t){return t instanceof Date?+t:+new Date(+t)}function AP(t,e,r,n,a,s,i,l,c,u){var d=fP(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),b=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),y=u("%b %d"),v=u("%B"),N=u("%Y");function C(j){return(c(j)<j?h:l(j)<j?p:i(j)<j?b:s(j)<j?g:n(j)<j?a(j)<j?x:y:r(j)<j?v:N)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,JLe)):m().map(KLe)},d.ticks=function(j){var S=m();return t(S[0],S[S.length-1],j??10)},d.tickFormat=function(j,S){return S==null?C:u(S)},d.nice=function(j){var S=m();return(!j||typeof j.range!="function")&&(j=e(S[0],S[S.length-1],j??10)),j?m(n7(S,j)):d},d.copy=function(){return ch(d,AP(t,e,r,n,a,s,i,l,c,u))},d}function XLe(){return Qn.apply(AP(HMe,GMe,Os,NP,hw,uh,wP,vP,Ei,g7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZLe(){return Qn.apply(AP(zMe,WMe,Ds,SP,pw,mw,CP,jP,Ei,y7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var t=0,e=1,r,n,a,s,i=Vr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(Iu),u.rangeRound=d(dP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function b7(){var t=Xo(gw()(Vr));return t.copy=function(){return Zo(t,b7())},qs.apply(t,arguments)}function x7(){var t=pP(gw()).domain([1,10]);return t.copy=function(){return Zo(t,x7()).base(t.base())},qs.apply(t,arguments)}function v7(){var t=gP(gw());return t.copy=function(){return Zo(t,v7()).constant(t.constant())},qs.apply(t,arguments)}function kP(){var t=yP(gw());return t.copy=function(){return Zo(t,kP()).exponent(t.exponent())},qs.apply(t,arguments)}function QLe(){return kP.apply(null,arguments).exponent(.5)}function j7(){var t=[],e=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((ih(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Io),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>FRe(t,s/n))},r.copy=function(){return j7(e).domain(t)},qs.apply(r,arguments)}function yw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Vr,d,f=!1,m;function h(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,r]=b,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function p(b){return function(g){var x,y,v;return arguments.length?([x,y,v]=g,u=dMe(b,[x,y,v]),h):[u(0),u(.5),u(1)]}}return h.range=p(Iu),h.rangeRound=p(dP),h.unknown=function(b){return arguments.length?(m=b,h):m},function(b){return d=b,a=b(t),s=b(e),i=b(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function w7(){var t=Xo(yw()(Vr));return t.copy=function(){return Zo(t,w7())},qs.apply(t,arguments)}function C7(){var t=pP(yw()).domain([.1,1,10]);return t.copy=function(){return Zo(t,C7()).base(t.base())},qs.apply(t,arguments)}function N7(){var t=gP(yw());return t.copy=function(){return Zo(t,N7()).constant(t.constant())},qs.apply(t,arguments)}function IP(){var t=yP(yw());return t.copy=function(){return Zo(t,IP()).exponent(t.exponent())},qs.apply(t,arguments)}function eFe(){return IP.apply(null,arguments).exponent(.5)}const uL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:am,scaleDiverging:w7,scaleDivergingLog:C7,scaleDivergingPow:IP,scaleDivergingSqrt:eFe,scaleDivergingSymlog:N7,scaleIdentity:r7,scaleImplicit:Ak,scaleLinear:cv,scaleLog:a7,scaleOrdinal:lP,scalePoint:of,scalePow:bP,scaleQuantile:i7,scaleQuantize:l7,scaleRadial:o7,scaleSequential:b7,scaleSequentialLog:x7,scaleSequentialPow:kP,scaleSequentialQuantile:j7,scaleSequentialSqrt:QLe,scaleSequentialSymlog:v7,scaleSqrt:_Me,scaleSymlog:s7,scaleThreshold:c7,scaleTime:XLe,scaleUtc:ZLe,tickFormat:t7},Symbol.toStringTag,{value:"Module"}));var tFe=xu;function rFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!tFe(i):r(i,l)))var l=i,c=s}return c}var bw=rFe;function nFe(t,e){return t>e}var S7=nFe,aFe=bw,sFe=S7,oFe=Au;function iFe(t){return t&&t.length?aFe(t,oFe,sFe):void 0}var lFe=iFe;const xw=at(lFe);function cFe(t,e){return t<e}var A7=cFe,uFe=bw,dFe=A7,fFe=Au;function mFe(t){return t&&t.length?uFe(t,fFe,dFe):void 0}var hFe=mFe;const vw=at(hFe);var pFe=qE,gFe=Jo,yFe=_z,bFe=mn;function xFe(t,e){var r=bFe(t)?pFe:yFe;return r(t,gFe(e))}var vFe=xFe,jFe=Oz,wFe=vFe;function CFe(t,e){return jFe(wFe(t,e),1)}var NFe=CFe;const SFe=at(NFe);var AFe=nP;function kFe(t,e){return AFe(t,e)}var IFe=kFe;const TP=at(IFe);var Tu=1e9,TFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PP,Rt=!0,Jn="[DecimalError] ",Gi=Jn+"Invalid argument: ",EP=Jn+"Exponent out of range: ",Eu=Math.floor,bi=Math.pow,EFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,mr=1e7,kt=7,k7=9007199254740991,mv=Eu(k7/kt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return ws(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return pt(ws(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return nr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(bn))throw Error(Jn+"NaN");if(r.s<1)throw Error(Jn+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):(Rt=!1,e=ws(cm(r,s),cm(t,s),s),Rt=!0,pt(e,a))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E7(e,t):I7(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Jn+"NaN");return r.s?(Rt=!1,e=ws(r,t,0,1).times(t),Rt=!0,r.minus(e)):pt(new n(r),a)};Ce.naturalExponential=Ce.exp=function(){return T7(this)};Ce.naturalLogarithm=Ce.ln=function(){return cm(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I7(e,t):E7(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gi+t);if(e=nr(a)+1,n=a.d.length-1,r=n*kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jn+"NaN")}for(t=nr(l),Rt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Da(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Eu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ws(l,s,i+2)).times(.5),Da(s.d).slice(0,i)===(e=Da(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(pt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Rt=!0,pt(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%mr|0,e=l/mr|0;s[a]=(s[a]+e)%mr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Rt?pt(t,f.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ha(t,0,Tu),e===void 0?e=n.rounding:Ha(e,0,8),pt(r,t+nr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ul(n,!0):(Ha(t,0,Tu),e===void 0?e=a.rounding:Ha(e,0,8),n=pt(new a(n),t+1,e),r=ul(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?ul(a):(Ha(t,0,Tu),e===void 0?e=s.rounding:Ha(e,0,8),n=pt(new s(a),t+nr(a)+1,e),r=ul(n.abs(),!1,t+nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return pt(new e(t),nr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(bn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Jn+"Infinity");return l}if(l.eq(bn))return l;if(n=c.precision,t.eq(bn))return pt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=k7){for(a=new c(bn),e=Math.ceil(n/kt+4),Rt=!1;r%2&&(a=a.times(l),fL(a.d,e)),r=Eu(r/2),r!==0;)l=l.times(l),fL(l.d,e);return Rt=!0,t.s<0?new c(bn).div(a):pt(a,n)}}else if(s<0)throw Error(Jn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Rt=!1,a=t.times(cm(l,n+u)),Rt=!0,a=T7(a),a.s=s,a};Ce.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=nr(a),n=ul(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ha(t,1,Tu),e===void 0?e=s.rounding:Ha(e,0,8),a=pt(new s(a),t,e),r=nr(a),n=ul(a,t<=r||r<=s.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ha(t,1,Tu),e===void 0?e=n.rounding:Ha(e,0,8)),pt(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nr(t),r=t.constructor;return ul(t,e<=r.toExpNeg||e>=r.toExpPos)};function I7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rt?pt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/kt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/mr|0,c[s]%=mr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Rt?pt(e,f):e}function Ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Gi+t)}function Da(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=kt-n.length,r&&(s+=Zs(r)),s+=n;i=t[e],n=i+"",r=kt-n.length,r&&(s+=Zs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ws=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%mr|0,i=s/mr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*mr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,p,b,g,x,y,v,N,C,j,S,A,T=n.constructor,k=n.s==a.s?1:-1,E=n.d,O=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Jn+"Division by zero");for(c=n.e-a.e,S=O.length,C=E.length,h=new T(k),p=h.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--c,s==null?y=s=T.precision:i?y=s+(nr(n)-nr(a))+1:y=s,y<0)return new T(0);if(y=y/kt+2|0,u=0,S==1)for(d=0,O=O[0],y++;(u<C||d)&&y--;u++)v=d*mr+(E[u]||0),p[u]=v/O|0,d=v%O|0;else{for(d=mr/(O[0]+1)|0,d>1&&(O=t(O,d),E=t(E,d),S=O.length,C=E.length),N=S,b=E.slice(0,S),g=b.length;g<S;)b[g++]=0;A=O.slice(),A.unshift(0),j=O[0],O[1]>=mr/2&&++j;do d=0,l=e(O,b,S,g),l<0?(x=b[0],S!=g&&(x=x*mr+(b[1]||0)),d=x/j|0,d>1?(d>=mr&&(d=mr-1),f=t(O,d),m=f.length,g=b.length,l=e(f,b,m,g),l==1&&(d--,r(f,S<m?A:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<g&&f.unshift(0),r(b,f,g),l==-1&&(g=b.length,l=e(O,b,S,g),l<1&&(d++,r(b,S<g?A:O,g))),g=b.length):l===0&&(d++,b=[0]),p[u++]=d,l&&b[0]?b[g++]=E[N]||0:(b=[E[N]],g=1);while((N++<C||b[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=c,pt(h,i?s+nr(h)+1:s)}}();function T7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(nr(t)>16)throw Error(EP+nr(t));if(!t.s)return new d(bn);for(Rt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(bi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(bn),d.precision=l;;){if(a=pt(a.times(t),l),r=r.times(++c),i=s.plus(ws(a,r,l)),Da(i.d).slice(0,l)===Da(s.d).slice(0,l)){for(;u--;)s=pt(s.times(s),l);return d.precision=f,e==null?(Rt=!0,pt(s,f)):s}s=i}}function nr(t){for(var e=t.e*kt,r=t.d[0];r>=10;r/=10)e++;return e}function z1(t,e,r){if(e>t.LN10.sd())throw Rt=!0,r&&(t.precision=r),Error(Jn+"LN10 precision limit exceeded");return pt(new t(t.LN10),e)}function Zs(t){for(var e="";t--;)e+="0";return e}function cm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,p=h.d,b=h.constructor,g=b.precision;if(h.s<1)throw Error(Jn+(h.s?"NaN":"-Infinity"));if(h.eq(bn))return new b(0);if(e==null?(Rt=!1,u=g):u=e,h.eq(10))return e==null&&(Rt=!0),z1(b,u);if(u+=m,b.precision=u,r=Da(p),n=r.charAt(0),s=nr(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Da(h.d),n=r.charAt(0),f++;s=nr(h),n>1?(h=new b("0."+r),s++):h=new b(n+"."+r.slice(1))}else return c=z1(b,u+2,g).times(s+""),h=cm(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=g,e==null?(Rt=!0,pt(h,g)):h;for(l=i=h=ws(h.minus(bn),h.plus(bn),u),d=pt(h.times(h),u),a=3;;){if(i=pt(i.times(d),u),c=l.plus(ws(i,new b(a),u)),Da(c.d).slice(0,u)===Da(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(z1(b,u+2,g).times(s+""))),l=ws(l,new b(f),u),b.precision=g,e==null?(Rt=!0,pt(l,g)):l;l=c,a+=2}}function dL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Eu(r/kt),t.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=kt;n<a;)t.d.push(+e.slice(n,n+=kt));e=e.slice(n),n=kt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Rt&&(t.e>mv||t.e<-mv))throw Error(EP+r)}else t.s=0,t.e=0,t.d=[0];return t}function pt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=kt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/kt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=kt,a=n-kt+i}if(r!==void 0&&(s=bi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/bi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=nr(t),f.length=1,e=e-s-1,f[0]=bi(10,(kt-e%kt)%kt),t.e=Eu(-e/kt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=bi(10,kt-n),f[d]=a>0?(u/bi(10,i-a)%bi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==mr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=mr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Rt&&(t.e>mv||t.e<-mv))throw Error(EP+nr(t));return t}function E7(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Rt?pt(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/kt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=mr-1;--c[s],c[a]+=mr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Rt?pt(e,h):e):new m(0)}function ul(t,e,r){var n,a=nr(t),s=Da(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Zs(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Zs(-a-1)+s,r&&(n=r-i)>0&&(s+=Zs(n))):a>=i?(s+=Zs(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Zs(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Zs(n))),t.s<0?"-"+s:s}function fL(t,e){if(t.length>e)return t.length=e,!0}function P7(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return dL(i,s.toString())}else if(typeof s!="string")throw Error(Gi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,EFe.test(s))dL(i,s);else throw Error(Gi+s)}if(a.prototype=Ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=P7,a.config=a.set=PFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function PFe(t){if(!t||typeof t!="object")throw Error(Jn+"Object expected");var e,r,n,a=["precision",1,Tu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Eu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Gi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gi+r+": "+n);return this}var PP=P7(TFe);bn=new PP(1);const mt=PP;function OFe(t){return RFe(t)||$Fe(t)||_Fe(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Fe(t,e){if(t){if(typeof t=="string")return Ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ek(t,e)}}function $Fe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function RFe(t){if(Array.isArray(t))return Ek(t)}function Ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var MFe=function(e){return e},O7={},D7=function(e){return e===O7},mL=function(e){return function r(){return arguments.length===0||arguments.length===1&&D7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},LFe=function t(e,r){return e===1?r:mL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==O7}).length;return i>=e?r.apply(void 0,a):t(e-i,mL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return D7(f)?c.shift():f});return r.apply(void 0,OFe(d).concat(c))}))})},jw=function(e){return LFe(e.length,e)},Pk=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},FFe=jw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),BFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return MFe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ok=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_7=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function qFe(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function VFe(t,e,r){for(var n=new mt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var UFe=jw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),zFe=jw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),WFe=jw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ww={rangeStep:VFe,getDigitCount:qFe,interpolateNumber:UFe,uninterpolateNumber:zFe,uninterpolateTruncation:WFe};function Dk(t){return YFe(t)||GFe(t)||$7(t)||HFe()}function HFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YFe(t){if(Array.isArray(t))return _k(t)}function um(t,e){return XFe(t)||JFe(t,e)||$7(t,e)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(t,e){if(t){if(typeof t=="string")return _k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _k(t,e)}}function _k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function XFe(t){if(Array.isArray(t))return t}function R7(t){var e=um(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function M7(t,e,r){if(t.lte(0))return new mt(0);var n=ww.getDigitCount(t.toNumber()),a=new mt(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new mt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new mt(Math.ceil(c))}function ZFe(t,e,r){var n=1,a=new mt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new mt(10).pow(ww.getDigitCount(t)-1),a=new mt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new mt(Math.floor(t)))}else t===0?a=new mt(Math.floor((e-1)/2)):r||(a=new mt(Math.floor(t)));var i=Math.floor((e-1)/2),l=BFe(FFe(function(c){return a.add(new mt(c-i).mul(n)).toNumber()}),Pk);return l(0,e)}function L7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var s=M7(new mt(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new mt(0):(i=new mt(t).add(e).div(2),i=i.sub(new mt(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new mt(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?L7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new mt(l).mul(s)),tickMax:i.add(new mt(c).mul(s))})}function QFe(t){var e=um(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=R7([r,n]),c=um(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Dk(Pk(0,a-1).map(function(){return 1/0}))):[].concat(Dk(Pk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Ok(f):f}if(u===d)return ZFe(u,a,s);var m=L7(u,d,i,s),h=m.step,p=m.tickMin,b=m.tickMax,g=ww.rangeStep(p,b.add(new mt(.1).mul(h)),h);return r>n?Ok(g):g}function e5e(t,e){var r=um(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=R7([n,a]),l=um(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=M7(new mt(u).sub(c).div(d-1),s,0),m=[].concat(Dk(ww.rangeStep(new mt(c),new mt(u).sub(new mt(.99).mul(f)),f)),[u]);return n>a?Ok(m):m}var t5e=_7(QFe),r5e=_7(e5e),n5e="Invariant failed";function Kc(t,e){throw new Error(n5e)}var a5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hv.apply(this,arguments)}function s5e(t,e){return c5e(t)||l5e(t,e)||i5e(t,e)||o5e()}function o5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(t,e){if(t){if(typeof t=="string")return hL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function c5e(t){if(Array.isArray(t))return t}function u5e(t,e){if(t==null)return{};var r=d5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q7(n.key),n)}}function h5e(t,e,r){return e&&m5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p5e(t,e,r){return e=pv(e),g5e(t,F7()?Reflect.construct(e,r||[],pv(t).constructor):e.apply(t,r))}function g5e(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y5e(t)}function y5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(t)}function b5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$k(t,e)}function $k(t,e){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$k(t,e)}function B7(t,e,r){return e=q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7(t){var e=x5e(t,"string");return Jc(e)=="symbol"?e:e+""}function x5e(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OP=function(t){function e(){return f5e(this,e),p5e(this,e,arguments)}return b5e(e,t),h5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=u5e(n,a5e),h=Ue(m,!1);this.props.direction==="x"&&d.type!=="number"&&Kc();var p=c.map(function(b){var g=u(b,l),x=g.x,y=g.y,v=g.value,N=g.errorVal;if(!N)return null;var C=[],j,S;if(Array.isArray(N)){var A=s5e(N,2);j=A[0],S=A[1]}else j=S=N;if(s==="vertical"){var T=d.scale,k=y+a,E=k+i,O=k-i,M=T(v-j),R=T(v+S);C.push({x1:R,y1:E,x2:R,y2:O}),C.push({x1:M,y1:k,x2:R,y2:k}),C.push({x1:M,y1:E,x2:M,y2:O})}else if(s==="horizontal"){var $=f.scale,B=x+a,z=B-i,D=B+i,_=$(v-j),F=$(v+S);C.push({x1:z,y1:F,x2:D,y2:F}),C.push({x1:B,y1:_,x2:B,y2:F}),C.push({x1:z,y1:_,x2:D,y2:_})}return V.createElement(zt,hv({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},h),C.map(function(Y){return V.createElement("line",hv({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return V.createElement(zt,{className:"recharts-errorBars"},p)}}])}(V.Component);B7(OP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});B7(OP,"displayName","ErrorBar");function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){v5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v5e(t,e,r){return e=j5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j5e(t){var e=w5e(t,"string");return dm(e)=="symbol"?e:e+""}function w5e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Fn(r,Ua);if(!i)return null;var l=Ua.defaultProps,c=l!==void 0?ii(ii({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(b){return{type:i.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?ii(ii({},m),f.props):{},p=h.dataKey,b=h.name,g=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:c.iconType||g||"square",color:DP(f),value:b||p,payload:h}}),ii(ii(ii({},c),Ua.getWithHeight(i,a)),{},{payload:u,item:i})};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function gL(t){return A5e(t)||S5e(t)||N5e(t)||C5e()}function C5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5e(t,e){if(t){if(typeof t=="string")return Rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(t,e)}}function S5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A5e(t){if(Array.isArray(t))return Rk(t)}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){Sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sc(t,e,r){return e=k5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5e(t){var e=I5e(t,"string");return fm(e)=="symbol"?e:e+""}function I5e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xn(t,e,r){return Ye(t)||Ye(e)?r:cr(e)?ya(t,e,r):ze(e)?e(t):r}function lf(t,e,r,n){var a=SFe(t,function(l){return xn(l,e)});if(r==="number"){var s=a.filter(function(l){return ve(l)||parseFloat(l)});return s.length?[vw(s),xw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ye(l)}):a;return i.map(function(l){return cr(l)||l instanceof Date?l:""})}var T5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(zn(f-d)!==zn(m-f)){var p=[];if(zn(m-f)===zn(c[1]-c[0])){h=m;var b=f+c[1]-c[0];p[0]=Math.min(b,(b+d)/2),p[1]=Math.max(b,(b+d)/2)}else{h=d;var g=m+c[1]-c[0];p[0]=Math.min(f,(g+f)/2),p[1]=Math.max(f,(g+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){i=a[u].index;break}}else{var y=Math.min(d,m),v=Math.max(d,m);if(e>(y+f)/2&&e<=(v+f)/2){i=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){i=n[N].index;break}return i},DP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},E5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],b=p.items,g=p.cateAxisId,x=b.filter(function(S){return vs(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,v=y!==void 0?Ut(Ut({},y),x[0].props):x[0].props,N=v.barSize,C=v[g];i[C]||(i[C]=[]);var j=Ye(N)?r:N;i[C].push({item:x[0],stackList:x.slice(1),barSize:Ye(j)?void 0:tn(j,n,0)})}}return i},P5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=tn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,p=i.reduce(function(N,C){return N+C.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&h>0&&(m=!0,h*=.9,p=c*h);var b=(a-p)/2>>0,g={offset:b-u,size:0};d=i.reduce(function(N,C){var j={item:C.item,position:{offset:g.offset+g.size+u,size:m?h:C.barSize}},S=[].concat(gL(N),[j]);return g=S[S.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){S.push({item:A,position:g})}),S},f)}else{var x=tn(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var v=l===+l?Math.min(y,l):y;d=i.reduce(function(N,C,j){var S=[].concat(gL(N),[{item:C.item,position:{offset:x+(y+u)*j+(y-v)/2,size:v}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},O5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=V7({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&p==="middle")&&h!=="center"&&ve(e[h]))return Ut(Ut({},e),{},Sc({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&p!=="middle"&&ve(e[p]))return Ut(Ut({},e),{},Sc({},p,e[p]+(m||0)))}return e},D5e=function(e,r,n){return Ye(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},U7=function(e,r,n,a,s){var i=r.props.children,l=Va(i,OP).filter(function(u){return D5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=xn(d,n);if(Ye(f))return u;var m=Array.isArray(f)?[vw(f),xw(f)]:[f,f],h=c.reduce(function(p,b){var g=xn(d,b,0),x=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},_5e=function(e,r,n,a,s){var i=r.map(function(l){return U7(e,l,n,s,a)}).filter(function(l){return!Ye(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},z7=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&U7(e,c,u,a)||lf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},W7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Nd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?zn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!oh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},W1=new WeakMap,fp=function(e,r){if(typeof r!="function")return e;W1.has(e)||W1.set(e,new WeakMap);var n=W1.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},$5e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:am(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:cv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:of(),realScaleType:"point"}:s==="category"?{scale:am(),realScaleType:"band"}:{scale:cv(),realScaleType:"linear"};if(sh(a)){var c="scale".concat(nw(a));return{scale:(uL[c]||of)(),realScaleType:uL[c]?c:"point"}}return ze(a)?{scale:a}:{scale:of(),realScaleType:"point"}},bL=1e-4,R5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-bL,i=Math.max(a[0],a[1])+bL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},M5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=oh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},L5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=oh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},F5e={sign:M5e,expand:nIe,none:Bc,silhouette:aIe,wiggle:sIe,positive:L5e},B5e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=F5e[n],i=rIe().keys(a).value(function(l,c){return+xn(l,c,0)}).order(ik).offset(s);return i(e)},q5e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Ut(Ut({},m.type.defaultProps),m.props):m.props,b=p.stackId,g=p.hide;if(g)return f;var x=p[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(cr(b)){var v=y.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(m),y.hasStack=!0,y.stackGroups[b]=v}else y.stackGroups[tw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ut(Ut({},f),{},Sc({},x,y))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,g){var x=h.stackGroups[g];return Ut(Ut({},b),{},Sc({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:B5e(e,x.items,s)}))},p)}return Ut(Ut({},f),{},Sc({},m,h))},d)},V5e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=t5e(u,s,l);return e.domain([vw(d),xw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=r5e(f,s,l);return{niceTicks:m}}return null},U5e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(cr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},z5e=function(e){return e.reduce(function(r,n){return[vw(n.concat([r[0]]).filter(ve)),xw(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},H7=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=z5e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},xL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mk=function(e,r,n){if(ze(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ve(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(xL.test(e[0])){var s=+xL.exec(e[0])[1];a[0]=r[0]-s}else ze(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ve(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(vL.test(e[1])){var i=+vL.exec(e[1])[1];a[1]=r[1]+i}else ze(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Lk=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=sP(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},jL=function(e,r,n){return!e||!e.length||TP(e,ya(n,"type.defaultProps.domain"))?r:e},W5e=function(e,r){var n=e.type.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ut(Ut({},Ue(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:DP(e),value:xn(r,a),type:c,payload:r,chartType:u,hide:d})};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){G7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G7(t,e,r){return e=H5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H5e(t){var e=G5e(t,"string");return mm(e)=="symbol"?e:e+""}function G5e(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y5e(t,e){return Z5e(t)||X5e(t,e)||J5e(t,e)||K5e()}function K5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5e(t,e){if(t){if(typeof t=="string")return CL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CL(t,e)}}function CL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Z5e(t){if(Array.isArray(t))return t}var gv=Math.PI/180,Q5e=function(e){return e*180/Math.PI},Ct=function(e,r,n,a){return{x:e+Math.cos(-gv*a)*n,y:r+Math.sin(-gv*a)*n}},Y7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},e4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=tn(e.cx,i,i/2),f=tn(e.cy,l,l/2),m=Y7(i,l,n),h=tn(e.innerRadius,m,0),p=tn(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(g,x){var y=r[x],v=y.domain,N=y.reversed,C;if(Ye(y.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[h,p]),N&&(C=[C[1],C[0]]);else{C=y.range;var j=C,S=Y5e(j,2);c=S[0],u=S[1]}var A=$5e(y,s),T=A.realScaleType,k=A.scale;k.domain(v).range(C),R5e(k);var E=V5e(k,ns(ns({},y),{},{realScaleType:T})),O=ns(ns(ns({},y),E),{},{range:C,radius:p,realScaleType:T,scale:k,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return ns(ns({},g),{},G7({},x,O))},{})},t4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},r4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=t4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:Q5e(u),angleInRadian:u}},n4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},a4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},NL=function(e,r){var n=e.x,a=e.y,s=r4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=n4e(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?ns(ns({},r),{},{radius:i,angle:a4e(h,r)}):null},K7=function(e){return!w.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var s4e=["offset"];function o4e(t){return u4e(t)||c4e(t)||l4e(t)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4e(t,e){if(t){if(typeof t=="string")return Fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(t,e)}}function c4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u4e(t){if(Array.isArray(t))return Fk(t)}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d4e(t,e){if(t==null)return{};var r=f4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){m4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m4e(t,e,r){return e=h4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4e(t){var e=p4e(t,"string");return hm(e)=="symbol"?e:e+""}function p4e(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}var g4e=function(e){var r=e.value,n=e.formatter,a=Ye(e.children)?r:e.children;return ze(n)?n(a):a},y4e=function(e,r){var n=zn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},b4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,b=c.clockWise,g=(f+m)/2,x=y4e(h,p),y=x>=0?1:-1,v,N;a==="insideStart"?(v=h+y*i,N=b):a==="insideEnd"?(v=p-y*i,N=!b):a==="end"&&(v=p+y*i,N=b),N=x<=0?N:!N;var C=Ct(u,d,g,v),j=Ct(u,d,g,v+(N?1:-1)*359),S="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Ye(e.id)?tw("recharts-radial-line-"):e.id;return V.createElement("text",pm({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:A,d:S})),V.createElement("textPath",{xlinkHref:"#".concat(A)},r))},x4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=Ct(i,l,u+n,m),p=h.x,b=h.y;return{x:p,y:b,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=Ct(i,l,g,m),y=x.x,v=x.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},v4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",p=f>0?"start":"end",b=u>=0?1:-1,g=b*a,x=b>0?"end":"start",y=b>0?"start":"end";if(s==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return sr(sr({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return sr(sr({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return sr(sr({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return sr(sr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?sr({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?sr({x:l+u-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?sr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},S):s==="insideBottom"?sr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?sr({x:l+g,y:c+m,textAnchor:y,verticalAnchor:p},S):s==="insideTopRight"?sr({x:l+u-g,y:c+m,textAnchor:x,verticalAnchor:p},S):s==="insideBottomLeft"?sr({x:l+g,y:c+d-m,textAnchor:y,verticalAnchor:h},S):s==="insideBottomRight"?sr({x:l+u-g,y:c+d-m,textAnchor:x,verticalAnchor:h},S):vu(s)&&(ve(s.x)||Ii(s.x))&&(ve(s.y)||Ii(s.y))?sr({x:l+tn(s.x,u),y:c+tn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):sr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},j4e=function(e){return"cx"in e&&ve(e.cx)};function Sr(t){var e=t.offset,r=e===void 0?5:e,n=d4e(t,s4e),a=sr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ye(l)&&Ye(c)&&!w.isValidElement(u)&&!ze(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var h;if(ze(u)){if(h=w.createElement(u,a),w.isValidElement(h))return h}else h=g4e(a);var p=j4e(s),b=Ue(a,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return b4e(a,h,b);var g=p?x4e(a):v4e(a);return V.createElement(Wc,pm({className:_e("recharts-label",f)},b,g,{breakAll:m}),h)}Sr.displayName="Label";var J7=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,p=e.left,b=e.width,g=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ve(b)&&ve(g)){if(ve(f)&&ve(m))return{x:f,y:m,width:b,height:g};if(ve(h)&&ve(p))return{x:h,y:p,width:b,height:g}}return ve(f)&&ve(m)?{x:f,y:m,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},w4e=function(e,r){return e?e===!0?V.createElement(Sr,{key:"label-implicit",viewBox:r}):cr(e)?V.createElement(Sr,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Sr?w.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):ze(e)?V.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):vu(e)?V.createElement(Sr,pm({viewBox:r},e,{key:"label-implicit"})):null:null},C4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=J7(e),i=Va(a,Sr).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=w4e(e.label,r||s);return[l].concat(o4e(i))};Sr.parseViewBox=J7;Sr.renderCallByParent=C4e;function N4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var S4e=N4e;const A4e=at(S4e);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var k4e=["valueAccessor"],I4e=["data","dataKey","clockWise","id","textBreakAll"];function T4e(t){return D4e(t)||O4e(t)||P4e(t)||E4e()}function E4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P4e(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function O4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D4e(t){if(Array.isArray(t))return Bk(t)}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yv.apply(this,arguments)}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){_4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _4e(t,e,r){return e=$4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $4e(t){var e=R4e(t,"string");return gm(e)=="symbol"?e:e+""}function R4e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IL(t,e){if(t==null)return{};var r=M4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var L4e=function(e){return Array.isArray(e.value)?A4e(e.value):e.value};function Yi(t){var e=t.valueAccessor,r=e===void 0?L4e:e,n=IL(t,k4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=IL(n,I4e);return!a||!a.length?null:V.createElement(zt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ye(s)?r(d,f):xn(d&&d.payload,s),h=Ye(l)?{}:{id:"".concat(l,"-").concat(f)};return V.createElement(Sr,yv({},Ue(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Sr.parseViewBox(Ye(i)?d:kL(kL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Yi.displayName="LabelList";function F4e(t,e){return t?t===!0?V.createElement(Yi,{key:"labelList-implicit",data:e}):V.isValidElement(t)||ze(t)?V.createElement(Yi,{key:"labelList-implicit",data:e,content:t}):vu(t)?V.createElement(Yi,yv({data:e},t,{key:"labelList-implicit"})):null:null}function B4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Va(n,Yi).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=F4e(t.label,e);return[s].concat(T4e(a))}Yi.renderCallByParent=B4e;function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qk.apply(this,arguments)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){q4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q4e(t,e,r){return e=V4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4e(t){var e=U4e(t,"string");return ym(e)=="symbol"?e:e+""}function U4e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4e=function(e,r){var n=zn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},mp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/gv,m=u?s:s+i*f,h=Ct(r,n,d,m),p=Ct(r,n,a,m),b=u?s-i*f:s,g=Ct(r,n,d*Math.cos(f*gv),b);return{center:h,circleTangency:p,lineTangency:g,theta:f}},X7=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=z4e(i,l),u=i+c,d=Ct(r,n,s,i),f=Ct(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Ct(r,n,a,i),p=Ct(r,n,a,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},W4e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=zn(d-u),m=mp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,b=m.theta,g=mp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=g.circleTangency,y=g.lineTangency,v=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-b-v;if(N<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):X7({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=mp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=j.circleTangency,A=j.lineTangency,T=j.theta,k=mp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=k.circleTangency,O=k.lineTangency,M=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(R<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},H4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Z7=function(e){var r=EL(EL({},H4e),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=_e("recharts-sector",m),p=i-s,b=tn(l,p,0,!0),g;return b>0&&Math.abs(d-f)<360?g=W4e({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=X7({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),V.createElement("path",qk({},Ue(r,!0),{className:h,d:g,role:"img"}))};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Vk(){return Vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vk.apply(this,arguments)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){G4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G4e(t,e,r){return e=Y4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y4e(t){var e=K4e(t,"string");return bm(e)=="symbol"?e:e+""}function K4e(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL={curveBasisClosed:Wke,curveBasisOpen:Hke,curveBasis:zke,curveBumpX:Eke,curveBumpY:Pke,curveLinearClosed:Gke,curveLinear:sw,curveMonotoneX:Yke,curveMonotoneY:Kke,curveNatural:Jke,curveStep:Xke,curveStepAfter:Qke,curveStepBefore:Zke},hp=function(e){return e.x===+e.x&&e.y===+e.y},id=function(e){return e.x},ld=function(e){return e.y},J4e=function(e,r){if(ze(e))return e;var n="curve".concat(nw(e));return(n==="curveMonotone"||n==="curveBump")&&r?DL["".concat(n).concat(r==="vertical"?"Y":"X")]:DL[n]||sw},X4e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=J4e(n,l),f=u?s.filter(function(b){return hp(b)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(b){return hp(b)}):i,p=f.map(function(b,g){return OL(OL({},b),{},{base:h[g]})});return l==="vertical"?m=ap().y(ld).x1(id).x0(function(b){return b.base.x}):m=ap().x(id).y1(ld).y0(function(b){return b.base.y}),m.defined(hp).curve(d),m(p)}return l==="vertical"&&ve(i)?m=ap().y(ld).x1(id).x0(i):ve(i)?m=ap().x(id).y1(ld).y0(i):m=ZU().x(id).y(ld),m.defined(hp).curve(d),m(f)},Uk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?X4e(e):a;return V.createElement("path",Vk({},Ue(e,!1),Ux(e),{className:_e("recharts-curve",r),d:i,ref:s}))},Q7={exports:{}},Z4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q4e=Z4e,eBe=Q4e;function e8(){}function t8(){}t8.resetWarningCache=e8;var tBe=function(){function t(n,a,s,i,l,c){if(c!==eBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:t8,resetWarningCache:e8};return r.PropTypes=r,r};Q7.exports=tBe();var rBe=Q7.exports;const st=at(rBe);var nBe=Object.getOwnPropertyNames,aBe=Object.getOwnPropertySymbols,sBe=Object.prototype.hasOwnProperty;function _L(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function pp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function $L(t){return nBe(t).concat(aBe(t))}var oBe=Object.hasOwn||function(t,e){return sBe.call(t,e)};function Sl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var iBe="__v",lBe="__o",cBe="_owner",RL=Object.getOwnPropertyDescriptor,ML=Object.keys;function uBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function dBe(t,e){return Sl(t.getTime(),e.getTime())}function fBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mBe(t,e){return t===e}function LL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var hBe=Sl;function pBe(t,e,r){var n=ML(t),a=n.length;if(ML(e).length!==a)return!1;for(;a-- >0;)if(!r8(t,e,r,n[a]))return!1;return!0}function cd(t,e,r){var n=$L(t),a=n.length;if($L(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!r8(t,e,r,s)||(i=RL(t,s),l=RL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function gBe(t,e){return Sl(t.valueOf(),e.valueOf())}function yBe(t,e){return t.source===e.source&&t.flags===e.flags}function FL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function bBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function xBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function r8(t,e,r,n){return(n===cBe||n===lBe||n===iBe)&&(t.$$typeof||e.$$typeof)?!0:oBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var vBe="[object Arguments]",jBe="[object Boolean]",wBe="[object Date]",CBe="[object Error]",NBe="[object Map]",SBe="[object Number]",ABe="[object Object]",kBe="[object RegExp]",IBe="[object Set]",TBe="[object String]",EBe="[object URL]",PBe=Array.isArray,BL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qL=Object.assign,OBe=Object.prototype.toString.call.bind(Object.prototype.toString);function DBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(p,b,g){if(p===b)return!0;if(p==null||b==null)return!1;var x=typeof p;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?i(p,b,g):x==="function"?a(p,b,g):!1;var y=p.constructor;if(y!==b.constructor)return!1;if(y===Object)return l(p,b,g);if(PBe(p))return e(p,b,g);if(BL!=null&&BL(p))return f(p,b,g);if(y===Date)return r(p,b,g);if(y===RegExp)return u(p,b,g);if(y===Map)return s(p,b,g);if(y===Set)return d(p,b,g);var v=OBe(p);return v===wBe?r(p,b,g):v===kBe?u(p,b,g):v===NBe?s(p,b,g):v===IBe?d(p,b,g):v===ABe?typeof p.then!="function"&&typeof b.then!="function"&&l(p,b,g):v===EBe?m(p,b,g):v===CBe?n(p,b,g):v===vBe?l(p,b,g):v===jBe||v===SBe||v===TBe?c(p,b,g):!1}}function _Be(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?cd:uBe,areDatesEqual:dBe,areErrorsEqual:fBe,areFunctionsEqual:mBe,areMapsEqual:n?_L(LL,cd):LL,areNumbersEqual:hBe,areObjectsEqual:n?cd:pBe,arePrimitiveWrappersEqual:gBe,areRegExpsEqual:yBe,areSetsEqual:n?_L(FL,cd):FL,areTypedArraysEqual:n?cd:bBe,areUrlsEqual:xBe};if(r&&(a=qL({},a,r(a))),e){var s=pp(a.areArraysEqual),i=pp(a.areMapsEqual),l=pp(a.areObjectsEqual),c=pp(a.areSetsEqual);a=qL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function $Be(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function RBe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var MBe=Qo();Qo({strict:!0});Qo({circular:!0});Qo({circular:!0,strict:!0});Qo({createInternalComparator:function(){return Sl}});Qo({strict:!0,createInternalComparator:function(){return Sl}});Qo({circular:!0,createInternalComparator:function(){return Sl}});Qo({circular:!0,createInternalComparator:function(){return Sl},strict:!0});function Qo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=_Be(t),c=DBe(l),u=n?n(c):$Be(c);return RBe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function LBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function VL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):LBe(a)};requestAnimationFrame(n)}function zk(t){"@babel/helpers - typeof";return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zk(t)}function FBe(t){return UBe(t)||VBe(t)||qBe(t)||BBe()}function BBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qBe(t,e){if(t){if(typeof t=="string")return UL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(t,e)}}function UL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UBe(t){if(Array.isArray(t))return t}function zBe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=FBe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){VL(a.bind(null,u),c);return}a(c),VL(a.bind(null,u));return}zk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){n8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n8(t,e,r){return e=WBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WBe(t){var e=HBe(t,"string");return xm(e)==="symbol"?e:String(e)}function HBe(t,e){if(xm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},YBe=function(e){return e},KBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cf=function(e,r){return Object.keys(r).reduce(function(n,a){return WL(WL({},n),{},n8({},a,e(a,r[a])))},{})},HL=function(e,r,n){return e.map(function(a){return"".concat(KBe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function JBe(t,e){return QBe(t)||ZBe(t,e)||a8(t,e)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function QBe(t){if(Array.isArray(t))return t}function e3e(t){return n3e(t)||r3e(t)||a8(t)||t3e()}function t3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8(t,e){if(t){if(typeof t=="string")return Wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(t,e)}}function r3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n3e(t){if(Array.isArray(t))return Wk(t)}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bv=1e-4,s8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},o8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},GL=function(e,r){return function(n){var a=s8(e,r);return o8(a,n)}},a3e=function(e,r){return function(n){var a=s8(e,r),s=[].concat(e3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return o8(s,n)}},YL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=JBe(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=GL(a,i),m=GL(s,l),h=a3e(a,i),p=function(x){return x>1?1:x<0?0:x},b=function(x){for(var y=x>1?1:x,v=y,N=0;N<8;++N){var C=f(v)-y,j=h(v);if(Math.abs(C-y)<bv||j<bv)return m(v);v=p(v-C/j)}return m(v)};return b.isStepper=!1,b},s3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,p=m*s,b=m+(h-p)*l/1e3,g=m*l/1e3+d;return Math.abs(g-f)<bv&&Math.abs(b)<bv?[f,0]:[g,b]};return c.isStepper=!0,c.dt=l,c},o3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YL(a);case"spring":return s3e();default:if(a.split("(")[0]==="cubic-bezier")return YL(a)}return typeof a=="function"?a:null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function KL(t){return c3e(t)||l3e(t)||i8(t)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c3e(t){if(Array.isArray(t))return Gk(t)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){Hk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hk(t,e,r){return e=u3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u3e(t){var e=d3e(t,"string");return vm(e)==="symbol"?e:String(e)}function d3e(t,e){if(vm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f3e(t,e){return p3e(t)||h3e(t,e)||i8(t,e)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function p3e(t){if(Array.isArray(t))return t}var xv=function(e,r,n){return e+(r-e)*n},Yk=function(e){var r=e.from,n=e.to;return r!==n},g3e=function t(e,r,n){var a=cf(function(s,i){if(Yk(i)){var l=e(i.from,i.to,i.velocity),c=f3e(l,2),u=c[0],d=c[1];return wr(wr({},i),{},{from:u,velocity:d})}return i},r);return n<1?cf(function(s,i){return Yk(i)?wr(wr({},i),{},{velocity:xv(i.velocity,a[s].velocity,n),from:xv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const y3e=function(t,e,r,n,a){var s=GBe(t,e),i=s.reduce(function(g,x){return wr(wr({},g),{},Hk({},x,[t[x],e[x]]))},{}),l=s.reduce(function(g,x){return wr(wr({},g),{},Hk({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return cf(function(x,y){return y.from},l)},h=function(){return!Object.values(l).filter(Yk).length},p=function(x){u||(u=x);var y=x-u,v=y/r.dt;l=g3e(r,l,v),a(wr(wr(wr({},t),e),m())),u=x,h()||(c=requestAnimationFrame(f))},b=function(x){d||(d=x);var y=(x-d)/n,v=cf(function(C,j){return xv.apply(void 0,KL(j).concat([r(y)]))},i);if(a(wr(wr(wr({},t),e),v)),y<1)c=requestAnimationFrame(f);else{var N=cf(function(C,j){return xv.apply(void 0,KL(j).concat([r(1)]))},i);a(wr(wr(wr({},t),e),N))}};return f=r.isStepper?p:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var b3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x3e(t,e){if(t==null)return{};var r=v3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function H1(t){return N3e(t)||C3e(t)||w3e(t)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function C3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N3e(t){if(Array.isArray(t))return Kk(t)}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){Sd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sd(t,e,r){return e=l8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l8(n.key),n)}}function k3e(t,e,r){return e&&A3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l8(t){var e=I3e(t,"string");return Xc(e)==="symbol"?e:String(e)}function I3e(t,e){if(Xc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jk(t,e)}function Jk(t,e){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jk(t,e)}function E3e(t){var e=P3e();return function(){var n=vv(t),a;if(e){var s=vv(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Xk(this,a)}}function Xk(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zk(t)}function Zk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(t)}var Lo=function(t){T3e(r,t);var e=E3e(r);function r(n,a){var s;S3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Zk(s)),s.changeStyle=s.changeStyle.bind(Zk(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),Xk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},Xk(s);s.state={style:c?Sd({},c,u):u}}else s.state={style:{}};return s}return k3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?Sd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(MBe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=p||u?f:a.to;if(this.state&&m){var g={style:c?Sd({},c,b):b};(c&&m[c]!==b||!c&&m!==b)&&this.setState(g)}this.runAnimation(aa(aa({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=y3e(i,l,o3e(u),c,this.changeStyle),p=function(){s.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(b,g,x){if(x===0)return b;var y=g.duration,v=g.easing,N=v===void 0?"ease":v,C=g.style,j=g.properties,S=g.onAnimationEnd,A=x>0?i[x-1]:g,T=j||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(H1(b),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:y,easing:N}),y]);var k=HL(T,y,N),E=aa(aa(aa({},A.style),C),{},{transition:k});return[].concat(H1(b),[E,y,S]).filter(YBe)};return this.manager.start([c].concat(H1(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=zBe());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var b=l?Sd({},l,c):c,g=HL(Object.keys(b),i,u);p.start([d,s,aa(aa({},b),{},{transition:g}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=x3e(a,b3e),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var p=h.props,b=p.style,g=b===void 0?{}:b,x=p.className,y=w.cloneElement(h,aa(aa({},c),{},{style:aa(aa({},g),d),className:x}));return y};return u===1?f(w.Children.only(s)):V.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);Lo.displayName="Animate";Lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lo.propTypes={from:st.oneOfType([st.object,st.string]),to:st.oneOfType([st.object,st.string]),attributeName:st.string,duration:st.number,begin:st.number,easing:st.oneOfType([st.string,st.func]),steps:st.arrayOf(st.shape({duration:st.number.isRequired,style:st.object.isRequired,easing:st.oneOfType([st.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),st.func]),properties:st.arrayOf("string"),onAnimationEnd:st.func})),children:st.oneOfType([st.node,st.func]),isActive:st.bool,canBegin:st.bool,onAnimationEnd:st.func,shouldReAnimate:st.bool,onAnimationStart:st.func,onAnimationReStart:st.func};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jv.apply(this,arguments)}function O3e(t,e){return R3e(t)||$3e(t,e)||_3e(t,e)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(t,e){if(t){if(typeof t=="string")return ZL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZL(t,e)}}function ZL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function R3e(t){if(Array.isArray(t))return t}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){M3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M3e(t,e,r){return e=L3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L3e(t){var e=F3e(t,"string");return jm(e)=="symbol"?e:e+""}function F3e(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);d="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},B3e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},q3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_P=function(e){var r=eF(eF({},q3e),e),n=w.useRef(),a=w.useState(-1),s=O3e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=_e("recharts-rectangle",h);return y?V.createElement(Lo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:p,isActive:y},function(N){var C=N.width,j=N.height,S=N.x,A=N.y;return V.createElement(Lo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,isActive:x,easing:p},V.createElement("path",jv({},Ue(r,!0),{className:v,d:tF(S,A,C,j,m),ref:n})))}):V.createElement("path",jv({},Ue(r,!0),{className:v,d:tF(c,u,d,f,m)}))},V3e=["points","className","baseLinePoints","connectNulls"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(this,arguments)}function U3e(t,e){if(t==null)return{};var r=z3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rF(t){return Y3e(t)||G3e(t)||H3e(t)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3e(t,e){if(t){if(typeof t=="string")return Qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(t,e)}}function G3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y3e(t){if(Array.isArray(t))return Qk(t)}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nF=function(e){return e&&e.x===+e.x&&e.y===+e.y},K3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){nF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),nF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uf=function(e,r){var n=K3e(e);r&&(n=[n.reduce(function(s,i){return[].concat(rF(s),rF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},J3e=function(e,r,n){var a=uf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(uf(r.reverse(),n).slice(1))},X3e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=U3e(e,V3e);if(!r||!r.length)return null;var l=_e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=J3e(r,a,s);return V.createElement("g",{className:l},V.createElement("path",Zl({},Ue(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?V.createElement("path",Zl({},Ue(i,!0),{fill:"none",d:uf(r,s)})):null,c?V.createElement("path",Zl({},Ue(i,!0),{fill:"none",d:uf(a,s)})):null)}var d=uf(r,s);return V.createElement("path",Zl({},Ue(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eI.apply(this,arguments)}var $P=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=_e("recharts-dot",s);return r===+r&&n===+n&&a===+a?V.createElement("circle",eI({},Ue(e,!1),Ux(e),{className:i,cx:r,cy:n,r:a})):null};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}var Z3e=["x","y","top","left","width","height","className"];function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tI.apply(this,arguments)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){eqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eqe(t,e,r){return e=tqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tqe(t){var e=rqe(t,"string");return wm(e)=="symbol"?e:e+""}function rqe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nqe(t,e){if(t==null)return{};var r=aqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},oqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,p=e.className,b=nqe(e,Z3e),g=Q3e({x:n,y:s,top:l,left:u,width:f,height:h},b);return!ve(n)||!ve(s)||!ve(f)||!ve(h)||!ve(l)||!ve(u)?null:V.createElement("path",tI({},Ue(g,!0),{className:_e("recharts-cross",p),d:sqe(n,s,f,h,l,u)}))},iqe=bw,lqe=S7,cqe=Jo;function uqe(t,e){return t&&t.length?iqe(t,cqe(e),lqe):void 0}var dqe=uqe;const fqe=at(dqe);var mqe=bw,hqe=Jo,pqe=A7;function gqe(t,e){return t&&t.length?mqe(t,hqe(e),pqe):void 0}var yqe=gqe;const bqe=at(yqe);var xqe=["cx","cy","angle","ticks","axisLine"],vqe=["ticks","tick","angle","tickFormatter","stroke"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}function sF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(r),!0).forEach(function(n){Cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oF(t,e){if(t==null)return{};var r=jqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u8(n.key),n)}}function Cqe(t,e,r){return e&&iF(t.prototype,e),r&&iF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nqe(t,e,r){return e=wv(e),Sqe(t,c8()?Reflect.construct(e,r||[],wv(t).constructor):e.apply(t,r))}function Sqe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aqe(t)}function Aqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wv(t)}function kqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rI(t,e)}function Cw(t,e,r){return e=u8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u8(t){var e=Iqe(t,"string");return Zc(e)=="symbol"?e:e+""}function Iqe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nw=function(t){function e(){return wqe(this,e),Nqe(this,e,arguments)}return kqe(e,t),Cqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Ct(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=fqe(l,function(d){return d.coordinate||0}),u=bqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=oF(n,xqe),d=l.reduce(function(p,b){return[Math.min(p[0],b.coordinate),Math.max(p[1],b.coordinate)]},[1/0,-1/0]),f=Ct(a,s,d[0],i),m=Ct(a,s,d[1],i),h=li(li(li({},Ue(u,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return V.createElement("line",df({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=oF(a,vqe),f=this.getTickTextAnchor(),m=Ue(d,!1),h=Ue(i,!1),p=s.map(function(b,g){var x=n.getTickValueCoord(b),y=li(li(li(li({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:g},x),{},{payload:b});return V.createElement(zt,df({className:_e("recharts-polar-radius-axis-tick",K7(i)),key:"tick-".concat(b.coordinate)},rw(n.props,b,g)),e.renderTickItem(i,y,c?c(b.value,g):b.value))});return V.createElement(zt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:V.createElement(zt,{className:_e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Sr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):ze(n)?i=n(a):i=V.createElement(Wc,df({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Cw(Nw,"displayName","PolarRadiusAxis");Cw(Nw,"axisType","radiusAxis");Cw(Nw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xi.apply(this,arguments)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){Sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f8(n.key),n)}}function Eqe(t,e,r){return e&&cF(t.prototype,e),r&&cF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pqe(t,e,r){return e=Cv(e),Oqe(t,d8()?Reflect.construct(e,r||[],Cv(t).constructor):e.apply(t,r))}function Oqe(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dqe(t)}function Dqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cv(t)}function _qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nI(t,e)}function Sw(t,e,r){return e=f8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f8(t){var e=$qe(t,"string");return Qc(e)=="symbol"?e:e+""}function $qe(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rqe=Math.PI/180,Mqe=1e-5,Aw=function(t){function e(){return Tqe(this,e),Pqe(this,e,arguments)}return _qe(e,t),Eqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ct(s,i,l,n.coordinate),m=Ct(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Rqe),i;return s>Mqe?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ci(ci({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return V.createElement($P,xi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return Ct(a,s,i,m.coordinate)});return V.createElement(X3e,xi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ue(this.props,!1),f=Ue(i,!1),m=ci(ci({},d),{},{fill:"none"},Ue(l,!1)),h=s.map(function(p,b){var g=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),y=ci(ci(ci({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:p,x:g.x2,y:g.y2});return V.createElement(zt,xi({className:_e("recharts-polar-angle-axis-tick",K7(i)),key:"tick-".concat(p.coordinate)},rw(n.props,p,b)),l&&V.createElement("line",xi({className:"recharts-polar-angle-axis-tick-line"},m,g)),i&&e.renderTickItem(i,y,c?c(p.value,b):p.value))});return V.createElement(zt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:V.createElement(zt,{className:_e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):ze(n)?i=n(a):i=V.createElement(Wc,xi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);Sw(Aw,"displayName","PolarAngleAxis");Sw(Aw,"axisType","angleAxis");Sw(Aw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lqe=wz,Fqe=Lqe(Object.getPrototypeOf,Object),Bqe=Fqe,qqe=Fs,Vqe=Bqe,Uqe=Bs,zqe="[object Object]",Wqe=Function.prototype,Hqe=Object.prototype,m8=Wqe.toString,Gqe=Hqe.hasOwnProperty,Yqe=m8.call(Object);function Kqe(t){if(!Uqe(t)||qqe(t)!=zqe)return!1;var e=Vqe(t);if(e===null)return!0;var r=Gqe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&m8.call(r)==Yqe}var Jqe=Kqe;const Xqe=at(Jqe);var Zqe=Fs,Qqe=Bs,e6e="[object Boolean]";function t6e(t){return t===!0||t===!1||Qqe(t)&&Zqe(t)==e6e}var r6e=t6e;const n6e=at(r6e);function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function a6e(t,e){return l6e(t)||i6e(t,e)||o6e(t,e)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(t,e){if(t){if(typeof t=="string")return uF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uF(t,e)}}function uF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function l6e(t){if(Array.isArray(t))return t}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){c6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c6e(t,e,r){return e=u6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6e(t){var e=d6e(t,"string");return Cm(e)=="symbol"?e:e+""}function d6e(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},f6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m6e=function(e){var r=fF(fF({},f6e),e),n=w.useRef(),a=w.useState(-1),s=a6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,b=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var y=_e("recharts-trapezoid",h);return x?V.createElement(Lo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:b,animationEasing:p,isActive:x},function(v){var N=v.upperWidth,C=v.lowerWidth,j=v.height,S=v.x,A=v.y;return V.createElement(Lo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:b,easing:p},V.createElement("path",Nv({},Ue(r,!0),{className:y,d:mF(S,A,N,C,j),ref:n})))}):V.createElement("g",null,V.createElement("path",Nv({},Ue(r,!0),{className:y,d:mF(c,u,d,f,m)})))},h6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function p6e(t,e){if(t==null)return{};var r=g6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){y6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y6e(t,e,r){return e=b6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b6e(t){var e=x6e(t,"string");return Nm(e)=="symbol"?e:e+""}function x6e(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v6e(t,e){return Sv(Sv({},e),t)}function j6e(t,e){return t==="symbols"}function pF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(_P,r);case"trapezoid":return V.createElement(m6e,r);case"sector":return V.createElement(Z7,r);case"symbols":if(j6e(e))return V.createElement(JE,r);break;default:return null}}function w6e(t){return w.isValidElement(t)?t.props:t}function C6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?v6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=p6e(t,h6e),u;if(w.isValidElement(e))u=w.cloneElement(e,Sv(Sv({},c),w6e(e)));else if(ze(e))u=e(c);else if(Xqe(e)&&!n6e(e)){var d=a(e,c);u=V.createElement(pF,{shapeType:r,elementProps:d})}else{var f=c;u=V.createElement(pF,{shapeType:r,elementProps:f})}return l?V.createElement(zt,{className:i},u):u}function kw(t,e){return e!=null&&"trapezoids"in t.props}function Iw(t,e){return e!=null&&"sectors"in t.props}function Sm(t,e){return e!=null&&"points"in t.props}function N6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function S6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function A6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function k6e(t,e){var r;return kw(t,e)?r=N6e:Iw(t,e)?r=S6e:Sm(t,e)&&(r=A6e),r}function I6e(t,e){var r;return kw(t,e)?r="trapezoids":Iw(t,e)?r="sectors":Sm(t,e)&&(r="points"),r}function T6e(t,e){if(kw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Iw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sm(t,e)?e.payload:{}}function E6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=I6e(r,e),s=T6e(r,e),i=n.filter(function(c,u){var d=TP(s,c),f=r.props[a].filter(function(p){var b=k6e(r,e);return b(p,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var _b;function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(this,arguments)}function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){Vn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p8(n.key),n)}}function O6e(t,e,r){return e&&yF(t.prototype,e),r&&yF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6e(t,e,r){return e=Av(e),_6e(t,h8()?Reflect.construct(e,r||[],Av(t).constructor):e.apply(t,r))}function _6e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(t)}function $6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h8=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(t)}function R6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aI(t,e)}function Vn(t,e,r){return e=p8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p8(t){var e=M6e(t,"string");return eu(e)=="symbol"?e:e+""}function M6e(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ea=function(t){function e(r){var n;return P6e(this,e),n=D6e(this,e,[r]),Vn(n,"pieRef",null),Vn(n,"sectorRefs",[]),Vn(n,"id",tw("recharts-pie-")),Vn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(a)&&a()}),Vn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return R6e(e,t),O6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ue(this.props,!1),f=Ue(i,!1),m=Ue(l,!1),h=i&&i.offsetRadius||20,p=n.map(function(b,g){var x=(b.startAngle+b.endAngle)/2,y=Ct(b.cx,b.cy,b.outerRadius+h,x),v=bt(bt(bt(bt({},d),b),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(y.x,b.cx)},y),N=bt(bt(bt(bt({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:g,points:[Ct(b.cx,b.cy,b.outerRadius,x),y]}),C=c;return Ye(c)&&Ye(u)?C="value":Ye(c)&&(C=u),V.createElement(zt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(i,v,xn(b,C)))});return V.createElement(zt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,p=bt(bt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return V.createElement(zt,Ql({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},rw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),V.createElement(C6e,Ql({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return V.createElement(Lo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var b=p.t,g=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(v,N){var C=m&&m[N],j=N>0?ya(v,"paddingAngle",0):0;if(C){var S=uR(C.endAngle-C.startAngle,v.endAngle-v.startAngle),A=bt(bt({},v),{},{startAngle:y+j,endAngle:y+S(b)+j});g.push(A),y=A.endAngle}else{var T=v.endAngle,k=v.startAngle,E=uR(0,T-k),O=E(b),M=bt(bt({},v),{},{startAngle:y+j,endAngle:y+O+j});g.push(M),y=M.endAngle}}),V.createElement(zt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!TP(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!i||!i.length||!ve(u)||!ve(d)||!ve(f)||!ve(m))return null;var b=_e("recharts-pie",l);return V.createElement(zt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Sr.renderCallByParent(this.props,null,!1),(!h||p)&&Yi.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);if(ze(n))return n(a);var i=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(Uk,Ql({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);var i=s;if(ze(n)&&(i=n(a),V.isValidElement(i)))return i;var l=_e("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return V.createElement(Wc,Ql({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);_b=ea;Vn(ea,"displayName","Pie");Vn(ea,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vn(ea,"parseDeltaAngle",function(t,e){var r=zn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Vn(ea,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ue(t,!1),a=Va(r,ku);return e&&e.length?e.map(function(s,i){return bt(bt(bt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return bt(bt({},n),s.props)}):[]});Vn(ea,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=Y7(a,s),l=n+tn(t.cx,a,a/2),c=r+tn(t.cy,s,s/2),u=tn(t.innerRadius,i,0),d=tn(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Vn(ea,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?bt(bt({},e.type.defaultProps),e.props):e.props,a=_b.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=_b.parseCoordinateOfPie(n,r),b=_b.parseDeltaAngle(i,l),g=Math.abs(b),x=u;Ye(u)&&Ye(f)?(js(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ye(u)&&(js(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(A){return xn(A,x,0)!==0}).length,v=(g>=360?y:y-1)*c,N=g-y*h-v,C=a.reduce(function(A,T){var k=xn(T,x,0);return A+(ve(k)?k:0)},0),j;if(C>0){var S;j=a.map(function(A,T){var k=xn(A,x,0),E=xn(A,d,T),O=(ve(k)?k:0)/C,M;T?M=S.endAngle+zn(b)*c*(k!==0?1:0):M=i;var R=M+zn(b)*((k!==0?h:0)+O*N),$=(M+R)/2,B=(p.innerRadius+p.outerRadius)/2,z=[{name:E,value:k,payload:A,dataKey:x,type:m}],D=Ct(p.cx,p.cy,B,$);return S=bt(bt(bt({percent:O,cornerRadius:s,name:E,tooltipPayload:z,midAngle:$,middleRadius:B,tooltipPosition:D},A),p),{},{value:xn(A,x),startAngle:M,endAngle:R,payload:A,paddingAngle:zn(b)*c}),S})}return bt(bt({},p),{},{sectors:j,data:a})});var L6e=Math.ceil,F6e=Math.max;function B6e(t,e,r,n){for(var a=-1,s=F6e(L6e((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var q6e=B6e,V6e=Bz,U6e=1/0,z6e=17976931348623157e292;function W6e(t){if(!t)return t===0?t:0;if(t=V6e(t),t===U6e||t===-1/0){var e=t<0?-1:1;return e*z6e}return t===t?t:0}var H6e=W6e,G6e=q6e,Y6e=cw,G1=H6e;function K6e(t){return function(e,r,n){return n&&typeof n!="number"&&Y6e(e,r,n)&&(r=n=void 0),e=G1(e),r===void 0?(r=e,e=0):r=G1(r),n=n===void 0?e<r?1:-1:G1(n),G6e(e,r,n,t)}}var J6e=K6e,X6e=J6e,Z6e=X6e(),Q6e=Z6e;const kv=at(Q6e);function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function bF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(r),!0).forEach(function(n){g8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g8(t,e,r){return e=eVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eVe(t){var e=tVe(t,"string");return Am(e)=="symbol"?e:e+""}function tVe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rVe=["Webkit","Moz","O","ms"],nVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=rVe.reduce(function(s,i){return xF(xF({},s),{},g8({},i+n,r))},{});return a[e]=r,a};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){pn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b8(n.key),n)}}function sVe(t,e,r){return e&&jF(t.prototype,e),r&&jF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oVe(t,e,r){return e=Tv(e),iVe(t,y8()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function iVe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lVe(t)}function lVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y8=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function cVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sI(t,e)}function pn(t,e,r){return e=b8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b8(t){var e=uVe(t,"string");return tu(e)=="symbol"?e:e+""}function uVe(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=of().domain(kv(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},wF=function(e){return e.changedTouches&&!!e.changedTouches.length},ru=function(t){function e(r){var n;return aVe(this,e),n=oVe(this,e,[r]),pn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),pn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pn(n,"handleSlideDragStart",function(a){var s=wF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cVe(e,t),sVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),p=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=xn(s[n],l,n);return ze(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,b=n.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-i):b<0&&(b=Math.max(b,u-i,u-l));var g=this.getIndex({startX:i+b,endX:l+b});(g.startIndex!==m||g.endIndex!==h)&&p&&p(g),this.setState({startX:i+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=wF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,b=d.gap,g=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+m-h-u):y<0&&(y=Math.max(y,f-u)),x[i]=u+y;var v=this.getIndex(x),N=v.startIndex,C=v.endIndex,j=function(){var A=g.length-1;return i==="startX"&&(l>c?N%b===0:C%b===0)||l<c&&C===A||i==="endX"&&(l>c?C%b===0:N%b===0)||l>c&&C===A};this.setState(pn(pn({},i,u+y),"brushMoveStartX",n.pageX),function(){p&&j()&&p(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(pn({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?V.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,b=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),y=Y1(Y1({},Ue(this.props,!1)),{},{x,y:u,width:d,height:f}),v=h||"Min value: ".concat((s=p[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=p[g])===null||i===void 0?void 0:i.name);return V.createElement(zt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return V.createElement(zt,{className:"recharts-brush-texts"},V.createElement(Wc,Iv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},p),this.getTextOfTick(a)),V.createElement(Wc,Iv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,b=m.isTextActive,g=m.isSlideMoving,x=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var v=_e("recharts-brush",s),N=V.Children.count(i)===1,C=nVe("userSelect","none");return V.createElement(zt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(b||g||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return V.isValidElement(n)?s=V.cloneElement(n,a):ze(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Y1({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?dVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);pn(ru,"displayName","Brush");pn(ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fVe=aP;function mVe(t,e){var r;return fVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var hVe=mVe,pVe=hz,gVe=Jo,yVe=hVe,bVe=mn,xVe=cw;function vVe(t,e,r){var n=bVe(t)?pVe:yVe;return r&&xVe(t,e,r)&&(e=void 0),n(t,gVe(e))}var jVe=vVe;const wVe=at(jVe);var Wa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},CF=$z;function CVe(t,e,r){e=="__proto__"&&CF?CF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var NVe=CVe,SVe=NVe,AVe=Dz,kVe=Jo;function IVe(t,e){var r={};return e=kVe(e),AVe(t,function(n,a,s){SVe(r,a,e(n,a,s))}),r}var TVe=IVe;const EVe=at(TVe);function PVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var OVe=PVe,DVe=aP;function _Ve(t,e){var r=!0;return DVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var $Ve=_Ve,RVe=OVe,MVe=$Ve,LVe=Jo,FVe=mn,BVe=cw;function qVe(t,e,r){var n=FVe(t)?RVe:MVe;return r&&BVe(t,e,r)&&(e=void 0),n(t,LVe(e))}var VVe=qVe;const UVe=at(VVe);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function zVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x8(n.key),n)}}function WVe(t,e,r){return e&&NF(t.prototype,e),r&&NF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){RP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RP(t,e,r){return e=x8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x8(t){var e=HVe(t,"string");return km(e)=="symbol"?e:e+""}function HVe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},GVe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return v8({x:r,y:n},{x:a,y:s})},j8=function(){function t(e){zVe(this,t),this.scale=e}return WVe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();RP(j8,"EPS",1e-4);var MP=function(e){var r=Object.keys(e).reduce(function(n,a){return gp(gp({},n),{},RP({},a,j8.create(e[a])))},{});return gp(gp({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return EVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return UVe(a,function(s,i){return r[i].isInRange(s)})}})},YVe=NSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),w8=w.createContext(void 0),C8=w.createContext(void 0),N8=w.createContext(void 0),KVe=w.createContext({}),S8=w.createContext(void 0),JVe=w.createContext(0),XVe=w.createContext(0),AF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=YVe(s);return V.createElement(w8.Provider,{value:n},V.createElement(C8.Provider,{value:a},V.createElement(KVe.Provider,{value:s},V.createElement(N8.Provider,{value:d},V.createElement(S8.Provider,{value:i},V.createElement(JVe.Provider,{value:u},V.createElement(XVe.Provider,{value:c},l)))))))},ZVe=function(){return w.useContext(S8)},QVe=function(e){var r=w.useContext(w8);r==null&&Kc();var n=r[e];return n==null&&Kc(),n},eUe=function(e){var r=w.useContext(C8);r==null&&Kc();var n=r[e];return n==null&&Kc(),n},tUe=function(){var e=w.useContext(N8);return e};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function rUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k8(n.key),n)}}function aUe(t,e,r){return e&&nUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sUe(t,e,r){return e=Ev(e),oUe(t,A8()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function oUe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iUe(t)}function iUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A8=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function lUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oI(t,e)}function oI(t,e){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oI(t,e)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){LP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LP(t,e,r){return e=k8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k8(t){var e=cUe(t,"string");return nu(e)=="symbol"?e:e+""}function cUe(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uUe(t,e){return hUe(t)||mUe(t,e)||fUe(t,e)||dUe()}function dUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fUe(t,e){if(t){if(typeof t=="string")return TF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(t,e)}}function TF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function hUe(t){if(Array.isArray(t))return t}function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iI.apply(this,arguments)}var pUe=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):ze(e)?n=e(r):n=V.createElement("line",iI({},r,{className:"recharts-reference-line-line"})),n},gUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var p=u.y,b=e.y.apply(p,{position:i});if(Wa(u,"discard")&&!e.y.isInRange(b))return null;var g=[{x:d+m,y:b},{x:d,y:b}];return c==="left"?g.reverse():g}if(r){var x=u.x,y=e.x.apply(x,{position:i});if(Wa(u,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?v.reverse():v}if(a){var N=u.segment,C=N.map(function(j){return e.apply(j,{position:i})});return Wa(u,"discard")&&wVe(C,function(j){return!e.isInRange(j)})?null:C}return null};function yUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=ZVe(),d=QVe(a),f=eUe(s),m=tUe();if(!u||!m)return null;js(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=MP({x:d.scale,y:f.scale}),p=cr(e),b=cr(r),g=n&&n.length===2,x=gUe(h,p,b,g,m,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=uUe(x,2),v=y[0],N=v.x,C=v.y,j=y[1],S=j.x,A=j.y,T=Wa(t,"hidden")?"url(#".concat(u,")"):void 0,k=IF(IF({clipPath:T},Ue(t,!0)),{},{x1:N,y1:C,x2:S,y2:A});return V.createElement(zt,{className:_e("recharts-reference-line",l)},pUe(i,k),Sr.renderCallByParent(t,GVe({x1:N,y1:C,x2:S,y2:A})))}var FP=function(t){function e(){return rUe(this,e),sUe(this,e,arguments)}return lUe(e,t),aUe(e,[{key:"render",value:function(){return V.createElement(yUe,this.props)}}])}(V.Component);LP(FP,"displayName","ReferenceLine");LP(FP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(this,arguments)}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){Tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T8(n.key),n)}}function vUe(t,e,r){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jUe(t,e,r){return e=Pv(e),wUe(t,I8()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function wUe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(t)}function CUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function NUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cI(t,e)}function Tw(t,e,r){return e=T8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T8(t){var e=SUe(t,"string");return au(e)=="symbol"?e:e+""}function SUe(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=MP({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Wa(e,"discard")&&!i.isInRange(l)?null:l},Ew=function(t){function e(){return bUe(this,e),jUe(this,e,arguments)}return NUe(e,t),vUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=cr(a),d=cr(s);if(js(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=AUe(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,b=p.shape,g=p.className,x=Wa(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=PF(PF({clipPath:x},Ue(this.props,!0)),{},{cx:m,cy:h});return V.createElement(zt,{className:_e("recharts-reference-dot",g)},e.renderDot(b,y),Sr.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(V.Component);Tw(Ew,"displayName","ReferenceDot");Tw(Ew,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tw(Ew,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):ze(t)?r=t(e):r=V.createElement($P,lI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uI.apply(this,arguments)}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){Pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P8(n.key),n)}}function TUe(t,e,r){return e&&IUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EUe(t,e,r){return e=Ov(e),PUe(t,E8()?Reflect.construct(e,r||[],Ov(t).constructor):e.apply(t,r))}function PUe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OUe(t)}function OUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}function DUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dI(t,e)}function Pw(t,e,r){return e=P8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P8(t){var e=_Ue(t,"string");return su(e)=="symbol"?e:e+""}function _Ue(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Ue=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=MP({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Wa(s,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:v8(h,p)},Ow=function(t){function e(){return kUe(this,e),EUe(this,e,arguments)}return DUe(e,t),TUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;js(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cr(a),m=cr(s),h=cr(i),p=cr(l),b=this.props.shape;if(!f&&!m&&!h&&!p&&!b)return null;var g=$Ue(f,m,h,p,this.props);if(!g&&!b)return null;var x=Wa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return V.createElement(zt,{className:_e("recharts-reference-area",c)},e.renderRect(b,DF(DF({clipPath:x},Ue(this.props,!0)),g)),Sr.renderCallByParent(this.props,g))}}])}(V.Component);Pw(Ow,"displayName","ReferenceArea");Pw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pw(Ow,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):ze(t)?r=t(e):r=V.createElement(_P,uI({},e,{className:"recharts-reference-area-rect"})),r});function _F(t){return FUe(t)||LUe(t)||MUe(t)||RUe()}function RUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MUe(t,e){if(t){if(typeof t=="string")return fI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(t,e)}}function LUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FUe(t){if(Array.isArray(t))return fI(t)}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mI=function(e,r,n,a,s){var i=Va(e,FP),l=Va(e,Ew),c=[].concat(_F(i),_F(l)),u=Va(e,Ow),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(b,g){if(g.props[d]===n&&Wa(g.props,"extendDomain")&&ve(g.props[f])){var x=g.props[f];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(b,g){if(g.props[d]===n&&Wa(g.props,"extendDomain")&&ve(g.props[h])&&ve(g.props[p])){var x=g.props[h],y=g.props[p];return[Math.min(b[0],x,y),Math.max(b[1],x,y)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,g){return ve(g)?[Math.min(b[0],g),Math.max(b[1],g)]:b},m)),m},O8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var b=r?r+u:u;if(!this._events[b])return!1;var g=this._events[b],x=arguments.length,y,v;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,m),!0;case 5:return g.fn.call(g.context,d,f,m,h),!0;case 6:return g.fn.call(g.context,d,f,m,h,p),!0}for(v=1,y=new Array(x-1);v<x;v++)y[v-1]=arguments[v];g.fn.apply(g.context,y)}else{var N=g.length,C;for(v=0;v<N;v++)switch(g[v].once&&this.removeListener(u,g[v].fn,void 0,!0),x){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,d);break;case 3:g[v].fn.call(g[v].context,d,f);break;case 4:g[v].fn.call(g[v].context,d,f,m);break;default:if(!y)for(C=1,y=new Array(x-1);C<x;C++)y[C-1]=arguments[C];g[v].fn.apply(g[v].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var b=0,g=[],x=p.length;b<x;b++)(p[b].fn!==d||m&&!p[b].once||f&&p[b].context!==f)&&g.push(p[b]);g.length?this._events[h]=g.length===1?g[0]:g:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(O8);var BUe=O8.exports;const qUe=at(BUe);var K1=new qUe,J1="recharts.syncMouseEvents";function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function VUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D8(n.key),n)}}function zUe(t,e,r){return e&&UUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=WUe(t,"string");return Im(e)=="symbol"?e:e+""}function WUe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HUe=function(){function t(){VUe(this,t),X1(this,"activeIndex",0),X1(this,"coordinateList",[]),X1(this,"layout","horizontal")}return zUe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function GUe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function YUe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function _8(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=Ct(e,r,n,a),l=Ct(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function KUe(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Ct(l,c,u,f),h=Ct(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return _8(e);return[{x:n,y:a},{x:s,y:i}]}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){JUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JUe(t,e,r){return e=XUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XUe(t){var e=ZUe(t,"string");return Tm(e)=="symbol"?e:e+""}function ZUe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QUe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var p,b=Uk;if(m==="ScatterChart")p=i,b=oqe;else if(m==="BarChart")p=YUe(f,i,c,d),b=_P;else if(f==="radial"){var g=_8(i),x=g.cx,y=g.cy,v=g.radius,N=g.startAngle,C=g.endAngle;p={cx:x,cy:y,startAngle:N,endAngle:C,innerRadius:v,outerRadius:v},b=Z7}else p={points:KUe(f,i,c)},b=Uk;var j=yp(yp(yp(yp({stroke:"#ccc",pointerEvents:"none"},c),p),Ue(h,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,j):w.createElement(b,j)}var eze=["item"],tze=["children","className","width","height","style","compact","title","desc"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function RF(t,e){return aze(t)||nze(t,e)||R8(t,e)||rze()}function rze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function aze(t){if(Array.isArray(t))return t}function MF(t,e){if(t==null)return{};var r=sze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ize(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M8(n.key),n)}}function lze(t,e,r){return e&&ize(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cze(t,e,r){return e=Dv(e),uze(t,$8()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function uze(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dze(t)}function dze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function fze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hI(t,e)}function iu(t){return pze(t)||hze(t)||R8(t)||mze()}function mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function hze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pze(t){if(Array.isArray(t))return pI(t)}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oe(t,e,r){return e=M8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M8(t){var e=gze(t,"string");return ou(e)=="symbol"?e:e+""}function gze(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yze={xAxis:["bottom","top"],yAxis:["left","right"]},bze={width:"100%",height:"100%"},L8={x:0,y:0};function bp(t){return t}var xze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},vze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),Ct(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),Ct(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return L8},Dw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(iu(l),iu(u)):l},[]);return i.length>0?i:e&&e.length&&ve(a)&&ve(s)?e.slice(a,s+1):[]};function F8(t){return t==="number"?[0,"auto"]:void 0}var gI=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Dw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=KA(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(iu(c),[W5e(u,m)]):c},[])},FF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=xze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=T5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=gI(e,r,d,f),h=vze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},jze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=W7(d,s);return n.reduce(function(p,b){var g,x=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,y=x.type,v=x.dataKey,N=x.allowDataOverflow,C=x.allowDuplicatedCategory,j=x.scale,S=x.ticks,A=x.includeHidden,T=x[i];if(p[T])return p;var k=Dw(e.data,{graphicalItems:a.filter(function(G){var te,fe=i in G.props?G.props[i]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[i];return fe===T}),dataStartIndex:c,dataEndIndex:u}),E=k.length,O,M,R;GUe(x.domain,N,y)&&(O=Mk(x.domain,null,N),h&&(y==="number"||j!=="auto")&&(R=lf(k,v,"category")));var $=F8(y);if(!O||O.length===0){var B,z=(B=x.domain)!==null&&B!==void 0?B:$;if(v){if(O=lf(k,v,y),y==="category"&&h){var D=xAe(O);C&&D?(M=O,O=kv(0,E)):C||(O=jL(z,O,b).reduce(function(G,te){return G.indexOf(te)>=0?G:[].concat(iu(G),[te])},[]))}else if(y==="category")C?O=O.filter(function(G){return G!==""&&!Ye(G)}):O=jL(z,O,b).reduce(function(G,te){return G.indexOf(te)>=0||te===""||Ye(te)?G:[].concat(iu(G),[te])},[]);else if(y==="number"){var _=_5e(k,a.filter(function(G){var te,fe,ke=i in G.props?G.props[i]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[i],ae="hide"in G.props?G.props.hide:(fe=G.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ke===T&&(A||!ae)}),v,s,d);_&&(O=_)}h&&(y==="number"||j!=="auto")&&(R=lf(k,v,"category"))}else h?O=kv(0,E):l&&l[T]&&l[T].hasStack&&y==="number"?O=m==="expand"?[0,1]:H7(l[T].stackGroups,c,u):O=z7(k,a.filter(function(G){var te=i in G.props?G.props[i]:G.type.defaultProps[i],fe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return te===T&&(A||!fe)}),y,d,!0);if(y==="number")O=mI(f,O,T,s,S),z&&(O=Mk(z,O,N));else if(y==="category"&&z){var F=z,Y=O.every(function(G){return F.indexOf(G)>=0});Y&&(O=F)}}return ne(ne({},p),{},Oe({},T,ne(ne({},x),{},{axisType:s,domain:O,categoricalDomain:R,duplicateDomain:M,originalDomain:(g=x.domain)!==null&&g!==void 0?g:$,isCategorical:h,layout:d})))},{})},wze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Dw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=W7(d,s),b=-1;return n.reduce(function(g,x){var y=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,v=y[i],N=F8("number");if(!g[v]){b++;var C;return p?C=kv(0,h):l&&l[v]&&l[v].hasStack?(C=H7(l[v].stackGroups,c,u),C=mI(f,C,v,s)):(C=Mk(N,z7(m,n.filter(function(j){var S,A,T=i in j.props?j.props[i]:(S=j.type.defaultProps)===null||S===void 0?void 0:S[i],k="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===v&&!k}),"number",d),a.defaultProps.allowDataOverflow),C=mI(f,C,v,s)),ne(ne({},g),{},Oe({},v,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:ya(yze,"".concat(s,".").concat(b%2),null),domain:C,originalDomain:N,isCategorical:p,layout:d})))}return g},{})},Cze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Va(d,s),h={};return m&&m.length?h=jze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=wze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Nze=function(e){var r=Ml(e),n=Nd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lk(r,n)}},BF=function(e){var r=e.children,n=e.defaultShowTooltip,a=Fn(r,ru),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},Sze=function(e){return!e||!e.length?!1:e.some(function(r){var n=vs(r&&r.type);return n&&n.indexOf("Bar")>=0})},qF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Aze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Fn(f,ru),p=Fn(f,Ua),b=Object.keys(c).reduce(function(C,j){var S=c[j],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},C),{},Oe({},A,C[A]+S.width)):C},{left:m.left||0,right:m.right||0}),g=Object.keys(i).reduce(function(C,j){var S=i[j],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},C),{},Oe({},A,ya(C,"".concat(A))+S.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=ne(ne({},g),b),y=x.bottom;h&&(x.bottom+=h.props.height||ru.defaultProps.height),p&&r&&(x=O5e(x,a,n,r));var v=u-x.left-x.right,N=d-x.top-x.bottom;return ne(ne({brushBottom:y},x),{},{width:Math.max(v,0),height:Math.max(N,0)})},kze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Ize=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(x,y){var v=y.graphicalItems,N=y.stackGroups,C=y.offset,j=y.updateId,S=y.dataStartIndex,A=y.dataEndIndex,T=x.barSize,k=x.layout,E=x.barGap,O=x.barCategoryGap,M=x.maxBarSize,R=qF(k),$=R.numericAxisName,B=R.cateAxisName,z=Sze(v),D=[];return v.forEach(function(_,F){var Y=Dw(x.data,{graphicalItems:[_],dataStartIndex:S,dataEndIndex:A}),G=_.type.defaultProps!==void 0?ne(ne({},_.type.defaultProps),_.props):_.props,te=G.dataKey,fe=G.maxBarSize,ke=G["".concat($,"Id")],ae=G["".concat(B,"Id")],X={},ce=c.reduce(function(Hr,J){var ye=y["".concat(J.axisType,"Map")],Z=G["".concat(J.axisType,"Id")];ye&&ye[Z]||J.axisType==="zAxis"||Kc();var pe=ye[Z];return ne(ne({},Hr),{},Oe(Oe({},J.axisType,pe),"".concat(J.axisType,"Ticks"),Nd(pe)))},X),Q=ce[B],re=ce["".concat(B,"Ticks")],K=N&&N[ke]&&N[ke].hasStack&&U5e(_,N[ke].stackGroups),H=vs(_.type).indexOf("Bar")>=0,me=Lk(Q,re),je=[],Te=z&&E5e({barSize:T,stackGroups:N,totalSize:kze(ce,B)});if(H){var Ve,qe,Lr=Ye(fe)?M:fe,Fr=(Ve=(qe=Lk(Q,re,!0))!==null&&qe!==void 0?qe:Lr)!==null&&Ve!==void 0?Ve:0;je=P5e({barGap:E,barCategoryGap:O,bandSize:Fr!==me?Fr:me,sizeList:Te[ae],maxBarSize:Lr}),Fr!==me&&(je=je.map(function(Hr){return ne(ne({},Hr),{},{position:ne(ne({},Hr.position),{},{offset:Hr.position.offset-Fr/2})})}))}var ta=_&&_.type&&_.type.getComposedData;ta&&D.push({props:ne(ne({},ta(ne(ne({},ce),{},{displayedData:Y,props:x,dataKey:te,item:_,bandSize:me,barPosition:je,offset:C,stackedData:K,layout:k,dataStartIndex:S,dataEndIndex:A}))),{},Oe(Oe(Oe({key:_.key||"item-".concat(F)},$,ce[$]),B,ce[B]),"animationId",j)),childIndex:EAe(_,x.children),item:_})}),D},h=function(x,y){var v=x.props,N=x.dataStartIndex,C=x.dataEndIndex,j=x.updateId;if(!pR({props:v}))return null;var S=v.children,A=v.layout,T=v.stackOffset,k=v.data,E=v.reverseStackOrder,O=qF(A),M=O.numericAxisName,R=O.cateAxisName,$=Va(S,n),B=q5e(k,$,"".concat(M,"Id"),"".concat(R,"Id"),T,E),z=c.reduce(function(G,te){var fe="".concat(te.axisType,"Map");return ne(ne({},G),{},Oe({},fe,Cze(v,ne(ne({},te),{},{graphicalItems:$,stackGroups:te.axisType===M&&B,dataStartIndex:N,dataEndIndex:C}))))},{}),D=Aze(ne(ne({},z),{},{props:v,graphicalItems:$}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(G){z[G]=d(v,z[G],D,G.replace("Map",""),r)});var _=z["".concat(R,"Map")],F=Nze(_),Y=m(v,ne(ne({},z),{},{dataStartIndex:N,dataEndIndex:C,updateId:j,graphicalItems:$,stackGroups:B,offset:D}));return ne(ne({formattedGraphicalItems:Y,graphicalItems:$,offset:D,stackGroups:B},F),z)},p=function(g){function x(y){var v,N,C;return oze(this,x),C=cze(this,x,[y]),Oe(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(C,"accessibilityManager",new HUe),Oe(C,"handleLegendBBoxUpdate",function(j){if(j){var S=C.state,A=S.dataStartIndex,T=S.dataEndIndex,k=S.updateId;C.setState(ne({legendBBox:j},h({props:C.props,dataStartIndex:A,dataEndIndex:T,updateId:k},ne(ne({},C.state),{},{legendBBox:j}))))}}),Oe(C,"handleReceiveSyncEvent",function(j,S,A){if(C.props.syncId===j){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(S)}}),Oe(C,"handleBrushChange",function(j){var S=j.startIndex,A=j.endIndex;if(S!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return ne({dataStartIndex:S,dataEndIndex:A},h({props:C.props,dataStartIndex:S,dataEndIndex:A,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Oe(C,"handleMouseEnter",function(j){var S=C.getMouseInfo(j);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var T=C.props.onMouseEnter;ze(T)&&T(A,j)}}),Oe(C,"triggeredAfterMouseMove",function(j){var S=C.getMouseInfo(j),A=S?ne(ne({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var T=C.props.onMouseMove;ze(T)&&T(A,j)}),Oe(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Oe(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Oe(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),Oe(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseLeave;ze(A)&&A(S,j)}),Oe(C,"handleOuterEvent",function(j){var S=TAe(j),A=ya(C.props,"".concat(S));if(S&&ze(A)){var T,k;/.*touch.*/i.test(S)?k=C.getMouseInfo(j.changedTouches[0]):k=C.getMouseInfo(j),A((T=k)!==null&&T!==void 0?T:{},j)}}),Oe(C,"handleClick",function(j){var S=C.getMouseInfo(j);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var T=C.props.onClick;ze(T)&&T(A,j)}}),Oe(C,"handleMouseDown",function(j){var S=C.props.onMouseDown;if(ze(S)){var A=C.getMouseInfo(j);S(A,j)}}),Oe(C,"handleMouseUp",function(j){var S=C.props.onMouseUp;if(ze(S)){var A=C.getMouseInfo(j);S(A,j)}}),Oe(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Oe(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),Oe(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),Oe(C,"handleDoubleClick",function(j){var S=C.props.onDoubleClick;if(ze(S)){var A=C.getMouseInfo(j);S(A,j)}}),Oe(C,"handleContextMenu",function(j){var S=C.props.onContextMenu;if(ze(S)){var A=C.getMouseInfo(j);S(A,j)}}),Oe(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&K1.emit(J1,C.props.syncId,j,C.eventEmitterSymbol)}),Oe(C,"applySyncEvent",function(j){var S=C.props,A=S.layout,T=S.syncMethod,k=C.state.updateId,E=j.dataStartIndex,O=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(ne({dataStartIndex:E,dataEndIndex:O},h({props:C.props,dataStartIndex:E,dataEndIndex:O,updateId:k},C.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,R=j.chartY,$=j.activeTooltipIndex,B=C.state,z=B.offset,D=B.tooltipTicks;if(!z)return;if(typeof T=="function")$=T(D,j);else if(T==="value"){$=-1;for(var _=0;_<D.length;_++)if(D[_].value===j.activeLabel){$=_;break}}var F=ne(ne({},z),{},{x:z.left,y:z.top}),Y=Math.min(M,F.x+F.width),G=Math.min(R,F.y+F.height),te=D[$]&&D[$].value,fe=gI(C.state,C.props.data,$),ke=D[$]?{x:A==="horizontal"?D[$].coordinate:Y,y:A==="horizontal"?G:D[$].coordinate}:L8;C.setState(ne(ne({},j),{},{activeLabel:te,activeCoordinate:ke,activePayload:fe,activeTooltipIndex:$}))}else C.setState(j)}),Oe(C,"renderCursor",function(j){var S,A=C.state,T=A.isTooltipActive,k=A.activeCoordinate,E=A.activePayload,O=A.offset,M=A.activeTooltipIndex,R=A.tooltipAxisBandSize,$=C.getTooltipEventType(),B=(S=j.props.active)!==null&&S!==void 0?S:T,z=C.props.layout,D=j.key||"_recharts-cursor";return V.createElement(QUe,{key:D,activeCoordinate:k,activePayload:E,activeTooltipIndex:M,chartName:r,element:j,isActive:B,layout:z,offset:O,tooltipAxisBandSize:R,tooltipEventType:$})}),Oe(C,"renderPolarAxis",function(j,S,A){var T=ya(j,"type.axisType"),k=ya(C.state,"".concat(T,"Map")),E=j.type.defaultProps,O=E!==void 0?ne(ne({},E),j.props):j.props,M=k&&k[O["".concat(T,"Id")]];return w.cloneElement(j,ne(ne({},M),{},{className:_e(T,M.className),key:j.key||"".concat(S,"-").concat(A),ticks:Nd(M,!0)}))}),Oe(C,"renderPolarGrid",function(j){var S=j.props,A=S.radialLines,T=S.polarAngles,k=S.polarRadius,E=C.state,O=E.radiusAxisMap,M=E.angleAxisMap,R=Ml(O),$=Ml(M),B=$.cx,z=$.cy,D=$.innerRadius,_=$.outerRadius;return w.cloneElement(j,{polarAngles:Array.isArray(T)?T:Nd($,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(k)?k:Nd(R,!0).map(function(F){return F.coordinate}),cx:B,cy:z,innerRadius:D,outerRadius:_,key:j.key||"polar-grid",radialLines:A})}),Oe(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,S=C.props,A=S.children,T=S.width,k=S.height,E=C.props.margin||{},O=T-(E.left||0)-(E.right||0),M=V7({children:A,formattedGraphicalItems:j,legendWidth:O,legendContent:u});if(!M)return null;var R=M.item,$=MF(M,eze);return w.cloneElement(R,ne(ne({},$),{},{chartWidth:T,chartHeight:k,margin:E,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Oe(C,"renderTooltip",function(){var j,S=C.props,A=S.children,T=S.accessibilityLayer,k=Fn(A,rs);if(!k)return null;var E=C.state,O=E.isTooltipActive,M=E.activeCoordinate,R=E.activePayload,$=E.activeLabel,B=E.offset,z=(j=k.props.active)!==null&&j!==void 0?j:O;return w.cloneElement(k,{viewBox:ne(ne({},B),{},{x:B.left,y:B.top}),active:z,label:$,payload:z?R:[],coordinate:M,accessibilityLayer:T})}),Oe(C,"renderBrush",function(j){var S=C.props,A=S.margin,T=S.data,k=C.state,E=k.offset,O=k.dataStartIndex,M=k.dataEndIndex,R=k.updateId;return w.cloneElement(j,{key:j.key||"_recharts-brush",onChange:fp(C.handleBrushChange,j.props.onChange),data:T,x:ve(j.props.x)?j.props.x:E.left,y:ve(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(A.bottom||0),width:ve(j.props.width)?j.props.width:E.width,startIndex:O,endIndex:M,updateId:"brush-".concat(R)})}),Oe(C,"renderReferenceElement",function(j,S,A){if(!j)return null;var T=C,k=T.clipPathId,E=C.state,O=E.xAxisMap,M=E.yAxisMap,R=E.offset,$=j.type.defaultProps||{},B=j.props,z=B.xAxisId,D=z===void 0?$.xAxisId:z,_=B.yAxisId,F=_===void 0?$.yAxisId:_;return w.cloneElement(j,{key:j.key||"".concat(S,"-").concat(A),xAxis:O[D],yAxis:M[F],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),Oe(C,"renderActivePoints",function(j){var S=j.item,A=j.activePoint,T=j.basePoint,k=j.childIndex,E=j.isRange,O=[],M=S.props.key,R=S.item.type.defaultProps!==void 0?ne(ne({},S.item.type.defaultProps),S.item.props):S.item.props,$=R.activeDot,B=R.dataKey,z=ne(ne({index:k,dataKey:B,cx:A.x,cy:A.y,r:4,fill:DP(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ue($,!1)),Ux($));return O.push(x.renderActiveDot($,z,"".concat(M,"-activePoint-").concat(k))),T?O.push(x.renderActiveDot($,ne(ne({},z),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(k))):E&&O.push(null),O}),Oe(C,"renderGraphicChild",function(j,S,A){var T=C.filterFormatItem(j,S,A);if(!T)return null;var k=C.getTooltipEventType(),E=C.state,O=E.isTooltipActive,M=E.tooltipAxis,R=E.activeTooltipIndex,$=E.activeLabel,B=C.props.children,z=Fn(B,rs),D=T.props,_=D.points,F=D.isRange,Y=D.baseLine,G=T.item.type.defaultProps!==void 0?ne(ne({},T.item.type.defaultProps),T.item.props):T.item.props,te=G.activeDot,fe=G.hide,ke=G.activeBar,ae=G.activeShape,X=!!(!fe&&O&&z&&(te||ke||ae)),ce={};k!=="axis"&&z&&z.props.trigger==="click"?ce={onClick:fp(C.handleItemMouseEnter,j.props.onClick)}:k!=="axis"&&(ce={onMouseLeave:fp(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:fp(C.handleItemMouseEnter,j.props.onMouseEnter)});var Q=w.cloneElement(j,ne(ne({},T.props),ce));function re(J){return typeof M.dataKey=="function"?M.dataKey(J.payload):null}if(X)if(R>=0){var K,H;if(M.dataKey&&!M.allowDuplicatedCategory){var me=typeof M.dataKey=="function"?re:"payload.".concat(M.dataKey.toString());K=KA(_,me,$),H=F&&Y&&KA(Y,me,$)}else K=_==null?void 0:_[R],H=F&&Y&&Y[R];if(ae||ke){var je=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[w.cloneElement(j,ne(ne(ne({},T.props),ce),{},{activeIndex:je})),null,null]}if(!Ye(K))return[Q].concat(iu(C.renderActivePoints({item:T,activePoint:K,basePoint:H,childIndex:R,isRange:F})))}else{var Te,Ve=(Te=C.getItemByXY(C.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:Q},qe=Ve.graphicalItem,Lr=qe.item,Fr=Lr===void 0?j:Lr,ta=qe.childIndex,Hr=ne(ne(ne({},T.props),ce),{},{activeIndex:ta});return[w.cloneElement(Fr,Hr),null,null]}return F?[Q,null,null]:[Q,null]}),Oe(C,"renderCustomized",function(j,S,A){return w.cloneElement(j,ne(ne({key:"recharts-customized-".concat(A)},C.props),C.state))}),Oe(C,"renderMap",{CartesianGrid:{handler:bp,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:bp},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:bp},YAxis:{handler:bp},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:tw("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=qz(C.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return fze(x,g),lze(x,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,C=v.data,j=v.height,S=v.layout,A=Fn(N,rs);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,E=gI(this.state,C,T,k),O=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+j)/2,R=S==="horizontal",$=R?{x:O,y:M}:{y:O,x:M},B=this.state.formattedGraphicalItems.find(function(D){var _=D.item;return _.type.name==="Scatter"});B&&($=ne(ne({},$),B.props.points[T].tooltipPosition),E=B.props.points[T].tooltipPayload);var z={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:k,activePayload:E,activeCoordinate:$};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(v){ZA([Fn(v.children,rs)],[Fn(this.props.children,rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Fn(this.props.children,rs);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),j=nRe(C),S={chartX:Math.round(v.pageX-j.left),chartY:Math.round(v.pageY-j.top)},A=C.width/N.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,A);if(!T)return null;var k=this.state,E=k.xAxisMap,O=k.yAxisMap,M=this.getTooltipEventType(),R=FF(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&E&&O){var $=Ml(E).scale,B=Ml(O).scale,z=$&&$.invert?$.invert(S.chartX):null,D=B&&B.invert?B.invert(S.chartY):null;return ne(ne({},S),{},{xValue:z,yValue:D},R)}return R?ne(ne({},S),R):null}},{key:"inRange",value:function(v,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,S=v/C,A=N/C;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,k=S>=T.left&&S<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return k?{x:S,y:A}:null}var E=this.state,O=E.angleAxisMap,M=E.radiusAxisMap;if(O&&M){var R=Ml(O);return NL({x:S,y:A},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),C=Fn(v,rs),j={};C&&N==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ux(this.props,this.handleOuterEvent);return ne(ne({},S),j)}},{key:"addListener",value:function(){K1.on(J1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){K1.removeListener(J1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,C){for(var j=this.state.formattedGraphicalItems,S=0,A=j.length;S<A;S++){var T=j[S];if(T.item===v||T.props.key===v.key||N===vs(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,C=N.left,j=N.top,S=N.height,A=N.width;return V.createElement("defs",null,V.createElement("clipPath",{id:v},V.createElement("rect",{x:C,y:j,height:S,width:A})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,C){var j=RF(C,2),S=j[0],A=j[1];return ne(ne({},N),{},Oe({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,C){var j=RF(C,2),S=j[0],A=j[1];return ne(ne({},N),{},Oe({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,C=N.formattedGraphicalItems,j=N.activeItem;if(C&&C.length)for(var S=0,A=C.length;S<A;S++){var T=C[S],k=T.props,E=T.item,O=E.type.defaultProps!==void 0?ne(ne({},E.type.defaultProps),E.props):E.props,M=vs(E.type);if(M==="Bar"){var R=(k.data||[]).find(function(D){return B3e(v,D)});if(R)return{graphicalItem:T,payload:R}}else if(M==="RadialBar"){var $=(k.data||[]).find(function(D){return NL(v,D)});if($)return{graphicalItem:T,payload:$}}else if(kw(T,j)||Iw(T,j)||Sm(T,j)){var B=E6e({graphicalItem:T,activeTooltipItem:j,itemData:O.data}),z=O.activeIndex===void 0?B:O.activeIndex;return{graphicalItem:ne(ne({},T),{},{childIndex:z}),payload:Sm(T,j)?O.data[B]:T.props.data[B]}}}return null}},{key:"render",value:function(){var v=this;if(!pR(this))return null;var N=this.props,C=N.children,j=N.className,S=N.width,A=N.height,T=N.style,k=N.compact,E=N.title,O=N.desc,M=MF(N,tze),R=Ue(M,!1);if(k)return V.createElement(AF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(ek,ec({},R,{width:S,height:A,title:E,desc:O}),this.renderClipPath(),yR(C,this.renderMap)));if(this.props.accessibilityLayer){var $,B;R.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,R.role=(B=this.props.role)!==null&&B!==void 0?B:"application",R.onKeyDown=function(D){v.accessibilityManager.keyboardEvent(D)},R.onFocus=function(){v.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return V.createElement(AF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",ec({className:_e("recharts-wrapper",j),style:ne({position:"relative",cursor:"default",width:S,height:A},T)},z,{ref:function(_){v.container=_}}),V.createElement(ek,ec({},R,{width:S,height:A,title:E,desc:O,style:bze}),this.renderClipPath(),yR(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Oe(p,"displayName",r),Oe(p,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(p,"getDerivedStateFromProps",function(g,x){var y=g.dataKey,v=g.data,N=g.children,C=g.width,j=g.height,S=g.layout,A=g.stackOffset,T=g.margin,k=x.dataStartIndex,E=x.dataEndIndex;if(x.updateId===void 0){var O=BF(g);return ne(ne(ne({},O),{},{updateId:0},h(ne(ne({props:g},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:v,prevWidth:C,prevHeight:j,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:N})}if(y!==x.prevDataKey||v!==x.prevData||C!==x.prevWidth||j!==x.prevHeight||S!==x.prevLayout||A!==x.prevStackOffset||!JA(T,x.prevMargin)){var M=BF(g),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},$=ne(ne({},FF(x,v,S)),{},{updateId:x.updateId+1}),B=ne(ne(ne({},M),R),$);return ne(ne(ne({},B),h(ne({props:g},B),x)),{},{prevDataKey:y,prevData:v,prevWidth:C,prevHeight:j,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:N})}if(!ZA(N,x.prevChildren)){var z,D,_,F,Y=Fn(N,ru),G=Y&&(z=(D=Y.props)===null||D===void 0?void 0:D.startIndex)!==null&&z!==void 0?z:k,te=Y&&(_=(F=Y.props)===null||F===void 0?void 0:F.endIndex)!==null&&_!==void 0?_:E,fe=G!==k||te!==E,ke=!Ye(v),ae=ke&&!fe?x.updateId:x.updateId+1;return ne(ne({updateId:ae},h(ne(ne({props:g},x),{},{updateId:ae,dataStartIndex:G,dataEndIndex:te}),x)),{},{prevChildren:N,dataStartIndex:G,dataEndIndex:te})}return null}),Oe(p,"renderActiveDot",function(g,x,y){var v;return w.isValidElement(g)?v=w.cloneElement(g,x):ze(g)?v=g(x):v=V.createElement($P,x),V.createElement(zt,{className:"recharts-active-dot",key:y},v)});var b=w.forwardRef(function(x,y){return V.createElement(p,ec({},x,{ref:y}))});return b.displayName=p.displayName,b},_w=Ize({chartName:"PieChart",GraphicalChild:ea,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Aw},{axisType:"radiusAxis",AxisComp:Nw}],formatAxisMap:e4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const VF=["#0088FE","#FF8042"];function Tze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(_w,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(ea,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(ku,{fill:VF[r%VF.length]},`cell-${r}`))}),o.jsx(Ua,{})]})})]})]})}const UF=["#0088FE","#FF8042","#00C49F"];function Eze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(_w,{children:[o.jsx(ea,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(ku,{fill:UF[r%UF.length]},`cell-${r}`))}),o.jsx(Ua,{})]})})]})]})}function Pze(){const t=ie(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=q(b=>b.departments);w.useEffect(()=>{t(rr())},[]),w.useEffect(()=>{e?(d(!0),Xve(e==="All"?"":e).then(b=>{const g=(b==null?void 0:b.data)||[];a(g.map(x=>({value:x.ID,label:x.Name,...x})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const h=b=>{const g=n.find(k=>k.value===Number(b));if(!g)return;const x=parseFloat(g.Appropriation||0),y=parseFloat(g.Supplemental||0),v=parseFloat(g.Transfer||0),N=parseFloat(g.Charges||0),C=parseFloat(g.PreEncumbrance||0),j=parseFloat(g.Encumbrance||0),A=[{name:"Budget Amount",value:x+y+v-N},{name:"Charges",value:N}],T=[{name:"PreEncumbrance",value:C},{name:"Encumbrance",value:j},{name:"Charges",value:N}];c(k=>({...k,chart1:A,chart2:T})),d(!0),Zve(b).then(k=>{const E=(k==null?void 0:k.data)||[];c(O=>({...O,table:E}))}).finally(()=>d(!1))},p=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Department",name:"Department",type:"select",value:e,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;r(g),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:b=>{console.log("e.target.value",b.target.value),i(b.target.value),h(b.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Tze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(Eze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:p,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const zF=["#0088FE","#00C49F","#FF8042"],WF=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function Oze(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState({disbursement:[],obligation:[],travel:[]}),p=ie(),{departments:b}=q(g=>g.departments);return w.useEffect(()=>{p(rr())},[]),w.useEffect(()=>{(async()=>{var x,y;try{const[v,N]=await Promise.all([$$(t,"Obligation Request",r==="All"?"":r),$$(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((x=v==null?void 0:v.data)==null?void 0:x.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((y=N==null?void 0:N.data)==null?void 0:y.total)||0).toLocaleString()}`)}catch(v){console.error("Error loading disbursement amounts:",v),U.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const x=i==="All"?"":i,[y,v,N]=await Promise.all([Qve(a,x),e0e(a,x),t0e(a,x)]);h({obligation:(y==null?void 0:y.data)||[],travel:(v==null?void 0:v.data)||[],disbursement:(N==null?void 0:N.data)||[]})}catch(x){console.error("Error loading chart data:",x),U.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:t,onChange:g=>e(g.target.value),options:WF}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;n(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:a,onChange:g=>s(g.target.value),options:WF}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const x=g.target.value==="All Departments"?"All":g.target.value;l(x)},options:[...b==null?void 0:b.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[Z1("Disbursement",[m==null?void 0:m.disbursement]),Z1("Obligation",[m==null?void 0:m.obligation]),Z1("Travel",[m==null?void 0:m.travel])]})]})}const Z1=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(_w,{children:[o.jsx(ea,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(ku,{fill:zF[n%zF.length]},n))}),o.jsx(Ua,{})]})})})]}),HF=["#0088FE","#FF8042","#00C49F"];function xp({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(_w,{children:[o.jsx(ea,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(ku,{fill:HF[n%HF.length]},n))}),o.jsx(Ua,{})]})})})]})}function Dze(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[p,b,g,x,y]=await Promise.all([r0e(t),n0e(),a0e(),s0e(),o0e()]),v=(p==null?void 0:p.data)||{};n({general:parseFloat(v.General||0),marriage:parseFloat(v.Marriage||0),burial:parseFloat(v.Burial||0),cedula:parseFloat(v.Cedula||0)}),s(m(b.data)),l(m(g.data)),u(m(x.data)),f(m(y.data))}catch(p){console.error(p),U.error("Failed to load collection data")}})()},[t]);const m=(h=[])=>h.map(p=>({name:p.date||"Unknown",value:parseFloat(p.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(xp,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(I,{label:"Select View",type:"select",value:t,onChange:h=>e(h.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(xp,{title:"General Service Invoice",data:a}),o.jsx(xp,{title:"Marriage Service Invoice",data:i}),o.jsx(xp,{title:"Burial Service Invoice",data:c})]})]})}const dh="https://staging-engine.testthelink.online",_ze=[],Ac=L("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.get(`${dh}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Q1=L("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.get(`${dh}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),$b=L("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.post(`${dh}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),eN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Qe.put(`${dh}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Rb=L("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Qe.delete(`${dh}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),B8=xe({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(Ac.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ac.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(Ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=_ze}).addCase(Q1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Q1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(Q1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(eN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(eN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:G8e,clearCurrentReceipt:Y8e}=B8.actions,$ze=B8.reducer,Rze="https://staging-engine.testthelink.online",Mze=oe().shape({Status:P().required("Status is required"),InvoiceNumber:P().required("Invoice number is required"),InvoiceDate:Re().required("Date is required"),FundsID:W().required("Fund is required"),Agency:P().required("Agency is required"),PaymentMethodID:W().required("Payment method is required"),Total:W().required("Total amount is required"),CustomerID:W().required("Customer is required"),CustomerName:P().required("Customer name is required"),Remarks:P(),TransactionItemsAll:tr().of(oe().shape({ItemID:W().required("Item ID is required"),ChargeAccountID:W().required("Charges account is required"),Quantity:W().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:W().required("Price is required").min(0,"Price cannot be negative"),Vatable:Mo()})).min(1,"At least one item is required")});function Lze({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=w.useState("Individual"),[i,l]=w.useState(!1),{customers:c}=q(S=>S.customers),{vendorDetails:u}=q(S=>S.vendorDetails),{funds:d}=q(S=>S.funds),{items:f}=q(S=>S.items),{budgets:m}=q(S=>S.budget),h=ie();w.useEffect(()=>{h(Nn()),h(La()),h(Gt()),h(Fa()),h(ko())},[h]);const p=u==null?void 0:u.map(S=>({value:S.ID,label:S.Name})),b=c==null?void 0:c.map(S=>({value:S.ID,label:S.Name})),g=d==null?void 0:d.map(S=>({value:S.ID,label:S.Name})),x=f==null?void 0:f.map(S=>({value:S.ID,label:S.Name})),y=m==null?void 0:m.map(S=>({value:S.ID,label:S.Name})),v={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",v);const N=(S,A,T)=>{const E=Array.from(S.target.files).map(O=>O);A("Attachments",[...T.Attachments,...E])},C=(S,A,T)=>{const k=[...T.Attachments];k.splice(S,1),A("Attachments",k)},j=async(S,{setSubmitting:A})=>{const T=new FormData;for(const k in S)if(k!=="Attachments"){const E=typeof S[k]=="object"?JSON.stringify(S[k]):S[k];k==="TransactionItemsAll"?T.append("Items",E):T.append(k,E)}S==null||S.Attachments.forEach((k,E)=>{k.ID?T.append(`Attachments[${E}].ID`,k.ID):T.append(`Attachments[${E}].File`,k)}),r?(T.append("IsNew","false"),T.append("LinkID",r.LinkID),T.append("ID",r.ID)):T.append("IsNew","true"),console.log("Form Data:",S);try{await n(T),console.log("Form submitted with values:",T)}catch(k){console.error("Error submitting form:",k)}finally{e(),A(!1)}};return o.jsxs(se,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx($e,{initialValues:v,validationSchema:Mze,onSubmit:j,enableReinitialize:!0,children:({values:S,setFieldValue:A,handleChange:T,handleBlur:k,isSubmitting:E,errors:O,touched:M,submitCount:R,isValid:$})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),S.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:S.Attachments.map((B,z)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:B.ID?o.jsx("a",{href:`${Rze}/uploads/${B.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:B.name||B.DataName}):B.name||B.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(z,A,S),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},z))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S==null?void 0:S.Status.toUpperCase()})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:T,value:S.InvoiceNumber,error:O.InvoiceNumber,touched:M.InvoiceNumber})]}),o.jsx(I,{label:"Date",name:"InvoiceDate",type:"date",onChange:T,value:S.InvoiceDate,required:!0,error:O.InvoiceDate&&M.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:T,value:S.Agency,error:O.Agency,touched:M.Agency}),o.jsx(I,{label:"Fund",name:"FundsID",type:"select",options:g,required:!0,onChange:T,value:S.FundsID,error:O.FundsID,touched:M.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),A("PayorType","Individual"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),A("PayorType","Corporation"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx($t,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?b:p,required:!0,placeholder:"Select Payor",onSelect:B=>{const z=a==="Individual"?b.find(D=>D.value===B):p.find(D=>D.value===B);A("CustomerName",(z==null?void 0:z.label)||""),A("CustomerID",(z==null?void 0:z.value)||"")},selectedValue:S.CustomerID,error:O.CustomerName,touched:M.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(en,{name:"TransactionItemsAll",children:({push:B,remove:z})=>o.jsxs("div",{className:"space-y-4",children:[S.TransactionItemsAll.map((D,_)=>{var F,Y,G,te,fe,ke,ae,X,ce,Q,re,K,H,me,je,Te,Ve,qe,Lr,Fr,ta,Hr,J,ye;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(I,{label:"Item ID",name:`TransactionItemsAll.${_}.ItemID`,type:"select",options:x,required:!0,value:D.ItemID,onChange:T,onBlur:k,error:((Y=(F=M.TransactionItemsAll)==null?void 0:F[_])==null?void 0:Y.ItemID)&&((te=(G=O.TransactionItemsAll)==null?void 0:G[_])==null?void 0:te.ItemID),touched:(ke=(fe=M.TransactionItemsAll)==null?void 0:fe[_])==null?void 0:ke.ItemID}),o.jsx(I,{label:"Account",name:`TransactionItemsAll.${_}.ChargeAccountID`,type:"select",options:y,required:!0,value:D.ChargeAccountID,onChange:T,onBlur:k,error:((X=(ae=M.TransactionItemsAll)==null?void 0:ae[_])==null?void 0:X.ChargeAccountID)&&((Q=(ce=O.TransactionItemsAll)==null?void 0:ce[_])==null?void 0:Q.ChargeAccountID),touched:(K=(re=M.TransactionItemsAll)==null?void 0:re[_])==null?void 0:K.ChargeAccountID}),o.jsx(I,{label:"Qty",name:`TransactionItemsAll.${_}.Quantity`,type:"number",required:!0,min:"1",value:D.Quantity,onChange:T,onBlur:k,error:((me=(H=M.TransactionItemsAll)==null?void 0:H[_])==null?void 0:me.Quantity)&&((Te=(je=O.TransactionItemsAll)==null?void 0:je[_])==null?void 0:Te.Quantity),touched:(qe=(Ve=M.TransactionItemsAll)==null?void 0:Ve[_])==null?void 0:qe.Quantity}),o.jsx(I,{label:"Price",name:`TransactionItemsAll.${_}.Price`,type:"number",required:!0,min:"0",value:D.Price,onChange:T,onBlur:k,error:((Fr=(Lr=M.TransactionItemsAll)==null?void 0:Lr[_])==null?void 0:Fr.Price)&&((Hr=(ta=O.TransactionItemsAll)==null?void 0:ta[_])==null?void 0:Hr.Price),touched:(ye=(J=M.TransactionItemsAll)==null?void 0:J[_])==null?void 0:ye.Price}),o.jsx(I,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${_}.Vatable`,name:`TransactionItemsAll.${_}.Vatable`,checked:D.Vatable,onChange:T}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(D.Quantity*D.Price).toFixed(2)]}),_>0&&o.jsx("button",{type:"button",onClick:()=>z(_),className:"text-red-500 hover:text-red-700",children:o.jsx(Xde,{})})]})]},_)}),o.jsx("button",{type:"button",onClick:()=>B({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S.TransactionItemsAll.reduce((B,z)=>B+z.Quantity*z.Price,0).toFixed(2)})]}),o.jsx(I,{label:"Amount in Words",name:"amountInWords",type:"text",value:Wi(S.TransactionItemsAll.reduce((B,z)=>B+z.Quantity*z.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((B,z)=>o.jsx("button",{type:"button",onClick:()=>A("PaymentMethodID",B.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${S.PaymentMethodID===B.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${z===0?"rounded-l-md":z===3?"rounded-r-md":"border-l-0"}`,children:B.label},B.value))})]}),S.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Check Number",name:"CheckNumber",type:"text",value:S.CheckNumber,onChange:T,error:O.CheckNumber&&M.CheckNumber}),o.jsx(I,{label:"Bank",name:"PayeeBank",type:"text",value:S.PayeeBank,onChange:T}),o.jsx(I,{label:"Check Date",name:"CheckDate",type:"date",value:S.CheckDate,onChange:T,error:O.CheckDate&&M.CheckDate})]}),S.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:S.MoneyOrder,onChange:T,error:O.MoneyOrder&&M.MoneyOrder}),o.jsx(I,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:S.MoneyOrderDate,onChange:T,error:O.MoneyOrderDate&&M.MoneyOrderDate})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:S.Remarks,onChange:T,rows:2,error:O.Remarks&&M.Remarks})]}),i&&o.jsx(se,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(il,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:B=>{N(B,A,S),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E||!$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:E?"Saving...":"Save"})]})]})})]})}function Fze(){const t=ie(),{receipts:e,isLoading:r}=q(C=>C.generalReceipts),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ac())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=C=>{d(C),i(!0)},h=C=>{d(C),c(!0)},p=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},g=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),x=async C=>{try{await t(Rb(C.ID)).unwrap(),t(Ac()),U.success("Receipt deleted successfully.")}catch(j){console.error("Error deleting receipt:",j),U.error("Failed to delete receipt.")}},y=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:C=>o.jsx("div",{className:"flex items-center gap-1",children:C})},{key:"Status",header:"Status",sortable:!0,render:C=>o.jsx("span",{className:`px-2 py-1 rounded ${C==="Posted"?"bg-green-100 text-green-800":C==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:C=>g(C),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:C=>C||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:C=>({1:"General Fund",2:"Special Education Fund"})[C]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:C=>C||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:C=>C||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:C=>C||""}],v=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],N=async C=>{if(C)try{const j=await t($b(C)).unwrap();console.log("Operation successful:",j,C),t(Ac()),U.success("Receipt saved successfully.")}catch(j){console.error("Submission failed:",j),U.error(j.message||"Failed to save receipt")}finally{b()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:v,loading:r,onRowClick:m})}),o.jsx(Lze,{isOpen:l,onClose:b,selectedReceipt:u,onSubmit:N}),o.jsx(se,{isOpen:s,onClose:p,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:g(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:p,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}oe().shape({CustomerName:P().required("Customer name is required"),Municipality:P().required("Municipality is required"),AmountinWords:P().required("Amount in words is required"),AmountReceived:W().min(0).required("Amount received is required"),CheckNumber:P().nullable(),T_D_No:P().required("T.D. No is required"),AdvancedYear:W().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:W().min(0).required("Advance funds is required"),FundsID:W().required("Funds ID is required"),ReceivedFrom:P().required("Received from is required"),Location:P().required("Location is required"),Lot:P().nullable(),Block:P().nullable(),PreviousPaymentList:tr().of(oe().shape({LandPrice:W().min(0),ImprovementPrice:W().min(0),TotalAssessedValue:W().min(0),TaxDue:W().min(0),InstallmentPayment:W().min(0),FullPayment:W().min(0),Penalty:W().min(0),Total:W().min(0)})),PresentPaymentList:tr().of(oe().shape({LandPrice:W().min(0),ImprovementPrice:W().min(0),TotalAssessedValue:W().min(0),TaxDue:W().min(0),InstallmentPayment:W().min(0),FullPayment:W().min(0),Penalty:W().min(0),Discount:W().min(0),Total:W().min(0),RemainingBalance:W().min(0)}))});const GF=()=>{const[t,e]=w.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(p=>p.id!==f))},u=(f,m,h,p,b)=>{b(p.map(g=>g.id===f?{...g,[m]:h}:g))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(jt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(U0,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((p,b)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.ownerAddress,onChange:g=>u(p.id,"ownerAddress",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.lotNumber,onChange:g=>u(p.id,"lotNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.blockNumber,onChange:g=>u(p.id,"blockNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.tdNo,onChange:g=>u(p.id,"tdNo",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.land,onChange:g=>u(p.id,"land",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.improvement,onChange:g=>u(p.id,"improvement",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.totalAssessed,onChange:g=>u(p.id,"totalAssessed",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.taxDue,onChange:g=>u(p.id,"taxDue",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.payment,onChange:g=>u(p.id,"payment",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(p.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(gr,{className:"h-3 w-3"})})})]},p.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Mde,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(I,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(I,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(gE,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(I,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(I,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(I,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(jt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},Bze=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function qze(){ie();const{realPropertyTaxes:t,isLoading:e}=q(y=>y.realPropertyTax),[r,n]=w.useState("list"),[a,s]=w.useState(null),[i,l]=w.useState(""),c=t&&t.length>0?t:Bze,u=()=>{s(null),n("form")},d=y=>{s(y),n("details")},f=y=>{s(y),n("form")},m=y=>{console.log("Print property:",y)},h=()=>{n("list"),s(null)},p=c==null?void 0:c.filter(y=>{const v=i.toLowerCase();return y.tdNo.toLowerCase().includes(v)||y.owner.toLowerCase().includes(v)||y.address.toLowerCase().includes(v)||y.propertyIdentificationNo.toLowerCase().includes(v)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:y=>new Date(y).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:y=>g(y)}],g=y=>{let v="bg-neutral-100 text-neutral-800";switch(y){case"Active":v="bg-success-100 text-success-800";break;case"Inactive":v="bg-warning-100 text-warning-800";break;case"Cancelled":v="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v}`,children:y})},x=[{icon:Lm,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs(o.Fragment,{children:[r==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx(ge,{columns:b,data:p,actions:x,loading:e,onRowClick:d})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(GF,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(mu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(GF,{initialData:a,readOnly:!0,onBack:h})})]})]})}function Vze({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=oe({endDate:P().required("Date End is required"),fundID:P().required("Fund is required"),approverID:P().required("Approver is required"),ledger:P().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:b,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(I,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:p,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"fundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.fundID,onChange:h,onBlur:p,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(I,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:p,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(I,{label:"Approver",name:"approverID",type:"select",options:e.map(x=>{var y;return{value:x.ID,label:x.FirstName+" "+x.MiddleName+" "+x.LastName+" - "+((y=x==null?void 0:x.Department)==null?void 0:y.Name)}}),value:d.approverID,onChange:h,onBlur:p,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const Uze="https://staging-engine.testthelink.online",zze={trialBalances:[],isLoading:!1,error:null},Mb=L("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Uze}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),tN=L("trialBalance/exportTrialBalances",async t=>!0),q8=xe({name:"trialBalance",initialState:zze,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(tN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tN.fulfilled,e=>{e.isLoading=!1}).addCase(tN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:Wze}=q8.actions,Hze=q8.reducer;function Gze(){const t="https://staging-engine.testthelink.online",e=ie(),{trialBalances:r,isLoading:n,error:a}=q(f=>f.trialBalance),{funds:s}=q(f=>f.funds),{employees:i}=q(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(Wze()),e(Gt()),e(on())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),h=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),b=h.headers.get("Content-Disposition");let g="Trial_Balance.xlsx";b&&b.includes("filename=")&&(g=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),U.error(m.message||"Failed to export trial balance")}},d=f=>{e(Mb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(Vze,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}const Yze=oe().shape({BudgetID:P().required("Budget is required"),budgetName:P(),fiscalYearID:P(),departmentID:P(),subDepartmentID:P(),chartOfAccountsID:P(),fundID:P(),projectID:P(),allotment:W().integer().required("Allotment is required"),remarks:P(),appropriation:W().integer(),balance:W().integer(),releasedAllotments:W().integer(),releasedBalance:W().integer(),Attachments:tr()}),YF={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function Kze({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...YF});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(YF)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((N,C)=>{N.ID?y.append(`Attachments[${C}].ID`,N.ID):y.append(`Attachments[${C}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]");const v={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(v).forEach(([N,C])=>{y.append(N,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},p=(g,x,y)=>{const N=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...N])},b=(g,x,y)=>{const v=[...y.Attachments];v.splice(g,1),x("Attachments",v)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:Yze,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:v,handleBlur:N,isSubmitting:C,setFieldValue:j})=>{var S;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx($t,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>p(A,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:v,onBlur:N,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:v,onBlur:N,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:v,onBlur:N,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:v,onBlur:N,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:v,onBlur:N,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:v,onBlur:N,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:v,onBlur:N,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:v,onBlur:N,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:v,onBlur:N,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:v,onBlur:N,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:v,onBlur:N,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Allotment",name:"allotment",type:"number",value:g.allotment,onChange:v,onBlur:N,error:x.allotment,touched:y.allotment,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:v,onBlur:N,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const Jze=()=>{const t=ie(),{user:e}=q(k=>k.auth),{departments:r}=q(k=>k.departments),{subdepartments:n}=q(k=>k.subdepartments),a=q(k=>{var E;return((E=k.chartOfAccounts)==null?void 0:E.accounts)||[]}),{fiscalYears:s}=q(k=>k.fiscalYears),{funds:i}=q(k=>k.funds),{projectDetails:l}=q(k=>k.projectDetails),[c,u]=w.useState([]),[d,f]=w.useState([]),[m,h]=w.useState(!1),[p,b]=w.useState(null),[g,x]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(rr()),t(wo()),t(br()),y(),v()},[]);const y=async()=>{try{const k=await gt("/budgetAllotment/list");u(k.data)}catch(k){de.error("Failed to load data"),de.error(k.message)}},v=async()=>{try{const k=await gt("/budgetSupplemental/budgetList");f(k==null?void 0:k.data)}catch(k){de.error("Failed to load data"),de.error(k.message)}},N=k=>{const{name:E,value:O}=k.target;x(M=>({...M,[E]:O}))},C=async k=>{try{(await gt.post("budgetAllotment",k,{headers:{"Content-Type":"multipart/form-data"}})).data?(de.success(p?"Allotment updated successfully":"New Allotment added"),y()):de.error("Failed to save supplemental")}catch(E){console.error("Error submitting supplemental:",E),de.error(E.message||"Failed to save supplemental")}finally{h(!1)}},j=k=>{b(k),h(!0)},S=[{key:"Status",header:"Status",render:k=>o.jsx("span",{children:k})},{key:"InvoiceNumber",header:"Invoice Number",render:(k,E)=>o.jsx("span",{children:E.InvoiceNumber})},{key:"Budget",header:"Budget",render:(k,E)=>{var O;return o.jsx("span",{children:(O=E.Budget)==null?void 0:O.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(k,E)=>{const O=new Date(E.InvoiceDate);return o.jsx("span",{children:O.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(k,E)=>o.jsx("span",{children:parseFloat(E.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:va,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],T=c==null?void 0:c.filter(k=>{const{Budget:E}=k;return(!g.department||(E==null?void 0:E.DepartmentID)==g.department)&&(!g.subDepartment||(E==null?void 0:E.SubDepartmentID)==g.subDepartment)&&(!g.chartOfAccounts||(E==null?void 0:E.ChartofAccountsID)==g.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>j(null),className:"btn btn-primary flex items-center",children:[o.jsx(xue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Px,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:g.department,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:g.subDepartment,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:g.chartOfAccounts,onChange:N,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),a==null?void 0:a.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ge,{columns:S,data:T,actions:A,loading:!1,pagination:!0}),o.jsx(se,{size:"md",isOpen:m,onClose:()=>h(!1),title:p?"Edit Allotment":"Add Allotment",children:o.jsx(Kze,{allotmentList:d,departmentOptions:r.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:n.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:a.map(k=>({value:k.ID,label:k.Name})),fundOptions:i.map(k=>({value:k.ID,label:k.Name})),projectOptions:l.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:s.map(k=>({value:k.ID,label:k.Name})),onSubmit:C,initialData:p,onClose:()=>h(!1)})})]})},vp="https://staging-engine.testthelink.online",KF=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),Xze=()=>{const t=ie(),{departments:e}=q(A=>A.departments),{subdepartments:r}=q(A=>A.subdepartments),n=q(A=>{var T;return((T=A.chartOfAccounts)==null?void 0:T.accounts)||[]}),{fiscalYears:a}=q(A=>A.fiscalYears),{funds:s}=q(A=>A.funds),{projectDetails:i}=q(A=>A.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[h,p]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(rr()),t(wo()),t(br()),t(ln()),t(Gt()),t(Ba()),b()},[]);const b=async()=>{try{const T=await(await fetch(`${vp}/budget`)).json();T!=null&&T.status?c((T==null?void 0:T.items)||[]):de.error("Failed to fetch budget details")}catch(A){de.error(A.message)}},g=A=>{const{name:T,value:k}=A.target;p(E=>({...E,[T]:k}))},x=A=>{f?v(A):y(A)},y=async A=>{try{await(await fetch(`${vp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(KF(A))})).json()&&(b(),d(!1),de.success("Budget added successfully"))}catch(T){de.error(T.message)}},v=async A=>{try{await(await fetch(`${vp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(KF(A))})).json()&&(b(),d(!1),de.success("Budget updated successfully"))}catch(T){de.error(T.message)}},N=async A=>{try{await(await fetch(`${vp}/budget/${A}`,{method:"DELETE"})).json()&&(b(),de.success("Budget deleted"))}catch(T){de.error(T.message)}},C=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.FiscalYear)==null?void 0:k.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Department)==null?void 0:k.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.SubDepartment)==null?void 0:k.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.ChartofAccounts)==null?void 0:k.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Funds)==null?void 0:k.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(A,T)=>{var k;return o.jsx("span",{children:((k=T==null?void 0:T.Project)==null?void 0:k.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],j=[{icon:va,title:"Edit",onClick:A=>{m(A),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},{icon:Xn,title:"Delete",onClick:A=>N(A==null?void 0:A.ID),className:"text-red-600 hover:text-red-800 p-1"}],S=l.filter(A=>{var T,k,E;return(!h.department||((T=A.Department)==null?void 0:T.ID)==h.department)&&(!h.subDepartment||((k=A.SubDepartment)==null?void 0:k.ID)==h.subDepartment)&&(!h.chartOfAccounts||((E=A.ChartofAccounts)==null?void 0:E.ID)==h.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(U0,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:h.department,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"subDepartment",value:h.subDepartment,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:h.chartOfAccounts,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsx(ge,{columns:C,data:S,actions:j,pagination:!0}),o.jsx(se,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(CU,{departmentOptions:e.map(A=>({value:A.ID,label:A.Name})),subDepartmentOptions:r.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:n.map(A=>({value:A.ID,label:A.Name})),fundOptions:s.map(A=>({value:A.ID,label:A.Name})),projectOptions:i.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:a.map(A=>({value:A.ID,label:A.Name})),onSubmit:x,initialData:f,onClose:()=>d(!1)})})]})},Zze=()=>{const t=ie(),{departments:e,isLoading:r}=q(C=>C.departments),{subdepartments:n,isLoading:a}=q(C=>C.subdepartments),s=q(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,h]=w.useState(null),[p,b]=w.useState(!0);w.useEffect(()=>{t(rr()),t(wo()),t(br()),g()},[]);const g=async()=>{try{b(!0);const C=await gt("/budgetSummary");l(C.data||[])}catch(C){console.error("Error fetching budget summaries:",C)}finally{b(!1)}},x=C=>{const{name:j,value:S}=C.target;u(A=>({...A,[j]:S}))},y=i.filter(C=>{var j,S;return(!c.department||((j=C.Department)==null?void 0:j.Name)===c.department)&&(!c.subDepartment||((S=C.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||C.ChartOfAccounts===c.chartOfAccounts)}),v=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(C,j)=>j==null?void 0:j.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(C,j)=>{var S;return(S=j==null?void 0:j.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],N=C=>{h(C),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:x,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(C=>o.jsx("option",{value:C.Name,children:C.Name},C.ID))]})]}),o.jsx(ge,{columns:v,data:y,loading:p||r||a,pagination:!0,onRowClick:N}),o.jsx(se,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(Qze,{data:m})})]})},Qze=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},e7e=oe().shape({BudgetID:P().required("Budget is required"),budgetName:P(),fiscalYearID:P(),departmentID:P(),subDepartmentID:P(),chartOfAccountsID:P(),fundID:P(),projectID:P(),supplemental:W().integer().required("Supplemental is required"),remarks:P(),appropriation:W().integer(),balance:W().integer(),releasedAllotments:W().integer(),releasedBalance:W().integer(),Attachments:tr()}),JF={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function t7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...JF});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",supplemental:(g==null?void 0:g.Supplemental)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(JF)},[t]);const m=async(g,{setSubmitting:x})=>{try{const y=new FormData;g==null||g.Attachments.forEach((N,C)=>{N.ID?y.append(`Attachments[${C}].ID`,N.ID):y.append(`Attachments[${C}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&y.append("Attachments","[]"),console.log({values:g});const v={BudgetID:g.BudgetID,Remarks:g.remarks,Supplemental:g.supplemental};Object.entries(v).forEach(([N,C])=>{y.append(N,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=g=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(g));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},p=(g,x,y)=>{const N=Array.from(g.target.files).map(C=>C);x("Attachments",[...y.Attachments,...N])},b=(g,x,y)=>{const v=[...y.Attachments];v.splice(g,1),x("Attachments",v)};return o.jsx($e,{enableReinitialize:!0,initialValues:d,validationSchema:e7e,onSubmit:m,children:({values:g,errors:x,touched:y,handleChange:v,handleBlur:N,isSubmitting:C,setFieldValue:j})=>{var S;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx($t,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>p(A,j,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,T)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(T,j,g),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},T))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:v,onBlur:N,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:v,onBlur:N,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:v,onBlur:N,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:v,onBlur:N,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:v,onBlur:N,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:v,onBlur:N,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:v,onBlur:N,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:v,onBlur:N,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:v,onBlur:N,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:v,onBlur:N,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:v,onBlur:N,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Supplemental",name:"supplemental",type:"number",value:g.supplemental,onChange:v,onBlur:N,error:x.supplemental,touched:y.supplemental,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:v,onBlur:N,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const r7e=()=>{const t=ie(),{departments:e}=q(k=>k.departments),{subdepartments:r}=q(k=>k.subdepartments),n=q(k=>{var E;return((E=k.chartOfAccounts)==null?void 0:E.accounts)||[]}),{fiscalYears:a}=q(k=>k.fiscalYears),{funds:s}=q(k=>k.funds),{projectDetails:i}=q(k=>k.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]);w.useEffect(()=>{t(ln()),t(Gt()),t(Ba()),t(rr()),t(wo()),t(br()),f(),m()},[]);const f=async()=>{try{const k=await gt("/budgetSupplemental/list");c(k==null?void 0:k.data)}catch(k){de.error("Failed to load data"),de.error(k.message)}},m=async()=>{try{const k=await gt("/budgetSupplemental/budgetList");d(k==null?void 0:k.data)}catch(k){de.error("Failed to load data"),de.error(k.message)}},[h,p]=w.useState(!1),[b,g]=w.useState(null),[x,y]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),v=k=>{g(k),p(!0)},N=async k=>{},C=async k=>{try{(await gt.post("budgetSupplemental/save",k,{headers:{"Content-Type":"multipart/form-data"}})).data?(de.success(b?"Supplemental updated successfully":"New supplemental added"),f()):de.error("Failed to save supplemental")}catch(E){console.error("Error submitting supplemental:",E),de.error(E.message||"Failed to save supplemental")}finally{p(!1)}},j=k=>{const{name:E,value:O}=k.target;y(M=>({...M,[E]:O}))},S=[{key:"Status",header:"Status",render:(k,E)=>o.jsx("span",{children:E.Status})},{key:"InvoiceNumber",header:"Invoice Number",render:(k,E)=>o.jsx("span",{children:E.InvoiceNumber})},{key:"Budget",header:"Budget",render:(k,E)=>{var O;return o.jsx("span",{children:(O=E.Budget)==null?void 0:O.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(k,E)=>{const O=new Date(E.InvoiceDate);return o.jsx("span",{children:O.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(k,E)=>o.jsx("span",{children:parseFloat(E.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:va,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],T=l.filter(k=>{console.log(x,k);const{Budget:E}=k;return(!x.department||(E==null?void 0:E.DepartmentID)==x.department)&&(!x.subDepartment||(E==null?void 0:E.SubDepartmentID)==x.subDepartment)&&(!x.chartOfAccounts||(E==null?void 0:E.ChartofAccountsID)==x.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>v(null),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Px,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:x.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"subDepartment",value:x.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:x.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsx(ge,{columns:S,data:T,actions:A,pagination:!0}),o.jsx(se,{size:"md",isOpen:h,onClose:()=>p(!1),title:b?"Edit Supplemental":"Add New Supplemental",children:o.jsx(t7e,{budgetList:u,departmentOptions:e.map(k=>({value:k.ID,label:k.Name})),subDepartmentOptions:r.map(k=>({value:k.ID,label:k.Name})),chartOfAccountsOptions:n.map(k=>({value:k.ID,label:k.Name})),fundOptions:s.map(k=>({value:k.ID,label:k.Name})),projectOptions:i.map(k=>({value:k.ID,label:k.Title})),fiscalYearOptions:a.map(k=>({value:k.ID,label:k.Name})),onSubmit:C,initialData:b,onClose:()=>p(!1)})})]})},n7e=oe({sourceBudgetName:P().required("Code is required"),sourceFiscalYear:P().required("Code is required"),sourceDepartment:P().required("Code is required"),sourceSubDepartment:P().required("Code is required"),sourceAccounts:P().required("Code is required"),sourceFund:P().required("Code is required"),sourceProject:P().required("Code is required"),sourceTransfer:W().required("Amount is required").min(0,"Amount must be positive"),sourceRemarks:P().required("Year is required"),sourceAppropriation:W().required("Amount is required").min(0,"Amount must be positive"),sourceAppropriationBalance:W().required("Amount is required").min(0,"Amount must be positive"),sourceReleasedAllotments:W().required("Amount is required").min(0,"Amount must be positive"),sourceAllotmentBalance:W().required("Amount is required").min(0,"Amount must be positive"),targetBudgetName:P().required("Code is required"),targetFiscalYear:P().required("Code is required"),targetDepartment:P().required("Code is required"),targetSubDepartment:P().required("Code is required"),targetAccounts:P().required("Code is required"),targetFund:P().required("Code is required"),targetProject:P().required("Code is required"),targetTransfer:W().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:P().required("Year is required"),targetAppropriation:W().required("Amount is required").min(0,"Amount must be positive"),targetAppropriationBalance:W().required("Amount is required").min(0,"Amount must be positive"),targetReleasedAllotments:W().required("Amount is required").min(0,"Amount must be positive"),targetAllotmentBalance:W().required("Amount is required").min(0,"Amount must be positive")}),XF={sourceBudgetName:"",sourceFiscalYear:"",sourceDepartment:"",sourceSubDepartment:"",sourceAccounts:"",sourceFund:"",sourceProject:"",sourceTransfer:0,sourceRemarks:"",sourceAppropriation:0,sourceAppropriationBalance:0,sourceReleasedAllotments:0,sourceAllotmentBalance:0,targetBudgetName:"",targetFiscalYear:"",targetDepartment:"",targetSubDepartment:"",targetAccounts:"",targetFund:"",targetProject:"",targetTransfer:0,targetRemarks:"",targetAppropriation:0,targetAppropriationBalance:0,targetReleasedAllotments:0,targetAllotmentBalance:0};function a7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...XF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(XF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:n7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Budget Name",name:"sourceBudgetName",type:"text",onChange:u,onBlur:d,value:i.sourceBudgetName,error:l.sourceBudgetName,touched:c.sourceBudgetName,required:!0}),o.jsx(I,{label:"Fiscal Year",name:"sourceFiscalYear",type:"text",onChange:u,onBlur:d,value:i.sourceFiscalYear,error:l.sourceFiscalYear,touched:c.sourceFiscalYear,required:!0}),o.jsx(I,{label:"Department",name:"sourceDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceDepartment,error:l.sourceDepartment,touched:c.sourceDepartment,required:!0}),o.jsx(I,{label:"Sub Department",name:"sourceSubDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceSubDepartment,error:l.sourceSubDepartment,touched:c.sourceSubDepartment,required:!0}),o.jsx(I,{name:"sourceAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.sourceAccounts,error:l.sourceAccounts,touched:c.sourceAccounts,required:!0}),o.jsx(I,{name:"sourceFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.sourceFund,error:l.sourceFund,touched:c.sourceFund,required:!0}),o.jsx(I,{name:"sourceProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.sourceProject,error:l.sourceProject,touched:c.sourceProject,required:!0}),o.jsx(I,{name:"sourceTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(I,{name:"sourceAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.sourceAppropriation,error:l.sourceAppropriation,touched:c.sourceAppropriation,required:!0})," ",o.jsx(I,{name:"sourceAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.sourceAppropriationBalance,error:l.sourceAppropriationBalance,touched:c.sourceAppropriationBalance,required:!0}),o.jsx(I,{name:"Remarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Budget Name",name:"targetBudgetName",type:"text",onChange:u,onBlur:d,value:i.targetBudgetName,error:l.targetBudgetName,touched:c.targetBudgetName,required:!0}),o.jsx(I,{label:"Fiscal Year",name:"targetFiscalYear",type:"text",onChange:u,onBlur:d,value:i.targetFiscalYear,error:l.targetFiscalYear,touched:c.targetFiscalYear,required:!0}),o.jsx(I,{label:"Department",name:"targetDepartment",type:"text",onChange:u,onBlur:d,value:i.targetDepartment,error:l.targetDepartment,touched:c.targetDepartment,required:!0}),o.jsx(I,{label:"Sub Department",name:"targetSubDepartment",type:"text",onChange:u,onBlur:d,value:i.targetSubDepartment,error:l.targetSubDepartment,touched:c.targetSubDepartment,required:!0}),o.jsx(I,{name:"targetAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.targetAccounts,error:l.targetAccounts,touched:c.targetAccounts,required:!0}),o.jsx(I,{name:"targetFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.targetFund,error:l.targetFund,touched:c.targetFund,required:!0}),o.jsx(I,{name:"targetProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.targetProject,error:l.targetProject,touched:c.targetProject,required:!0}),o.jsx(I,{name:"targetTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(I,{name:"targetAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.targetAppropriation,error:l.targetAppropriation,touched:c.targetAppropriation,required:!0})," ",o.jsx(I,{name:"targetAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.targetAppropriationBalance,error:l.targetAppropriationBalance,touched:c.targetAppropriationBalance,required:!0}),o.jsx(I,{name:"targetRemarks ",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const s7e=()=>{ie();const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=d=>{n(d),e(!0)},s=d=>{de.success(`Deleted ${d.InvoiceNumber}`)},i=d=>{r?de.success("Transfer updated successfully"):de.success("New transfer added"),e(!1)},l=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"Budget",header:"Budget",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],c=[{icon:va,title:"Edit",onClick:a,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:s,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],u=[{InvoiceNumber:"BT-18-2025",Budget:"Traveling Expenses",Status:"Posted",InvoiceDate:"03-03-2025",Total:"5,000.00",Remarks:""},{InvoiceNumber:"BT-17-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"25-02-2025",Total:"99,00,000.00",Remarks:"testing"}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),o.jsxs("button",{onClick:()=>a(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ge,{columns:l,data:u,actions:c,pagination:!0}),o.jsx(se,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(a7e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},o7e=oe({Code:P().required("Code is required"),Name:P().required("Name is required"),Description:P().required("Description is required"),Amount:W().required("Amount is required").min(0,"Amount must be positive")}),ZF={Code:"",Name:"",Description:"",Amount:0};function i7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...ZF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(ZF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:o7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(I,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(I,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const l7e=()=>{const t=ie(),{funds:e,loading:r}=q(p=>p.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),l=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:p=>p||""},{key:"Name",header:"Name",sortable:!0,render:p=>o.jsx("span",{className:"font-medium",children:p||""})},{key:"Description",header:"Description",sortable:!0,render:p=>o.jsx("span",{className:"text-gray-600",children:p||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:p=>o.jsx("span",{className:"font-medium",children:p?c(p):""})}],c=p=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(p),f=[{icon:va,title:"Edit",onClick:p=>{i(p),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:async p=>{await t(Zy(p.ID)).unwrap(),t(Gt())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],m=async p=>{s?await t(Xy(p)).unwrap():await t(Jy(p)).unwrap(),t(Gt()),a(!1),i(null)},h=p=>{console.log("View row:",p)};return w.useEffect(()=>{t(Gt())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:l,data:e,actions:f,loading:r,onRowClick:h})}),o.jsx(se,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(i7e,{onSubmit:m,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},c7e="https://staging-engine.testthelink.online",u7e=()=>{const t=ie(),{fiscalYears:e}=q(k=>k.fiscalYears),{funds:r}=q(k=>k.funds),{departments:n}=q(k=>k.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,h]=w.useState(""),[p,b]=w.useState(""),[g,x]=w.useState(""),[y,v]=w.useState("");w.useEffect(()=>{t(ln()),t(Gt()),t(rr())},[t]);const N=()=>({startDate:d,endDate:m,fiscalYearID:p,fundsID:g,departmentID:y}),C=()=>d&&m&&p&&g&&y,j=async k=>{if(!C()){de.error("Please select all filters");return}u(!0);try{s(k);const E=k==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",O=await gt.post(E,N());l(O.data)}catch{de.error("Failed to fetch data")}finally{u(!1)}},S=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],T=async()=>{if(!C()){de.error("Please select all filters");return}try{const k=await fetch(`${c7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(N())});if(!k.ok)throw new Error("Server response was not ok");const E=await k.blob(),O=k.headers.get("Content-Disposition");let M="StatementOfAppropriations.xlsx";O&&O.includes("filename=")&&(M=O.split("filename=")[1].replace(/['"]/g,""));const R=window.URL.createObjectURL(E),$=document.createElement("a");$.href=R,$.download=M,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(R)}catch(k){console.error("Export failed:",k),de.error(k.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:k=>f(k.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:k=>h(k.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:p,onChange:k=>b(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:g,onChange:k=>x(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:y,onChange:k=>v(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>j("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>j("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:T,children:"Export to Excel"})]}),o.jsx(ge,{columns:a==="appropriations"?S:A,data:i,loading:c})]})},d7e=oe({fund:P().required("Fund is required"),code:P().required("Code is required"),name:P().required("Name is required"),desc:P().required("Description is required"),amount:W().required("Amount is required").min(0,"Amount must be positive")}),QF={code:"",name:"",fund:"",desc:"",amount:0};function f7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...QF}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(QF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:d7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(I,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(I,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(I,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const m7e=()=>{const t=ie(),{subFunds:e,isLoading:r}=q(x=>x.subFunds),{funds:n,loading:a}=q(x=>x.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),u=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:x=>x||""},{key:"Code",header:"Code",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Name",header:"Name",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Description",header:"Description",sortable:!0,render:x=>o.jsx("span",{className:"text-gray-600",children:x||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:x=>o.jsx("span",{className:"font-medium",children:x?f(x):""})}],d=[{icon:va,title:"Edit",onClick:x=>p(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:x=>m(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],f=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(x),m=async x=>{try{await t(Tb(x.ID)).unwrap(),de.success("Sub fund deleted successfully")}catch(y){de.error(y.payload||"Failed to delete sub fund"),console.error(y)}},h=async x=>{try{if(l){const y={IsNew:!1,ID:l.ID,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(YA(y)).unwrap(),de.success("Sub fund updated successfully")}else{const y={IsNew:!0,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(Ib(y)).unwrap(),de.success("Sub fund added successfully")}t(sf()),i(!1),c(null)}catch(y){de.error(y.payload||"Failed to save sub fund"),console.error(y)}},p=x=>{c(x),i(!0)},b=x=>{console.log("View row:",x)};w.useEffect(()=>{t(sf()),t(Gt())},[t]);const g=n==null?void 0:n.map(x=>({value:x.ID,label:x.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:()=>p(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:e,actions:d,loading:r||a,onRowClick:b})}),o.jsx(se,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(f7e,{onSubmit:h,initialData:l,funds:g,onClose:()=>i(!1)})})]})},h7e=oe({sourceCode:P().required("Code is required"),sourceFundName:P().required("Name is required"),sourceBalance:W().required("Balance is required").min(0,"Balance must be positive"),sourceTransfer:W().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:P().required("Year is required"),targetCode:P().required("Code is required"),targetFundName:P().required("Name is required"),targetBalance:W().required("Balance is required").min(0,"Balance must be positive"),targetTransfer:W().required("Amount is required").min(0,"Amount must be positive")}),e5={sourceCode:"",sourceFundName:"",sourceBalance:0,sourceTransfer:0,sourceRemarks:"",targetCode:"",targetFundName:"",targetBalance:0,targetTransfer:0,targetRemarks:""};function p7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...e5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(e5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:h7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Code",name:"targeteCode",type:"text",onChange:u,onBlur:d,value:i.targeteCode,error:l.targetCode,touched:c.targetCode,required:!0}),o.jsx(I,{label:"Name",name:"targetFundName",type:"text",onChange:u,onBlur:d,value:i.targetFundName,error:l.targetFundName,touched:c.targetFundName,required:!0}),o.jsx(I,{label:"Balance",name:"targetBalance",type:"text",onChange:u,onBlur:d,value:i.targetBalance,error:l.targetBalance,touched:c.targetBalance,required:!0}),o.jsx(I,{label:"Transfer",name:"targetTransfer",type:"text",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(I,{name:"targetRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(I,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.sourceCode,error:l.sourceCode,touched:c.sourceCode,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.sourceFundName,error:l.sourceFundName,touched:c.sourceFundName,required:!0}),o.jsx(I,{label:"Balance",name:"sourceBalance",type:"text",onChange:u,onBlur:d,value:i.sourceBalance,error:l.sourceBalance,touched:c.sourceBalance,required:!0}),o.jsx(I,{label:"Transfer",name:"sourceTransfer",type:"text",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(I,{name:"sourceRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const g7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a]=w.useState([{id:1,Code:"100",Name:"General Fund",Description:"The general fund.",OriginalAmount:"50,10,00,00,050.00",Balance:"50,10,00,00,050.00",Total:"50,10,00,00,050.00"},{id:2,Code:"300",Name:"Trust Fund",Description:"The trust fund.",OriginalAmount:"1,99,950.00",Balance:"3,00,000.00",Total:"3,00,000.00"},{id:3,Code:"200",Name:"Special Education Fund",Description:"The special education fund.",OriginalAmount:"2,00,000.00",Balance:"2,00,000.00",Total:"2,00,000.00"},{id:4,Code:"000",Name:"Test Fund",Description:"This is just a test fund. This will also be deleted.",OriginalAmount:"1,00,000.00",Balance:"1,00,000.00",Total:"1,00,000.00"}]),s=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:f=>f||""},{key:"Name",header:"Name",sortable:!0,render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Description",header:"Description",sortable:!0,render:f=>o.jsx("span",{className:"text-gray-600",children:f||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Balance",header:"Balance",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Total",header:"Total",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})}],i=[{icon:va,title:"Edit",onClick:f=>c(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xn,title:"Delete",onClick:f=>u(f.id),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],l=f=>{r?(console.log("Updated:",f),toast.success("Transfer updated successfully")):(console.log("Created:",f),toast.success("Transfer created successfully")),e(!1)},c=f=>{n(f),e(!0)},u=f=>{console.log("Deleted transfer with id:",f),toast.success("Transfer deleted successfully")},d=f=>{console.log("View transfer:",f)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:o.jsxs("button",{type:"button",onClick:()=>c(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:s,data:a,actions:i,loading:!1,onRowClick:d})}),o.jsx(se,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(p7e,{onSubmit:l,initialData:r,onClose:()=>e(!1)})})]})},y7e=oe().shape({reportType:P().required("Report type is required"),date:Re().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:P().required("Action is required"),month:W().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:W().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:W().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Re().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Re().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(ol("fromDate"),"To date must be after from date")}),notedBy:P().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function b7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(I,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(I,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let p={};switch(d.reportType){case"daily":p={date:d.date};break;case"monthly":p={month:d.month,year:d.year};break;case"quarterly":p={quarter:d.quarter,year:d.year};break;case"flexible":p={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const b={...h,...p};t({...d,action:d.action,params:b})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx($e,{initialValues:n,validationSchema:y7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:p,handleChange:b,setErrors:g,isSubmitting:x})=>o.jsxs(Le,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(y=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===y.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(y.value),h("reportType",y.value)},children:y.label},y.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,b)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${y.name}`,name:`documentTypes.${y.name}`,checked:d.documentTypes[y.name],onChange:v=>{h(`documentTypes.${y.name}`,v.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${y.name}`,className:"ml-2 block text-sm text-gray-700",children:y.label})]},y.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),p(),g({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),p()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),p()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const V8="https://staging-engine.testthelink.online",x7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${V8}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},v7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${V8}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function j7e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await x7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await v7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),U.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(b7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const w7e=oe().shape({StartDate:Re().required("From Date is required").max(ol("EndDate"),"From Date must be before or equal to To Date"),EndDate:Re().required("To Date is required").min(ol("StartDate"),"To Date must be after or equal to From Date"),fund:P().required("Fund is required")});function C7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=q(i=>i.funds),n=ie();w.useEffect(()=>{n(Gt())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx($e,{initialValues:e,validationSchema:w7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(I,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(I,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const U8="https://staging-engine.testthelink.online",N7e=async t=>{try{const e=localStorage.getItem("token"),r=`${U8}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},S7e=async t=>{try{const e=localStorage.getItem("token"),r=`${U8}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function A7e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await N7e(c);e(u);break;case"generate":break;case"export":await S7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(C7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function k7e(){const{isAuthenticated:t,isLoading:e}=q(a=>a.auth),r=ie(),n=Uo();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r($p(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(RK,{position:"top-right"}),o.jsxs(LG,{children:[o.jsxs(le,{element:o.jsx(SQ,{}),children:[o.jsx(le,{path:"/login",element:t?o.jsx(Bu,{to:"/",replace:!0}):o.jsx(rae,{})}),o.jsx(le,{path:"/register",element:t?o.jsx(Bu,{to:"/",replace:!0}):o.jsx(nae,{})}),o.jsx(le,{path:"/forgot-password",element:t?o.jsx(Bu,{to:"/",replace:!0}):o.jsx(aae,{})}),o.jsx(le,{path:"/reset-password",element:t?o.jsx(Bu,{to:"/",replace:!0}):o.jsx(sae,{})})]}),o.jsxs(le,{element:o.jsx(NQ,{}),children:[o.jsx(le,{path:"/dashboard",element:o.jsx(hce,{})}),o.jsx(le,{path:"/profile",element:o.jsx(i0e,{})}),o.jsx(le,{path:"/budget-dashboard",element:o.jsx(Pze,{})}),o.jsx(le,{path:"/disbursement-dashboard",element:o.jsx(Oze,{})}),o.jsx(le,{path:"/collection-dashboard",element:o.jsx(Dze,{})}),o.jsx(le,{path:"/settings/departments",element:o.jsx(Tue,{})}),o.jsx(le,{path:"/settings/customer",element:o.jsx(spe,{})}),o.jsx(le,{path:"/settings/lgu-maintenance",element:o.jsx(pCe,{})}),o.jsx(le,{path:"/settings/subdepartments",element:o.jsx(Yue,{})}),o.jsx(le,{path:"/settings/modules",element:o.jsx(Yfe,{})}),o.jsx(le,{path:"/settings/users",element:o.jsx(sde,{})}),o.jsx(le,{path:"/settings/user-roles",element:o.jsx(fme,{})}),o.jsx(le,{path:"/settings/user-access",element:o.jsx(BCe,{})}),o.jsx(le,{path:"/settings/chart-of-accounts",element:o.jsx(Zde,{})}),o.jsx(le,{path:"/settings/account-group",element:o.jsx(efe,{})}),o.jsx(le,{path:"/settings/major-account-group",element:o.jsx(rfe,{})}),o.jsx(le,{path:"/settings/sub-major-account-group",element:o.jsx(afe,{})}),o.jsx(le,{path:"/settings/vendors",element:o.jsx(Rfe,{})}),o.jsx(le,{path:"/settings/vendor-customer-type",element:o.jsx(qfe,{})}),o.jsx(le,{path:"/settings/vendor-type",element:o.jsx(Ufe,{})}),o.jsx(le,{path:"/settings/employees",element:o.jsx(ome,{})}),o.jsx(le,{path:"/settings/employmentStatus",element:o.jsx(lme,{})}),o.jsx(le,{path:"/settings/positions",element:o.jsx(ume,{})}),o.jsx(le,{path:"/settings/nationalities",element:o.jsx(hme,{})}),o.jsx(le,{path:"/settings/locations",element:o.jsx(bme,{})}),o.jsx(le,{path:"/settings/ppe",element:o.jsx(Dme,{})}),o.jsx(le,{path:"/settings/ppe-categories",element:o.jsx($me,{})}),o.jsx(le,{path:"/settings/ppe-suppliers",element:o.jsx(Mme,{})}),o.jsx(le,{path:"/settings/approval-matrix",element:o.jsx(Gme,{})}),o.jsx(le,{path:"/settings/bank",element:o.jsx(Qme,{})}),o.jsx(le,{path:"/settings/currency",element:o.jsx(_ue,{})}),o.jsx(le,{path:"/settings/document-details",element:o.jsx(she,{})}),o.jsx(le,{path:"/settings/document-type-categories",element:o.jsx(ihe,{})}),o.jsx(le,{path:"/settings/items",element:o.jsx(phe,{})}),o.jsx(le,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(Che,{})}),o.jsx(le,{path:"/settings/items/units",element:o.jsx(She,{})}),o.jsx(le,{path:"/settings/project-type",element:o.jsx(Ehe,{})}),o.jsx(le,{path:"/settings/financial-statement",element:o.jsx(Bhe,{})}),o.jsx(le,{path:"/settings/fiscal-year",element:o.jsx(Whe,{})}),o.jsx(le,{path:"/settings/tax-code",element:o.jsx(Yhe,{})}),o.jsx(le,{path:"/settings/mode-of-payment",element:o.jsx(Jhe,{})}),o.jsx(le,{path:"/settings/payment-terms",element:o.jsx(Zhe,{})}),o.jsx(le,{path:"/settings/industry",element:o.jsx(epe,{})}),o.jsx(le,{path:"/settings/project-details",element:o.jsx($he,{})}),o.jsx(le,{path:"/settings/tax-declaration",element:o.jsx(fpe,{})}),o.jsx(le,{path:"/settings/base-unit-value",element:o.jsx(wpe,{})}),o.jsx(le,{path:"/settings/general-revision",element:o.jsx(ype,{})}),o.jsx(le,{path:"/disbursement/obligation-requests",element:o.jsx(l0e,{})}),o.jsx(le,{path:"/disbursement/vouchers",element:o.jsx(m0e,{})}),o.jsx(le,{path:"/disbursement/travel-orders",element:o.jsx(x0e,{})}),o.jsx(le,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(S0e,{})}),o.jsx(le,{path:"/disbursement/disbursement-journals",element:o.jsx(P0e,{})}),o.jsx(le,{path:"/disbursement/general-journals",element:o.jsx(M0e,{})}),o.jsx(le,{path:"/disbursement/beginning-balance",element:o.jsx(z0e,{})}),o.jsx(le,{path:"/disbursement/purchase-requests",element:o.jsx(X0e,{})}),o.jsx(le,{path:"/disbursement/fund-utilization-requests",element:o.jsx(nje,{})}),o.jsx(le,{path:"/collections/community-tax",element:o.jsx(ije,{})}),o.jsx(le,{path:"/collections/community-tax-corporation",element:o.jsx(dje,{})}),o.jsx(le,{path:"/collections/real-property-tax",element:o.jsx(qze,{})}),o.jsx(le,{path:"/collections/market",element:o.jsx(fje,{})}),o.jsx(le,{path:"/collections/general-service-receipts",element:o.jsx(Fze,{})}),o.jsx(le,{path:"/collections/burial-service-receipts",element:o.jsx(bje,{})}),o.jsx(le,{path:"/collections/marriage-service-receipts",element:o.jsx(Cje,{})}),o.jsx(le,{path:"/collections/cashbook",element:o.jsx(A7e,{})}),o.jsx(le,{path:"/collections/reports",element:o.jsx(j7e,{})}),o.jsx(le,{path:"/collections/public-market-tickets",element:o.jsx(Jwe,{})}),o.jsx(le,{path:"/budget",element:o.jsx(lCe,{})}),o.jsx(le,{path:"/budget/allotment",element:o.jsx(Jze,{})}),o.jsx(le,{path:"/budget/details",element:o.jsx(Xze,{})}),o.jsx(le,{path:"/budget/new",element:o.jsx(aCe,{})}),o.jsx(le,{path:"/budget/summary",element:o.jsx(Zze,{})}),o.jsx(le,{path:"/budget/supplemental",element:o.jsx(r7e,{})}),o.jsx(le,{path:"/budget/transfer",element:o.jsx(s7e,{})}),o.jsx(le,{path:"/budget/report",element:o.jsx(Q$,{})}),o.jsx(le,{path:"/budget/funds",element:o.jsx(l7e,{})}),o.jsx(le,{path:"/budget/sub-funds",element:o.jsx(m7e,{})}),o.jsx(le,{path:"/budget/fund-transfer",element:o.jsx(g7e,{})}),o.jsx(le,{path:"/budget/statement-comparison",element:o.jsx(hCe,{})}),o.jsx(le,{path:"/budget/statement-appropriation",element:o.jsx(u7e,{})}),o.jsx(le,{path:"/applications/business-permits",element:o.jsx(yCe,{})}),o.jsx(le,{path:"/applications/cheque-generator",element:o.jsx(xCe,{})}),o.jsx(le,{path:"/reports/general-ledger",element:o.jsx(ACe,{})}),o.jsx(le,{path:"/reports/subsidiary-ledger",element:o.jsx(OCe,{})}),o.jsx(le,{path:"/reports/financial-statements",element:o.jsx(LCe,{})}),o.jsx(le,{path:"/reports/budget",element:o.jsx(Q$,{})}),o.jsx(le,{path:"/reports/bir",element:o.jsx(FCe,{})}),o.jsx(le,{path:"/reports/trial-balance",element:o.jsx(Gze,{})}),o.jsx(le,{path:"/change-password",element:o.jsx(qCe,{})})]}),o.jsx(le,{path:"/",element:o.jsx(Bu,{to:"/dashboard\\",replace:!0})}),o.jsx(le,{path:"*",element:o.jsx(pce,{})})]})]})}const z8=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],I7e={vendors:z8,vendor:null,isLoading:!1,error:null},rN=L("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(z8)},500)})}catch(r){return e.rejectWithValue(r.message)}}),nN=L("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),aN=L("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),W8=xe({name:"vendors",initialState:I7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(rN.pending,e=>{e.isLoading=!0}).addCase(rN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(rN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nN.pending,e=>{e.isLoading=!0}).addCase(nN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(nN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(aN.pending,e=>{e.isLoading=!0}).addCase(aN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(aN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:K8e,resetVendorState:J8e}=W8.actions,T7e=W8.reducer,E7e="https://staging-engine.testthelink.online",P7e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},sN=L("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${E7e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),O7e=xe({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sN.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(sN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=P7e})}}),D7e=O7e.reducer,oN=L("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Qe.get("/api/general-service-receipts")).data),iN=L("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Qe.post("/api/general-service-receipts",t)).data),lN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Qe.put(`/api/general-service-receipts/${t}`,e)).data),cN=L("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Qe.delete(`/api/general-service-receipts/${t}`),t)),_7e={receipts:[],loading:!1,error:null},H8=xe({name:"generalServiceReceipts",initialState:_7e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(oN.pending,e=>{e.loading=!0,e.error=null}).addCase(oN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(oN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(iN.pending,e=>{e.loading=!0,e.error=null}).addCase(iN.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(iN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(lN.pending,e=>{e.loading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(lN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(cN.pending,e=>{e.loading=!0,e.error=null}).addCase(cN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(cN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:X8e}=H8.actions,$7e=H8.reducer,uN=L("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),dN=L("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),fN=L("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),mN=L("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),R7e={realPropertyTaxes:[],isLoading:!1,error:null},M7e=xe({name:"realPropertyTax",initialState:R7e,reducers:{},extraReducers:t=>{t.addCase(uN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(uN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(dN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(dN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(fN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(mN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(mN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),L7e=M7e.reducer,F7e=vY({reducer:{auth:HY,departments:Iue,currencies:Oue,subdepartments:Mue,users:Xue,chartOfAccounts:lde,accountGroups:dde,majorAccountGroups:hde,subMajorAccountGroups:yde,vendors:T7e,employees:ede,obligationRequests:uxe,fundUtilizations:eje,disbursementVouchers:u0e,travelOrders:b0e,ppes:Tme,ppeCategories:jme,ppeSuppliers:Nme,approvalMatrix:Hme,banks:Jme,documentDetails:Bme,documentTypeCategories:ahe,items:uhe,invoiceChargeAccounts:whe,itemUnits:mhe,projectDetails:_he,projectTypes:The,financialStatements:Fhe,fiscalYears:zhe,taxCodes:Tfe,modeOfPayments:$fe,paymentTerms:Ofe,industries:Afe,employmentStatuses:eme,positions:Xfe,userroles:nde,nationalities:nme,vendorCustomerTypes:Bfe,vendorTypes:Cfe,journalEntries:N0e,purchaseRequests:J0e,taxDeclarations:dpe,baseUnits:jpe,regions:dfe,provinces:hfe,municipalities:yfe,barangays:vfe,generalRevisions:ppe,modules:Gfe,generalServiceReceipts:$7e,disbursementJournal:E0e,beginningBalance:B0e,generalJournal:R0e,generalLedger:NCe,trialBalance:Hze,statementComparison:mCe,subsidiaryLedger:PCe,financialStatementsReports:MCe,budget:Yve,subFunds:iCe,funds:Wve,budgetDashboard:D7e,vendorDetails:lfe,burialRecords:yje,marriageRecords:wje,publicMarketTicketing:Hwe,communityTax:oje,corporateCommunityTax:uje,generalReceipts:$ze,realPropertyTax:L7e,customers:ape},middleware:t=>t({serializableCheck:!1})});pN.createRoot(document.getElementById("root")).render(o.jsx(V.StrictMode,{children:o.jsx(qH,{store:F7e,children:o.jsx(WG,{children:o.jsx(k7e,{})})})}))});export default B7e();
